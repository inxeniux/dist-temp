function h7(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var en=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ot(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function C7(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var TH={exports:{}},eA={},LH={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m=Symbol.for("react.element"),p7=Symbol.for("react.portal"),A7=Symbol.for("react.fragment"),b7=Symbol.for("react.strict_mode"),v7=Symbol.for("react.profiler"),y7=Symbol.for("react.provider"),x7=Symbol.for("react.context"),S7=Symbol.for("react.forward_ref"),Z7=Symbol.for("react.suspense"),w7=Symbol.for("react.memo"),G7=Symbol.for("react.lazy"),l5=Symbol.iterator;function B7(e){return e===null||typeof e!="object"?null:(e=l5&&e[l5]||e["@@iterator"],typeof e=="function"?e:null)}var KH={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OH=Object.assign,PH={};function Jg(e,t,n){this.props=e,this.context=t,this.refs=PH,this.updater=n||KH}Jg.prototype.isReactComponent={};Jg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function DH(){}DH.prototype=Jg.prototype;function ew(e,t,n){this.props=e,this.context=t,this.refs=PH,this.updater=n||KH}var tw=ew.prototype=new DH;tw.constructor=ew;OH(tw,Jg.prototype);tw.isPureReactComponent=!0;var s5=Array.isArray,zH=Object.prototype.hasOwnProperty,nw={current:null},UH={key:!0,ref:!0,__self:!0,__source:!0};function _H(e,t,n){var r,o={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)zH.call(t,r)&&!UH.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var s=Array(l),c=0;c<l;c++)s[c]=arguments[c+2];o.children=s}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:$m,type:e,key:i,ref:a,props:o,_owner:nw.current}}function k7(e,t){return{$$typeof:$m,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rw(e){return typeof e=="object"&&e!==null&&e.$$typeof===$m}function R7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var c5=/\/+/g;function Vv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?R7(""+e.key):t.toString(36)}function eC(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case $m:case p7:a=!0}}if(a)return a=e,o=o(a),e=r===""?"."+Vv(a,0):r,s5(o)?(n="",e!=null&&(n=e.replace(c5,"$&/")+"/"),eC(o,t,n,"",function(c){return c})):o!=null&&(rw(o)&&(o=k7(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(c5,"$&/")+"/")+e)),t.push(o)),1;if(a=0,r=r===""?".":r+":",s5(e))for(var l=0;l<e.length;l++){i=e[l];var s=r+Vv(i,l);a+=eC(i,t,n,s,o)}else if(s=B7(e),typeof s=="function")for(e=s.call(e),l=0;!(i=e.next()).done;)i=i.value,s=r+Vv(i,l++),a+=eC(i,t,n,s,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function zI(e,t,n){if(e==null)return e;var r=[],o=0;return eC(e,r,"","",function(i){return t.call(n,i,o++)}),r}function V7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vr={current:null},tC={transition:null},W7={ReactCurrentDispatcher:vr,ReactCurrentBatchConfig:tC,ReactCurrentOwner:nw};it.Children={map:zI,forEach:function(e,t,n){zI(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zI(e,function(){t++}),t},toArray:function(e){return zI(e,function(t){return t})||[]},only:function(e){if(!rw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};it.Component=Jg;it.Fragment=A7;it.Profiler=v7;it.PureComponent=ew;it.StrictMode=b7;it.Suspense=Z7;it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W7;it.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=OH({},e.props),o=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=nw.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(s in t)zH.call(t,s)&&!UH.hasOwnProperty(s)&&(r[s]=t[s]===void 0&&l!==void 0?l[s]:t[s])}var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){l=Array(s);for(var c=0;c<s;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:$m,type:e.type,key:o,ref:i,props:r,_owner:a}};it.createContext=function(e){return e={$$typeof:x7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:y7,_context:e},e.Consumer=e};it.createElement=_H;it.createFactory=function(e){var t=_H.bind(null,e);return t.type=e,t};it.createRef=function(){return{current:null}};it.forwardRef=function(e){return{$$typeof:S7,render:e}};it.isValidElement=rw;it.lazy=function(e){return{$$typeof:G7,_payload:{_status:-1,_result:e},_init:V7}};it.memo=function(e,t){return{$$typeof:w7,type:e,compare:t===void 0?null:t}};it.startTransition=function(e){var t=tC.transition;tC.transition={};try{e()}finally{tC.transition=t}};it.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};it.useCallback=function(e,t){return vr.current.useCallback(e,t)};it.useContext=function(e){return vr.current.useContext(e)};it.useDebugValue=function(){};it.useDeferredValue=function(e){return vr.current.useDeferredValue(e)};it.useEffect=function(e,t){return vr.current.useEffect(e,t)};it.useId=function(){return vr.current.useId()};it.useImperativeHandle=function(e,t,n){return vr.current.useImperativeHandle(e,t,n)};it.useInsertionEffect=function(e,t){return vr.current.useInsertionEffect(e,t)};it.useLayoutEffect=function(e,t){return vr.current.useLayoutEffect(e,t)};it.useMemo=function(e,t){return vr.current.useMemo(e,t)};it.useReducer=function(e,t,n){return vr.current.useReducer(e,t,n)};it.useRef=function(e){return vr.current.useRef(e)};it.useState=function(e){return vr.current.useState(e)};it.useSyncExternalStore=function(e,t,n){return vr.current.useSyncExternalStore(e,t,n)};it.useTransition=function(){return vr.current.useTransition()};it.version="18.2.0";LH.exports=it;var b=LH.exports;const G=ot(b),ui=h7({__proto__:null,default:G},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N7=b,E7=Symbol.for("react.element"),X7=Symbol.for("react.fragment"),J7=Object.prototype.hasOwnProperty,Y7=N7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H7={key:!0,ref:!0,__self:!0,__source:!0};function QH(e,t,n){var r,o={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)J7.call(t,r)&&!H7.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:E7,type:e,key:i,ref:a,props:o,_owner:Y7.current}}eA.Fragment=X7;eA.jsx=QH;eA.jsxs=QH;TH.exports=eA;var f=TH.exports,i2={},$H={exports:{}},co={},qH={exports:{}},eF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,H){var M=F.length;F.push(H);e:for(;0<M;){var Y=M-1>>>1,T=F[Y];if(0<o(T,H))F[Y]=H,F[M]=T,M=Y;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var H=F[0],M=F.pop();if(M!==H){F[0]=M;e:for(var Y=0,T=F.length,O=T>>>1;Y<O;){var P=2*(Y+1)-1,L=F[P],j=P+1,D=F[j];if(0>o(L,M))j<T&&0>o(D,L)?(F[Y]=D,F[j]=M,Y=j):(F[Y]=L,F[P]=M,Y=P);else if(j<T&&0>o(D,M))F[Y]=D,F[j]=M,Y=j;else break e}}return H}function o(F,H){var M=F.sortIndex-H.sortIndex;return M!==0?M:F.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var s=[],c=[],u=1,g=null,d=3,m=!1,I=!1,h=!1,A=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(F){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=F)r(c),H.sortIndex=H.expirationTime,t(s,H);else break;H=n(c)}}function y(F){if(h=!1,v(F),!I)if(n(s)!==null)I=!0,J(x);else{var H=n(c);H!==null&&E(y,H.startTime-F)}}function x(F,H){I=!1,h&&(h=!1,C(Z),Z=-1),m=!0;var M=d;try{for(v(H),g=n(s);g!==null&&(!(g.expirationTime>H)||F&&!k());){var Y=g.callback;if(typeof Y=="function"){g.callback=null,d=g.priorityLevel;var T=Y(g.expirationTime<=H);H=e.unstable_now(),typeof T=="function"?g.callback=T:g===n(s)&&r(s),v(H)}else r(s);g=n(s)}if(g!==null)var O=!0;else{var P=n(c);P!==null&&E(y,P.startTime-H),O=!1}return O}finally{g=null,d=M,m=!1}}var S=!1,B=null,Z=-1,R=5,w=-1;function k(){return!(e.unstable_now()-w<R)}function V(){if(B!==null){var F=e.unstable_now();w=F;var H=!0;try{H=B(!0,F)}finally{H?W():(S=!1,B=null)}}else S=!1}var W;if(typeof p=="function")W=function(){p(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,X=N.port2;N.port1.onmessage=V,W=function(){X.postMessage(null)}}else W=function(){A(V,0)};function J(F){B=F,S||(S=!0,W())}function E(F,H){Z=A(function(){F(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){I||m||(I=!0,J(x))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(s)},e.unstable_next=function(F){switch(d){case 1:case 2:case 3:var H=3;break;default:H=d}var M=d;d=H;try{return F()}finally{d=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,H){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var M=d;d=F;try{return H()}finally{d=M}},e.unstable_scheduleCallback=function(F,H,M){var Y=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?Y+M:Y):M=Y,F){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=M+T,F={id:u++,callback:H,priorityLevel:F,startTime:M,expirationTime:T,sortIndex:-1},M>Y?(F.sortIndex=M,t(c,F),n(s)===null&&F===n(c)&&(h?(C(Z),Z=-1):h=!0,E(y,M-Y))):(F.sortIndex=T,t(s,F),I||m||(I=!0,J(x))),F},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(F){var H=d;return function(){var M=d;d=H;try{return F.apply(this,arguments)}finally{d=M}}}})(eF);qH.exports=eF;var F7=qH.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tF=b,ao=F7;function Ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nF=new Set,Yf={};function Nc(e,t){Tu(e,t),Tu(e+"Capture",t)}function Tu(e,t){for(Yf[e]=t,e=0;e<t.length;e++)nF.add(t[e])}var Za=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a2=Object.prototype.hasOwnProperty,M7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u5={},g5={};function j7(e){return a2.call(g5,e)?!0:a2.call(u5,e)?!1:M7.test(e)?g5[e]=!0:(u5[e]=!0,!1)}function T7(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function L7(e,t,n,r){if(t===null||typeof t>"u"||T7(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yr(e,t,n,r,o,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var $n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$n[e]=new yr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$n[t]=new yr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$n[e]=new yr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$n[e]=new yr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$n[e]=new yr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$n[e]=new yr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$n[e]=new yr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$n[e]=new yr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$n[e]=new yr(e,5,!1,e.toLowerCase(),null,!1,!1)});var ow=/[\-:]([a-z])/g;function iw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ow,iw);$n[t]=new yr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ow,iw);$n[t]=new yr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ow,iw);$n[t]=new yr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$n[e]=new yr(e,1,!1,e.toLowerCase(),null,!1,!1)});$n.xlinkHref=new yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$n[e]=new yr(e,1,!1,e.toLowerCase(),null,!0,!0)});function aw(e,t,n,r){var o=$n.hasOwnProperty(t)?$n[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(L7(t,n,o,r)&&(n=null),r||o===null?j7(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Xa=tF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,UI=Symbol.for("react.element"),iu=Symbol.for("react.portal"),au=Symbol.for("react.fragment"),lw=Symbol.for("react.strict_mode"),l2=Symbol.for("react.profiler"),rF=Symbol.for("react.provider"),oF=Symbol.for("react.context"),sw=Symbol.for("react.forward_ref"),s2=Symbol.for("react.suspense"),c2=Symbol.for("react.suspense_list"),cw=Symbol.for("react.memo"),rl=Symbol.for("react.lazy"),iF=Symbol.for("react.offscreen"),d5=Symbol.iterator;function hd(e){return e===null||typeof e!="object"?null:(e=d5&&e[d5]||e["@@iterator"],typeof e=="function"?e:null)}var rn=Object.assign,Wv;function qd(e){if(Wv===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wv=t&&t[1]||""}return`
`+Wv+e}var Nv=!1;function Ev(e,t){if(!e||Nv)return"";Nv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),a=o.length-1,l=i.length-1;1<=a&&0<=l&&o[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(o[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||o[a]!==i[l]){var s=`
`+o[a].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=a&&0<=l);break}}}finally{Nv=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?qd(e):""}function K7(e){switch(e.tag){case 5:return qd(e.type);case 16:return qd("Lazy");case 13:return qd("Suspense");case 19:return qd("SuspenseList");case 0:case 2:case 15:return e=Ev(e.type,!1),e;case 11:return e=Ev(e.type.render,!1),e;case 1:return e=Ev(e.type,!0),e;default:return""}}function u2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case au:return"Fragment";case iu:return"Portal";case l2:return"Profiler";case lw:return"StrictMode";case s2:return"Suspense";case c2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case oF:return(e.displayName||"Context")+".Consumer";case rF:return(e._context.displayName||"Context")+".Provider";case sw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cw:return t=e.displayName||null,t!==null?t:u2(e.type)||"Memo";case rl:t=e._payload,e=e._init;try{return u2(e(t))}catch{}}return null}function O7(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return u2(t);case 8:return t===lw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ll(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function aF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function P7(e){var t=aF(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _I(e){e._valueTracker||(e._valueTracker=P7(e))}function lF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=aF(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function VC(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function g2(e,t){var n=t.checked;return rn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function f5(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ll(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sF(e,t){t=t.checked,t!=null&&aw(e,"checked",t,!1)}function d2(e,t){sF(e,t);var n=Ll(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?f2(e,t.type,n):t.hasOwnProperty("defaultValue")&&f2(e,t.type,Ll(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function m5(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function f2(e,t,n){(t!=="number"||VC(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ef=Array.isArray;function Gu(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ll(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function m2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ce(91));return rn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function I5(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ce(92));if(ef(n)){if(1<n.length)throw Error(Ce(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ll(n)}}function cF(e,t){var n=Ll(t.value),r=Ll(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function h5(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function I2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var QI,gF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(QI=QI||document.createElement("div"),QI.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=QI.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D7=["Webkit","ms","Moz","O"];Object.keys(cf).forEach(function(e){D7.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cf[t]=cf[e]})});function dF(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||cf.hasOwnProperty(e)&&cf[e]?(""+t).trim():t+"px"}function fF(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=dF(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var z7=rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function h2(e,t){if(t){if(z7[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ce(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ce(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ce(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ce(62))}}function C2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var p2=null;function uw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var A2=null,Bu=null,ku=null;function C5(e){if(e=tI(e)){if(typeof A2!="function")throw Error(Ce(280));var t=e.stateNode;t&&(t=iA(t),A2(e.stateNode,e.type,t))}}function mF(e){Bu?ku?ku.push(e):ku=[e]:Bu=e}function IF(){if(Bu){var e=Bu,t=ku;if(ku=Bu=null,C5(e),t)for(e=0;e<t.length;e++)C5(t[e])}}function hF(e,t){return e(t)}function CF(){}var Xv=!1;function pF(e,t,n){if(Xv)return e(t,n);Xv=!0;try{return hF(e,t,n)}finally{Xv=!1,(Bu!==null||ku!==null)&&(CF(),IF())}}function Ff(e,t){var n=e.stateNode;if(n===null)return null;var r=iA(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ce(231,t,typeof n));return n}var b2=!1;if(Za)try{var Cd={};Object.defineProperty(Cd,"passive",{get:function(){b2=!0}}),window.addEventListener("test",Cd,Cd),window.removeEventListener("test",Cd,Cd)}catch{b2=!1}function U7(e,t,n,r,o,i,a,l,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var uf=!1,WC=null,NC=!1,v2=null,_7={onError:function(e){uf=!0,WC=e}};function Q7(e,t,n,r,o,i,a,l,s){uf=!1,WC=null,U7.apply(_7,arguments)}function $7(e,t,n,r,o,i,a,l,s){if(Q7.apply(this,arguments),uf){if(uf){var c=WC;uf=!1,WC=null}else throw Error(Ce(198));NC||(NC=!0,v2=c)}}function Ec(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function AF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p5(e){if(Ec(e)!==e)throw Error(Ce(188))}function q7(e){var t=e.alternate;if(!t){if(t=Ec(e),t===null)throw Error(Ce(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return p5(o),e;if(i===r)return p5(o),t;i=i.sibling}throw Error(Ce(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a)throw Error(Ce(189))}}if(n.alternate!==r)throw Error(Ce(190))}if(n.tag!==3)throw Error(Ce(188));return n.stateNode.current===n?e:t}function bF(e){return e=q7(e),e!==null?vF(e):null}function vF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vF(e);if(t!==null)return t;e=e.sibling}return null}var yF=ao.unstable_scheduleCallback,A5=ao.unstable_cancelCallback,e_=ao.unstable_shouldYield,t_=ao.unstable_requestPaint,mn=ao.unstable_now,n_=ao.unstable_getCurrentPriorityLevel,gw=ao.unstable_ImmediatePriority,xF=ao.unstable_UserBlockingPriority,EC=ao.unstable_NormalPriority,r_=ao.unstable_LowPriority,SF=ao.unstable_IdlePriority,tA=null,Ei=null;function o_(e){if(Ei&&typeof Ei.onCommitFiberRoot=="function")try{Ei.onCommitFiberRoot(tA,e,void 0,(e.current.flags&128)===128)}catch{}}var ii=Math.clz32?Math.clz32:l_,i_=Math.log,a_=Math.LN2;function l_(e){return e>>>=0,e===0?32:31-(i_(e)/a_|0)|0}var $I=64,qI=4194304;function tf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function XC(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~o;l!==0?r=tf(l):(i&=a,i!==0&&(r=tf(i)))}else a=n&~o,a!==0?r=tf(a):i!==0&&(r=tf(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ii(t),o=1<<n,r|=e[n],t&=~o;return r}function s_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-ii(i),l=1<<a,s=o[a];s===-1?(!(l&n)||l&r)&&(o[a]=s_(l,t)):s<=t&&(e.expiredLanes|=l),i&=~l}}function y2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ZF(){var e=$I;return $I<<=1,!($I&4194240)&&($I=64),e}function Jv(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qm(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ii(t),e[t]=n}function u_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-ii(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function dw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ii(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function wF(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var GF,fw,BF,kF,RF,x2=!1,eh=[],kl=null,Rl=null,Vl=null,Mf=new Map,jf=new Map,ul=[],g_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function b5(e,t){switch(e){case"focusin":case"focusout":kl=null;break;case"dragenter":case"dragleave":Rl=null;break;case"mouseover":case"mouseout":Vl=null;break;case"pointerover":case"pointerout":Mf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jf.delete(t.pointerId)}}function pd(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=tI(t),t!==null&&fw(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function d_(e,t,n,r,o){switch(t){case"focusin":return kl=pd(kl,e,t,n,r,o),!0;case"dragenter":return Rl=pd(Rl,e,t,n,r,o),!0;case"mouseover":return Vl=pd(Vl,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Mf.set(i,pd(Mf.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,jf.set(i,pd(jf.get(i)||null,e,t,n,r,o)),!0}return!1}function VF(e){var t=Ds(e.target);if(t!==null){var n=Ec(t);if(n!==null){if(t=n.tag,t===13){if(t=AF(n),t!==null){e.blockedOn=t,RF(e.priority,function(){BF(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nC(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=S2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);p2=r,n.target.dispatchEvent(r),p2=null}else return t=tI(n),t!==null&&fw(t),e.blockedOn=n,!1;t.shift()}return!0}function v5(e,t,n){nC(e)&&n.delete(t)}function f_(){x2=!1,kl!==null&&nC(kl)&&(kl=null),Rl!==null&&nC(Rl)&&(Rl=null),Vl!==null&&nC(Vl)&&(Vl=null),Mf.forEach(v5),jf.forEach(v5)}function Ad(e,t){e.blockedOn===t&&(e.blockedOn=null,x2||(x2=!0,ao.unstable_scheduleCallback(ao.unstable_NormalPriority,f_)))}function Tf(e){function t(o){return Ad(o,e)}if(0<eh.length){Ad(eh[0],e);for(var n=1;n<eh.length;n++){var r=eh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(kl!==null&&Ad(kl,e),Rl!==null&&Ad(Rl,e),Vl!==null&&Ad(Vl,e),Mf.forEach(t),jf.forEach(t),n=0;n<ul.length;n++)r=ul[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ul.length&&(n=ul[0],n.blockedOn===null);)VF(n),n.blockedOn===null&&ul.shift()}var Ru=Xa.ReactCurrentBatchConfig,JC=!0;function m_(e,t,n,r){var o=bt,i=Ru.transition;Ru.transition=null;try{bt=1,mw(e,t,n,r)}finally{bt=o,Ru.transition=i}}function I_(e,t,n,r){var o=bt,i=Ru.transition;Ru.transition=null;try{bt=4,mw(e,t,n,r)}finally{bt=o,Ru.transition=i}}function mw(e,t,n,r){if(JC){var o=S2(e,t,n,r);if(o===null)Pv(e,t,r,YC,n),b5(e,r);else if(d_(o,e,t,n,r))r.stopPropagation();else if(b5(e,r),t&4&&-1<g_.indexOf(e)){for(;o!==null;){var i=tI(o);if(i!==null&&GF(i),i=S2(e,t,n,r),i===null&&Pv(e,t,r,YC,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Pv(e,t,r,null,n)}}var YC=null;function S2(e,t,n,r){if(YC=null,e=uw(r),e=Ds(e),e!==null)if(t=Ec(e),t===null)e=null;else if(n=t.tag,n===13){if(e=AF(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return YC=e,null}function WF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(n_()){case gw:return 1;case xF:return 4;case EC:case r_:return 16;case SF:return 536870912;default:return 16}default:return 16}}var hl=null,Iw=null,rC=null;function NF(){if(rC)return rC;var e,t=Iw,n=t.length,r,o="value"in hl?hl.value:hl.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===o[i-r];r++);return rC=o.slice(e,1<r?1-r:void 0)}function oC(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function th(){return!0}function y5(){return!1}function uo(e){function t(n,r,o,i,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?th:y5,this.isPropagationStopped=y5,this}return rn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=th)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=th)},persist:function(){},isPersistent:th}),t}var Yg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hw=uo(Yg),eI=rn({},Yg,{view:0,detail:0}),h_=uo(eI),Yv,Hv,bd,nA=rn({},eI,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bd&&(bd&&e.type==="mousemove"?(Yv=e.screenX-bd.screenX,Hv=e.screenY-bd.screenY):Hv=Yv=0,bd=e),Yv)},movementY:function(e){return"movementY"in e?e.movementY:Hv}}),x5=uo(nA),C_=rn({},nA,{dataTransfer:0}),p_=uo(C_),A_=rn({},eI,{relatedTarget:0}),Fv=uo(A_),b_=rn({},Yg,{animationName:0,elapsedTime:0,pseudoElement:0}),v_=uo(b_),y_=rn({},Yg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),x_=uo(y_),S_=rn({},Yg,{data:0}),S5=uo(S_),Z_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=G_[e])?!!t[e]:!1}function Cw(){return B_}var k_=rn({},eI,{key:function(e){if(e.key){var t=Z_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oC(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?w_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cw,charCode:function(e){return e.type==="keypress"?oC(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oC(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),R_=uo(k_),V_=rn({},nA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Z5=uo(V_),W_=rn({},eI,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cw}),N_=uo(W_),E_=rn({},Yg,{propertyName:0,elapsedTime:0,pseudoElement:0}),X_=uo(E_),J_=rn({},nA,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Y_=uo(J_),H_=[9,13,27,32],pw=Za&&"CompositionEvent"in window,gf=null;Za&&"documentMode"in document&&(gf=document.documentMode);var F_=Za&&"TextEvent"in window&&!gf,EF=Za&&(!pw||gf&&8<gf&&11>=gf),w5=String.fromCharCode(32),G5=!1;function XF(e,t){switch(e){case"keyup":return H_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var lu=!1;function M_(e,t){switch(e){case"compositionend":return JF(t);case"keypress":return t.which!==32?null:(G5=!0,w5);case"textInput":return e=t.data,e===w5&&G5?null:e;default:return null}}function j_(e,t){if(lu)return e==="compositionend"||!pw&&XF(e,t)?(e=NF(),rC=Iw=hl=null,lu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return EF&&t.locale!=="ko"?null:t.data;default:return null}}var T_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function B5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!T_[e.type]:t==="textarea"}function YF(e,t,n,r){mF(r),t=HC(t,"onChange"),0<t.length&&(n=new hw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var df=null,Lf=null;function L_(e){zF(e,0)}function rA(e){var t=uu(e);if(lF(t))return e}function K_(e,t){if(e==="change")return t}var HF=!1;if(Za){var Mv;if(Za){var jv="oninput"in document;if(!jv){var k5=document.createElement("div");k5.setAttribute("oninput","return;"),jv=typeof k5.oninput=="function"}Mv=jv}else Mv=!1;HF=Mv&&(!document.documentMode||9<document.documentMode)}function R5(){df&&(df.detachEvent("onpropertychange",FF),Lf=df=null)}function FF(e){if(e.propertyName==="value"&&rA(Lf)){var t=[];YF(t,Lf,e,uw(e)),pF(L_,t)}}function O_(e,t,n){e==="focusin"?(R5(),df=t,Lf=n,df.attachEvent("onpropertychange",FF)):e==="focusout"&&R5()}function P_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rA(Lf)}function D_(e,t){if(e==="click")return rA(t)}function z_(e,t){if(e==="input"||e==="change")return rA(t)}function U_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gi=typeof Object.is=="function"?Object.is:U_;function Kf(e,t){if(gi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!a2.call(t,o)||!gi(e[o],t[o]))return!1}return!0}function V5(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function W5(e,t){var n=V5(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=V5(n)}}function MF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?MF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jF(){for(var e=window,t=VC();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=VC(e.document)}return t}function Aw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function __(e){var t=jF(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&MF(n.ownerDocument.documentElement,n)){if(r!==null&&Aw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=W5(n,i);var a=W5(n,r);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Q_=Za&&"documentMode"in document&&11>=document.documentMode,su=null,Z2=null,ff=null,w2=!1;function N5(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;w2||su==null||su!==VC(r)||(r=su,"selectionStart"in r&&Aw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ff&&Kf(ff,r)||(ff=r,r=HC(Z2,"onSelect"),0<r.length&&(t=new hw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=su)))}function nh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cu={animationend:nh("Animation","AnimationEnd"),animationiteration:nh("Animation","AnimationIteration"),animationstart:nh("Animation","AnimationStart"),transitionend:nh("Transition","TransitionEnd")},Tv={},TF={};Za&&(TF=document.createElement("div").style,"AnimationEvent"in window||(delete cu.animationend.animation,delete cu.animationiteration.animation,delete cu.animationstart.animation),"TransitionEvent"in window||delete cu.transitionend.transition);function oA(e){if(Tv[e])return Tv[e];if(!cu[e])return e;var t=cu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in TF)return Tv[e]=t[n];return e}var LF=oA("animationend"),KF=oA("animationiteration"),OF=oA("animationstart"),PF=oA("transitionend"),DF=new Map,E5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rs(e,t){DF.set(e,t),Nc(t,[e])}for(var Lv=0;Lv<E5.length;Lv++){var Kv=E5[Lv],$_=Kv.toLowerCase(),q_=Kv[0].toUpperCase()+Kv.slice(1);rs($_,"on"+q_)}rs(LF,"onAnimationEnd");rs(KF,"onAnimationIteration");rs(OF,"onAnimationStart");rs("dblclick","onDoubleClick");rs("focusin","onFocus");rs("focusout","onBlur");rs(PF,"onTransitionEnd");Tu("onMouseEnter",["mouseout","mouseover"]);Tu("onMouseLeave",["mouseout","mouseover"]);Tu("onPointerEnter",["pointerout","pointerover"]);Tu("onPointerLeave",["pointerout","pointerover"]);Nc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e6=new Set("cancel close invalid load scroll toggle".split(" ").concat(nf));function X5(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,$7(r,t,void 0,e),e.currentTarget=null}function zF(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],s=l.instance,c=l.currentTarget;if(l=l.listener,s!==i&&o.isPropagationStopped())break e;X5(o,l,c),i=s}else for(a=0;a<r.length;a++){if(l=r[a],s=l.instance,c=l.currentTarget,l=l.listener,s!==i&&o.isPropagationStopped())break e;X5(o,l,c),i=s}}}if(NC)throw e=v2,NC=!1,v2=null,e}function jt(e,t){var n=t[V2];n===void 0&&(n=t[V2]=new Set);var r=e+"__bubble";n.has(r)||(UF(t,e,2,!1),n.add(r))}function Ov(e,t,n){var r=0;t&&(r|=4),UF(n,e,r,t)}var rh="_reactListening"+Math.random().toString(36).slice(2);function Of(e){if(!e[rh]){e[rh]=!0,nF.forEach(function(n){n!=="selectionchange"&&(e6.has(n)||Ov(n,!1,e),Ov(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rh]||(t[rh]=!0,Ov("selectionchange",!1,t))}}function UF(e,t,n,r){switch(WF(t)){case 1:var o=m_;break;case 4:o=I_;break;default:o=mw}n=o.bind(null,t,n,e),o=void 0,!b2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Pv(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var s=a.tag;if((s===3||s===4)&&(s=a.stateNode.containerInfo,s===o||s.nodeType===8&&s.parentNode===o))return;a=a.return}for(;l!==null;){if(a=Ds(l),a===null)return;if(s=a.tag,s===5||s===6){r=i=a;continue e}l=l.parentNode}}r=r.return}pF(function(){var c=i,u=uw(n),g=[];e:{var d=DF.get(e);if(d!==void 0){var m=hw,I=e;switch(e){case"keypress":if(oC(n)===0)break e;case"keydown":case"keyup":m=R_;break;case"focusin":I="focus",m=Fv;break;case"focusout":I="blur",m=Fv;break;case"beforeblur":case"afterblur":m=Fv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=x5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=p_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=N_;break;case LF:case KF:case OF:m=v_;break;case PF:m=X_;break;case"scroll":m=h_;break;case"wheel":m=Y_;break;case"copy":case"cut":case"paste":m=x_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Z5}var h=(t&4)!==0,A=!h&&e==="scroll",C=h?d!==null?d+"Capture":null:d;h=[];for(var p=c,v;p!==null;){v=p;var y=v.stateNode;if(v.tag===5&&y!==null&&(v=y,C!==null&&(y=Ff(p,C),y!=null&&h.push(Pf(p,y,v)))),A)break;p=p.return}0<h.length&&(d=new m(d,I,null,n,u),g.push({event:d,listeners:h}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",d&&n!==p2&&(I=n.relatedTarget||n.fromElement)&&(Ds(I)||I[wa]))break e;if((m||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,m?(I=n.relatedTarget||n.toElement,m=c,I=I?Ds(I):null,I!==null&&(A=Ec(I),I!==A||I.tag!==5&&I.tag!==6)&&(I=null)):(m=null,I=c),m!==I)){if(h=x5,y="onMouseLeave",C="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(h=Z5,y="onPointerLeave",C="onPointerEnter",p="pointer"),A=m==null?d:uu(m),v=I==null?d:uu(I),d=new h(y,p+"leave",m,n,u),d.target=A,d.relatedTarget=v,y=null,Ds(u)===c&&(h=new h(C,p+"enter",I,n,u),h.target=v,h.relatedTarget=A,y=h),A=y,m&&I)t:{for(h=m,C=I,p=0,v=h;v;v=Pc(v))p++;for(v=0,y=C;y;y=Pc(y))v++;for(;0<p-v;)h=Pc(h),p--;for(;0<v-p;)C=Pc(C),v--;for(;p--;){if(h===C||C!==null&&h===C.alternate)break t;h=Pc(h),C=Pc(C)}h=null}else h=null;m!==null&&J5(g,d,m,h,!1),I!==null&&A!==null&&J5(g,A,I,h,!0)}}e:{if(d=c?uu(c):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var x=K_;else if(B5(d))if(HF)x=z_;else{x=P_;var S=O_}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=D_);if(x&&(x=x(e,c))){YF(g,x,n,u);break e}S&&S(e,d,c),e==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&f2(d,"number",d.value)}switch(S=c?uu(c):window,e){case"focusin":(B5(S)||S.contentEditable==="true")&&(su=S,Z2=c,ff=null);break;case"focusout":ff=Z2=su=null;break;case"mousedown":w2=!0;break;case"contextmenu":case"mouseup":case"dragend":w2=!1,N5(g,n,u);break;case"selectionchange":if(Q_)break;case"keydown":case"keyup":N5(g,n,u)}var B;if(pw)e:{switch(e){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else lu?XF(e,n)&&(Z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Z="onCompositionStart");Z&&(EF&&n.locale!=="ko"&&(lu||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&lu&&(B=NF()):(hl=u,Iw="value"in hl?hl.value:hl.textContent,lu=!0)),S=HC(c,Z),0<S.length&&(Z=new S5(Z,e,null,n,u),g.push({event:Z,listeners:S}),B?Z.data=B:(B=JF(n),B!==null&&(Z.data=B)))),(B=F_?M_(e,n):j_(e,n))&&(c=HC(c,"onBeforeInput"),0<c.length&&(u=new S5("onBeforeInput","beforeinput",null,n,u),g.push({event:u,listeners:c}),u.data=B))}zF(g,t)})}function Pf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function HC(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Ff(e,n),i!=null&&r.unshift(Pf(e,i,o)),i=Ff(e,t),i!=null&&r.push(Pf(e,i,o))),e=e.return}return r}function Pc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function J5(e,t,n,r,o){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,s=l.alternate,c=l.stateNode;if(s!==null&&s===r)break;l.tag===5&&c!==null&&(l=c,o?(s=Ff(n,i),s!=null&&a.unshift(Pf(n,s,l))):o||(s=Ff(n,i),s!=null&&a.push(Pf(n,s,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var t6=/\r\n?/g,n6=/\u0000|\uFFFD/g;function Y5(e){return(typeof e=="string"?e:""+e).replace(t6,`
`).replace(n6,"")}function oh(e,t,n){if(t=Y5(t),Y5(e)!==t&&n)throw Error(Ce(425))}function FC(){}var G2=null,B2=null;function k2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var R2=typeof setTimeout=="function"?setTimeout:void 0,r6=typeof clearTimeout=="function"?clearTimeout:void 0,H5=typeof Promise=="function"?Promise:void 0,o6=typeof queueMicrotask=="function"?queueMicrotask:typeof H5<"u"?function(e){return H5.resolve(null).then(e).catch(i6)}:R2;function i6(e){setTimeout(function(){throw e})}function Dv(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Tf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Tf(t)}function Wl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function F5(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Hg=Math.random().toString(36).slice(2),xi="__reactFiber$"+Hg,Df="__reactProps$"+Hg,wa="__reactContainer$"+Hg,V2="__reactEvents$"+Hg,a6="__reactListeners$"+Hg,l6="__reactHandles$"+Hg;function Ds(e){var t=e[xi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wa]||n[xi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=F5(e);e!==null;){if(n=e[xi])return n;e=F5(e)}return t}e=n,n=e.parentNode}return null}function tI(e){return e=e[xi]||e[wa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function uu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ce(33))}function iA(e){return e[Df]||null}var W2=[],gu=-1;function os(e){return{current:e}}function Pt(e){0>gu||(e.current=W2[gu],W2[gu]=null,gu--)}function Jt(e,t){gu++,W2[gu]=e.current,e.current=t}var Kl={},sr=os(Kl),Nr=os(!1),Ic=Kl;function Lu(e,t){var n=e.type.contextTypes;if(!n)return Kl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Er(e){return e=e.childContextTypes,e!=null}function MC(){Pt(Nr),Pt(sr)}function M5(e,t,n){if(sr.current!==Kl)throw Error(Ce(168));Jt(sr,t),Jt(Nr,n)}function _F(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(Ce(108,O7(e)||"Unknown",o));return rn({},n,r)}function jC(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kl,Ic=sr.current,Jt(sr,e),Jt(Nr,Nr.current),!0}function j5(e,t,n){var r=e.stateNode;if(!r)throw Error(Ce(169));n?(e=_F(e,t,Ic),r.__reactInternalMemoizedMergedChildContext=e,Pt(Nr),Pt(sr),Jt(sr,e)):Pt(Nr),Jt(Nr,n)}var sa=null,aA=!1,zv=!1;function QF(e){sa===null?sa=[e]:sa.push(e)}function s6(e){aA=!0,QF(e)}function is(){if(!zv&&sa!==null){zv=!0;var e=0,t=bt;try{var n=sa;for(bt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}sa=null,aA=!1}catch(o){throw sa!==null&&(sa=sa.slice(e+1)),yF(gw,is),o}finally{bt=t,zv=!1}}return null}var du=[],fu=0,TC=null,LC=0,wo=[],Go=0,hc=null,ca=1,ua="";function Vs(e,t){du[fu++]=LC,du[fu++]=TC,TC=e,LC=t}function $F(e,t,n){wo[Go++]=ca,wo[Go++]=ua,wo[Go++]=hc,hc=e;var r=ca;e=ua;var o=32-ii(r)-1;r&=~(1<<o),n+=1;var i=32-ii(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,ca=1<<32-ii(t)+o|n<<o|r,ua=i+e}else ca=1<<i|n<<o|r,ua=e}function bw(e){e.return!==null&&(Vs(e,1),$F(e,1,0))}function vw(e){for(;e===TC;)TC=du[--fu],du[fu]=null,LC=du[--fu],du[fu]=null;for(;e===hc;)hc=wo[--Go],wo[Go]=null,ua=wo[--Go],wo[Go]=null,ca=wo[--Go],wo[Go]=null}var ro=null,qr=null,Ut=!1,ni=null;function qF(e,t){var n=Vo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function T5(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ro=e,qr=Wl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ro=e,qr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hc!==null?{id:ca,overflow:ua}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Vo(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ro=e,qr=null,!0):!1;default:return!1}}function N2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function E2(e){if(Ut){var t=qr;if(t){var n=t;if(!T5(e,t)){if(N2(e))throw Error(Ce(418));t=Wl(n.nextSibling);var r=ro;t&&T5(e,t)?qF(r,n):(e.flags=e.flags&-4097|2,Ut=!1,ro=e)}}else{if(N2(e))throw Error(Ce(418));e.flags=e.flags&-4097|2,Ut=!1,ro=e}}}function L5(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ro=e}function ih(e){if(e!==ro)return!1;if(!Ut)return L5(e),Ut=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!k2(e.type,e.memoizedProps)),t&&(t=qr)){if(N2(e))throw eM(),Error(Ce(418));for(;t;)qF(e,t),t=Wl(t.nextSibling)}if(L5(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ce(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qr=Wl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qr=null}}else qr=ro?Wl(e.stateNode.nextSibling):null;return!0}function eM(){for(var e=qr;e;)e=Wl(e.nextSibling)}function Ku(){qr=ro=null,Ut=!1}function yw(e){ni===null?ni=[e]:ni.push(e)}var c6=Xa.ReactCurrentBatchConfig;function $o(e,t){if(e&&e.defaultProps){t=rn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var KC=os(null),OC=null,mu=null,xw=null;function Sw(){xw=mu=OC=null}function Zw(e){var t=KC.current;Pt(KC),e._currentValue=t}function X2(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vu(e,t){OC=e,xw=mu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kr=!0),e.firstContext=null)}function Jo(e){var t=e._currentValue;if(xw!==e)if(e={context:e,memoizedValue:t,next:null},mu===null){if(OC===null)throw Error(Ce(308));mu=e,OC.dependencies={lanes:0,firstContext:e}}else mu=mu.next=e;return t}var zs=null;function ww(e){zs===null?zs=[e]:zs.push(e)}function tM(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,ww(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ga(e,r)}function Ga(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ol=!1;function Gw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ha(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Nl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ut&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ga(e,n)}return o=r.interleaved,o===null?(t.next=t,ww(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ga(e,n)}function iC(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dw(e,n)}}function K5(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function PC(e,t,n,r){var o=e.updateQueue;ol=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var s=l,c=s.next;s.next=null,a===null?i=c:a.next=c,a=s;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==a&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=s))}if(i!==null){var g=o.baseState;a=0,u=c=s=null,l=i;do{var d=l.lane,m=l.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var I=e,h=l;switch(d=t,m=n,h.tag){case 1:if(I=h.payload,typeof I=="function"){g=I.call(m,g,d);break e}g=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=h.payload,d=typeof I=="function"?I.call(m,g,d):I,d==null)break e;g=rn({},g,d);break e;case 2:ol=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[l]:d.push(l))}else m={eventTime:m,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=m,s=g):u=u.next=m,a|=d;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;d=l,l=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(1);if(u===null&&(s=g),o.baseState=s,o.firstBaseUpdate=c,o.lastBaseUpdate=u,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);pc|=a,e.lanes=a,e.memoizedState=g}}function O5(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Ce(191,o));o.call(r)}}}var rM=new tF.Component().refs;function J2(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:rn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var lA={isMounted:function(e){return(e=e._reactInternals)?Ec(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Cr(),o=Xl(e),i=ha(r,o);i.payload=t,n!=null&&(i.callback=n),t=Nl(e,i,o),t!==null&&(ai(t,e,o,r),iC(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Cr(),o=Xl(e),i=ha(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Nl(e,i,o),t!==null&&(ai(t,e,o,r),iC(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Cr(),r=Xl(e),o=ha(n,r);o.tag=2,t!=null&&(o.callback=t),t=Nl(e,o,r),t!==null&&(ai(t,e,r,n),iC(t,e,r))}};function P5(e,t,n,r,o,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Kf(n,r)||!Kf(o,i):!0}function oM(e,t,n){var r=!1,o=Kl,i=t.contextType;return typeof i=="object"&&i!==null?i=Jo(i):(o=Er(t)?Ic:sr.current,r=t.contextTypes,i=(r=r!=null)?Lu(e,o):Kl),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=lA,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function D5(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&lA.enqueueReplaceState(t,t.state,null)}function Y2(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=rM,Gw(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Jo(i):(i=Er(t)?Ic:sr.current,o.context=Lu(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(J2(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&lA.enqueueReplaceState(o,o.state,null),PC(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function vd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ce(309));var r=n.stateNode}if(!r)throw Error(Ce(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=o.refs;l===rM&&(l=o.refs={}),a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ce(284));if(!n._owner)throw Error(Ce(290,e))}return e}function ah(e,t){throw e=Object.prototype.toString.call(t),Error(Ce(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function z5(e){var t=e._init;return t(e._payload)}function iM(e){function t(C,p){if(e){var v=C.deletions;v===null?(C.deletions=[p],C.flags|=16):v.push(p)}}function n(C,p){if(!e)return null;for(;p!==null;)t(C,p),p=p.sibling;return null}function r(C,p){for(C=new Map;p!==null;)p.key!==null?C.set(p.key,p):C.set(p.index,p),p=p.sibling;return C}function o(C,p){return C=Jl(C,p),C.index=0,C.sibling=null,C}function i(C,p,v){return C.index=v,e?(v=C.alternate,v!==null?(v=v.index,v<p?(C.flags|=2,p):v):(C.flags|=2,p)):(C.flags|=1048576,p)}function a(C){return e&&C.alternate===null&&(C.flags|=2),C}function l(C,p,v,y){return p===null||p.tag!==6?(p=ty(v,C.mode,y),p.return=C,p):(p=o(p,v),p.return=C,p)}function s(C,p,v,y){var x=v.type;return x===au?u(C,p,v.props.children,y,v.key):p!==null&&(p.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===rl&&z5(x)===p.type)?(y=o(p,v.props),y.ref=vd(C,p,v),y.return=C,y):(y=gC(v.type,v.key,v.props,null,C.mode,y),y.ref=vd(C,p,v),y.return=C,y)}function c(C,p,v,y){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=ny(v,C.mode,y),p.return=C,p):(p=o(p,v.children||[]),p.return=C,p)}function u(C,p,v,y,x){return p===null||p.tag!==7?(p=cc(v,C.mode,y,x),p.return=C,p):(p=o(p,v),p.return=C,p)}function g(C,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ty(""+p,C.mode,v),p.return=C,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case UI:return v=gC(p.type,p.key,p.props,null,C.mode,v),v.ref=vd(C,null,p),v.return=C,v;case iu:return p=ny(p,C.mode,v),p.return=C,p;case rl:var y=p._init;return g(C,y(p._payload),v)}if(ef(p)||hd(p))return p=cc(p,C.mode,v,null),p.return=C,p;ah(C,p)}return null}function d(C,p,v,y){var x=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return x!==null?null:l(C,p,""+v,y);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case UI:return v.key===x?s(C,p,v,y):null;case iu:return v.key===x?c(C,p,v,y):null;case rl:return x=v._init,d(C,p,x(v._payload),y)}if(ef(v)||hd(v))return x!==null?null:u(C,p,v,y,null);ah(C,v)}return null}function m(C,p,v,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return C=C.get(v)||null,l(p,C,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case UI:return C=C.get(y.key===null?v:y.key)||null,s(p,C,y,x);case iu:return C=C.get(y.key===null?v:y.key)||null,c(p,C,y,x);case rl:var S=y._init;return m(C,p,v,S(y._payload),x)}if(ef(y)||hd(y))return C=C.get(v)||null,u(p,C,y,x,null);ah(p,y)}return null}function I(C,p,v,y){for(var x=null,S=null,B=p,Z=p=0,R=null;B!==null&&Z<v.length;Z++){B.index>Z?(R=B,B=null):R=B.sibling;var w=d(C,B,v[Z],y);if(w===null){B===null&&(B=R);break}e&&B&&w.alternate===null&&t(C,B),p=i(w,p,Z),S===null?x=w:S.sibling=w,S=w,B=R}if(Z===v.length)return n(C,B),Ut&&Vs(C,Z),x;if(B===null){for(;Z<v.length;Z++)B=g(C,v[Z],y),B!==null&&(p=i(B,p,Z),S===null?x=B:S.sibling=B,S=B);return Ut&&Vs(C,Z),x}for(B=r(C,B);Z<v.length;Z++)R=m(B,C,Z,v[Z],y),R!==null&&(e&&R.alternate!==null&&B.delete(R.key===null?Z:R.key),p=i(R,p,Z),S===null?x=R:S.sibling=R,S=R);return e&&B.forEach(function(k){return t(C,k)}),Ut&&Vs(C,Z),x}function h(C,p,v,y){var x=hd(v);if(typeof x!="function")throw Error(Ce(150));if(v=x.call(v),v==null)throw Error(Ce(151));for(var S=x=null,B=p,Z=p=0,R=null,w=v.next();B!==null&&!w.done;Z++,w=v.next()){B.index>Z?(R=B,B=null):R=B.sibling;var k=d(C,B,w.value,y);if(k===null){B===null&&(B=R);break}e&&B&&k.alternate===null&&t(C,B),p=i(k,p,Z),S===null?x=k:S.sibling=k,S=k,B=R}if(w.done)return n(C,B),Ut&&Vs(C,Z),x;if(B===null){for(;!w.done;Z++,w=v.next())w=g(C,w.value,y),w!==null&&(p=i(w,p,Z),S===null?x=w:S.sibling=w,S=w);return Ut&&Vs(C,Z),x}for(B=r(C,B);!w.done;Z++,w=v.next())w=m(B,C,Z,w.value,y),w!==null&&(e&&w.alternate!==null&&B.delete(w.key===null?Z:w.key),p=i(w,p,Z),S===null?x=w:S.sibling=w,S=w);return e&&B.forEach(function(V){return t(C,V)}),Ut&&Vs(C,Z),x}function A(C,p,v,y){if(typeof v=="object"&&v!==null&&v.type===au&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case UI:e:{for(var x=v.key,S=p;S!==null;){if(S.key===x){if(x=v.type,x===au){if(S.tag===7){n(C,S.sibling),p=o(S,v.props.children),p.return=C,C=p;break e}}else if(S.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===rl&&z5(x)===S.type){n(C,S.sibling),p=o(S,v.props),p.ref=vd(C,S,v),p.return=C,C=p;break e}n(C,S);break}else t(C,S);S=S.sibling}v.type===au?(p=cc(v.props.children,C.mode,y,v.key),p.return=C,C=p):(y=gC(v.type,v.key,v.props,null,C.mode,y),y.ref=vd(C,p,v),y.return=C,C=y)}return a(C);case iu:e:{for(S=v.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(C,p.sibling),p=o(p,v.children||[]),p.return=C,C=p;break e}else{n(C,p);break}else t(C,p);p=p.sibling}p=ny(v,C.mode,y),p.return=C,C=p}return a(C);case rl:return S=v._init,A(C,p,S(v._payload),y)}if(ef(v))return I(C,p,v,y);if(hd(v))return h(C,p,v,y);ah(C,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(C,p.sibling),p=o(p,v),p.return=C,C=p):(n(C,p),p=ty(v,C.mode,y),p.return=C,C=p),a(C)):n(C,p)}return A}var Ou=iM(!0),aM=iM(!1),nI={},Xi=os(nI),zf=os(nI),Uf=os(nI);function Us(e){if(e===nI)throw Error(Ce(174));return e}function Bw(e,t){switch(Jt(Uf,t),Jt(zf,e),Jt(Xi,nI),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:I2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=I2(t,e)}Pt(Xi),Jt(Xi,t)}function Pu(){Pt(Xi),Pt(zf),Pt(Uf)}function lM(e){Us(Uf.current);var t=Us(Xi.current),n=I2(t,e.type);t!==n&&(Jt(zf,e),Jt(Xi,n))}function kw(e){zf.current===e&&(Pt(Xi),Pt(zf))}var Qt=os(0);function DC(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uv=[];function Rw(){for(var e=0;e<Uv.length;e++)Uv[e]._workInProgressVersionPrimary=null;Uv.length=0}var aC=Xa.ReactCurrentDispatcher,_v=Xa.ReactCurrentBatchConfig,Cc=0,tn=null,Zn=null,En=null,zC=!1,mf=!1,_f=0,u6=0;function er(){throw Error(Ce(321))}function Vw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gi(e[n],t[n]))return!1;return!0}function Ww(e,t,n,r,o,i){if(Cc=i,tn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,aC.current=e===null||e.memoizedState===null?m6:I6,e=n(r,o),mf){i=0;do{if(mf=!1,_f=0,25<=i)throw Error(Ce(301));i+=1,En=Zn=null,t.updateQueue=null,aC.current=h6,e=n(r,o)}while(mf)}if(aC.current=UC,t=Zn!==null&&Zn.next!==null,Cc=0,En=Zn=tn=null,zC=!1,t)throw Error(Ce(300));return e}function Nw(){var e=_f!==0;return _f=0,e}function vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?tn.memoizedState=En=e:En=En.next=e,En}function Yo(){if(Zn===null){var e=tn.alternate;e=e!==null?e.memoizedState:null}else e=Zn.next;var t=En===null?tn.memoizedState:En.next;if(t!==null)En=t,Zn=e;else{if(e===null)throw Error(Ce(310));Zn=e,e={memoizedState:Zn.memoizedState,baseState:Zn.baseState,baseQueue:Zn.baseQueue,queue:Zn.queue,next:null},En===null?tn.memoizedState=En=e:En=En.next=e}return En}function Qf(e,t){return typeof t=="function"?t(e):t}function Qv(e){var t=Yo(),n=t.queue;if(n===null)throw Error(Ce(311));n.lastRenderedReducer=e;var r=Zn,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=a=null,s=null,c=i;do{var u=c.lane;if((Cc&u)===u)s!==null&&(s=s.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var g={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};s===null?(l=s=g,a=r):s=s.next=g,tn.lanes|=u,pc|=u}c=c.next}while(c!==null&&c!==i);s===null?a=r:s.next=l,gi(r,t.memoizedState)||(kr=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,tn.lanes|=i,pc|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $v(e){var t=Yo(),n=t.queue;if(n===null)throw Error(Ce(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do i=e(i,a.action),a=a.next;while(a!==o);gi(i,t.memoizedState)||(kr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function sM(){}function cM(e,t){var n=tn,r=Yo(),o=t(),i=!gi(r.memoizedState,o);if(i&&(r.memoizedState=o,kr=!0),r=r.queue,Ew(dM.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||En!==null&&En.memoizedState.tag&1){if(n.flags|=2048,$f(9,gM.bind(null,n,r,o,t),void 0,null),Yn===null)throw Error(Ce(349));Cc&30||uM(n,t,o)}return o}function uM(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=tn.updateQueue,t===null?(t={lastEffect:null,stores:null},tn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gM(e,t,n,r){t.value=n,t.getSnapshot=r,fM(t)&&mM(e)}function dM(e,t,n){return n(function(){fM(t)&&mM(e)})}function fM(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gi(e,n)}catch{return!0}}function mM(e){var t=Ga(e,1);t!==null&&ai(t,e,1,-1)}function U5(e){var t=vi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qf,lastRenderedState:e},t.queue=e,e=e.dispatch=f6.bind(null,tn,e),[t.memoizedState,e]}function $f(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=tn.updateQueue,t===null?(t={lastEffect:null,stores:null},tn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function IM(){return Yo().memoizedState}function lC(e,t,n,r){var o=vi();tn.flags|=e,o.memoizedState=$f(1|t,n,void 0,r===void 0?null:r)}function sA(e,t,n,r){var o=Yo();r=r===void 0?null:r;var i=void 0;if(Zn!==null){var a=Zn.memoizedState;if(i=a.destroy,r!==null&&Vw(r,a.deps)){o.memoizedState=$f(t,n,i,r);return}}tn.flags|=e,o.memoizedState=$f(1|t,n,i,r)}function _5(e,t){return lC(8390656,8,e,t)}function Ew(e,t){return sA(2048,8,e,t)}function hM(e,t){return sA(4,2,e,t)}function CM(e,t){return sA(4,4,e,t)}function pM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function AM(e,t,n){return n=n!=null?n.concat([e]):null,sA(4,4,pM.bind(null,t,e),n)}function Xw(){}function bM(e,t){var n=Yo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vM(e,t){var n=Yo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function yM(e,t,n){return Cc&21?(gi(n,t)||(n=ZF(),tn.lanes|=n,pc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kr=!0),e.memoizedState=n)}function g6(e,t){var n=bt;bt=n!==0&&4>n?n:4,e(!0);var r=_v.transition;_v.transition={};try{e(!1),t()}finally{bt=n,_v.transition=r}}function xM(){return Yo().memoizedState}function d6(e,t,n){var r=Xl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},SM(e))ZM(t,n);else if(n=tM(e,t,n,r),n!==null){var o=Cr();ai(n,e,r,o),wM(n,t,r)}}function f6(e,t,n){var r=Xl(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(SM(e))ZM(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(o.hasEagerState=!0,o.eagerState=l,gi(l,a)){var s=t.interleaved;s===null?(o.next=o,ww(t)):(o.next=s.next,s.next=o),t.interleaved=o;return}}catch{}finally{}n=tM(e,t,o,r),n!==null&&(o=Cr(),ai(n,e,r,o),wM(n,t,r))}}function SM(e){var t=e.alternate;return e===tn||t!==null&&t===tn}function ZM(e,t){mf=zC=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wM(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dw(e,n)}}var UC={readContext:Jo,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useInsertionEffect:er,useLayoutEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useMutableSource:er,useSyncExternalStore:er,useId:er,unstable_isNewReconciler:!1},m6={readContext:Jo,useCallback:function(e,t){return vi().memoizedState=[e,t===void 0?null:t],e},useContext:Jo,useEffect:_5,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,lC(4194308,4,pM.bind(null,t,e),n)},useLayoutEffect:function(e,t){return lC(4194308,4,e,t)},useInsertionEffect:function(e,t){return lC(4,2,e,t)},useMemo:function(e,t){var n=vi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=d6.bind(null,tn,e),[r.memoizedState,e]},useRef:function(e){var t=vi();return e={current:e},t.memoizedState=e},useState:U5,useDebugValue:Xw,useDeferredValue:function(e){return vi().memoizedState=e},useTransition:function(){var e=U5(!1),t=e[0];return e=g6.bind(null,e[1]),vi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=tn,o=vi();if(Ut){if(n===void 0)throw Error(Ce(407));n=n()}else{if(n=t(),Yn===null)throw Error(Ce(349));Cc&30||uM(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,_5(dM.bind(null,r,i,e),[e]),r.flags|=2048,$f(9,gM.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=vi(),t=Yn.identifierPrefix;if(Ut){var n=ua,r=ca;n=(r&~(1<<32-ii(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=_f++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=u6++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},I6={readContext:Jo,useCallback:bM,useContext:Jo,useEffect:Ew,useImperativeHandle:AM,useInsertionEffect:hM,useLayoutEffect:CM,useMemo:vM,useReducer:Qv,useRef:IM,useState:function(){return Qv(Qf)},useDebugValue:Xw,useDeferredValue:function(e){var t=Yo();return yM(t,Zn.memoizedState,e)},useTransition:function(){var e=Qv(Qf)[0],t=Yo().memoizedState;return[e,t]},useMutableSource:sM,useSyncExternalStore:cM,useId:xM,unstable_isNewReconciler:!1},h6={readContext:Jo,useCallback:bM,useContext:Jo,useEffect:Ew,useImperativeHandle:AM,useInsertionEffect:hM,useLayoutEffect:CM,useMemo:vM,useReducer:$v,useRef:IM,useState:function(){return $v(Qf)},useDebugValue:Xw,useDeferredValue:function(e){var t=Yo();return Zn===null?t.memoizedState=e:yM(t,Zn.memoizedState,e)},useTransition:function(){var e=$v(Qf)[0],t=Yo().memoizedState;return[e,t]},useMutableSource:sM,useSyncExternalStore:cM,useId:xM,unstable_isNewReconciler:!1};function Du(e,t){try{var n="",r=t;do n+=K7(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function qv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function H2(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var C6=typeof WeakMap=="function"?WeakMap:Map;function GM(e,t,n){n=ha(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){QC||(QC=!0,z2=r),H2(e,t)},n}function BM(e,t,n){n=ha(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){H2(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){H2(e,t),typeof r!="function"&&(El===null?El=new Set([this]):El.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Q5(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new C6;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=V6.bind(null,e,t,n),t.then(e,e))}function $5(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function q5(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ha(-1,1),t.tag=2,Nl(n,t,1))),n.lanes|=1),e)}var p6=Xa.ReactCurrentOwner,kr=!1;function dr(e,t,n,r){t.child=e===null?aM(t,null,n,r):Ou(t,e.child,n,r)}function eV(e,t,n,r,o){n=n.render;var i=t.ref;return Vu(t,o),r=Ww(e,t,n,r,i,o),n=Nw(),e!==null&&!kr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ba(e,t,o)):(Ut&&n&&bw(t),t.flags|=1,dr(e,t,r,o),t.child)}function tV(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!Lw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,kM(e,t,i,r,o)):(e=gC(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Kf,n(a,r)&&e.ref===t.ref)return Ba(e,t,o)}return t.flags|=1,e=Jl(i,r),e.ref=t.ref,e.return=t,t.child=e}function kM(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Kf(i,r)&&e.ref===t.ref)if(kr=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(kr=!0);else return t.lanes=e.lanes,Ba(e,t,o)}return F2(e,t,n,r,o)}function RM(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jt(hu,Dr),Dr|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Jt(hu,Dr),Dr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Jt(hu,Dr),Dr|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Jt(hu,Dr),Dr|=r;return dr(e,t,o,n),t.child}function VM(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function F2(e,t,n,r,o){var i=Er(n)?Ic:sr.current;return i=Lu(t,i),Vu(t,o),n=Ww(e,t,n,r,i,o),r=Nw(),e!==null&&!kr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ba(e,t,o)):(Ut&&r&&bw(t),t.flags|=1,dr(e,t,n,o),t.child)}function nV(e,t,n,r,o){if(Er(n)){var i=!0;jC(t)}else i=!1;if(Vu(t,o),t.stateNode===null)sC(e,t),oM(t,n,r),Y2(t,n,r,o),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var s=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Jo(c):(c=Er(n)?Ic:sr.current,c=Lu(t,c));var u=n.getDerivedStateFromProps,g=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||s!==c)&&D5(t,a,r,c),ol=!1;var d=t.memoizedState;a.state=d,PC(t,r,a,o),s=t.memoizedState,l!==r||d!==s||Nr.current||ol?(typeof u=="function"&&(J2(t,n,u,r),s=t.memoizedState),(l=ol||P5(t,n,l,r,d,s,c))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=c,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,nM(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:$o(t.type,l),a.props=c,g=t.pendingProps,d=a.context,s=n.contextType,typeof s=="object"&&s!==null?s=Jo(s):(s=Er(n)?Ic:sr.current,s=Lu(t,s));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==g||d!==s)&&D5(t,a,r,s),ol=!1,d=t.memoizedState,a.state=d,PC(t,r,a,o);var I=t.memoizedState;l!==g||d!==I||Nr.current||ol?(typeof m=="function"&&(J2(t,n,m,r),I=t.memoizedState),(c=ol||P5(t,n,c,r,d,I,s)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,I,s),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,I,s)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=I),a.props=r,a.state=I,a.context=s,r=c):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return M2(e,t,n,r,i,o)}function M2(e,t,n,r,o,i){VM(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return o&&j5(t,n,!1),Ba(e,t,i);r=t.stateNode,p6.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Ou(t,e.child,null,i),t.child=Ou(t,null,l,i)):dr(e,t,l,i),t.memoizedState=r.state,o&&j5(t,n,!0),t.child}function WM(e){var t=e.stateNode;t.pendingContext?M5(e,t.pendingContext,t.pendingContext!==t.context):t.context&&M5(e,t.context,!1),Bw(e,t.containerInfo)}function rV(e,t,n,r,o){return Ku(),yw(o),t.flags|=256,dr(e,t,n,r),t.child}var j2={dehydrated:null,treeContext:null,retryLane:0};function T2(e){return{baseLanes:e,cachePool:null,transitions:null}}function NM(e,t,n){var r=t.pendingProps,o=Qt.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Jt(Qt,o&1),e===null)return E2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=gA(a,r,0,null),e=cc(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=T2(n),t.memoizedState=j2,e):Jw(t,a));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return A6(e,t,a,r,l,o,n);if(i){i=r.fallback,a=t.mode,o=e.child,l=o.sibling;var s={mode:"hidden",children:r.children};return!(a&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=s,t.deletions=null):(r=Jl(o,s),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=Jl(l,i):(i=cc(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?T2(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=j2,r}return i=e.child,e=i.sibling,r=Jl(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Jw(e,t){return t=gA({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function lh(e,t,n,r){return r!==null&&yw(r),Ou(t,e.child,null,n),e=Jw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function A6(e,t,n,r,o,i,a){if(n)return t.flags&256?(t.flags&=-257,r=qv(Error(Ce(422))),lh(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=gA({mode:"visible",children:r.children},o,0,null),i=cc(i,o,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ou(t,e.child,null,a),t.child.memoizedState=T2(a),t.memoizedState=j2,i);if(!(t.mode&1))return lh(e,t,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(Ce(419)),r=qv(i,r,void 0),lh(e,t,a,r)}if(l=(a&e.childLanes)!==0,kr||l){if(r=Yn,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|a)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Ga(e,o),ai(r,e,o,-1))}return Tw(),r=qv(Error(Ce(421))),lh(e,t,a,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=W6.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,qr=Wl(o.nextSibling),ro=t,Ut=!0,ni=null,e!==null&&(wo[Go++]=ca,wo[Go++]=ua,wo[Go++]=hc,ca=e.id,ua=e.overflow,hc=t),t=Jw(t,r.children),t.flags|=4096,t)}function oV(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),X2(e.return,t,n)}function ey(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function EM(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(dr(e,t,r.children,n),r=Qt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&oV(e,n,t);else if(e.tag===19)oV(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Jt(Qt,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&DC(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ey(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&DC(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ey(t,!0,n,null,i);break;case"together":ey(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sC(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ba(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ce(153));if(t.child!==null){for(e=t.child,n=Jl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function b6(e,t,n){switch(t.tag){case 3:WM(t),Ku();break;case 5:lM(t);break;case 1:Er(t.type)&&jC(t);break;case 4:Bw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Jt(KC,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Jt(Qt,Qt.current&1),t.flags|=128,null):n&t.child.childLanes?NM(e,t,n):(Jt(Qt,Qt.current&1),e=Ba(e,t,n),e!==null?e.sibling:null);Jt(Qt,Qt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return EM(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Jt(Qt,Qt.current),r)break;return null;case 22:case 23:return t.lanes=0,RM(e,t,n)}return Ba(e,t,n)}var XM,L2,JM,YM;XM=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};L2=function(){};JM=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Us(Xi.current);var i=null;switch(n){case"input":o=g2(e,o),r=g2(e,r),i=[];break;case"select":o=rn({},o,{value:void 0}),r=rn({},r,{value:void 0}),i=[];break;case"textarea":o=m2(e,o),r=m2(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=FC)}h2(n,r);var a;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var l=o[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Yf.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var s=r[c];if(l=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&s!==l&&(s!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||s&&s.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in s)s.hasOwnProperty(a)&&l[a]!==s[a]&&(n||(n={}),n[a]=s[a])}else n||(i||(i=[]),i.push(c,n)),n=s;else c==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,l=l?l.__html:void 0,s!=null&&l!==s&&(i=i||[]).push(c,s)):c==="children"?typeof s!="string"&&typeof s!="number"||(i=i||[]).push(c,""+s):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Yf.hasOwnProperty(c)?(s!=null&&c==="onScroll"&&jt("scroll",e),i||l===s||(i=[])):(i=i||[]).push(c,s))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};YM=function(e,t,n,r){n!==r&&(t.flags|=4)};function yd(e,t){if(!Ut)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function v6(e,t,n){var r=t.pendingProps;switch(vw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(t),null;case 1:return Er(t.type)&&MC(),tr(t),null;case 3:return r=t.stateNode,Pu(),Pt(Nr),Pt(sr),Rw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ih(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ni!==null&&(Q2(ni),ni=null))),L2(e,t),tr(t),null;case 5:kw(t);var o=Us(Uf.current);if(n=t.type,e!==null&&t.stateNode!=null)JM(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ce(166));return tr(t),null}if(e=Us(Xi.current),ih(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[xi]=t,r[Df]=i,e=(t.mode&1)!==0,n){case"dialog":jt("cancel",r),jt("close",r);break;case"iframe":case"object":case"embed":jt("load",r);break;case"video":case"audio":for(o=0;o<nf.length;o++)jt(nf[o],r);break;case"source":jt("error",r);break;case"img":case"image":case"link":jt("error",r),jt("load",r);break;case"details":jt("toggle",r);break;case"input":f5(r,i),jt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},jt("invalid",r);break;case"textarea":I5(r,i),jt("invalid",r)}h2(n,i),o=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&oh(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&oh(r.textContent,l,e),o=["children",""+l]):Yf.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&jt("scroll",r)}switch(n){case"input":_I(r),m5(r,i,!0);break;case"textarea":_I(r),h5(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=FC)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uF(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[xi]=t,e[Df]=r,XM(e,t,!1,!1),t.stateNode=e;e:{switch(a=C2(n,r),n){case"dialog":jt("cancel",e),jt("close",e),o=r;break;case"iframe":case"object":case"embed":jt("load",e),o=r;break;case"video":case"audio":for(o=0;o<nf.length;o++)jt(nf[o],e);o=r;break;case"source":jt("error",e),o=r;break;case"img":case"image":case"link":jt("error",e),jt("load",e),o=r;break;case"details":jt("toggle",e),o=r;break;case"input":f5(e,r),o=g2(e,r),jt("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=rn({},r,{value:void 0}),jt("invalid",e);break;case"textarea":I5(e,r),o=m2(e,r),jt("invalid",e);break;default:o=r}h2(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var s=l[i];i==="style"?fF(e,s):i==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&gF(e,s)):i==="children"?typeof s=="string"?(n!=="textarea"||s!=="")&&Hf(e,s):typeof s=="number"&&Hf(e,""+s):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Yf.hasOwnProperty(i)?s!=null&&i==="onScroll"&&jt("scroll",e):s!=null&&aw(e,i,s,a))}switch(n){case"input":_I(e),m5(e,r,!1);break;case"textarea":_I(e),h5(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ll(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Gu(e,!!r.multiple,i,!1):r.defaultValue!=null&&Gu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=FC)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tr(t),null;case 6:if(e&&t.stateNode!=null)YM(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ce(166));if(n=Us(Uf.current),Us(Xi.current),ih(t)){if(r=t.stateNode,n=t.memoizedProps,r[xi]=t,(i=r.nodeValue!==n)&&(e=ro,e!==null))switch(e.tag){case 3:oh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oh(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xi]=t,t.stateNode=r}return tr(t),null;case 13:if(Pt(Qt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ut&&qr!==null&&t.mode&1&&!(t.flags&128))eM(),Ku(),t.flags|=98560,i=!1;else if(i=ih(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Ce(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ce(317));i[xi]=t}else Ku(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tr(t),i=!1}else ni!==null&&(Q2(ni),ni=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Qt.current&1?wn===0&&(wn=3):Tw())),t.updateQueue!==null&&(t.flags|=4),tr(t),null);case 4:return Pu(),L2(e,t),e===null&&Of(t.stateNode.containerInfo),tr(t),null;case 10:return Zw(t.type._context),tr(t),null;case 17:return Er(t.type)&&MC(),tr(t),null;case 19:if(Pt(Qt),i=t.memoizedState,i===null)return tr(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)yd(i,!1);else{if(wn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=DC(e),a!==null){for(t.flags|=128,yd(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Jt(Qt,Qt.current&1|2),t.child}e=e.sibling}i.tail!==null&&mn()>zu&&(t.flags|=128,r=!0,yd(i,!1),t.lanes=4194304)}else{if(!r)if(e=DC(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ut)return tr(t),null}else 2*mn()-i.renderingStartTime>zu&&n!==1073741824&&(t.flags|=128,r=!0,yd(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=mn(),t.sibling=null,n=Qt.current,Jt(Qt,r?n&1|2:n&1),t):(tr(t),null);case 22:case 23:return jw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Dr&1073741824&&(tr(t),t.subtreeFlags&6&&(t.flags|=8192)):tr(t),null;case 24:return null;case 25:return null}throw Error(Ce(156,t.tag))}function y6(e,t){switch(vw(t),t.tag){case 1:return Er(t.type)&&MC(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pu(),Pt(Nr),Pt(sr),Rw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kw(t),null;case 13:if(Pt(Qt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ce(340));Ku()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pt(Qt),null;case 4:return Pu(),null;case 10:return Zw(t.type._context),null;case 22:case 23:return jw(),null;case 24:return null;default:return null}}var sh=!1,ar=!1,x6=typeof WeakSet=="function"?WeakSet:Set,we=null;function Iu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ln(e,t,r)}else n.current=null}function K2(e,t,n){try{n()}catch(r){ln(e,t,r)}}var iV=!1;function S6(e,t){if(G2=JC,e=jF(),Aw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,s=-1,c=0,u=0,g=e,d=null;t:for(;;){for(var m;g!==n||o!==0&&g.nodeType!==3||(l=a+o),g!==i||r!==0&&g.nodeType!==3||(s=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(m=g.firstChild)!==null;)d=g,g=m;for(;;){if(g===e)break t;if(d===n&&++c===o&&(l=a),d===i&&++u===r&&(s=a),(m=g.nextSibling)!==null)break;g=d,d=g.parentNode}g=m}n=l===-1||s===-1?null:{start:l,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(B2={focusedElem:e,selectionRange:n},JC=!1,we=t;we!==null;)if(t=we,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,we=e;else for(;we!==null;){t=we;try{var I=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var h=I.memoizedProps,A=I.memoizedState,C=t.stateNode,p=C.getSnapshotBeforeUpdate(t.elementType===t.type?h:$o(t.type,h),A);C.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ce(163))}}catch(y){ln(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,we=e;break}we=t.return}return I=iV,iV=!1,I}function If(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&K2(t,n,i)}o=o.next}while(o!==r)}}function cA(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function O2(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function HM(e){var t=e.alternate;t!==null&&(e.alternate=null,HM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xi],delete t[Df],delete t[V2],delete t[a6],delete t[l6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function FM(e){return e.tag===5||e.tag===3||e.tag===4}function aV(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||FM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function P2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=FC));else if(r!==4&&(e=e.child,e!==null))for(P2(e,t,n),e=e.sibling;e!==null;)P2(e,t,n),e=e.sibling}function D2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(D2(e,t,n),e=e.sibling;e!==null;)D2(e,t,n),e=e.sibling}var Pn=null,qo=!1;function Da(e,t,n){for(n=n.child;n!==null;)MM(e,t,n),n=n.sibling}function MM(e,t,n){if(Ei&&typeof Ei.onCommitFiberUnmount=="function")try{Ei.onCommitFiberUnmount(tA,n)}catch{}switch(n.tag){case 5:ar||Iu(n,t);case 6:var r=Pn,o=qo;Pn=null,Da(e,t,n),Pn=r,qo=o,Pn!==null&&(qo?(e=Pn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pn.removeChild(n.stateNode));break;case 18:Pn!==null&&(qo?(e=Pn,n=n.stateNode,e.nodeType===8?Dv(e.parentNode,n):e.nodeType===1&&Dv(e,n),Tf(e)):Dv(Pn,n.stateNode));break;case 4:r=Pn,o=qo,Pn=n.stateNode.containerInfo,qo=!0,Da(e,t,n),Pn=r,qo=o;break;case 0:case 11:case 14:case 15:if(!ar&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&K2(n,t,a),o=o.next}while(o!==r)}Da(e,t,n);break;case 1:if(!ar&&(Iu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ln(n,t,l)}Da(e,t,n);break;case 21:Da(e,t,n);break;case 22:n.mode&1?(ar=(r=ar)||n.memoizedState!==null,Da(e,t,n),ar=r):Da(e,t,n);break;default:Da(e,t,n)}}function lV(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new x6),t.forEach(function(r){var o=N6.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Uo(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Pn=l.stateNode,qo=!1;break e;case 3:Pn=l.stateNode.containerInfo,qo=!0;break e;case 4:Pn=l.stateNode.containerInfo,qo=!0;break e}l=l.return}if(Pn===null)throw Error(Ce(160));MM(i,a,o),Pn=null,qo=!1;var s=o.alternate;s!==null&&(s.return=null),o.return=null}catch(c){ln(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jM(t,e),t=t.sibling}function jM(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Uo(t,e),pi(e),r&4){try{If(3,e,e.return),cA(3,e)}catch(h){ln(e,e.return,h)}try{If(5,e,e.return)}catch(h){ln(e,e.return,h)}}break;case 1:Uo(t,e),pi(e),r&512&&n!==null&&Iu(n,n.return);break;case 5:if(Uo(t,e),pi(e),r&512&&n!==null&&Iu(n,n.return),e.flags&32){var o=e.stateNode;try{Hf(o,"")}catch(h){ln(e,e.return,h)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&sF(o,i),C2(l,a);var c=C2(l,i);for(a=0;a<s.length;a+=2){var u=s[a],g=s[a+1];u==="style"?fF(o,g):u==="dangerouslySetInnerHTML"?gF(o,g):u==="children"?Hf(o,g):aw(o,u,g,c)}switch(l){case"input":d2(o,i);break;case"textarea":cF(o,i);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Gu(o,!!i.multiple,m,!1):d!==!!i.multiple&&(i.defaultValue!=null?Gu(o,!!i.multiple,i.defaultValue,!0):Gu(o,!!i.multiple,i.multiple?[]:"",!1))}o[Df]=i}catch(h){ln(e,e.return,h)}}break;case 6:if(Uo(t,e),pi(e),r&4){if(e.stateNode===null)throw Error(Ce(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(h){ln(e,e.return,h)}}break;case 3:if(Uo(t,e),pi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tf(t.containerInfo)}catch(h){ln(e,e.return,h)}break;case 4:Uo(t,e),pi(e);break;case 13:Uo(t,e),pi(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Fw=mn())),r&4&&lV(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(ar=(c=ar)||u,Uo(t,e),ar=c):Uo(t,e),pi(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(we=e,u=e.child;u!==null;){for(g=we=u;we!==null;){switch(d=we,m=d.child,d.tag){case 0:case 11:case 14:case 15:If(4,d,d.return);break;case 1:Iu(d,d.return);var I=d.stateNode;if(typeof I.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,I.props=t.memoizedProps,I.state=t.memoizedState,I.componentWillUnmount()}catch(h){ln(r,n,h)}}break;case 5:Iu(d,d.return);break;case 22:if(d.memoizedState!==null){cV(g);continue}}m!==null?(m.return=d,we=m):cV(g)}u=u.sibling}e:for(u=null,g=e;;){if(g.tag===5){if(u===null){u=g;try{o=g.stateNode,c?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=g.stateNode,s=g.memoizedProps.style,a=s!=null&&s.hasOwnProperty("display")?s.display:null,l.style.display=dF("display",a))}catch(h){ln(e,e.return,h)}}}else if(g.tag===6){if(u===null)try{g.stateNode.nodeValue=c?"":g.memoizedProps}catch(h){ln(e,e.return,h)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;u===g&&(u=null),g=g.return}u===g&&(u=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Uo(t,e),pi(e),r&4&&lV(e);break;case 21:break;default:Uo(t,e),pi(e)}}function pi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(FM(n)){var r=n;break e}n=n.return}throw Error(Ce(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Hf(o,""),r.flags&=-33);var i=aV(e);D2(e,i,o);break;case 3:case 4:var a=r.stateNode.containerInfo,l=aV(e);P2(e,l,a);break;default:throw Error(Ce(161))}}catch(s){ln(e,e.return,s)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Z6(e,t,n){we=e,TM(e)}function TM(e,t,n){for(var r=(e.mode&1)!==0;we!==null;){var o=we,i=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||sh;if(!a){var l=o.alternate,s=l!==null&&l.memoizedState!==null||ar;l=sh;var c=ar;if(sh=a,(ar=s)&&!c)for(we=o;we!==null;)a=we,s=a.child,a.tag===22&&a.memoizedState!==null?uV(o):s!==null?(s.return=a,we=s):uV(o);for(;i!==null;)we=i,TM(i),i=i.sibling;we=o,sh=l,ar=c}sV(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,we=i):sV(e)}}function sV(e){for(;we!==null;){var t=we;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ar||cA(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ar)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:$o(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&O5(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}O5(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var g=u.dehydrated;g!==null&&Tf(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ce(163))}ar||t.flags&512&&O2(t)}catch(d){ln(t,t.return,d)}}if(t===e){we=null;break}if(n=t.sibling,n!==null){n.return=t.return,we=n;break}we=t.return}}function cV(e){for(;we!==null;){var t=we;if(t===e){we=null;break}var n=t.sibling;if(n!==null){n.return=t.return,we=n;break}we=t.return}}function uV(e){for(;we!==null;){var t=we;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{cA(4,t)}catch(s){ln(t,n,s)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(s){ln(t,o,s)}}var i=t.return;try{O2(t)}catch(s){ln(t,i,s)}break;case 5:var a=t.return;try{O2(t)}catch(s){ln(t,a,s)}}}catch(s){ln(t,t.return,s)}if(t===e){we=null;break}var l=t.sibling;if(l!==null){l.return=t.return,we=l;break}we=t.return}}var w6=Math.ceil,_C=Xa.ReactCurrentDispatcher,Yw=Xa.ReactCurrentOwner,No=Xa.ReactCurrentBatchConfig,ut=0,Yn=null,pn=null,_n=0,Dr=0,hu=os(0),wn=0,qf=null,pc=0,uA=0,Hw=0,hf=null,wr=null,Fw=0,zu=1/0,aa=null,QC=!1,z2=null,El=null,ch=!1,Cl=null,$C=0,Cf=0,U2=null,cC=-1,uC=0;function Cr(){return ut&6?mn():cC!==-1?cC:cC=mn()}function Xl(e){return e.mode&1?ut&2&&_n!==0?_n&-_n:c6.transition!==null?(uC===0&&(uC=ZF()),uC):(e=bt,e!==0||(e=window.event,e=e===void 0?16:WF(e.type)),e):1}function ai(e,t,n,r){if(50<Cf)throw Cf=0,U2=null,Error(Ce(185));qm(e,n,r),(!(ut&2)||e!==Yn)&&(e===Yn&&(!(ut&2)&&(uA|=n),wn===4&&gl(e,_n)),Xr(e,r),n===1&&ut===0&&!(t.mode&1)&&(zu=mn()+500,aA&&is()))}function Xr(e,t){var n=e.callbackNode;c_(e,t);var r=XC(e,e===Yn?_n:0);if(r===0)n!==null&&A5(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&A5(n),t===1)e.tag===0?s6(gV.bind(null,e)):QF(gV.bind(null,e)),o6(function(){!(ut&6)&&is()}),n=null;else{switch(wF(r)){case 1:n=gw;break;case 4:n=xF;break;case 16:n=EC;break;case 536870912:n=SF;break;default:n=EC}n=_M(n,LM.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function LM(e,t){if(cC=-1,uC=0,ut&6)throw Error(Ce(327));var n=e.callbackNode;if(Wu()&&e.callbackNode!==n)return null;var r=XC(e,e===Yn?_n:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=qC(e,r);else{t=r;var o=ut;ut|=2;var i=OM();(Yn!==e||_n!==t)&&(aa=null,zu=mn()+500,sc(e,t));do try{k6();break}catch(l){KM(e,l)}while(1);Sw(),_C.current=i,ut=o,pn!==null?t=0:(Yn=null,_n=0,t=wn)}if(t!==0){if(t===2&&(o=y2(e),o!==0&&(r=o,t=_2(e,o))),t===1)throw n=qf,sc(e,0),gl(e,r),Xr(e,mn()),n;if(t===6)gl(e,r);else{if(o=e.current.alternate,!(r&30)&&!G6(o)&&(t=qC(e,r),t===2&&(i=y2(e),i!==0&&(r=i,t=_2(e,i))),t===1))throw n=qf,sc(e,0),gl(e,r),Xr(e,mn()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(Ce(345));case 2:Ws(e,wr,aa);break;case 3:if(gl(e,r),(r&130023424)===r&&(t=Fw+500-mn(),10<t)){if(XC(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Cr(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=R2(Ws.bind(null,e,wr,aa),t);break}Ws(e,wr,aa);break;case 4:if(gl(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-ii(r);i=1<<a,a=t[a],a>o&&(o=a),r&=~i}if(r=o,r=mn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*w6(r/1960))-r,10<r){e.timeoutHandle=R2(Ws.bind(null,e,wr,aa),r);break}Ws(e,wr,aa);break;case 5:Ws(e,wr,aa);break;default:throw Error(Ce(329))}}}return Xr(e,mn()),e.callbackNode===n?LM.bind(null,e):null}function _2(e,t){var n=hf;return e.current.memoizedState.isDehydrated&&(sc(e,t).flags|=256),e=qC(e,t),e!==2&&(t=wr,wr=n,t!==null&&Q2(t)),e}function Q2(e){wr===null?wr=e:wr.push.apply(wr,e)}function G6(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!gi(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gl(e,t){for(t&=~Hw,t&=~uA,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ii(t),r=1<<n;e[n]=-1,t&=~r}}function gV(e){if(ut&6)throw Error(Ce(327));Wu();var t=XC(e,0);if(!(t&1))return Xr(e,mn()),null;var n=qC(e,t);if(e.tag!==0&&n===2){var r=y2(e);r!==0&&(t=r,n=_2(e,r))}if(n===1)throw n=qf,sc(e,0),gl(e,t),Xr(e,mn()),n;if(n===6)throw Error(Ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ws(e,wr,aa),Xr(e,mn()),null}function Mw(e,t){var n=ut;ut|=1;try{return e(t)}finally{ut=n,ut===0&&(zu=mn()+500,aA&&is())}}function Ac(e){Cl!==null&&Cl.tag===0&&!(ut&6)&&Wu();var t=ut;ut|=1;var n=No.transition,r=bt;try{if(No.transition=null,bt=1,e)return e()}finally{bt=r,No.transition=n,ut=t,!(ut&6)&&is()}}function jw(){Dr=hu.current,Pt(hu)}function sc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,r6(n)),pn!==null)for(n=pn.return;n!==null;){var r=n;switch(vw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&MC();break;case 3:Pu(),Pt(Nr),Pt(sr),Rw();break;case 5:kw(r);break;case 4:Pu();break;case 13:Pt(Qt);break;case 19:Pt(Qt);break;case 10:Zw(r.type._context);break;case 22:case 23:jw()}n=n.return}if(Yn=e,pn=e=Jl(e.current,null),_n=Dr=t,wn=0,qf=null,Hw=uA=pc=0,wr=hf=null,zs!==null){for(t=0;t<zs.length;t++)if(n=zs[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=o,r.next=a}n.pending=r}zs=null}return e}function KM(e,t){do{var n=pn;try{if(Sw(),aC.current=UC,zC){for(var r=tn.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}zC=!1}if(Cc=0,En=Zn=tn=null,mf=!1,_f=0,Yw.current=null,n===null||n.return===null){wn=1,qf=t,pn=null;break}e:{var i=e,a=n.return,l=n,s=t;if(t=_n,l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var c=s,u=l,g=u.tag;if(!(u.mode&1)&&(g===0||g===11||g===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=$5(a);if(m!==null){m.flags&=-257,q5(m,a,l,i,t),m.mode&1&&Q5(i,c,t),t=m,s=c;var I=t.updateQueue;if(I===null){var h=new Set;h.add(s),t.updateQueue=h}else I.add(s);break e}else{if(!(t&1)){Q5(i,c,t),Tw();break e}s=Error(Ce(426))}}else if(Ut&&l.mode&1){var A=$5(a);if(A!==null){!(A.flags&65536)&&(A.flags|=256),q5(A,a,l,i,t),yw(Du(s,l));break e}}i=s=Du(s,l),wn!==4&&(wn=2),hf===null?hf=[i]:hf.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var C=GM(i,s,t);K5(i,C);break e;case 1:l=s;var p=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(El===null||!El.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var y=BM(i,l,t);K5(i,y);break e}}i=i.return}while(i!==null)}DM(n)}catch(x){t=x,pn===n&&n!==null&&(pn=n=n.return);continue}break}while(1)}function OM(){var e=_C.current;return _C.current=UC,e===null?UC:e}function Tw(){(wn===0||wn===3||wn===2)&&(wn=4),Yn===null||!(pc&268435455)&&!(uA&268435455)||gl(Yn,_n)}function qC(e,t){var n=ut;ut|=2;var r=OM();(Yn!==e||_n!==t)&&(aa=null,sc(e,t));do try{B6();break}catch(o){KM(e,o)}while(1);if(Sw(),ut=n,_C.current=r,pn!==null)throw Error(Ce(261));return Yn=null,_n=0,wn}function B6(){for(;pn!==null;)PM(pn)}function k6(){for(;pn!==null&&!e_();)PM(pn)}function PM(e){var t=UM(e.alternate,e,Dr);e.memoizedProps=e.pendingProps,t===null?DM(e):pn=t,Yw.current=null}function DM(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=y6(n,t),n!==null){n.flags&=32767,pn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wn=6,pn=null;return}}else if(n=v6(n,t,Dr),n!==null){pn=n;return}if(t=t.sibling,t!==null){pn=t;return}pn=t=e}while(t!==null);wn===0&&(wn=5)}function Ws(e,t,n){var r=bt,o=No.transition;try{No.transition=null,bt=1,R6(e,t,n,r)}finally{No.transition=o,bt=r}return null}function R6(e,t,n,r){do Wu();while(Cl!==null);if(ut&6)throw Error(Ce(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ce(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(u_(e,i),e===Yn&&(pn=Yn=null,_n=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ch||(ch=!0,_M(EC,function(){return Wu(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=No.transition,No.transition=null;var a=bt;bt=1;var l=ut;ut|=4,Yw.current=null,S6(e,n),jM(n,e),__(B2),JC=!!G2,B2=G2=null,e.current=n,Z6(n),t_(),ut=l,bt=a,No.transition=i}else e.current=n;if(ch&&(ch=!1,Cl=e,$C=o),i=e.pendingLanes,i===0&&(El=null),o_(n.stateNode),Xr(e,mn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(QC)throw QC=!1,e=z2,z2=null,e;return $C&1&&e.tag!==0&&Wu(),i=e.pendingLanes,i&1?e===U2?Cf++:(Cf=0,U2=e):Cf=0,is(),null}function Wu(){if(Cl!==null){var e=wF($C),t=No.transition,n=bt;try{if(No.transition=null,bt=16>e?16:e,Cl===null)var r=!1;else{if(e=Cl,Cl=null,$C=0,ut&6)throw Error(Ce(331));var o=ut;for(ut|=4,we=e.current;we!==null;){var i=we,a=i.child;if(we.flags&16){var l=i.deletions;if(l!==null){for(var s=0;s<l.length;s++){var c=l[s];for(we=c;we!==null;){var u=we;switch(u.tag){case 0:case 11:case 15:If(8,u,i)}var g=u.child;if(g!==null)g.return=u,we=g;else for(;we!==null;){u=we;var d=u.sibling,m=u.return;if(HM(u),u===c){we=null;break}if(d!==null){d.return=m,we=d;break}we=m}}}var I=i.alternate;if(I!==null){var h=I.child;if(h!==null){I.child=null;do{var A=h.sibling;h.sibling=null,h=A}while(h!==null)}}we=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,we=a;else e:for(;we!==null;){if(i=we,i.flags&2048)switch(i.tag){case 0:case 11:case 15:If(9,i,i.return)}var C=i.sibling;if(C!==null){C.return=i.return,we=C;break e}we=i.return}}var p=e.current;for(we=p;we!==null;){a=we;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,we=v;else e:for(a=p;we!==null;){if(l=we,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:cA(9,l)}}catch(x){ln(l,l.return,x)}if(l===a){we=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,we=y;break e}we=l.return}}if(ut=o,is(),Ei&&typeof Ei.onPostCommitFiberRoot=="function")try{Ei.onPostCommitFiberRoot(tA,e)}catch{}r=!0}return r}finally{bt=n,No.transition=t}}return!1}function dV(e,t,n){t=Du(n,t),t=GM(e,t,1),e=Nl(e,t,1),t=Cr(),e!==null&&(qm(e,1,t),Xr(e,t))}function ln(e,t,n){if(e.tag===3)dV(e,e,n);else for(;t!==null;){if(t.tag===3){dV(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(El===null||!El.has(r))){e=Du(n,e),e=BM(t,e,1),t=Nl(t,e,1),e=Cr(),t!==null&&(qm(t,1,e),Xr(t,e));break}}t=t.return}}function V6(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Cr(),e.pingedLanes|=e.suspendedLanes&n,Yn===e&&(_n&n)===n&&(wn===4||wn===3&&(_n&130023424)===_n&&500>mn()-Fw?sc(e,0):Hw|=n),Xr(e,t)}function zM(e,t){t===0&&(e.mode&1?(t=qI,qI<<=1,!(qI&130023424)&&(qI=4194304)):t=1);var n=Cr();e=Ga(e,t),e!==null&&(qm(e,t,n),Xr(e,n))}function W6(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zM(e,n)}function N6(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ce(314))}r!==null&&r.delete(t),zM(e,n)}var UM;UM=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nr.current)kr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return kr=!1,b6(e,t,n);kr=!!(e.flags&131072)}else kr=!1,Ut&&t.flags&1048576&&$F(t,LC,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;sC(e,t),e=t.pendingProps;var o=Lu(t,sr.current);Vu(t,n),o=Ww(null,t,r,e,o,n);var i=Nw();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Er(r)?(i=!0,jC(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Gw(t),o.updater=lA,t.stateNode=o,o._reactInternals=t,Y2(t,r,e,n),t=M2(null,t,r,!0,i,n)):(t.tag=0,Ut&&i&&bw(t),dr(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(sC(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=X6(r),e=$o(r,e),o){case 0:t=F2(null,t,r,e,n);break e;case 1:t=nV(null,t,r,e,n);break e;case 11:t=eV(null,t,r,e,n);break e;case 14:t=tV(null,t,r,$o(r.type,e),n);break e}throw Error(Ce(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:$o(r,o),F2(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:$o(r,o),nV(e,t,r,o,n);case 3:e:{if(WM(t),e===null)throw Error(Ce(387));r=t.pendingProps,i=t.memoizedState,o=i.element,nM(e,t),PC(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Du(Error(Ce(423)),t),t=rV(e,t,r,n,o);break e}else if(r!==o){o=Du(Error(Ce(424)),t),t=rV(e,t,r,n,o);break e}else for(qr=Wl(t.stateNode.containerInfo.firstChild),ro=t,Ut=!0,ni=null,n=aM(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ku(),r===o){t=Ba(e,t,n);break e}dr(e,t,r,n)}t=t.child}return t;case 5:return lM(t),e===null&&E2(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,a=o.children,k2(r,o)?a=null:i!==null&&k2(r,i)&&(t.flags|=32),VM(e,t),dr(e,t,a,n),t.child;case 6:return e===null&&E2(t),null;case 13:return NM(e,t,n);case 4:return Bw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ou(t,null,r,n):dr(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:$o(r,o),eV(e,t,r,o,n);case 7:return dr(e,t,t.pendingProps,n),t.child;case 8:return dr(e,t,t.pendingProps.children,n),t.child;case 12:return dr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,a=o.value,Jt(KC,r._currentValue),r._currentValue=a,i!==null)if(gi(i.value,a)){if(i.children===o.children&&!Nr.current){t=Ba(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var s=l.firstContext;s!==null;){if(s.context===r){if(i.tag===1){s=ha(-1,n&-n),s.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?s.next=s:(s.next=u.next,u.next=s),c.pending=s}}i.lanes|=n,s=i.alternate,s!==null&&(s.lanes|=n),X2(i.return,n,t),l.lanes|=n;break}s=s.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Ce(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),X2(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}dr(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Vu(t,n),o=Jo(o),r=r(o),t.flags|=1,dr(e,t,r,n),t.child;case 14:return r=t.type,o=$o(r,t.pendingProps),o=$o(r.type,o),tV(e,t,r,o,n);case 15:return kM(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:$o(r,o),sC(e,t),t.tag=1,Er(r)?(e=!0,jC(t)):e=!1,Vu(t,n),oM(t,r,o),Y2(t,r,o,n),M2(null,t,r,!0,e,n);case 19:return EM(e,t,n);case 22:return RM(e,t,n)}throw Error(Ce(156,t.tag))};function _M(e,t){return yF(e,t)}function E6(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vo(e,t,n,r){return new E6(e,t,n,r)}function Lw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function X6(e){if(typeof e=="function")return Lw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===sw)return 11;if(e===cw)return 14}return 2}function Jl(e,t){var n=e.alternate;return n===null?(n=Vo(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function gC(e,t,n,r,o,i){var a=2;if(r=e,typeof e=="function")Lw(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case au:return cc(n.children,o,i,t);case lw:a=8,o|=8;break;case l2:return e=Vo(12,n,t,o|2),e.elementType=l2,e.lanes=i,e;case s2:return e=Vo(13,n,t,o),e.elementType=s2,e.lanes=i,e;case c2:return e=Vo(19,n,t,o),e.elementType=c2,e.lanes=i,e;case iF:return gA(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rF:a=10;break e;case oF:a=9;break e;case sw:a=11;break e;case cw:a=14;break e;case rl:a=16,r=null;break e}throw Error(Ce(130,e==null?e:typeof e,""))}return t=Vo(a,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function cc(e,t,n,r){return e=Vo(7,e,r,t),e.lanes=n,e}function gA(e,t,n,r){return e=Vo(22,e,r,t),e.elementType=iF,e.lanes=n,e.stateNode={isHidden:!1},e}function ty(e,t,n){return e=Vo(6,e,null,t),e.lanes=n,e}function ny(e,t,n){return t=Vo(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function J6(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jv(0),this.expirationTimes=Jv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jv(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Kw(e,t,n,r,o,i,a,l,s){return e=new J6(e,t,n,l,s),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Vo(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gw(i),e}function Y6(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:iu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function QM(e){if(!e)return Kl;e=e._reactInternals;e:{if(Ec(e)!==e||e.tag!==1)throw Error(Ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Er(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ce(171))}if(e.tag===1){var n=e.type;if(Er(n))return _F(e,n,t)}return t}function $M(e,t,n,r,o,i,a,l,s){return e=Kw(n,r,!0,e,o,i,a,l,s),e.context=QM(null),n=e.current,r=Cr(),o=Xl(n),i=ha(r,o),i.callback=t??null,Nl(n,i,o),e.current.lanes=o,qm(e,o,r),Xr(e,r),e}function dA(e,t,n,r){var o=t.current,i=Cr(),a=Xl(o);return n=QM(n),t.context===null?t.context=n:t.pendingContext=n,t=ha(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Nl(o,t,a),e!==null&&(ai(e,o,a,i),iC(e,o,a)),a}function ep(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fV(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ow(e,t){fV(e,t),(e=e.alternate)&&fV(e,t)}function H6(){return null}var qM=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pw(e){this._internalRoot=e}fA.prototype.render=Pw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ce(409));dA(e,t,null,null)};fA.prototype.unmount=Pw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ac(function(){dA(null,e,null,null)}),t[wa]=null}};function fA(e){this._internalRoot=e}fA.prototype.unstable_scheduleHydration=function(e){if(e){var t=kF();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ul.length&&t!==0&&t<ul[n].priority;n++);ul.splice(n,0,e),n===0&&VF(e)}};function Dw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mV(){}function F6(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var c=ep(a);i.call(c)}}var a=$M(t,r,e,0,null,!1,!1,"",mV);return e._reactRootContainer=a,e[wa]=a.current,Of(e.nodeType===8?e.parentNode:e),Ac(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var c=ep(s);l.call(c)}}var s=Kw(e,0,!1,null,null,!1,!1,"",mV);return e._reactRootContainer=s,e[wa]=s.current,Of(e.nodeType===8?e.parentNode:e),Ac(function(){dA(t,s,n,r)}),s}function IA(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var l=o;o=function(){var s=ep(a);l.call(s)}}dA(t,a,e,o)}else a=F6(n,t,e,o,r);return ep(a)}GF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tf(t.pendingLanes);n!==0&&(dw(t,n|1),Xr(t,mn()),!(ut&6)&&(zu=mn()+500,is()))}break;case 13:Ac(function(){var r=Ga(e,1);if(r!==null){var o=Cr();ai(r,e,1,o)}}),Ow(e,1)}};fw=function(e){if(e.tag===13){var t=Ga(e,134217728);if(t!==null){var n=Cr();ai(t,e,134217728,n)}Ow(e,134217728)}};BF=function(e){if(e.tag===13){var t=Xl(e),n=Ga(e,t);if(n!==null){var r=Cr();ai(n,e,t,r)}Ow(e,t)}};kF=function(){return bt};RF=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}};A2=function(e,t,n){switch(t){case"input":if(d2(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=iA(r);if(!o)throw Error(Ce(90));lF(r),d2(r,o)}}}break;case"textarea":cF(e,n);break;case"select":t=n.value,t!=null&&Gu(e,!!n.multiple,t,!1)}};hF=Mw;CF=Ac;var M6={usingClientEntryPoint:!1,Events:[tI,uu,iA,mF,IF,Mw]},xd={findFiberByHostInstance:Ds,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},j6={bundleType:xd.bundleType,version:xd.version,rendererPackageName:xd.rendererPackageName,rendererConfig:xd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bF(e),e===null?null:e.stateNode},findFiberByHostInstance:xd.findFiberByHostInstance||H6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{tA=uh.inject(j6),Ei=uh}catch{}}co.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M6;co.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dw(t))throw Error(Ce(200));return Y6(e,t,null,n)};co.createRoot=function(e,t){if(!Dw(e))throw Error(Ce(299));var n=!1,r="",o=qM;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Kw(e,1,!1,null,null,n,!1,r,o),e[wa]=t.current,Of(e.nodeType===8?e.parentNode:e),new Pw(t)};co.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ce(188)):(e=Object.keys(e).join(","),Error(Ce(268,e)));return e=bF(t),e=e===null?null:e.stateNode,e};co.flushSync=function(e){return Ac(e)};co.hydrate=function(e,t,n){if(!mA(t))throw Error(Ce(200));return IA(null,e,t,!0,n)};co.hydrateRoot=function(e,t,n){if(!Dw(e))throw Error(Ce(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",a=qM;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=$M(t,null,e,1,n??null,o,!1,i,a),e[wa]=t.current,Of(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new fA(t)};co.render=function(e,t,n){if(!mA(t))throw Error(Ce(200));return IA(null,e,t,!1,n)};co.unmountComponentAtNode=function(e){if(!mA(e))throw Error(Ce(40));return e._reactRootContainer?(Ac(function(){IA(null,null,e,!1,function(){e._reactRootContainer=null,e[wa]=null})}),!0):!1};co.unstable_batchedUpdates=Mw;co.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!mA(n))throw Error(Ce(200));if(e==null||e._reactInternals===void 0)throw Error(Ce(38));return IA(e,t,n,!1,r)};co.version="18.2.0-next-9e3b772b8-20220608";function ej(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ej)}catch(e){console.error(e)}}ej(),$H.exports=co;var Bn=$H.exports;const _s=ot(Bn);var IV=Bn;i2.createRoot=IV.createRoot,i2.hydrateRoot=IV.hydrateRoot;/**
 * @remix-run/router v1.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function em(){return em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},em.apply(this,arguments)}var pl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(pl||(pl={}));const hV="popstate";function T6(e){e===void 0&&(e={});function t(r,o){let{pathname:i,search:a,hash:l}=r.location;return $2("",{pathname:i,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:tp(o)}return K6(t,n,null,e)}function nn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zw(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function L6(){return Math.random().toString(36).substr(2,8)}function CV(e,t){return{usr:e.state,key:e.key,idx:t}}function $2(e,t,n,r){return n===void 0&&(n=null),em({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Fg(t):t,{state:n,key:t&&t.key||r||L6()})}function tp(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Fg(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function K6(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,l=pl.Pop,s=null,c=u();c==null&&(c=0,a.replaceState(em({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function g(){l=pl.Pop;let A=u(),C=A==null?null:A-c;c=A,s&&s({action:l,location:h.location,delta:C})}function d(A,C){l=pl.Push;let p=$2(h.location,A,C);n&&n(p,A),c=u()+1;let v=CV(p,c),y=h.createHref(p);try{a.pushState(v,"",y)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;o.location.assign(y)}i&&s&&s({action:l,location:h.location,delta:1})}function m(A,C){l=pl.Replace;let p=$2(h.location,A,C);n&&n(p,A),c=u();let v=CV(p,c),y=h.createHref(p);a.replaceState(v,"",y),i&&s&&s({action:l,location:h.location,delta:0})}function I(A){let C=o.location.origin!=="null"?o.location.origin:o.location.href,p=typeof A=="string"?A:tp(A);return nn(C,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,C)}let h={get action(){return l},get location(){return e(o,a)},listen(A){if(s)throw new Error("A history only accepts one active listener");return o.addEventListener(hV,g),s=A,()=>{o.removeEventListener(hV,g),s=null}},createHref(A){return t(o,A)},createURL:I,encodeLocation(A){let C=I(A);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:d,replace:m,go(A){return a.go(A)}};return h}var pV;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(pV||(pV={}));function O6(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Fg(t):t,o=Uu(r.pathname||"/",n);if(o==null)return null;let i=tj(e);P6(i);let a=null;for(let l=0;a==null&&l<i.length;++l)a=tQ(i[l],rQ(o));return a}function tj(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,a,l)=>{let s={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};s.relativePath.startsWith("/")&&(nn(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(r.length));let c=Yl([r,s.relativePath]),u=n.concat(s);i.children&&i.children.length>0&&(nn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),tj(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:q6(c,i.index),routesMeta:u})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))o(i,a);else for(let s of nj(i.path))o(i,a,s)}),t}function nj(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let a=nj(r.join("/")),l=[];return l.push(...a.map(s=>s===""?i:[i,s].join("/"))),o&&l.push(...a),l.map(s=>e.startsWith("/")&&s===""?"/":s)}function P6(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:eQ(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const D6=/^:[\w-]+$/,z6=3,U6=2,_6=1,Q6=10,$6=-2,AV=e=>e==="*";function q6(e,t){let n=e.split("/"),r=n.length;return n.some(AV)&&(r+=$6),t&&(r+=U6),n.filter(o=>!AV(o)).reduce((o,i)=>o+(D6.test(i)?z6:i===""?_6:Q6),r)}function eQ(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function tQ(e,t){let{routesMeta:n}=e,r={},o="/",i=[];for(let a=0;a<n.length;++a){let l=n[a],s=a===n.length-1,c=o==="/"?t:t.slice(o.length)||"/",u=q2({path:l.relativePath,caseSensitive:l.caseSensitive,end:s},c);if(!u)return null;Object.assign(r,u.params);let g=l.route;i.push({params:r,pathname:Yl([o,u.pathname]),pathnameBase:sQ(Yl([o,u.pathnameBase])),route:g}),u.pathnameBase!=="/"&&(o=Yl([o,u.pathnameBase]))}return i}function q2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=nQ(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:r.reduce((c,u,g)=>{let{paramName:d,isOptional:m}=u;if(d==="*"){let h=l[g]||"";a=i.slice(0,i.length-h.length).replace(/(.)\/+$/,"$1")}const I=l[g];return m&&!I?c[d]=void 0:c[d]=oQ(I||"",d),c},{}),pathname:i,pathnameBase:a,pattern:e}}function nQ(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),zw(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,s)=>(r.push({paramName:l,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function rQ(e){try{return decodeURI(e)}catch(t){return zw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function oQ(e,t){try{return decodeURIComponent(e)}catch(n){return zw(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Uu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function iQ(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?Fg(e):e;return{pathname:n?n.startsWith("/")?n:aQ(n,t):t,search:cQ(r),hash:uQ(o)}}function aQ(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ry(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lQ(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Uw(e,t){let n=lQ(e);return t?n.map((r,o)=>o===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function _w(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=Fg(e):(o=em({},e),nn(!o.pathname||!o.pathname.includes("?"),ry("?","pathname","search",o)),nn(!o.pathname||!o.pathname.includes("#"),ry("#","pathname","hash",o)),nn(!o.search||!o.search.includes("#"),ry("#","search","hash",o)));let i=e===""||o.pathname==="",a=i?"/":o.pathname,l;if(a==null)l=n;else{let g=t.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),g-=1;o.pathname=d.join("/")}l=g>=0?t[g]:"/"}let s=iQ(o,l),c=a&&a!=="/"&&a.endsWith("/"),u=(i||a===".")&&n.endsWith("/");return!s.pathname.endsWith("/")&&(c||u)&&(s.pathname+="/"),s}const Yl=e=>e.join("/").replace(/\/\/+/g,"/"),sQ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cQ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uQ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function gQ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const rj=["post","put","patch","delete"];new Set(rj);const dQ=["get",...rj];new Set(dQ);/**
 * React Router v6.21.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tm(){return tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tm.apply(this,arguments)}const hA=b.createContext(null),oj=b.createContext(null),Ja=b.createContext(null),CA=b.createContext(null),as=b.createContext({outlet:null,matches:[],isDataRoute:!1}),ij=b.createContext(null);function fQ(e,t){let{relative:n}=t===void 0?{}:t;Mg()||nn(!1);let{basename:r,navigator:o}=b.useContext(Ja),{hash:i,pathname:a,search:l}=pA(e,{relative:n}),s=a;return r!=="/"&&(s=a==="/"?r:Yl([r,a])),o.createHref({pathname:s,search:l,hash:i})}function Mg(){return b.useContext(CA)!=null}function xr(){return Mg()||nn(!1),b.useContext(CA).location}function aj(e){b.useContext(Ja).static||b.useLayoutEffect(e)}function Zt(){let{isDataRoute:e}=b.useContext(as);return e?wQ():mQ()}function mQ(){Mg()||nn(!1);let e=b.useContext(hA),{basename:t,future:n,navigator:r}=b.useContext(Ja),{matches:o}=b.useContext(as),{pathname:i}=xr(),a=JSON.stringify(Uw(o,n.v7_relativeSplatPath)),l=b.useRef(!1);return aj(()=>{l.current=!0}),b.useCallback(function(c,u){if(u===void 0&&(u={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let g=_w(c,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Yl([t,g.pathname])),(u.replace?r.replace:r.push)(g,u.state,u)},[t,r,a,i,e])}function pA(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext(Ja),{matches:o}=b.useContext(as),{pathname:i}=xr(),a=JSON.stringify(Uw(o,r.v7_relativeSplatPath));return b.useMemo(()=>_w(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function IQ(e,t){return hQ(e,t)}function hQ(e,t,n,r){Mg()||nn(!1);let{navigator:o}=b.useContext(Ja),{matches:i}=b.useContext(as),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let s=a?a.pathnameBase:"/";a&&a.route;let c=xr(),u;if(t){var g;let A=typeof t=="string"?Fg(t):t;s==="/"||(g=A.pathname)!=null&&g.startsWith(s)||nn(!1),u=A}else u=c;let d=u.pathname||"/",m=s==="/"?d:d.slice(s.length)||"/",I=O6(e,{pathname:m}),h=vQ(I&&I.map(A=>Object.assign({},A,{params:Object.assign({},l,A.params),pathname:Yl([s,o.encodeLocation?o.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?s:Yl([s,o.encodeLocation?o.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),i,n,r);return t&&h?b.createElement(CA.Provider,{value:{location:tm({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:pl.Pop}},h):h}function CQ(){let e=ZQ(),t=gQ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:o},n):null,i)}const pQ=b.createElement(CQ,null);class AQ extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(as.Provider,{value:this.props.routeContext},b.createElement(ij.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bQ(e){let{routeContext:t,match:n,children:r}=e,o=b.useContext(hA);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(as.Provider,{value:t},r)}function vQ(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let a=e,l=(o=n)==null?void 0:o.errors;if(l!=null){let u=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id]));u>=0||nn(!1),a=a.slice(0,Math.min(a.length,u+1))}let s=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let g=a[u];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(c=u),g.route.id){let{loaderData:d,errors:m}=n,I=g.route.loader&&d[g.route.id]===void 0&&(!m||m[g.route.id]===void 0);if(g.route.lazy||I){s=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,g,d)=>{let m,I=!1,h=null,A=null;n&&(m=l&&g.route.id?l[g.route.id]:void 0,h=g.route.errorElement||pQ,s&&(c<0&&d===0?(GQ("route-fallback",!1),I=!0,A=null):c===d&&(I=!0,A=g.route.hydrateFallbackElement||null)));let C=t.concat(a.slice(0,d+1)),p=()=>{let v;return m?v=h:I?v=A:g.route.Component?v=b.createElement(g.route.Component,null):g.route.element?v=g.route.element:v=u,b.createElement(bQ,{match:g,routeContext:{outlet:u,matches:C,isDataRoute:n!=null},children:v})};return n&&(g.route.ErrorBoundary||g.route.errorElement||d===0)?b.createElement(AQ,{location:n.location,revalidation:n.revalidation,component:h,error:m,children:p(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):p()},null)}var lj=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(lj||{}),np=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(np||{});function yQ(e){let t=b.useContext(hA);return t||nn(!1),t}function xQ(e){let t=b.useContext(oj);return t||nn(!1),t}function SQ(e){let t=b.useContext(as);return t||nn(!1),t}function sj(e){let t=SQ(),n=t.matches[t.matches.length-1];return n.route.id||nn(!1),n.route.id}function ZQ(){var e;let t=b.useContext(ij),n=xQ(np.UseRouteError),r=sj(np.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function wQ(){let{router:e}=yQ(lj.UseNavigateStable),t=sj(np.UseNavigateStable),n=b.useRef(!1);return aj(()=>{n.current=!0}),b.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,tm({fromRouteId:t},i)))},[e,t])}const bV={};function GQ(e,t,n){!t&&!bV[e]&&(bV[e]=!0)}function Qw(e){let{to:t,replace:n,state:r,relative:o}=e;Mg()||nn(!1);let{future:i,static:a}=b.useContext(Ja),{matches:l}=b.useContext(as),{pathname:s}=xr(),c=Zt(),u=_w(t,Uw(l,i.v7_relativeSplatPath),s,o==="path"),g=JSON.stringify(u);return b.useEffect(()=>c(JSON.parse(g),{replace:n,state:r,relative:o}),[c,g,o,n,r]),null}function gt(e){nn(!1)}function BQ(e){let{basename:t="/",children:n=null,location:r,navigationType:o=pl.Pop,navigator:i,static:a=!1,future:l}=e;Mg()&&nn(!1);let s=t.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:s,navigator:i,static:a,future:tm({v7_relativeSplatPath:!1},l)}),[s,l,i,a]);typeof r=="string"&&(r=Fg(r));let{pathname:u="/",search:g="",hash:d="",state:m=null,key:I="default"}=r,h=b.useMemo(()=>{let A=Uu(u,s);return A==null?null:{location:{pathname:A,search:g,hash:d,state:m,key:I},navigationType:o}},[s,u,g,d,m,I,o]);return h==null?null:b.createElement(Ja.Provider,{value:c},b.createElement(CA.Provider,{children:n,value:h}))}function kQ(e){let{children:t,location:n}=e;return IQ(ex(t),n)}new Promise(()=>{});function ex(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,o)=>{if(!b.isValidElement(r))return;let i=[...t,o];if(r.type===b.Fragment){n.push.apply(n,ex(r.props.children,i));return}r.type!==gt&&nn(!1),!r.props.index||!r.props.children||nn(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=ex(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.21.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rp.apply(this,arguments)}function cj(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function RQ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function VQ(e,t){return e.button===0&&(!t||t==="_self")&&!RQ(e)}const WQ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],NQ=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],EQ=b.createContext({isTransitioning:!1}),XQ="startTransition",vV=ui[XQ];function JQ(e){let{basename:t,children:n,future:r,window:o}=e,i=b.useRef();i.current==null&&(i.current=T6({window:o,v5Compat:!0}));let a=i.current,[l,s]=b.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},u=b.useCallback(g=>{c&&vV?vV(()=>s(g)):s(g)},[s,c]);return b.useLayoutEffect(()=>a.listen(u),[a,u]),b.createElement(BQ,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const YQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HQ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tx=b.forwardRef(function(t,n){let{onClick:r,relative:o,reloadDocument:i,replace:a,state:l,target:s,to:c,preventScrollReset:u,unstable_viewTransition:g}=t,d=cj(t,WQ),{basename:m}=b.useContext(Ja),I,h=!1;if(typeof c=="string"&&HQ.test(c)&&(I=c,YQ))try{let v=new URL(window.location.href),y=c.startsWith("//")?new URL(v.protocol+c):new URL(c),x=Uu(y.pathname,m);y.origin===v.origin&&x!=null?c=x+y.search+y.hash:h=!0}catch{}let A=fQ(c,{relative:o}),C=MQ(c,{replace:a,state:l,target:s,preventScrollReset:u,relative:o,unstable_viewTransition:g});function p(v){r&&r(v),v.defaultPrevented||C(v)}return b.createElement("a",rp({},d,{href:I||A,onClick:h||i?r:p,ref:n,target:s}))}),js=b.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:o=!1,className:i="",end:a=!1,style:l,to:s,unstable_viewTransition:c,children:u}=t,g=cj(t,NQ),d=pA(s,{relative:g.relative}),m=xr(),I=b.useContext(oj),{navigator:h,basename:A}=b.useContext(Ja),C=I!=null&&jQ(d)&&c===!0,p=h.encodeLocation?h.encodeLocation(d).pathname:d.pathname,v=m.pathname,y=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;o||(v=v.toLowerCase(),y=y?y.toLowerCase():null,p=p.toLowerCase()),y&&A&&(y=Uu(y,A)||y);const x=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let S=v===p||!a&&v.startsWith(p)&&v.charAt(x)==="/",B=y!=null&&(y===p||!a&&y.startsWith(p)&&y.charAt(p.length)==="/"),Z={isActive:S,isPending:B,isTransitioning:C},R=S?r:void 0,w;typeof i=="function"?w=i(Z):w=[i,S?"active":null,B?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(Z):l;return b.createElement(tx,rp({},g,{"aria-current":R,className:w,ref:n,style:k,to:s,unstable_viewTransition:c}),typeof u=="function"?u(Z):u)});var nx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(nx||(nx={}));var yV;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yV||(yV={}));function FQ(e){let t=b.useContext(hA);return t||nn(!1),t}function MQ(e,t){let{target:n,replace:r,state:o,preventScrollReset:i,relative:a,unstable_viewTransition:l}=t===void 0?{}:t,s=Zt(),c=xr(),u=pA(e,{relative:a});return b.useCallback(g=>{if(VQ(g,n)){g.preventDefault();let d=r!==void 0?r:tp(c)===tp(u);s(e,{replace:d,state:o,preventScrollReset:i,relative:a,unstable_viewTransition:l})}},[c,s,u,r,o,n,e,i,a,l])}function jQ(e,t){t===void 0&&(t={});let n=b.useContext(EQ);n==null&&nn(!1);let{basename:r}=FQ(nx.useViewTransitionState),o=pA(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Uu(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Uu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return q2(o.pathname,a)!=null||q2(o.pathname,i)!=null}const nm="/assets/logoknowme-9ac09ab7.png";function AA(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_u.apply(this,arguments)}function rx(e,t){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},rx(e,t)}function uj(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,rx(e,t)}var ox=function(e,t){return ox=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},ox(e,t)};function TQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ox(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var rr=function(){return rr=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},rr.apply(this,arguments)};function Ie(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function oy(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var xV=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,LQ=/\\([\u000b\u0020-\u00ff])/g,KQ=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,OQ=PQ;function PQ(e){if(!e)throw new TypeError("argument string is required");var t=typeof e=="object"?DQ(e):e;if(typeof t!="string")throw new TypeError("argument string is required to be a string");var n=t.indexOf(";"),r=n!==-1?t.slice(0,n).trim():t.trim();if(!KQ.test(r))throw new TypeError("invalid media type");var o=new zQ(r.toLowerCase());if(n!==-1){var i,a,l;for(xV.lastIndex=n;a=xV.exec(t);){if(a.index!==n)throw new TypeError("invalid parameter format");n+=a[0].length,i=a[1].toLowerCase(),l=a[2],l.charCodeAt(0)===34&&(l=l.slice(1,-1),l.indexOf("\\")!==-1&&(l=l.replace(LQ,"$1"))),o.parameters[i]=l}if(n!==t.length)throw new TypeError("invalid parameter format")}return o}function DQ(e){var t;if(typeof e.getHeader=="function"?t=e.getHeader("content-type"):typeof e.headers=="object"&&(t=e.headers&&e.headers["content-type"]),typeof t!="string")throw new TypeError("content-type header is missing from object");return t}function zQ(e){this.parameters=Object.create(null),this.type=e}var ru=new Map,gj=function(t){return t.cloneNode(!0)},SV=function(){return window.location.protocol==="file:"},dj=function(t,n,r){var o=new XMLHttpRequest;o.onreadystatechange=function(){try{if(!/\.svg/i.test(t)&&o.readyState===2){var i=o.getResponseHeader("Content-Type");if(!i)throw new Error("Content type not found");var a=OQ(i).type;if(!(a==="image/svg+xml"||a==="text/plain"))throw new Error("Invalid content type: ".concat(a))}if(o.readyState===4){if(o.status===404||o.responseXML===null)throw new Error(SV()?"Note: SVG injection ajax calls do not work locally without adjusting security settings in your browser. Or consider using a local webserver.":"Unable to load SVG file: "+t);if(o.status===200||SV()&&o.status===0)r(null,o);else throw new Error("There was a problem injecting the SVG: "+o.status+" "+o.statusText)}}catch(l){if(o.abort(),l instanceof Error)r(l,o);else throw l}},o.open("GET",t),o.withCredentials=n,o.overrideMimeType&&o.overrideMimeType("text/xml"),o.send()},dl={},ZV=function(t,n){dl[t]=dl[t]||[],dl[t].push(n)},UQ=function(t){for(var n=function(a,l){setTimeout(function(){if(Array.isArray(dl[t])){var s=ru.get(t),c=dl[t][a];s instanceof SVGSVGElement&&c(null,gj(s)),s instanceof Error&&c(s),a===dl[t].length-1&&delete dl[t]}},0)},r=0,o=dl[t].length;r<o;r++)n(r)},_Q=function(t,n,r){if(ru.has(t)){var o=ru.get(t);if(o===void 0){ZV(t,r);return}if(o instanceof SVGSVGElement){r(null,gj(o));return}}ru.set(t,void 0),ZV(t,r),dj(t,n,function(i,a){var l;i?ru.set(t,i):((l=a.responseXML)===null||l===void 0?void 0:l.documentElement)instanceof SVGSVGElement&&ru.set(t,a.responseXML.documentElement),UQ(t)})},QQ=function(t,n,r){dj(t,n,function(o,i){var a;o?r(o):((a=i.responseXML)===null||a===void 0?void 0:a.documentElement)instanceof SVGSVGElement&&r(null,i.responseXML.documentElement)})},$Q=0,qQ=function(){return++$Q},Ai=[],wV={},e$="http://www.w3.org/2000/svg",iy="http://www.w3.org/1999/xlink",GV=function(t,n,r,o,i,a,l){var s=t.getAttribute("data-src")||t.getAttribute("src");if(!s){l(new Error("Invalid data-src or src attribute"));return}if(Ai.indexOf(t)!==-1){Ai.splice(Ai.indexOf(t),1),t=null;return}Ai.push(t),t.setAttribute("src","");var c=o?_Q:QQ;c(s,i,function(u,g){if(!g){Ai.splice(Ai.indexOf(t),1),t=null,l(u);return}var d=t.getAttribute("id");d&&g.setAttribute("id",d);var m=t.getAttribute("title");m&&g.setAttribute("title",m);var I=t.getAttribute("width");I&&g.setAttribute("width",I);var h=t.getAttribute("height");h&&g.setAttribute("height",h);var A=Array.from(new Set(oy(oy(oy([],(g.getAttribute("class")||"").split(" "),!0),["injected-svg"],!1),(t.getAttribute("class")||"").split(" "),!0))).join(" ").trim();g.setAttribute("class",A);var C=t.getAttribute("style");C&&g.setAttribute("style",C),g.setAttribute("data-src",s);var p=[].filter.call(t.attributes,function(F){return/^data-\w[\w-]*$/.test(F.name)});if(Array.prototype.forEach.call(p,function(F){F.name&&F.value&&g.setAttribute(F.name,F.value)}),r){var v={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],path:[],pattern:["fill","stroke"],radialGradient:["fill","stroke"]},y,x,S,B,Z;Object.keys(v).forEach(function(F){y=F,S=v[F],x=g.querySelectorAll(y+"[id]");for(var H=function(O,P){B=x[O].id,Z=B+"-"+qQ();var L;Array.prototype.forEach.call(S,function(te){L=g.querySelectorAll("["+te+'*="'+B+'"]');for(var ie=0,re=L.length;ie<re;ie++){var se=L[ie].getAttribute(te);se&&!se.match(new RegExp('url\\("?#'+B+'"?\\)'))||L[ie].setAttribute(te,"url(#"+Z+")")}});for(var j=g.querySelectorAll("[*|href]"),D=[],$=0,K=j.length;$<K;$++){var z=j[$].getAttributeNS(iy,"href");z&&z.toString()==="#"+x[O].id&&D.push(j[$])}for(var _=0,U=D.length;_<U;_++)D[_].setAttributeNS(iy,"href","#"+Z);x[O].id=Z},M=0,Y=x.length;M<Y;M++)H(M)})}g.removeAttribute("xmlns:a");for(var R=g.querySelectorAll("script"),w=[],k,V,W=0,N=R.length;W<N;W++)V=R[W].getAttribute("type"),(!V||V==="application/ecmascript"||V==="application/javascript"||V==="text/javascript")&&(k=R[W].innerText||R[W].textContent,k&&w.push(k),g.removeChild(R[W]));if(w.length>0&&(n==="always"||n==="once"&&!wV[s])){for(var X=0,J=w.length;X<J;X++)new Function(w[X])(window);wV[s]=!0}var E=g.querySelectorAll("style");if(Array.prototype.forEach.call(E,function(F){F.textContent+=""}),g.setAttribute("xmlns",e$),g.setAttribute("xmlns:xlink",iy),a(g),!t.parentNode){Ai.splice(Ai.indexOf(t),1),t=null,l(new Error("Parent node is null"));return}t.parentNode.replaceChild(g,t),Ai.splice(Ai.indexOf(t),1),t=null,l(null,g)})},t$=function(t,n){var r=n===void 0?{}:n,o=r.afterAll,i=o===void 0?function(){}:o,a=r.afterEach,l=a===void 0?function(){}:a,s=r.beforeEach,c=s===void 0?function(){}:s,u=r.cacheRequests,g=u===void 0?!0:u,d=r.evalScripts,m=d===void 0?"never":d,I=r.httpRequestWithCredentials,h=I===void 0?!1:I,A=r.renumerateIRIElements,C=A===void 0?!0:A;if(t&&"length"in t)for(var p=0,v=0,y=t.length;v<y;v++)GV(t[v],m,C,g,h,c,function(x,S){l(x,S),t&&"length"in t&&t.length===++p&&i(p)});else t?GV(t,m,C,g,h,c,function(x,S){l(x,S),i(1),t=null}):i(0)},fj={exports:{}},n$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",r$=n$,o$=r$;function mj(){}function Ij(){}Ij.resetWarningCache=mj;var i$=function(){function e(r,o,i,a,l,s){if(s!==o$){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ij,resetWarningCache:mj};return n.PropTypes=n,n};fj.exports=i$();var an=fj.exports;const De=ot(an);var a$=function(t){var n=(t==null?void 0:t.ownerDocument)||document;return n.defaultView||window},l$=function(t,n){for(var r in t)if(!(r in n))return!0;for(var o in n)if(t[o]!==n[o])return!0;return!1},s$=["afterInjection","beforeInjection","desc","evalScripts","fallback","httpRequestWithCredentials","loading","renumerateIRIElements","src","title","useRequestCache","wrapper"],gh="http://www.w3.org/2000/svg",BV="http://www.w3.org/1999/xlink",$w=function(e){uj(t,e);function t(){for(var r,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i))||this,r.initialState={hasError:!1,isLoading:!0},r.state=r.initialState,r._isMounted=!1,r.reactWrapper=void 0,r.nonReactWrapper=void 0,r.refCallback=function(l){r.reactWrapper=l},r}var n=t.prototype;return n.renderSVG=function(){var o=this;if(this.reactWrapper instanceof a$(this.reactWrapper).Node){var i=this.props,a=i.desc,l=i.evalScripts,s=i.httpRequestWithCredentials,c=i.renumerateIRIElements,u=i.src,g=i.title,d=i.useRequestCache,m=this.props.onError,I=this.props.beforeInjection,h=this.props.afterInjection,A=this.props.wrapper,C,p;A==="svg"?(C=document.createElementNS(gh,A),C.setAttribute("xmlns",gh),C.setAttribute("xmlns:xlink",BV),p=document.createElementNS(gh,A)):(C=document.createElement(A),p=document.createElement(A)),C.appendChild(p),p.dataset.src=u,this.nonReactWrapper=this.reactWrapper.appendChild(C);var v=function(B){if(o.removeSVG(),!o._isMounted){m(B);return}o.setState(function(){return{hasError:!0,isLoading:!1}},function(){m(B)})},y=function(B,Z){if(B){v(B);return}o._isMounted&&o.setState(function(){return{isLoading:!1}},function(){try{h(Z)}catch(R){v(R)}})},x=function(B){if(B.setAttribute("role","img"),a){var Z=B.querySelector(":scope > desc");Z&&B.removeChild(Z);var R=document.createElement("desc");R.innerHTML=a,B.prepend(R)}if(g){var w=B.querySelector(":scope > title");w&&B.removeChild(w);var k=document.createElement("title");k.innerHTML=g,B.prepend(k)}try{I(B)}catch(V){v(V)}};t$(p,{afterEach:y,beforeEach:x,cacheRequests:d,evalScripts:l,httpRequestWithCredentials:s,renumerateIRIElements:c})}},n.removeSVG=function(){var o;(o=this.nonReactWrapper)!=null&&o.parentNode&&(this.nonReactWrapper.parentNode.removeChild(this.nonReactWrapper),this.nonReactWrapper=null)},n.componentDidMount=function(){this._isMounted=!0,this.renderSVG()},n.componentDidUpdate=function(o){var i=this;l$(_u({},o),this.props)&&this.setState(function(){return i.initialState},function(){i.removeSVG(),i.renderSVG()})},n.componentWillUnmount=function(){this._isMounted=!1,this.removeSVG()},n.render=function(){var o=this.props;o.afterInjection,o.beforeInjection,o.desc,o.evalScripts;var i=o.fallback;o.httpRequestWithCredentials;var a=o.loading;o.renumerateIRIElements,o.src,o.title,o.useRequestCache;var l=o.wrapper,s=AA(o,s$),c=l;return b.createElement(c,_u({},s,{ref:this.refCallback},l==="svg"?{xmlns:gh,xmlnsXlink:BV}:{}),this.state.isLoading&&a&&b.createElement(a,null),this.state.hasError&&i&&b.createElement(i,null))},t}(b.Component);$w.defaultProps={afterInjection:function(){},beforeInjection:function(){},desc:"",evalScripts:"never",fallback:null,httpRequestWithCredentials:!1,loading:null,onError:function(){},renumerateIRIElements:!0,title:"",useRequestCache:!0,wrapper:"div"};$w.propTypes={afterInjection:an.func,beforeInjection:an.func,desc:an.string,evalScripts:an.oneOf(["always","once","never"]),fallback:an.oneOfType([an.func,an.object,an.string]),httpRequestWithCredentials:an.bool,loading:an.oneOfType([an.func,an.object,an.string]),onError:an.func,renumerateIRIElements:an.bool,src:an.string.isRequired,title:an.string,useRequestCache:an.bool,wrapper:an.oneOf(["div","span","svg"])};var hj={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(i=o(i,r(l)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var a="";for(var l in i)t.call(i,l)&&i[l]&&(a=o(a,l));return a}function o(i,a){return a?i?i+" "+a:i+a:i}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(hj);var c$=hj.exports;const Fn=ot(c$);function kV(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function u$(e){var t=g$(e,"string");return typeof t=="symbol"?t:String(t)}function g$(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d$(e,t,n){var r=b.useRef(e!==void 0),o=b.useState(t),i=o[0],a=o[1],l=e!==void 0,s=r.current;return r.current=l,!l&&s&&i!==t&&a(t),[l?e:i,b.useCallback(function(c){for(var u=arguments.length,g=new Array(u>1?u-1:0),d=1;d<u;d++)g[d-1]=arguments[d];n&&n.apply(void 0,[c].concat(g)),a(c)},[n])]}function f$(e,t){return Object.keys(t).reduce(function(n,r){var o,i=n,a=i[kV(r)],l=i[r],s=AA(i,[kV(r),r].map(u$)),c=t[r],u=d$(l,a,e[c]),g=u[0],d=u[1];return _u({},s,(o={},o[r]=g,o[c]=d,o))},e)}const m$=["xxl","xl","lg","md","sm","xs"],I$="xs",bA=b.createContext({prefixes:{},breakpoints:m$,minBreakpoint:I$});function Oo(e,t){const{prefixes:n}=b.useContext(bA);return e||n[t]||t}function Cj(){const{breakpoints:e}=b.useContext(bA);return e}function pj(){const{minBreakpoint:e}=b.useContext(bA);return e}function h$(){const{dir:e}=b.useContext(bA);return e==="rtl"}function vA(e){return e&&e.ownerDocument||document}function C$(e){var t=vA(e);return t&&t.defaultView||window}function p$(e,t){return C$(e).getComputedStyle(e,t)}var A$=/([A-Z])/g;function b$(e){return e.replace(A$,"-$1").toLowerCase()}var v$=/^ms-/;function dh(e){return b$(e).replace(v$,"-ms-")}var y$=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function x$(e){return!!(e&&y$.test(e))}function uc(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(dh(t))||p$(e).getPropertyValue(dh(t));Object.keys(t).forEach(function(o){var i=t[o];!i&&i!==0?e.style.removeProperty(dh(o)):x$(o)?r+=o+"("+i+") ":n+=dh(o)+": "+i+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}const RV={disabled:!1},Aj=G.createContext(null);var S$=function(t){return t.scrollTop},rf="unmounted",Ns="exited",il="entering",Ts="entered",ix="exiting",Ya=function(e){uj(t,e);function t(r,o){var i;i=e.call(this,r,o)||this;var a=o,l=a&&!a.isMounting?r.enter:r.appear,s;return i.appearStatus=null,r.in?l?(s=Ns,i.appearStatus=il):s=Ts:r.unmountOnExit||r.mountOnEnter?s=rf:s=Ns,i.state={status:s},i.nextCallback=null,i}t.getDerivedStateFromProps=function(o,i){var a=o.in;return a&&i.status===rf?{status:Ns}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var i=null;if(o!==this.props){var a=this.state.status;this.props.in?a!==il&&a!==Ts&&(i=il):(a===il||a===Ts)&&(i=ix)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,i,a,l;return i=a=l=o,o!=null&&typeof o!="number"&&(i=o.exit,a=o.enter,l=o.appear!==void 0?o.appear:a),{exit:i,enter:a,appear:l}},n.updateStatus=function(o,i){if(o===void 0&&(o=!1),i!==null)if(this.cancelNextCallback(),i===il){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:_s.findDOMNode(this);a&&S$(a)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ns&&this.setState({status:rf})},n.performEnter=function(o){var i=this,a=this.props.enter,l=this.context?this.context.isMounting:o,s=this.props.nodeRef?[l]:[_s.findDOMNode(this),l],c=s[0],u=s[1],g=this.getTimeouts(),d=l?g.appear:g.enter;if(!o&&!a||RV.disabled){this.safeSetState({status:Ts},function(){i.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:il},function(){i.props.onEntering(c,u),i.onTransitionEnd(d,function(){i.safeSetState({status:Ts},function(){i.props.onEntered(c,u)})})})},n.performExit=function(){var o=this,i=this.props.exit,a=this.getTimeouts(),l=this.props.nodeRef?void 0:_s.findDOMNode(this);if(!i||RV.disabled){this.safeSetState({status:Ns},function(){o.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:ix},function(){o.props.onExiting(l),o.onTransitionEnd(a.exit,function(){o.safeSetState({status:Ns},function(){o.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,i){i=this.setNextCallback(i),this.setState(o,i)},n.setNextCallback=function(o){var i=this,a=!0;return this.nextCallback=function(l){a&&(a=!1,i.nextCallback=null,o(l))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(o,i){this.setNextCallback(i);var a=this.props.nodeRef?this.props.nodeRef.current:_s.findDOMNode(this),l=o==null&&!this.props.addEndListener;if(!a||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var s=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],c=s[0],u=s[1];this.props.addEndListener(c,u)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===rf)return null;var i=this.props,a=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var l=AA(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return G.createElement(Aj.Provider,{value:null},typeof a=="function"?a(o,l):G.cloneElement(G.Children.only(a),l))},t}(G.Component);Ya.contextType=Aj;Ya.propTypes={};function Dc(){}Ya.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Dc,onEntering:Dc,onEntered:Dc,onExit:Dc,onExiting:Dc,onExited:Dc};Ya.UNMOUNTED=rf;Ya.EXITED=Ns;Ya.ENTERING=il;Ya.ENTERED=Ts;Ya.EXITING=ix;const bj=Ya,jg=!!(typeof window<"u"&&window.document&&window.document.createElement);var ax=!1,lx=!1;try{var ay={get passive(){return ax=!0},get once(){return lx=ax=!0}};jg&&(window.addEventListener("test",ay,ay),window.removeEventListener("test",ay,!0))}catch{}function vj(e,t,n,r){if(r&&typeof r!="boolean"&&!lx){var o=r.once,i=r.capture,a=n;!lx&&o&&(a=n.__once||function l(s){this.removeEventListener(t,l,i),n.call(this,s)},n.__once=a),e.addEventListener(t,a,ax?r:i)}e.addEventListener(t,n,r)}function sx(e,t,n,r){var o=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,o),n.__once&&e.removeEventListener(t,n.__once,o)}function op(e,t,n,r){return vj(e,t,n,r),function(){sx(e,t,n,r)}}function Z$(e,t,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),e){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r),e.dispatchEvent(o)}}function w$(e){var t=uc(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function G$(e,t,n){n===void 0&&(n=5);var r=!1,o=setTimeout(function(){r||Z$(e,"transitionend",!0)},t+n),i=op(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(o),i()}}function yj(e,t,n,r){n==null&&(n=w$(e)||0);var o=G$(e,n,r),i=op(e,"transitionend",t);return function(){o(),i()}}function VV(e,t){const n=uc(e,t)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function B$(e,t){const n=VV(e,"transitionDuration"),r=VV(e,"transitionDelay"),o=yj(e,i=>{i.target===e&&(o(),t(i))},n+r)}function k$(e){e.offsetHeight}const WV=e=>!e||typeof e=="function"?e:t=>{e.current=t};function R$(e,t){const n=WV(e),r=WV(t);return o=>{n&&n(o),r&&r(o)}}function yA(e,t){return b.useMemo(()=>R$(e,t),[e,t])}function V$(e){return e&&"setState"in e?_s.findDOMNode(e):e??null}const W$=G.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:o,onExited:i,addEndListener:a,children:l,childRef:s,...c},u)=>{const g=b.useRef(null),d=yA(g,s),m=S=>{d(V$(S))},I=S=>B=>{S&&g.current&&S(g.current,B)},h=b.useCallback(I(e),[e]),A=b.useCallback(I(t),[t]),C=b.useCallback(I(n),[n]),p=b.useCallback(I(r),[r]),v=b.useCallback(I(o),[o]),y=b.useCallback(I(i),[i]),x=b.useCallback(I(a),[a]);return f.jsx(bj,{ref:u,...c,onEnter:h,onEntered:C,onEntering:A,onExit:p,onExited:y,onExiting:v,addEndListener:x,nodeRef:g,children:typeof l=="function"?(S,B)=>l(S,{...B,ref:m}):G.cloneElement(l,{ref:m})})}),N$=W$;function E$(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e},[e]),t}function ko(e){const t=E$(e);return b.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const xj=e=>b.forwardRef((t,n)=>f.jsx("div",{...t,ref:n,className:Fn(t.className,e)})),Sj=xj("h4");Sj.displayName="DivStyledAsH4";const Zj=b.forwardRef(({className:e,bsPrefix:t,as:n=Sj,...r},o)=>(t=Oo(t,"alert-heading"),f.jsx(n,{ref:o,className:Fn(e,t),...r})));Zj.displayName="AlertHeading";const X$=Zj;function J$(){return b.useState(null)}function Y$(){const e=b.useRef(!0),t=b.useRef(()=>e.current);return b.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function H$(e){const t=b.useRef(null);return b.useEffect(()=>{t.current=e}),t.current}const F$=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",M$=typeof document<"u",NV=M$||F$?b.useLayoutEffect:b.useEffect,j$=["as","disabled"];function T$(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function L$(e){return!e||e.trim()==="#"}function qw({tagName:e,disabled:t,href:n,target:r,rel:o,role:i,onClick:a,tabIndex:l=0,type:s}){e||(n!=null||r!=null||o!=null?e="a":e="button");const c={tagName:e};if(e==="button")return[{type:s||"button",disabled:t},c];const u=d=>{if((t||e==="a"&&L$(n))&&d.preventDefault(),t){d.stopPropagation();return}a==null||a(d)},g=d=>{d.key===" "&&(d.preventDefault(),u(d))};return e==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:i??"button",disabled:void 0,tabIndex:t?void 0:l,href:n,target:e==="a"?r:void 0,"aria-disabled":t||void 0,rel:e==="a"?o:void 0,onClick:u,onKeyDown:g},c]}const K$=b.forwardRef((e,t)=>{let{as:n,disabled:r}=e,o=T$(e,j$);const[i,{tagName:a}]=qw(Object.assign({tagName:n,disabled:r},o));return f.jsx(a,Object.assign({},o,i,{ref:t}))});K$.displayName="Button";const O$=["onKeyDown"];function P$(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function D$(e){return!e||e.trim()==="#"}const wj=b.forwardRef((e,t)=>{let{onKeyDown:n}=e,r=P$(e,O$);const[o]=qw(Object.assign({tagName:"a"},r)),i=ko(a=>{o.onKeyDown(a),n==null||n(a)});return D$(r.href)||r.role==="button"?f.jsx("a",Object.assign({ref:t},r,o,{onKeyDown:i})):f.jsx("a",Object.assign({ref:t},r,{onKeyDown:n}))});wj.displayName="Anchor";const z$=wj,Gj=b.forwardRef(({className:e,bsPrefix:t,as:n=z$,...r},o)=>(t=Oo(t,"alert-link"),f.jsx(n,{ref:o,className:Fn(e,t),...r})));Gj.displayName="AlertLink";const U$=Gj,_$={[il]:"show",[Ts]:"show"},Bj=b.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:r,...o},i)=>{const a={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},l=b.useCallback((s,c)=>{k$(s),r==null||r(s,c)},[r]);return f.jsx(N$,{ref:i,addEndListener:B$,...a,onEnter:l,childRef:t.ref,children:(s,c)=>b.cloneElement(t,{...c,className:Fn("fade",e,t.props.className,_$[s],n[s])})})});Bj.displayName="Fade";const ip=Bj,Q$={"aria-label":De.string,onClick:De.func,variant:De.oneOf(["white"])},eG=b.forwardRef(({className:e,variant:t,"aria-label":n="Close",...r},o)=>f.jsx("button",{ref:o,type:"button",className:Fn("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...r}));eG.displayName="CloseButton";eG.propTypes=Q$;const kj=eG,Rj=b.forwardRef((e,t)=>{const{bsPrefix:n,show:r=!0,closeLabel:o="Close alert",closeVariant:i,className:a,children:l,variant:s="primary",onClose:c,dismissible:u,transition:g=ip,...d}=f$(e,{show:"onClose"}),m=Oo(n,"alert"),I=ko(C=>{c&&c(!1,C)}),h=g===!0?ip:g,A=f.jsxs("div",{role:"alert",...h?void 0:d,ref:t,className:Fn(a,m,s&&`${m}-${s}`,u&&`${m}-dismissible`),children:[u&&f.jsx(kj,{onClick:I,"aria-label":o,variant:i}),l]});return h?f.jsx(h,{unmountOnExit:!0,...d,ref:void 0,in:r,children:A}):r?A:null});Rj.displayName="Alert";const $$=Object.assign(Rj,{Link:U$,Heading:X$}),Vj=b.forwardRef(({as:e,bsPrefix:t,variant:n="primary",size:r,active:o=!1,disabled:i=!1,className:a,...l},s)=>{const c=Oo(t,"btn"),[u,{tagName:g}]=qw({tagName:e,disabled:i,...l}),d=g;return f.jsx(d,{...u,...l,ref:s,disabled:i,className:Fn(a,c,o&&"active",n&&`${c}-${n}`,r&&`${c}-${r}`,l.href&&i&&"disabled")})});Vj.displayName="Button";const br=Vj;function q$(e){const t=b.useRef(e);return t.current=e,t}function Wj(e){const t=q$(e);b.useEffect(()=>()=>t.current(),[])}function eq({as:e,bsPrefix:t,className:n,...r}){t=Oo(t,"col");const o=Cj(),i=pj(),a=[],l=[];return o.forEach(s=>{const c=r[s];delete r[s];let u,g,d;typeof c=="object"&&c!=null?{span:u,offset:g,order:d}=c:u=c;const m=s!==i?`-${s}`:"";u&&a.push(u===!0?`${t}${m}`:`${t}${m}-${u}`),d!=null&&l.push(`order${m}-${d}`),g!=null&&l.push(`offset${m}-${g}`)}),[{...r,className:Fn(n,...a,...l)},{as:e,bsPrefix:t,spans:a}]}const Nj=b.forwardRef((e,t)=>{const[{className:n,...r},{as:o="div",bsPrefix:i,spans:a}]=eq(e);return f.jsx(o,{...r,ref:t,className:Fn(n,!a.length&&i)})});Nj.displayName="Col";const Xe=Nj;var tq=Function.prototype.bind.call(Function.prototype.call,[].slice);function zc(e,t){return tq(e.querySelectorAll(t))}function EV(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const nq="data-rr-ui-";function rq(e){return`${nq}${e}`}const Ej=b.createContext(jg?window:void 0);Ej.Provider;function tG(){return b.useContext(Ej)}var fh;function XV(e){if((!fh&&fh!==0||e)&&jg){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),fh=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return fh}function ly(e){e===void 0&&(e=vA());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function oq(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const JV=rq("modal-open");class iq{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return oq(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();t.style={overflow:o.style.overflow,[r]:o.style[r]},t.scrollBarWidth&&(n[r]=`${parseInt(uc(o,r)||"0",10)+t.scrollBarWidth}px`),o.setAttribute(JV,""),uc(o,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(JV),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const nG=iq,sy=(e,t)=>jg?e==null?(t||vA()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function aq(e,t){const n=tG(),[r,o]=b.useState(()=>sy(e,n==null?void 0:n.document));if(!r){const i=sy(e);i&&o(i)}return b.useEffect(()=>{t&&r&&t(r)},[t,r]),b.useEffect(()=>{const i=sy(e);i!==r&&o(i)},[e,r]),r}function lq({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:o}){const i=b.useRef(null),a=b.useRef(t),l=ko(n);b.useEffect(()=>{t?a.current=!0:l(i.current)},[t,l]);const s=yA(i,e.ref),c=b.cloneElement(e,{ref:s});return t?c:o||!a.current&&r?null:c}function sq({in:e,onTransition:t}){const n=b.useRef(null),r=b.useRef(!0),o=ko(t);return NV(()=>{if(!n.current)return;let i=!1;return o({in:e,element:n.current,initial:r.current,isStale:()=>i}),()=>{i=!0}},[e,o]),NV(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function cq({children:e,in:t,onExited:n,onEntered:r,transition:o}){const[i,a]=b.useState(!t);t&&i&&a(!1);const l=sq({in:!!t,onTransition:c=>{const u=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(a(!0),n==null||n(c.element)))};Promise.resolve(o(c)).then(u,g=>{throw c.in||a(!0),g})}}),s=yA(l,e.ref);return i&&!t?null:b.cloneElement(e,{ref:s})}function YV(e,t,n){return e?f.jsx(e,Object.assign({},n)):t?f.jsx(cq,Object.assign({},n,{transition:t})):f.jsx(lq,Object.assign({},n))}function uq(e){return e.code==="Escape"||e.keyCode===27}const gq=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function dq(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}let cy;function fq(e){return cy||(cy=new nG({ownerDocument:e==null?void 0:e.document})),cy}function mq(e){const t=tG(),n=e||fq(t),r=b.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:b.useCallback(o=>{r.current.dialog=o},[]),setBackdropRef:b.useCallback(o=>{r.current.backdrop=o},[])})}const Xj=b.forwardRef((e,t)=>{let{show:n=!1,role:r="dialog",className:o,style:i,children:a,backdrop:l=!0,keyboard:s=!0,onBackdropClick:c,onEscapeKeyDown:u,transition:g,runTransition:d,backdropTransition:m,runBackdropTransition:I,autoFocus:h=!0,enforceFocus:A=!0,restoreFocus:C=!0,restoreFocusOptions:p,renderDialog:v,renderBackdrop:y=re=>f.jsx("div",Object.assign({},re)),manager:x,container:S,onShow:B,onHide:Z=()=>{},onExit:R,onExited:w,onExiting:k,onEnter:V,onEntering:W,onEntered:N}=e,X=dq(e,gq);const J=tG(),E=aq(S),F=mq(x),H=Y$(),M=H$(n),[Y,T]=b.useState(!n),O=b.useRef(null);b.useImperativeHandle(t,()=>F,[F]),jg&&!M&&n&&(O.current=ly(J==null?void 0:J.document)),n&&Y&&T(!1);const P=ko(()=>{if(F.add(),z.current=op(document,"keydown",$),K.current=op(document,"focus",()=>setTimeout(j),!0),B&&B(),h){var re,se;const ce=ly((re=(se=F.dialog)==null?void 0:se.ownerDocument)!=null?re:J==null?void 0:J.document);F.dialog&&ce&&!EV(F.dialog,ce)&&(O.current=ce,F.dialog.focus())}}),L=ko(()=>{if(F.remove(),z.current==null||z.current(),K.current==null||K.current(),C){var re;(re=O.current)==null||re.focus==null||re.focus(p),O.current=null}});b.useEffect(()=>{!n||!E||P()},[n,E,P]),b.useEffect(()=>{Y&&L()},[Y,L]),Wj(()=>{L()});const j=ko(()=>{if(!A||!H()||!F.isTopModal())return;const re=ly(J==null?void 0:J.document);F.dialog&&re&&!EV(F.dialog,re)&&F.dialog.focus()}),D=ko(re=>{re.target===re.currentTarget&&(c==null||c(re),l===!0&&Z())}),$=ko(re=>{s&&uq(re)&&F.isTopModal()&&(u==null||u(re),re.defaultPrevented||Z())}),K=b.useRef(),z=b.useRef(),_=(...re)=>{T(!0),w==null||w(...re)};if(!E)return null;const U=Object.assign({role:r,ref:F.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},X,{style:i,className:o,tabIndex:-1});let te=v?v(U):f.jsx("div",Object.assign({},U,{children:b.cloneElement(a,{role:"document"})}));te=YV(g,d,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:R,onExiting:k,onExited:_,onEnter:V,onEntering:W,onEntered:N,children:te});let ie=null;return l&&(ie=y({ref:F.setBackdropRef,onClick:D}),ie=YV(m,I,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ie})),f.jsx(f.Fragment,{children:_s.createPortal(f.jsxs(f.Fragment,{children:[ie,te]}),E)})});Xj.displayName="Modal";const Iq=Object.assign(Xj,{Manager:nG});function hq(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Cq(e,t){e.classList?e.classList.add(t):hq(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function HV(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function pq(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=HV(e.className,t):e.setAttribute("class",HV(e.className&&e.className.baseVal||"",t))}const Uc={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Aq extends nG{adjustAndStore(t,n,r){const o=n.style[t];n.dataset[t]=o,uc(n,{[t]:`${parseFloat(uc(n,t))+r}px`})}restore(t,n){const r=n.dataset[t];r!==void 0&&(delete n.dataset[t],uc(n,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(Cq(n,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";zc(n,Uc.FIXED_CONTENT).forEach(i=>this.adjustAndStore(r,i,t.scrollBarWidth)),zc(n,Uc.STICKY_CONTENT).forEach(i=>this.adjustAndStore(o,i,-t.scrollBarWidth)),zc(n,Uc.NAVBAR_TOGGLER).forEach(i=>this.adjustAndStore(o,i,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();pq(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";zc(n,Uc.FIXED_CONTENT).forEach(i=>this.restore(r,i)),zc(n,Uc.STICKY_CONTENT).forEach(i=>this.restore(o,i)),zc(n,Uc.NAVBAR_TOGGLER).forEach(i=>this.restore(o,i))}}let uy;function bq(e){return uy||(uy=new Aq(e)),uy}const Jj=b.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},o)=>(t=Oo(t,"modal-body"),f.jsx(n,{ref:o,className:Fn(e,t),...r})));Jj.displayName="ModalBody";const vq=Jj,yq=b.createContext({onHide(){}}),Yj=yq,Hj=b.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:r,size:o,fullscreen:i,children:a,scrollable:l,...s},c)=>{e=Oo(e,"modal");const u=`${e}-dialog`,g=typeof i=="string"?`${e}-fullscreen-${i}`:`${e}-fullscreen`;return f.jsx("div",{...s,ref:c,className:Fn(u,t,o&&`${e}-${o}`,r&&`${u}-centered`,l&&`${u}-scrollable`,i&&g),children:f.jsx("div",{className:Fn(`${e}-content`,n),children:a})})});Hj.displayName="ModalDialog";const Fj=Hj,Mj=b.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},o)=>(t=Oo(t,"modal-footer"),f.jsx(n,{ref:o,className:Fn(e,t),...r})));Mj.displayName="ModalFooter";const xq=Mj,Sq=b.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:r,children:o,...i},a)=>{const l=b.useContext(Yj),s=ko(()=>{l==null||l.onHide(),r==null||r()});return f.jsxs("div",{ref:a,...i,children:[o,n&&f.jsx(kj,{"aria-label":e,variant:t,onClick:s})]})}),Zq=Sq,jj=b.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...o},i)=>(e=Oo(e,"modal-header"),f.jsx(Zq,{ref:i,...o,className:Fn(t,e),closeLabel:n,closeButton:r})));jj.displayName="ModalHeader";const Tj=jj,wq=xj("h4"),Lj=b.forwardRef(({className:e,bsPrefix:t,as:n=wq,...r},o)=>(t=Oo(t,"modal-title"),f.jsx(n,{ref:o,className:Fn(e,t),...r})));Lj.displayName="ModalTitle";const Gq=Lj;function Bq(e){return f.jsx(ip,{...e,timeout:null})}function kq(e){return f.jsx(ip,{...e,timeout:null})}const Kj=b.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:r,contentClassName:o,children:i,dialogAs:a=Fj,"data-bs-theme":l,"aria-labelledby":s,"aria-describedby":c,"aria-label":u,show:g=!1,animation:d=!0,backdrop:m=!0,keyboard:I=!0,onEscapeKeyDown:h,onShow:A,onHide:C,container:p,autoFocus:v=!0,enforceFocus:y=!0,restoreFocus:x=!0,restoreFocusOptions:S,onEntered:B,onExit:Z,onExiting:R,onEnter:w,onEntering:k,onExited:V,backdropClassName:W,manager:N,...X},J)=>{const[E,F]=b.useState({}),[H,M]=b.useState(!1),Y=b.useRef(!1),T=b.useRef(!1),O=b.useRef(null),[P,L]=J$(),j=yA(J,L),D=ko(C),$=h$();e=Oo(e,"modal");const K=b.useMemo(()=>({onHide:D}),[D]);function z(){return N||bq({isRTL:$})}function _(ye){if(!jg)return;const Fe=z().getScrollbarWidth()>0,ue=ye.scrollHeight>vA(ye).documentElement.clientHeight;F({paddingRight:Fe&&!ue?XV():void 0,paddingLeft:!Fe&&ue?XV():void 0})}const U=ko(()=>{P&&_(P.dialog)});Wj(()=>{sx(window,"resize",U),O.current==null||O.current()});const te=()=>{Y.current=!0},ie=ye=>{Y.current&&P&&ye.target===P.dialog&&(T.current=!0),Y.current=!1},re=()=>{M(!0),O.current=yj(P.dialog,()=>{M(!1)})},se=ye=>{ye.target===ye.currentTarget&&re()},ce=ye=>{if(m==="static"){se(ye);return}if(T.current||ye.target!==ye.currentTarget){T.current=!1;return}C==null||C()},q=ye=>{I?h==null||h(ye):(ye.preventDefault(),m==="static"&&re())},ee=(ye,Fe)=>{ye&&_(ye),w==null||w(ye,Fe)},oe=ye=>{O.current==null||O.current(),Z==null||Z(ye)},ae=(ye,Fe)=>{k==null||k(ye,Fe),vj(window,"resize",U)},ne=ye=>{ye&&(ye.style.display=""),V==null||V(ye),sx(window,"resize",U)},fe=b.useCallback(ye=>f.jsx("div",{...ye,className:Fn(`${e}-backdrop`,W,!d&&"show")}),[d,W,e]),le={...n,...E};le.display="block";const be=ye=>f.jsx("div",{role:"dialog",...ye,style:le,className:Fn(t,e,H&&`${e}-static`,!d&&"show"),onClick:m?ce:void 0,onMouseUp:ie,"data-bs-theme":l,"aria-label":u,"aria-labelledby":s,"aria-describedby":c,children:f.jsx(a,{...X,onMouseDown:te,className:r,contentClassName:o,children:i})});return f.jsx(Yj.Provider,{value:K,children:f.jsx(Iq,{show:g,ref:j,backdrop:m,container:p,keyboard:!0,autoFocus:v,enforceFocus:y,restoreFocus:x,restoreFocusOptions:S,onEscapeKeyDown:q,onShow:A,onHide:C,onEnter:ee,onEntering:ae,onEntered:B,onExit:oe,onExiting:R,onExited:ne,manager:z(),transition:d?Bq:void 0,backdropTransition:d?kq:void 0,renderBackdrop:fe,renderDialog:be})})});Kj.displayName="Modal";const Ls=Object.assign(Kj,{Body:vq,Header:Tj,Title:Gq,Footer:xq,Dialog:Fj,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Oj=b.forwardRef(({bsPrefix:e,className:t,as:n="div",...r},o)=>{const i=Oo(e,"row"),a=Cj(),l=pj(),s=`${i}-cols`,c=[];return a.forEach(u=>{const g=r[u];delete r[u];let d;g!=null&&typeof g=="object"?{cols:d}=g:d=g;const m=u!==l?`-${u}`:"";d!=null&&c.push(`${s}${m}-${d}`)}),f.jsx(n,{ref:o,...r,className:Fn(t,i,...c)})});Oj.displayName="Row";const pt=Oj;var Pj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rm=G.createContext&&G.createContext(Pj),Rq=["attr","size","title"];function Vq(e,t){if(e==null)return{};var n=Wq(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Wq(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ap(){return ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ap.apply(this,arguments)}function FV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function lp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FV(Object(n),!0).forEach(function(r){Nq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nq(e,t,n){return t=Eq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eq(e){var t=Xq(e,"string");return typeof t=="symbol"?t:t+""}function Xq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dj(e){return e&&e.map((t,n)=>G.createElement(t.tag,lp({key:n},t.attr),Dj(t.child)))}function Ze(e){return t=>G.createElement(Jq,ap({attr:lp({},e.attr)},t),Dj(e.child))}function Jq(e){var t=n=>{var{attr:r,size:o,title:i}=e,a=Vq(e,Rq),l=o||n.size||"1em",s;return n.className&&(s=n.className),e.className&&(s=(s?s+" ":"")+e.className),G.createElement("svg",ap({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:s,style:lp(lp({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&G.createElement("title",null,i),e.children)};return rm!==void 0?G.createElement(rm.Consumer,null,n=>t(n)):t(Pj)}function Yq(e){return Ze({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(e)}function zj(e){return Ze({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(e)}function Hq(e){return Ze({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(e)}function Uj(e){return Ze({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"},child:[]}]})(e)}function Fq(e){return Ze({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"},child:[]}]})(e)}function Mq(e){return Ze({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(e)}function jq(e){return Ze({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(e)}function Tq(e){return Ze({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"},child:[]}]})(e)}function _j(e){return Ze({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19.05 4.91A9.816 9.816 0 0 0 12.04 2c-5.46 0-9.91 4.45-9.91 9.91 0 1.75.46 3.45 1.32 4.95L2.05 22l5.25-1.38c1.45.79 3.08 1.21 4.74 1.21 5.46 0 9.91-4.45 9.91-9.91 0-2.65-1.03-5.14-2.9-7.01zm-7.01 15.24c-1.48 0-2.93-.4-4.2-1.15l-.3-.18-3.12.82.83-3.04-.2-.31a8.264 8.264 0 0 1-1.26-4.38c0-4.54 3.7-8.24 8.24-8.24 2.2 0 4.27.86 5.82 2.42a8.183 8.183 0 0 1 2.41 5.83c.02 4.54-3.68 8.23-8.22 8.23zm4.52-6.16c-.25-.12-1.47-.72-1.69-.81-.23-.08-.39-.12-.56.12-.17.25-.64.81-.78.97-.14.17-.29.19-.54.06-.25-.12-1.05-.39-1.99-1.23-.74-.66-1.23-1.47-1.38-1.72-.14-.25-.02-.38.11-.51.11-.11.25-.29.37-.43s.17-.25.25-.41c.08-.17.04-.31-.02-.43s-.56-1.34-.76-1.84c-.2-.48-.41-.42-.56-.43h-.48c-.17 0-.43.06-.66.31-.22.25-.86.85-.86 2.07 0 1.22.89 2.4 1.01 2.56.12.17 1.75 2.67 4.23 3.74.59.26 1.05.41 1.41.52.59.19 1.13.16 1.56.1.48-.07 1.47-.6 1.67-1.18.21-.58.21-1.07.14-1.18s-.22-.16-.47-.28z"},child:[]}]})(e)}function Qj(e){return Ze({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"},child:[]}]})(e)}function Lq(e){return Ze({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5 5-5z"},child:[]}]})(e)}function Kq(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm90.5 224H272v74.5c0 8.8-7.2 16-16 16-4.4 0-8.4-1.8-11.3-4.7-2.9-2.9-4.7-6.9-4.7-11.3V272h-74.5c-4.4 0-8.4-1.8-11.3-4.7-2.9-2.9-4.7-6.9-4.7-11.3 0-8.8 7.2-16 16-16H240v-74.5c0-8.8 7.2-16 16-16s16 7.2 16 16V240h74.5c8.8 0 16 7.2 16 16s-7.2 16-16 16z"},child:[]}]})(e)}function Oq(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M368.5 240H272v-96.5c0-8.8-7.2-16-16-16s-16 7.2-16 16V240h-96.5c-8.8 0-16 7.2-16 16 0 4.4 1.8 8.4 4.7 11.3 2.9 2.9 6.9 4.7 11.3 4.7H240v96.5c0 4.4 1.8 8.4 4.7 11.3 2.9 2.9 6.9 4.7 11.3 4.7 8.8 0 16-7.2 16-16V272h96.5c8.8 0 16-7.2 16-16s-7.2-16-16-16z"},child:[]}]})(e)}function Pq(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(e)}function Dq(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216.4 163.7c5.1 5 5.1 13.3.1 18.4L155.8 243h231.3c7.1 0 12.9 5.8 12.9 13s-5.8 13-12.9 13H155.8l60.8 60.9c5 5.1 4.9 13.3-.1 18.4-5.1 5-13.2 5-18.3-.1l-82.4-83c-1.1-1.2-2-2.5-2.7-4.1-.7-1.6-1-3.3-1-5 0-3.4 1.3-6.6 3.7-9.1l82.4-83c4.9-5.2 13.1-5.3 18.2-.3z"},child:[]}]})(e)}function zq(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(e)}function rG(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm143.3 263.9c-8.1-2.6-23.7-3.4-29.5-10.4-2.9-3.5-1-16.6-1-16.6 25.2-1.4 31-6.1 31-6.1 3.9-2.3 2.1-2.7.1-6.1-10.9-18.3-6-41.5-6.5-61.6-.4-16.7-4.8-35-20-44.4-7.6-4.7-19.7-6.9-31.4-6.9-9.5 0-18.7 1.4-25.3 4.1-42.4 17-17.4 73.2-31.9 105.4-2.5 5.4-6.1 7.3.2 10.5 0 0 7.5 4.4 28.9 6.3 0 0 .3 12.6 0 13.9-1.1 4.9-11.8 8.3-15.8 9.4-2.7.7-8.7 2.5-16.4 5.7-3.7 1.5-3.1 6.9.8 7.6 3.9.7 8.1 1.7 11.5 2.9 0 0 26.4 6 46 25 13.2 12.7 18.1 27.6 20 44.6.5 4.5-1.7 8.9-5.5 11.5l-5.7 3.6c-1.9 1.1-4.2-.2-4.3-2.4 0-29.5-17.8-55.5-45.8-65.2-13.5-4.7-28.1-5-41.6-9.7-4.1-1.4-12.2-3.1-13.9-7.8-1.6-4.6-1.6-10-1.9-14.8-.2-3.8-.3-7.6-.3-11.4 0-2.5 6.4-7.8 7.8-10.1 5.4-9 5.9-21.1 6.9-31.3 8.7 2.4 9.8-13.7 11.3-18.6 1.1-3.4 5-20.9-2.6-23.6 2.5-4.4 3.5-9.8 4.2-14.7 2-12.8 2.8-26.8-1.1-39.3-8.1-26-33-40.6-59.3-41.4-26.7-.9-53.5 11.9-63.5 37.8-4.8 12.6-4.4 26.3-2.8 39.5.7 6 1.7 12.7 4.7 18.1-6.4 2.8-4.5 17.7-3.4 21.3 1.6 5.1 3 23.4 12.1 20.9.8 8.1 1.7 16.4 3.9 24.3 1.5 5.3 4.6 9.8 8.2 13.9 1.8 2 2.7 2.2 2.6 4.8-.1 7.8.1 16.2-1.9 23.8s-18.7 10.8-25.4 12.2c-14.8 3-28.6 4.7-41.4 11.5C84.8 320.6 76 289 76 256c0-47.9 19.2-94 53.2-127.7C162.7 95 207.1 76.4 254.3 76c47.6-.4 93.7 18.1 127.8 51.5 34.8 34.1 54 79.9 54 128.5 0 24.9-5 48.9-14.5 71.1-5.6-7-13.4-12.3-22.3-15.2z"},child:[]}]})(e)}function Uq(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M312 372c-7.7 0-14 6.3-14 14 0 9.9-8.1 18-18 18H94c-9.9 0-18-8.1-18-18V126c0-9.9 8.1-18 18-18h186c9.9 0 18 8.1 18 18 0 7.7 6.3 14 14 14s14-6.3 14-14c0-25.4-20.6-46-46-46H94c-25.4 0-46 20.6-46 46v260c0 25.4 20.6 46 46 46h186c25.4 0 46-20.6 46-46 0-7.7-6.3-14-14-14z"},child:[]},{tag:"path",attr:{d:"M372.9 158.1c-2.6-2.6-6.1-4.1-9.9-4.1-3.7 0-7.3 1.4-9.9 4.1-5.5 5.5-5.5 14.3 0 19.8l65.2 64.2H162c-7.7 0-14 6.3-14 14s6.3 14 14 14h256.6L355 334.2c-5.4 5.4-5.4 14.3 0 19.8l.1.1c2.7 2.5 6.2 3.9 9.8 3.9 3.8 0 7.3-1.4 9.9-4.1l82.6-82.4c4.3-4.3 6.5-9.3 6.5-14.7 0-5.3-2.3-10.3-6.5-14.5l-84.5-84.2z"},child:[]}]})(e)}function $j(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416.3 256c0-21 13.1-38.9 31.7-46.1-4.9-20.5-13-39.7-23.7-57.1-6.4 2.8-13.2 4.3-20.1 4.3-12.6 0-25.2-4.8-34.9-14.4-14.9-14.9-18.2-36.8-10.2-55-17.3-10.7-36.6-18.8-57-23.7C295 82.5 277 95.7 256 95.7S217 82.5 209.9 64c-20.5 4.9-39.7 13-57.1 23.7 8.1 18.1 4.7 40.1-10.2 55-9.6 9.6-22.3 14.4-34.9 14.4-6.9 0-13.7-1.4-20.1-4.3C77 170.3 68.9 189.5 64 210c18.5 7.1 31.7 25 31.7 46.1 0 21-13.1 38.9-31.6 46.1 4.9 20.5 13 39.7 23.7 57.1 6.4-2.8 13.2-4.2 20-4.2 12.6 0 25.2 4.8 34.9 14.4 14.8 14.8 18.2 36.8 10.2 54.9 17.4 10.7 36.7 18.8 57.1 23.7 7.1-18.5 25-31.6 46-31.6s38.9 13.1 46 31.6c20.5-4.9 39.7-13 57.1-23.7-8-18.1-4.6-40 10.2-54.9 9.6-9.6 22.2-14.4 34.9-14.4 6.8 0 13.7 1.4 20 4.2 10.7-17.4 18.8-36.7 23.7-57.1-18.4-7.2-31.6-25.1-31.6-46.2zm-159.4 79.9c-44.3 0-80-35.9-80-80s35.7-80 80-80 80 35.9 80 80-35.7 80-80 80z"},child:[]}]})(e)}function _q(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 90c44.3 0 86 17.3 117.4 48.6C404.7 170 422 211.7 422 256s-17.3 86-48.6 117.4C342 404.7 300.3 422 256 422s-86-17.3-117.4-48.6C107.3 342 90 300.3 90 256s17.3-86 48.6-117.4C170 107.3 211.7 90 256 90m0-42C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"},child:[]},{tag:"path",attr:{d:"M360 330.9L330.9 360 256 285.1 181.1 360 152 330.9l74.9-74.9-74.9-74.9 29.1-29.1 74.9 74.9 74.9-74.9 29.1 29.1-74.9 74.9z"},child:[]}]})(e)}function oG(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(e)}function Qq(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.1 144.8c56.2 0 101.9 45.3 101.9 101.1 0 13.1-2.6 25.5-7.3 37l59.5 59c30.8-25.5 55-58.4 69.9-96-35.3-88.7-122.3-151.6-224.2-151.6-28.5 0-55.8 5.1-81.1 14.1l44 43.7c11.6-4.6 24.1-7.3 37.3-7.3zM52.4 89.7l46.5 46.1 9.4 9.3c-33.9 26-60.4 60.8-76.3 100.8 35.2 88.7 122.2 151.6 224.1 151.6 31.6 0 61.7-6.1 89.2-17l8.6 8.5 59.7 59 25.9-25.7L78.2 64 52.4 89.7zM165 201.4l31.6 31.3c-1 4.2-1.6 8.7-1.6 13.1 0 33.5 27.3 60.6 61.1 60.6 4.5 0 9-.6 13.2-1.6l31.6 31.3c-13.6 6.7-28.7 10.7-44.8 10.7-56.2 0-101.9-45.3-101.9-101.1 0-15.8 4.1-30.7 10.8-44.3zm87.8-15.7l64.2 63.7.4-3.2c0-33.5-27.3-60.6-61.1-60.6l-3.5.1z"},child:[]}]})(e)}function $q(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 105c-101.8 0-188.4 62.4-224 151 35.6 88.6 122.2 151 224 151s188.4-62.4 224-151c-35.6-88.6-122.2-151-224-151zm0 251.7c-56 0-101.8-45.3-101.8-100.7S200 155.3 256 155.3 357.8 200.6 357.8 256 312 356.7 256 356.7zm0-161.1c-33.6 0-61.1 27.2-61.1 60.4s27.5 60.4 61.1 60.4 61.1-27.2 61.1-60.4-27.5-60.4-61.1-60.4z"},child:[]}]})(e)}function cx(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M249.2 224c-14.2-40.2-55.1-72-100.2-72-57.2 0-101 46.8-101 104s45.8 104 103 104c45.1 0 84.1-31.8 98.2-72H352v64h69.1v-64H464v-64H249.2zm-97.6 66.5c-19 0-34.5-15.5-34.5-34.5s15.5-34.5 34.5-34.5 34.5 15.5 34.5 34.5-15.5 34.5-34.5 34.5z"},child:[]}]})(e)}function qq(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 136c0-22.002-17.998-40-40-40s-40 17.998-40 40 17.998 40 40 40 40-17.998 40-40zm0 240c0-22.002-17.998-40-40-40s-40 17.998-40 40 17.998 40 40 40 40-17.998 40-40zm0-120c0-22.002-17.998-40-40-40s-40 17.998-40 40 17.998 40 40 40 40-17.998 40-40z"},child:[]}]})(e)}function eee(e){return Ze({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(e)}function tee(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.55 8C116.52 8 8 110.34 8 248.57c0 72.3 29.71 134.78 78.07 177.94 8.35 7.51 6.63 11.86 8.05 58.23A19.92 19.92 0 0 0 122 502.31c52.91-23.3 53.59-25.14 62.56-22.7C337.85 521.8 504 423.7 504 248.57 504 110.34 396.59 8 256.55 8zm149.24 185.13l-73 115.57a37.37 37.37 0 0 1-53.91 9.93l-58.08-43.47a15 15 0 0 0-18 0l-78.37 59.44c-10.46 7.93-24.16-4.6-17.11-15.67l73-115.57a37.36 37.36 0 0 1 53.91-9.93l58.06 43.46a15 15 0 0 0 18 0l78.41-59.38c10.44-7.98 24.14 4.54 17.09 15.62z"},child:[]}]})(e)}function iG(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function qj(e){return Ze({tag:"svg",attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(e)}function aG(e){return Ze({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function nee(e){return Ze({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(e)}function lG(e){return Ze({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(e)}function e4(e){return Ze({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"},child:[]}]})(e)}function t4(e){return Ze({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8zm100.7 364.9c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4zm26.9-65.6c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm31-76.2c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3z"},child:[]}]})(e)}function n4(e){return Ze({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"},child:[]}]})(e)}function xA(e){return Ze({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(e)}function ree(e){return Ze({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(e)}function r4(e){return Ze({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(e)}function oee(e){return Ze({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-352 96c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H86.4C74 384 64 375.4 64 364.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2zM512 312c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-64c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-64c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function om(e){return Ze({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function iee(e){return Ze({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function aee(e){return Ze({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function bc(e){return Ze({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function vc(e){return Ze({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function MV(e){return Ze({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm76.45 211.36l-96.42 95.7c-6.65 6.61-17.39 6.61-24.04 0l-96.42-95.7C73.42 337.29 80.54 320 94.82 320H160v-80c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v80h65.18c14.28 0 21.4 17.29 11.27 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(e)}function lee(e){return Ze({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(e)}function see(e){return Ze({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function cee(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function sG(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(e)}function o4(e){return Ze({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function uee(e){return Ze({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function gee(e){return Ze({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 240v32c0 6.6-5.4 12-12 12h-88v88c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-88h-88c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h88v-88c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v88h88c6.6 0 12 5.4 12 12zm96-160v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"},child:[]}]})(e)}function dee(e){return Ze({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"},child:[]}]})(e)}const ls=(e={})=>{const[t,n]=b.useState(e);return{...t,formState:t,onInputChange:({target:c})=>{const{name:u,value:g}=c;n({...t,[u]:g})},onResetForm:()=>{n(e)},onCheckBoxChange:({target:c})=>{const{name:u,value:g,checked:d}=c;n({...t,[u]:d})},updateForm:c=>{n({...c})},onMultiInputChange:c=>{for(const{target:u}of c){const{name:g,value:d}=u;n({...t,[g]:d})}},onInputChangeLatLng:(c,u)=>{n(g=>({...g,lat:parseFloat(c),lng:parseFloat(u)}))}}};function i4(e,t){return function(){return e.apply(t,arguments)}}const{toString:fee}=Object.prototype,{getPrototypeOf:cG}=Object,SA=(e=>t=>{const n=fee.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ui=e=>(e=e.toLowerCase(),t=>SA(t)===e),ZA=e=>t=>typeof t===e,{isArray:Tg}=Array,im=ZA("undefined");function mee(e){return e!==null&&!im(e)&&e.constructor!==null&&!im(e.constructor)&&Eo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const a4=Ui("ArrayBuffer");function Iee(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&a4(e.buffer),t}const hee=ZA("string"),Eo=ZA("function"),l4=ZA("number"),wA=e=>e!==null&&typeof e=="object",Cee=e=>e===!0||e===!1,dC=e=>{if(SA(e)!=="object")return!1;const t=cG(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},pee=Ui("Date"),Aee=Ui("File"),bee=Ui("Blob"),vee=Ui("FileList"),yee=e=>wA(e)&&Eo(e.pipe),xee=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Eo(e.append)&&((t=SA(e))==="formdata"||t==="object"&&Eo(e.toString)&&e.toString()==="[object FormData]"))},See=Ui("URLSearchParams"),Zee=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function rI(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),Tg(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let l;for(r=0;r<a;r++)l=i[r],t.call(null,e[l],l,e)}}function s4(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const c4=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),u4=e=>!im(e)&&e!==c4;function ux(){const{caseless:e}=u4(this)&&this||{},t={},n=(r,o)=>{const i=e&&s4(t,o)||o;dC(t[i])&&dC(r)?t[i]=ux(t[i],r):dC(r)?t[i]=ux({},r):Tg(r)?t[i]=r.slice():t[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&rI(arguments[r],n);return t}const wee=(e,t,n,{allOwnKeys:r}={})=>(rI(t,(o,i)=>{n&&Eo(o)?e[i]=i4(o,n):e[i]=o},{allOwnKeys:r}),e),Gee=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Bee=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},kee=(e,t,n,r)=>{let o,i,a;const l={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],(!r||r(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=n!==!1&&cG(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Ree=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Vee=e=>{if(!e)return null;if(Tg(e))return e;let t=e.length;if(!l4(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Wee=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&cG(Uint8Array)),Nee=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=r.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},Eee=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Xee=Ui("HTMLFormElement"),Jee=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),jV=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Yee=Ui("RegExp"),g4=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};rI(n,(o,i)=>{let a;(a=t(o,i,e))!==!1&&(r[i]=a||o)}),Object.defineProperties(e,r)},Hee=e=>{g4(e,(t,n)=>{if(Eo(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Eo(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Fee=(e,t)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return Tg(e)?r(e):r(String(e).split(t)),n},Mee=()=>{},jee=(e,t)=>(e=+e,Number.isFinite(e)?e:t),gy="abcdefghijklmnopqrstuvwxyz",TV="0123456789",d4={DIGIT:TV,ALPHA:gy,ALPHA_DIGIT:gy+gy.toUpperCase()+TV},Tee=(e=16,t=d4.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function Lee(e){return!!(e&&Eo(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Kee=e=>{const t=new Array(10),n=(r,o)=>{if(wA(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;const i=Tg(r)?[]:{};return rI(r,(a,l)=>{const s=n(a,o+1);!im(s)&&(i[l]=s)}),t[o]=void 0,i}}return r};return n(e,0)},Oee=Ui("AsyncFunction"),Pee=e=>e&&(wA(e)||Eo(e))&&Eo(e.then)&&Eo(e.catch),de={isArray:Tg,isArrayBuffer:a4,isBuffer:mee,isFormData:xee,isArrayBufferView:Iee,isString:hee,isNumber:l4,isBoolean:Cee,isObject:wA,isPlainObject:dC,isUndefined:im,isDate:pee,isFile:Aee,isBlob:bee,isRegExp:Yee,isFunction:Eo,isStream:yee,isURLSearchParams:See,isTypedArray:Wee,isFileList:vee,forEach:rI,merge:ux,extend:wee,trim:Zee,stripBOM:Gee,inherits:Bee,toFlatObject:kee,kindOf:SA,kindOfTest:Ui,endsWith:Ree,toArray:Vee,forEachEntry:Nee,matchAll:Eee,isHTMLForm:Xee,hasOwnProperty:jV,hasOwnProp:jV,reduceDescriptors:g4,freezeMethods:Hee,toObjectSet:Fee,toCamelCase:Jee,noop:Mee,toFiniteNumber:jee,findKey:s4,global:c4,isContextDefined:u4,ALPHABET:d4,generateString:Tee,isSpecCompliantForm:Lee,toJSONObject:Kee,isAsyncFn:Oee,isThenable:Pee};function ct(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}de.inherits(ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:de.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const f4=ct.prototype,m4={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{m4[e]={value:e}});Object.defineProperties(ct,m4);Object.defineProperty(f4,"isAxiosError",{value:!0});ct.from=(e,t,n,r,o,i)=>{const a=Object.create(f4);return de.toFlatObject(e,a,function(s){return s!==Error.prototype},l=>l!=="isAxiosError"),ct.call(a,e.message,t,n,r,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const Dee=null;function gx(e){return de.isPlainObject(e)||de.isArray(e)}function I4(e){return de.endsWith(e,"[]")?e.slice(0,-2):e}function LV(e,t,n){return e?e.concat(t).map(function(o,i){return o=I4(o),!n&&i?"["+o+"]":o}).join(n?".":""):t}function zee(e){return de.isArray(e)&&!e.some(gx)}const Uee=de.toFlatObject(de,{},null,function(t){return/^is[A-Z]/.test(t)});function GA(e,t,n){if(!de.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=de.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,A){return!de.isUndefined(A[h])});const r=n.metaTokens,o=n.visitor||u,i=n.dots,a=n.indexes,s=(n.Blob||typeof Blob<"u"&&Blob)&&de.isSpecCompliantForm(t);if(!de.isFunction(o))throw new TypeError("visitor must be a function");function c(I){if(I===null)return"";if(de.isDate(I))return I.toISOString();if(!s&&de.isBlob(I))throw new ct("Blob is not supported. Use a Buffer instead.");return de.isArrayBuffer(I)||de.isTypedArray(I)?s&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function u(I,h,A){let C=I;if(I&&!A&&typeof I=="object"){if(de.endsWith(h,"{}"))h=r?h:h.slice(0,-2),I=JSON.stringify(I);else if(de.isArray(I)&&zee(I)||(de.isFileList(I)||de.endsWith(h,"[]"))&&(C=de.toArray(I)))return h=I4(h),C.forEach(function(v,y){!(de.isUndefined(v)||v===null)&&t.append(a===!0?LV([h],y,i):a===null?h:h+"[]",c(v))}),!1}return gx(I)?!0:(t.append(LV(A,h,i),c(I)),!1)}const g=[],d=Object.assign(Uee,{defaultVisitor:u,convertValue:c,isVisitable:gx});function m(I,h){if(!de.isUndefined(I)){if(g.indexOf(I)!==-1)throw Error("Circular reference detected in "+h.join("."));g.push(I),de.forEach(I,function(C,p){(!(de.isUndefined(C)||C===null)&&o.call(t,C,de.isString(p)?p.trim():p,h,d))===!0&&m(C,h?h.concat(p):[p])}),g.pop()}}if(!de.isObject(e))throw new TypeError("data must be an object");return m(e),t}function KV(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function uG(e,t){this._pairs=[],e&&GA(e,this,t)}const h4=uG.prototype;h4.append=function(t,n){this._pairs.push([t,n])};h4.toString=function(t){const n=t?function(r){return t.call(this,r,KV)}:KV;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function _ee(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function C4(e,t,n){if(!t)return e;const r=n&&n.encode||_ee,o=n&&n.serialize;let i;if(o?i=o(t,n):i=de.isURLSearchParams(t)?t.toString():new uG(t,n).toString(r),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Qee{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){de.forEach(this.handlers,function(r){r!==null&&t(r)})}}const OV=Qee,p4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$ee=typeof URLSearchParams<"u"?URLSearchParams:uG,qee=typeof FormData<"u"?FormData:null,ete=typeof Blob<"u"?Blob:null,tte={isBrowser:!0,classes:{URLSearchParams:$ee,FormData:qee,Blob:ete},protocols:["http","https","file","blob","url","data"]},A4=typeof window<"u"&&typeof document<"u",nte=(e=>A4&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),rte=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ote=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:A4,hasStandardBrowserEnv:nte,hasStandardBrowserWebWorkerEnv:rte},Symbol.toStringTag,{value:"Module"})),wi={...ote,...tte};function ite(e,t){return GA(e,new wi.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,i){return wi.isNode&&de.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function ate(e){return de.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function lte(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}function b4(e){function t(n,r,o,i){let a=n[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),s=i>=n.length;return a=!a&&de.isArray(o)?o.length:a,s?(de.hasOwnProp(o,a)?o[a]=[o[a],r]:o[a]=r,!l):((!o[a]||!de.isObject(o[a]))&&(o[a]=[]),t(n,r,o[a],i)&&de.isArray(o[a])&&(o[a]=lte(o[a])),!l)}if(de.isFormData(e)&&de.isFunction(e.entries)){const n={};return de.forEachEntry(e,(r,o)=>{t(ate(r),o,n,0)}),n}return null}function ste(e,t,n){if(de.isString(e))try{return(t||JSON.parse)(e),de.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const gG={transitional:p4,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=de.isObject(t);if(i&&de.isHTMLForm(t)&&(t=new FormData(t)),de.isFormData(t))return o&&o?JSON.stringify(b4(t)):t;if(de.isArrayBuffer(t)||de.isBuffer(t)||de.isStream(t)||de.isFile(t)||de.isBlob(t))return t;if(de.isArrayBufferView(t))return t.buffer;if(de.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ite(t,this.formSerializer).toString();if((l=de.isFileList(t))||r.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return GA(l?{"files[]":t}:t,s&&new s,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),ste(t)):t}],transformResponse:[function(t){const n=this.transitional||gG.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(t&&de.isString(t)&&(r&&!this.responseType||o)){const a=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(l){if(a)throw l.name==="SyntaxError"?ct.from(l,ct.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wi.classes.FormData,Blob:wi.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};de.forEach(["delete","get","head","post","put","patch"],e=>{gG.headers[e]={}});const dG=gG,cte=de.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ute=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(a){o=a.indexOf(":"),n=a.substring(0,o).trim().toLowerCase(),r=a.substring(o+1).trim(),!(!n||t[n]&&cte[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},PV=Symbol("internals");function Sd(e){return e&&String(e).trim().toLowerCase()}function fC(e){return e===!1||e==null?e:de.isArray(e)?e.map(fC):String(e)}function gte(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const dte=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function dy(e,t,n,r,o){if(de.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!de.isString(t)){if(de.isString(r))return t.indexOf(r)!==-1;if(de.isRegExp(r))return r.test(t)}}function fte(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function mte(e,t){const n=de.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,i,a){return this[r].call(this,t,o,i,a)},configurable:!0})})}class BA{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function i(l,s,c){const u=Sd(s);if(!u)throw new Error("header name must be a non-empty string");const g=de.findKey(o,u);(!g||o[g]===void 0||c===!0||c===void 0&&o[g]!==!1)&&(o[g||s]=fC(l))}const a=(l,s)=>de.forEach(l,(c,u)=>i(c,u,s));return de.isPlainObject(t)||t instanceof this.constructor?a(t,n):de.isString(t)&&(t=t.trim())&&!dte(t)?a(ute(t),n):t!=null&&i(n,t,r),this}get(t,n){if(t=Sd(t),t){const r=de.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return gte(o);if(de.isFunction(n))return n.call(this,o,r);if(de.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Sd(t),t){const r=de.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||dy(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function i(a){if(a=Sd(a),a){const l=de.findKey(r,a);l&&(!n||dy(r,r[l],l,n))&&(delete r[l],o=!0)}}return de.isArray(t)?t.forEach(i):i(t),o}clear(t){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!t||dy(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const n=this,r={};return de.forEach(this,(o,i)=>{const a=de.findKey(r,i);if(a){n[a]=fC(o),delete n[i];return}const l=t?fte(i):String(i).trim();l!==i&&delete n[i],n[l]=fC(o),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return de.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&de.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[PV]=this[PV]={accessors:{}}).accessors,o=this.prototype;function i(a){const l=Sd(a);r[l]||(mte(o,a),r[l]=!0)}return de.isArray(t)?t.forEach(i):i(t),this}}BA.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);de.reduceDescriptors(BA.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});de.freezeMethods(BA);const Ca=BA;function fy(e,t){const n=this||dG,r=t||n,o=Ca.from(r.headers);let i=r.data;return de.forEach(e,function(l){i=l.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function v4(e){return!!(e&&e.__CANCEL__)}function oI(e,t,n){ct.call(this,e??"canceled",ct.ERR_CANCELED,t,n),this.name="CanceledError"}de.inherits(oI,ct,{__CANCEL__:!0});function Ite(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ct("Request failed with status code "+n.status,[ct.ERR_BAD_REQUEST,ct.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const hte=wi.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const a=[e+"="+encodeURIComponent(t)];de.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),de.isString(r)&&a.push("path="+r),de.isString(o)&&a.push("domain="+o),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Cte(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function pte(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function y4(e,t){return e&&!Cte(t)?pte(e,t):t}const Ate=wi.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function o(i){let a=i;return t&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=o(window.location.href),function(a){const l=de.isString(a)?o(a):a;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function bte(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function vte(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,i=0,a;return t=t!==void 0?t:1e3,function(s){const c=Date.now(),u=r[i];a||(a=c),n[o]=s,r[o]=c;let g=i,d=0;for(;g!==o;)d+=n[g++],g=g%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),c-a<t)return;const m=u&&c-u;return m?Math.round(d*1e3/m):void 0}}function DV(e,t){let n=0;const r=vte(50,250);return o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,l=i-n,s=r(l),c=i<=a;n=i;const u={loaded:i,total:a,progress:a?i/a:void 0,bytes:l,rate:s||void 0,estimated:s&&a&&c?(a-i)/s:void 0,event:o};u[t?"download":"upload"]=!0,e(u)}}const yte=typeof XMLHttpRequest<"u",xte=yte&&function(e){return new Promise(function(n,r){let o=e.data;const i=Ca.from(e.headers).normalize();let{responseType:a,withXSRFToken:l}=e,s;function c(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}let u;if(de.isFormData(o)){if(wi.hasStandardBrowserEnv||wi.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((u=i.getContentType())!==!1){const[h,...A]=u?u.split(";").map(C=>C.trim()).filter(Boolean):[];i.setContentType([h||"multipart/form-data",...A].join("; "))}}let g=new XMLHttpRequest;if(e.auth){const h=e.auth.username||"",A=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(h+":"+A))}const d=y4(e.baseURL,e.url);g.open(e.method.toUpperCase(),C4(d,e.params,e.paramsSerializer),!0),g.timeout=e.timeout;function m(){if(!g)return;const h=Ca.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),C={data:!a||a==="text"||a==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:h,config:e,request:g};Ite(function(v){n(v),c()},function(v){r(v),c()},C),g=null}if("onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(m)},g.onabort=function(){g&&(r(new ct("Request aborted",ct.ECONNABORTED,e,g)),g=null)},g.onerror=function(){r(new ct("Network Error",ct.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let A=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const C=e.transitional||p4;e.timeoutErrorMessage&&(A=e.timeoutErrorMessage),r(new ct(A,C.clarifyTimeoutError?ct.ETIMEDOUT:ct.ECONNABORTED,e,g)),g=null},wi.hasStandardBrowserEnv&&(l&&de.isFunction(l)&&(l=l(e)),l||l!==!1&&Ate(d))){const h=e.xsrfHeaderName&&e.xsrfCookieName&&hte.read(e.xsrfCookieName);h&&i.set(e.xsrfHeaderName,h)}o===void 0&&i.setContentType(null),"setRequestHeader"in g&&de.forEach(i.toJSON(),function(A,C){g.setRequestHeader(C,A)}),de.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),a&&a!=="json"&&(g.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&g.addEventListener("progress",DV(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",DV(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=h=>{g&&(r(!h||h.type?new oI(null,e,g):h),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const I=bte(d);if(I&&wi.protocols.indexOf(I)===-1){r(new ct("Unsupported protocol "+I+":",ct.ERR_BAD_REQUEST,e));return}g.send(o||null)})},dx={http:Dee,xhr:xte};de.forEach(dx,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const zV=e=>`- ${e}`,Ste=e=>de.isFunction(e)||e===null||e===!1,x4={getAdapter:e=>{e=de.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){n=e[i];let a;if(r=n,!Ste(n)&&(r=dx[(a=String(n)).toLowerCase()],r===void 0))throw new ct(`Unknown adapter '${a}'`);if(r)break;o[a||"#"+i]=r}if(!r){const i=Object.entries(o).map(([l,s])=>`adapter ${l} `+(s===!1?"is not supported by the environment":"is not available in the build"));let a=t?i.length>1?`since :
`+i.map(zV).join(`
`):" "+zV(i[0]):"as no adapter specified";throw new ct("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:dx};function my(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new oI(null,e)}function UV(e){return my(e),e.headers=Ca.from(e.headers),e.data=fy.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),x4.getAdapter(e.adapter||dG.adapter)(e).then(function(r){return my(e),r.data=fy.call(e,e.transformResponse,r),r.headers=Ca.from(r.headers),r},function(r){return v4(r)||(my(e),r&&r.response&&(r.response.data=fy.call(e,e.transformResponse,r.response),r.response.headers=Ca.from(r.response.headers))),Promise.reject(r)})}const _V=e=>e instanceof Ca?e.toJSON():e;function Qu(e,t){t=t||{};const n={};function r(c,u,g){return de.isPlainObject(c)&&de.isPlainObject(u)?de.merge.call({caseless:g},c,u):de.isPlainObject(u)?de.merge({},u):de.isArray(u)?u.slice():u}function o(c,u,g){if(de.isUndefined(u)){if(!de.isUndefined(c))return r(void 0,c,g)}else return r(c,u,g)}function i(c,u){if(!de.isUndefined(u))return r(void 0,u)}function a(c,u){if(de.isUndefined(u)){if(!de.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function l(c,u,g){if(g in t)return r(c,u);if(g in e)return r(void 0,c)}const s={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(c,u)=>o(_V(c),_V(u),!0)};return de.forEach(Object.keys(Object.assign({},e,t)),function(u){const g=s[u]||o,d=g(e[u],t[u],u);de.isUndefined(d)&&g!==l||(n[u]=d)}),n}const S4="1.6.5",fG={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{fG[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const QV={};fG.transitional=function(t,n,r){function o(i,a){return"[Axios v"+S4+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,l)=>{if(t===!1)throw new ct(o(a," has been removed"+(n?" in "+n:"")),ct.ERR_DEPRECATED);return n&&!QV[a]&&(QV[a]=!0,console.warn(o(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,a,l):!0}};function Zte(e,t,n){if(typeof e!="object")throw new ct("options must be an object",ct.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const l=e[i],s=l===void 0||a(l,i,e);if(s!==!0)throw new ct("option "+i+" must be "+s,ct.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ct("Unknown option "+i,ct.ERR_BAD_OPTION)}}const fx={assertOptions:Zte,validators:fG},za=fx.validators;class sp{constructor(t){this.defaults=t,this.interceptors={request:new OV,response:new OV}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Qu(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&fx.assertOptions(r,{silentJSONParsing:za.transitional(za.boolean),forcedJSONParsing:za.transitional(za.boolean),clarifyTimeoutError:za.transitional(za.boolean)},!1),o!=null&&(de.isFunction(o)?n.paramsSerializer={serialize:o}:fx.assertOptions(o,{encode:za.function,serialize:za.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&de.merge(i.common,i[n.method]);i&&de.forEach(["delete","get","head","post","put","patch","common"],I=>{delete i[I]}),n.headers=Ca.concat(a,i);const l=[];let s=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(n)===!1||(s=s&&h.synchronous,l.unshift(h.fulfilled,h.rejected))});const c=[];this.interceptors.response.forEach(function(h){c.push(h.fulfilled,h.rejected)});let u,g=0,d;if(!s){const I=[UV.bind(this),void 0];for(I.unshift.apply(I,l),I.push.apply(I,c),d=I.length,u=Promise.resolve(n);g<d;)u=u.then(I[g++],I[g++]);return u}d=l.length;let m=n;for(g=0;g<d;){const I=l[g++],h=l[g++];try{m=I(m)}catch(A){h.call(this,A);break}}try{u=UV.call(this,m)}catch(I){return Promise.reject(I)}for(g=0,d=c.length;g<d;)u=u.then(c[g++],c[g++]);return u}getUri(t){t=Qu(this.defaults,t);const n=y4(t.baseURL,t.url);return C4(n,t.params,t.paramsSerializer)}}de.forEach(["delete","get","head","options"],function(t){sp.prototype[t]=function(n,r){return this.request(Qu(r||{},{method:t,url:n,data:(r||{}).data}))}});de.forEach(["post","put","patch"],function(t){function n(r){return function(i,a,l){return this.request(Qu(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}sp.prototype[t]=n(),sp.prototype[t+"Form"]=n(!0)});const mC=sp;class mG{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const a=new Promise(l=>{r.subscribe(l),i=l}).then(o);return a.cancel=function(){r.unsubscribe(i)},a},t(function(i,a,l){r.reason||(r.reason=new oI(i,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new mG(function(o){t=o}),cancel:t}}}const wte=mG;function Gte(e){return function(n){return e.apply(null,n)}}function Bte(e){return de.isObject(e)&&e.isAxiosError===!0}const mx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mx).forEach(([e,t])=>{mx[t]=e});const kte=mx;function Z4(e){const t=new mC(e),n=i4(mC.prototype.request,t);return de.extend(n,mC.prototype,t,{allOwnKeys:!0}),de.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return Z4(Qu(e,o))},n}const vn=Z4(dG);vn.Axios=mC;vn.CanceledError=oI;vn.CancelToken=wte;vn.isCancel=v4;vn.VERSION=S4;vn.toFormData=GA;vn.AxiosError=ct;vn.Cancel=vn.CanceledError;vn.all=function(t){return Promise.all(t)};vn.spread=Gte;vn.isAxiosError=Bte;vn.mergeConfig=Qu;vn.AxiosHeaders=Ca;vn.formToJSON=e=>b4(de.isHTMLForm(e)?new FormData(e):e);vn.getAdapter=x4.getAdapter;vn.HttpStatusCode=kte;vn.default=vn;const ve=vn;var Rte=e=>{switch(e){case"success":return Nte;case"info":return Xte;case"warning":return Ete;case"error":return Jte;default:return null}},Vte=Array(12).fill(0),Wte=({visible:e})=>G.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},G.createElement("div",{className:"sonner-spinner"},Vte.map((t,n)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Nte=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Ete=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Xte=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Jte=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Yte=()=>{let[e,t]=G.useState(document.hidden);return G.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Ix=1,Hte=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:r,...o}=t,i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Ix++,a=this.toasts.find(s=>s.id===i),l=t.dismissible===void 0?!0:t.dismissible;return a?this.toasts=this.toasts.map(s=>s.id===i?(this.publish({...s,...t,id:i,title:r}),{...s,...t,id:i,dismissible:l,title:r}):s):this.addToast({title:r,...o,dismissible:l,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let o=t instanceof Promise?t:t(),i=r!==void 0;return o.then(async a=>{if(Mte(a)&&!a.ok){i=!1;let l=typeof n.error=="function"?await n.error(`HTTP error! status: ${a.status}`):n.error,s=typeof n.description=="function"?await n.description(`HTTP error! status: ${a.status}`):n.description;this.create({id:r,type:"error",message:l,description:s})}else if(n.success!==void 0){i=!1;let l=typeof n.success=="function"?await n.success(a):n.success,s=typeof n.description=="function"?await n.description(a):n.description;this.create({id:r,type:"success",message:l,description:s})}}).catch(async a=>{if(n.error!==void 0){i=!1;let l=typeof n.error=="function"?await n.error(a):n.error,s=typeof n.description=="function"?await n.description(a):n.description;this.create({id:r,type:"error",message:l,description:s})}}).finally(()=>{var a;i&&(this.dismiss(r),r=void 0),(a=n.finally)==null||a.call(n)}),r},this.custom=(t,n)=>{let r=(n==null?void 0:n.id)||Ix++;return this.create({jsx:t(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},Pr=new Hte,Fte=(e,t)=>{let n=(t==null?void 0:t.id)||Ix++;return Pr.addToast({title:e,...t,id:n}),n},Mte=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",jte=Fte,Tte=()=>Pr.toasts,Re=Object.assign(jte,{success:Pr.success,info:Pr.info,warning:Pr.warning,error:Pr.error,custom:Pr.custom,message:Pr.message,promise:Pr.promise,dismiss:Pr.dismiss,loading:Pr.loading},{getHistory:Tte});function Lte(e,{insertAt:t}={}){if(!e||typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Lte(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function mh(e){return e.label!==void 0}var Kte=3,Ote="32px",Pte=4e3,Dte=356,zte=14,Ute=20,_te=200;function Qte(...e){return e.filter(Boolean).join(" ")}var $te=e=>{var t,n,r,o,i,a,l,s,c,u;let{invert:g,toast:d,unstyled:m,interacting:I,setHeights:h,visibleToasts:A,heights:C,index:p,toasts:v,expanded:y,removeToast:x,defaultRichColors:S,closeButton:B,style:Z,cancelButtonStyle:R,actionButtonStyle:w,className:k="",descriptionClassName:V="",duration:W,position:N,gap:X,loadingIcon:J,expandByDefault:E,classNames:F,icons:H,closeButtonAriaLabel:M="Close toast",pauseWhenPageIsHidden:Y,cn:T}=e,[O,P]=G.useState(!1),[L,j]=G.useState(!1),[D,$]=G.useState(!1),[K,z]=G.useState(!1),[_,U]=G.useState(0),[te,ie]=G.useState(0),re=G.useRef(null),se=G.useRef(null),ce=p===0,q=p+1<=A,ee=d.type,oe=d.dismissible!==!1,ae=d.className||"",ne=d.descriptionClassName||"",fe=G.useMemo(()=>C.findIndex(Be=>Be.toastId===d.id)||0,[C,d.id]),le=G.useMemo(()=>{var Be;return(Be=d.closeButton)!=null?Be:B},[d.closeButton,B]),be=G.useMemo(()=>d.duration||W||Pte,[d.duration,W]),ye=G.useRef(0),Fe=G.useRef(0),ue=G.useRef(0),Se=G.useRef(null),[ke,Oe]=N.split("-"),Ct=G.useMemo(()=>C.reduce((Be,Ke,Pe)=>Pe>=fe?Be:Be+Ke.height,0),[C,fe]),Gt=Yte(),gn=d.invert||g,xn=ee==="loading";Fe.current=G.useMemo(()=>fe*X+Ct,[fe,Ct]),G.useEffect(()=>{P(!0)},[]),G.useLayoutEffect(()=>{if(!O)return;let Be=se.current,Ke=Be.style.height;Be.style.height="auto";let Pe=Be.getBoundingClientRect().height;Be.style.height=Ke,ie(Pe),h(Ln=>Ln.find(zt=>zt.toastId===d.id)?Ln.map(zt=>zt.toastId===d.id?{...zt,height:Pe}:zt):[{toastId:d.id,height:Pe,position:d.position},...Ln])},[O,d.title,d.description,h,d.id]);let dn=G.useCallback(()=>{j(!0),U(Fe.current),h(Be=>Be.filter(Ke=>Ke.toastId!==d.id)),setTimeout(()=>{x(d)},_te)},[d,x,h,Fe]);G.useEffect(()=>{if(d.promise&&ee==="loading"||d.duration===1/0||d.type==="loading")return;let Be,Ke=be;return y||I||Y&&Gt?(()=>{if(ue.current<ye.current){let Pe=new Date().getTime()-ye.current;Ke=Ke-Pe}ue.current=new Date().getTime()})():Ke!==1/0&&(ye.current=new Date().getTime(),Be=setTimeout(()=>{var Pe;(Pe=d.onAutoClose)==null||Pe.call(d,d),dn()},Ke)),()=>clearTimeout(Be)},[y,I,E,d,be,dn,d.promise,ee,Y,Gt]),G.useEffect(()=>{let Be=se.current;if(Be){let Ke=Be.getBoundingClientRect().height;return ie(Ke),h(Pe=>[{toastId:d.id,height:Ke,position:d.position},...Pe]),()=>h(Pe=>Pe.filter(Ln=>Ln.toastId!==d.id))}},[h,d.id]),G.useEffect(()=>{d.delete&&dn()},[dn,d.delete]);function It(){return H!=null&&H.loading?G.createElement("div",{className:"sonner-loader","data-visible":ee==="loading"},H.loading):J?G.createElement("div",{className:"sonner-loader","data-visible":ee==="loading"},J):G.createElement(Wte,{visible:ee==="loading"})}return G.createElement("li",{"aria-live":d.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:se,className:T(k,ae,F==null?void 0:F.toast,(t=d==null?void 0:d.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[ee],(n=d==null?void 0:d.classNames)==null?void 0:n[ee]),"data-sonner-toast":"","data-rich-colors":(r=d.richColors)!=null?r:S,"data-styled":!(d.jsx||d.unstyled||m),"data-mounted":O,"data-promise":!!d.promise,"data-removed":L,"data-visible":q,"data-y-position":ke,"data-x-position":Oe,"data-index":p,"data-front":ce,"data-swiping":D,"data-dismissible":oe,"data-type":ee,"data-invert":gn,"data-swipe-out":K,"data-expanded":!!(y||E&&O),style:{"--index":p,"--toasts-before":p,"--z-index":v.length-p,"--offset":`${L?_:Fe.current}px`,"--initial-height":E?"auto":`${te}px`,...Z,...d.style},onPointerDown:Be=>{xn||!oe||(re.current=new Date,U(Fe.current),Be.target.setPointerCapture(Be.pointerId),Be.target.tagName!=="BUTTON"&&($(!0),Se.current={x:Be.clientX,y:Be.clientY}))},onPointerUp:()=>{var Be,Ke,Pe,Ln;if(K||!oe)return;Se.current=null;let zt=Number(((Be=se.current)==null?void 0:Be.style.getPropertyValue("--swipe-amount").replace("px",""))||0),qn=new Date().getTime()-((Ke=re.current)==null?void 0:Ke.getTime()),zo=Math.abs(zt)/qn;if(Math.abs(zt)>=Ute||zo>.11){U(Fe.current),(Pe=d.onDismiss)==null||Pe.call(d,d),dn(),z(!0);return}(Ln=se.current)==null||Ln.style.setProperty("--swipe-amount","0px"),$(!1)},onPointerMove:Be=>{var Ke;if(!Se.current||!oe)return;let Pe=Be.clientY-Se.current.y,Ln=Be.clientX-Se.current.x,zt=(ke==="top"?Math.min:Math.max)(0,Pe),qn=Be.pointerType==="touch"?10:2;Math.abs(zt)>qn?(Ke=se.current)==null||Ke.style.setProperty("--swipe-amount",`${Pe}px`):Math.abs(Ln)>qn&&(Se.current=null)}},le&&!d.jsx?G.createElement("button",{"aria-label":M,"data-disabled":xn,"data-close-button":!0,onClick:xn||!oe?()=>{}:()=>{var Be;dn(),(Be=d.onDismiss)==null||Be.call(d,d)},className:T(F==null?void 0:F.closeButton,(o=d==null?void 0:d.classNames)==null?void 0:o.closeButton)},G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,d.jsx||G.isValidElement(d.title)?d.jsx||d.title:G.createElement(G.Fragment,null,ee||d.icon||d.promise?G.createElement("div",{"data-icon":"",className:T(F==null?void 0:F.icon,(i=d==null?void 0:d.classNames)==null?void 0:i.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||It():null,d.type!=="loading"?d.icon||(H==null?void 0:H[ee])||Rte(ee):null):null,G.createElement("div",{"data-content":"",className:T(F==null?void 0:F.content,(a=d==null?void 0:d.classNames)==null?void 0:a.content)},G.createElement("div",{"data-title":"",className:T(F==null?void 0:F.title,(l=d==null?void 0:d.classNames)==null?void 0:l.title)},d.title),d.description?G.createElement("div",{"data-description":"",className:T(V,ne,F==null?void 0:F.description,(s=d==null?void 0:d.classNames)==null?void 0:s.description)},d.description):null),G.isValidElement(d.cancel)?d.cancel:d.cancel&&mh(d.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||R,onClick:Be=>{var Ke,Pe;mh(d.cancel)&&oe&&((Pe=(Ke=d.cancel).onClick)==null||Pe.call(Ke,Be),dn())},className:T(F==null?void 0:F.cancelButton,(c=d==null?void 0:d.classNames)==null?void 0:c.cancelButton)},d.cancel.label):null,G.isValidElement(d.action)?d.action:d.action&&mh(d.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||w,onClick:Be=>{var Ke,Pe;mh(d.action)&&(Be.defaultPrevented||((Pe=(Ke=d.action).onClick)==null||Pe.call(Ke,Be),dn()))},className:T(F==null?void 0:F.actionButton,(u=d==null?void 0:d.classNames)==null?void 0:u.actionButton)},d.action.label):null))};function $V(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var Mn=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:l,theme:s="light",richColors:c,duration:u,style:g,visibleToasts:d=Kte,toastOptions:m,dir:I=$V(),gap:h=zte,loadingIcon:A,icons:C,containerAriaLabel:p="Notifications",pauseWhenPageIsHidden:v,cn:y=Qte}=e,[x,S]=G.useState([]),B=G.useMemo(()=>Array.from(new Set([n].concat(x.filter(Y=>Y.position).map(Y=>Y.position)))),[x,n]),[Z,R]=G.useState([]),[w,k]=G.useState(!1),[V,W]=G.useState(!1),[N,X]=G.useState(s!=="system"?s:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=G.useRef(null),E=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=G.useRef(null),H=G.useRef(!1),M=G.useCallback(Y=>{var T;(T=x.find(O=>O.id===Y.id))!=null&&T.delete||Pr.dismiss(Y.id),S(O=>O.filter(({id:P})=>P!==Y.id))},[x]);return G.useEffect(()=>Pr.subscribe(Y=>{if(Y.dismiss){S(T=>T.map(O=>O.id===Y.id?{...O,delete:!0}:O));return}setTimeout(()=>{_s.flushSync(()=>{S(T=>{let O=T.findIndex(P=>P.id===Y.id);return O!==-1?[...T.slice(0,O),{...T[O],...Y},...T.slice(O+1)]:[Y,...T]})})})}),[]),G.useEffect(()=>{if(s!=="system"){X(s);return}s==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:Y})=>{X(Y?"dark":"light")})},[s]),G.useEffect(()=>{x.length<=1&&k(!1)},[x]),G.useEffect(()=>{let Y=T=>{var O,P;r.every(L=>T[L]||T.code===L)&&(k(!0),(O=J.current)==null||O.focus()),T.code==="Escape"&&(document.activeElement===J.current||(P=J.current)!=null&&P.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[r]),G.useEffect(()=>{if(J.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,H.current=!1)}},[J.current]),x.length?G.createElement("section",{"aria-label":`${p} ${E}`,tabIndex:-1},B.map((Y,T)=>{var O;let[P,L]=Y.split("-");return G.createElement("ol",{key:Y,dir:I==="auto"?$V():I,tabIndex:-1,ref:J,className:a,"data-sonner-toaster":!0,"data-theme":N,"data-y-position":P,"data-x-position":L,style:{"--front-toast-height":`${((O=Z[0])==null?void 0:O.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||Ote,"--width":`${Dte}px`,"--gap":`${h}px`,...g},onBlur:j=>{H.current&&!j.currentTarget.contains(j.relatedTarget)&&(H.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:j=>{j.target instanceof HTMLElement&&j.target.dataset.dismissible==="false"||H.current||(H.current=!0,F.current=j.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{V||k(!1)},onPointerDown:j=>{j.target instanceof HTMLElement&&j.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},x.filter(j=>!j.position&&T===0||j.position===Y).map((j,D)=>{var $,K;return G.createElement($te,{key:j.id,icons:C,index:D,toast:j,defaultRichColors:c,duration:($=m==null?void 0:m.duration)!=null?$:u,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:d,closeButton:(K=m==null?void 0:m.closeButton)!=null?K:i,interacting:V,position:Y,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:M,toasts:x.filter(z=>z.position==j.position),heights:Z.filter(z=>z.position==j.position),setHeights:R,expandByDefault:o,gap:h,loadingIcon:A,expanded:w,pauseWhenPageIsHidden:v,cn:y})}))})):null};const ss=()=>{const e="https://api.knowmeapp.com";return{createUser:async s=>{const c=new Promise(async(u,g)=>{ve.post(`${e}/api/auth/new`,s).then(d=>(d.error==null?u(d):g(d.error.response.data.msg),d),d=>(g(d.response.data.msg),d))});return Re.promise(c,{loading:"Creando usuario...",success:u=>"Usuario creado exitosamente",error:u=>u}),await c},login:async s=>await ve.post(`${e}/api/auth/`,s),renewToken:async s=>{const c=localStorage.getItem("token");return c==null?{status:500}:await ve.get(`${e}/api/auth/renew`,{headers:{"x-token":c}})},validateUser:async s=>{const c=new Promise(async(u,g)=>{ve.post(`${e}/api/auth/validate`,s).then(d=>(d.error==null?d.data.msg!="Usuario válido"?g(d.data.msg):u(d):g(d.error.response.data.msg),d),d=>(g(d.response.data.msg),d))});return Re.promise(c,{loading:"Validando usuario...",success:u=>"Usuario válido",error:u=>u}),await c},createUserByInvitation:async(s,c)=>{const u=localStorage.getItem("token"),g=await ve.post(`${e}/api/auth/user-by-invitation`,s,{headers:{"x-token":u}});if(g.data.ok){const{id:d}=g.data,m={id_organization_fk:c,id_user_fk:d,owner:parseInt(s.id_plan_fk)==9};await ve.post(`${e}/api/org_users_detail`,m,{headers:{"x-token":u}})}return g},addPlan:async(s,c,u)=>await ve.put(`${e}/api/auth/addplan/${s}`,c,{headers:{"x-token":u}}),changePassword:async s=>{const c=localStorage.getItem("token");return await ve.post(`${e}/api/auth/change`,s,{headers:{"x-token":c}})}}};var w4={},$u={};Object.defineProperty($u,"__esModule",{value:!0});$u.cssValue=$u.parseLengthAndUnit=void 0;var qte={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function G4(e){if(typeof e=="number")return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();n.includes(".")?t=parseFloat(n):t=parseInt(n,10);var r=(e.match(/[^0-9]*$/)||"").toString();return qte[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}$u.parseLengthAndUnit=G4;function ene(e){var t=G4(e);return"".concat(t.value).concat(t.unit)}$u.cssValue=ene;var kA={};Object.defineProperty(kA,"__esModule",{value:!0});kA.createAnimation=void 0;var tne=function(e,t,n){var r="react-spinners-".concat(e,"-").concat(n);if(typeof window>"u"||!window.document)return r;var o=document.createElement("style");document.head.appendChild(o);var i=o.sheet,a=`
    @keyframes `.concat(r,` {
      `).concat(t,`
    }
  `);return i&&i.insertRule(a,0),r};kA.createAnimation=tne;var cp=en&&en.__assign||function(){return cp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},cp.apply(this,arguments)},nne=en&&en.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),rne=en&&en.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),one=en&&en.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&nne(t,e,n);return rne(t,e),t},ine=en&&en.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};Object.defineProperty(w4,"__esModule",{value:!0});var ane=one(b),qV=$u,lne=kA,sne=(0,lne.createAnimation)("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function cne(e){var t=e.loading,n=t===void 0?!0:t,r=e.color,o=r===void 0?"#000000":r,i=e.speedMultiplier,a=i===void 0?1:i,l=e.cssOverride,s=l===void 0?{}:l,c=e.size,u=c===void 0?35:c,g=ine(e,["loading","color","speedMultiplier","cssOverride","size"]),d=cp({background:"transparent !important",width:(0,qV.cssValue)(u),height:(0,qV.cssValue)(u),borderRadius:"100%",border:"2px solid",borderTopColor:o,borderBottomColor:"transparent",borderLeftColor:o,borderRightColor:o,display:"inline-block",animation:"".concat(sne," ").concat(.75/a,"s 0s infinite linear"),animationFillMode:"both"},s);return n?ane.createElement("span",cp({style:d},g)):null}var une=w4.default=cne;const IG=()=>f.jsx("div",{className:"spinner-modal",children:f.jsx("div",{children:f.jsx(une,{color:"#597393",size:150})})}),kn=b.createContext({user:{}});function gne(e){return Ze({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 4H4c-1.103 0-2 .897-2 2v12c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2zm-7.5 12a2.5 2.5 0 1 1 0-5 2.47 2.47 0 0 1 1.5.512c-.604.456-1 1.173-1 1.988s.396 1.532 1 1.988a2.47 2.47 0 0 1-1.5.512zm4 0a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(e)}const B4=()=>f.jsx(f.Fragment,{children:f.jsx("div",{className:"footer-main",children:f.jsxs("div",{className:"footer-container",children:[f.jsxs("div",{className:"footer-title",children:[f.jsxs("h3",{children:[" ",f.jsxs("a",{href:"https://knowmeapp.com/",target:"_blank",rel:"noopener noreferrer",children:["Know Me"," "]})]}),f.jsxs("p",{children:["Made with 🧡 by"," ",f.jsx("a",{href:"https://inxeniux.com/",target:"_blank",rel:"noopener noreferrer",children:"INXENIUX"})]})]}),f.jsxs("div",{className:"footer-socials",children:[f.jsx("div",{children:f.jsx("a",{href:"https://www.facebook.com/share/1Cmijra9Bj/?mibextid=LQQJ4d",target:"_blank",rel:"noopener noreferrer",children:f.jsx(iG,{className:"footer-icon",href:"https://www.facebook.com/share/1Cmijra9Bj/?mibextid=LQQJ4d"})})}),f.jsx("div",{children:f.jsx("a",{href:"https://www.tiktok.com/@knowme.app?_t=8ruhpZftB1M&_r=1p",target:"_blank",rel:"noopener noreferrer",children:f.jsx(xA,{className:"footer-icon"})})}),f.jsx("div",{children:f.jsx("a",{href:"https://www.linkedin.com/showcase/knowme-app/",target:"_blank",rel:"noopener noreferrer",children:f.jsx(lG,{className:"footer-icon"})})})]})]})})});const dne={email:"",password:""},fne=()=>{const[e,t]=b.useState(!1),[n,r]=b.useState(!1),o=Zt(),{formState:i,onInputChange:a,onResetForm:l}=ls(dne),{user:s}=b.useContext(kn),c=ss(),u=()=>{t(!e)},g=async m=>{m.preventDefault(),r(!0);try{const I=await c.login(i);if(I.status==200){r(!1);const{email:h,fullname:A,id:C,id_plan_fk:p,username:v,token:y,is_superuser:x}=I.data;s.email=h,s.fullname=A,s.id=C,s.id_plan_fk=p,s.username=v,localStorage.setItem("token",y),localStorage.setItem("id",C),localStorage.setItem("fullname",A),localStorage.setItem("email",h),localStorage.setItem("id_plan",p),localStorage.setItem("is_superuser",x),I.data.paymentInfo.completed==!1?(Re.info("El pago del plan no se ha completado, asignado plan gratuito, hasta que se efectue el pago."),setTimeout(()=>{o("/home")},2e3)):I.data.register_finish===!1?(Re.info("Vamos a completar tu perfil con tu primera tarjeta."),setTimeout(()=>{o("/onboarding")},2e3)):o("/home")}}catch{Re.error("Error al iniciar sesión"),r(!1)}},d=26;return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"login-view",children:[n&&f.jsx(IG,{}),f.jsx(Mn,{richColors:!0,position:"top-right"}),f.jsxs("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8",children:[f.jsxs(pt,{children:[f.jsx(Xe,{}),f.jsx(Xe,{xs:10,md:6,children:f.jsxs("div",{className:"login-card ",children:[f.jsx("div",{className:"w-full flex justify-center",children:f.jsx("img",{src:nm,className:"cursor-pointer h-20",onClick:()=>{o("/")}})}),f.jsx("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-white",children:"Inicia sesión"}),f.jsxs("form",{onSubmit:g,children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-white",children:"Correo electrónico"}),f.jsxs("div",{className:"mt-2 flex items-center",children:[f.jsx(Qj,{size:d,color:"#FFFFFF",className:"w-10 mr-2"}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-orange-600 sm:text-sm sm:leading-6 bg-white px-2",onChange:a,placeholder:"correo electrónico"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-white",children:"Contraseña"}),f.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[f.jsx(cx,{size:d,color:"#FFFFFF",className:"w-10 mr-3"}),f.jsx("input",{id:"password",name:"password",type:e?"text":"password",autoComplete:"current-password",required:!0,value:i.password,onChange:a,placeholder:"contraseña",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 dark:text-gray-200 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset focus:ring-orange-600 sm:text-sm sm:leading-6 bg-white dark:bg-gray-800 px-2"}),e?f.jsx(bc,{size:d,color:"#ffffff",className:"cursor-pointer text-white mx-4",onClick:u}):f.jsx(vc,{size:d,color:"#ffffff",className:"cursor-pointer text-white mx-4",onClick:u})]})]}),f.jsx("div",{className:"text-sm flex justify-end my-3",children:f.jsx("span",{className:"font-semibold text-orange-400 hover:text-white cursor-pointer",onClick:()=>{o("/forgot/")},children:"¿Olvidaste tu contraseña?"})}),f.jsx(br,{className:"flex w-full justify-center rounded-md bg-orange-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-orange-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600 border-hidden",type:"submit",children:"Iniciar sesión"})]})]})}),f.jsx(Xe,{})]}),f.jsxs(pt,{className:"login-register",children:[f.jsx(Xe,{xs:12,md:12,children:"¿No tienes una cuenta?"}),f.jsx(Xe,{xs:12,md:12,children:f.jsx("span",{onClick:()=>{o("/register")},children:"Regístrate"})})]})]})]}),f.jsx(B4,{})]})};const mne={nombre:"",apellido:"",email:"",password:"",confirmacion:"",consent:!1,terms:!1},Ine=()=>{const[e,t]=b.useState(!1),[n,r]=b.useState(!1),o=Zt(),{formState:i,onInputChange:a,onResetForm:l,onCheckBoxChange:s}=ls(mne),c=()=>{t(!e)},u=async()=>{if(Object.values(i).includes("")||i.terms==!1||i.password!=i.confirmacion)r(!0);else try{const m={name:i.nombre,lastname:i.apellido,email:i.email,password:i.password,mailing_status:i.consent,terms_policies_status:i.terms};o("/plan",{state:{user:i}})}catch{}},g=26;return f.jsxs("div",{className:"register-view",children:[f.jsx(om,{className:"registro-back",size:33,color:"#FD6202",onClick:()=>{o("/login")}}),f.jsxs(pt,{children:[f.jsx(Xe,{}),f.jsx(Xe,{xs:10,md:6,children:f.jsxs("div",{className:"registro-card",children:[f.jsx("h3",{children:"Registro de sesión"}),f.jsx("h6",{children:"Crea tu cuenta de Know me"}),f.jsx("div",{className:`registro-data ${n&&i.nombre==""?"required-value":""}`,children:f.jsx("input",{type:"text",className:"registro-input",placeholder:"Nombre(s)*",onChange:a,value:i.nombre,name:"nombre"})}),f.jsx("div",{className:`registro-data ${n&&i.apellido==""?"required-value":""}`,children:f.jsx("input",{type:"text",className:"registro-input",placeholder:"Apellido(s)*",onChange:a,value:i.apellido,name:"apellido"})}),f.jsxs("div",{className:`login-email ${n&&i.email==""?"required-value":""}`,children:[f.jsx(Qj,{size:g,color:"#F18805"}),f.jsx("input",{type:"text",className:"login-email-input",placeholder:"correo electrónico",onChange:a,value:i.email,name:"email"})]}),f.jsxs("div",{className:`login-password ${n&&i.password==""?"required-value":""}`,children:[f.jsx(cx,{size:g,color:"#F18805"}),f.jsx("input",{type:e?"text":"password",className:"login-email-input",placeholder:"Contraseña*",onChange:a,value:i.password,name:"password"}),e?f.jsx(vc,{size:g,color:"#FFFFFF",className:"eye-icon",onClick:c}):f.jsx(bc,{size:g,color:"#FFFFFF",className:"eye-icon",onClick:c})]}),f.jsxs("div",{className:`login-password ${n&&i.confirmacion==""?"required-value":""}`,children:[f.jsx(cx,{size:g,color:"#F18805"}),f.jsx("input",{type:e?"text":"password",className:"login-email-input",placeholder:"Confirmar*",onChange:a,value:i.confirmacion,name:"confirmacion"}),e?f.jsx(vc,{size:g,color:"#FFFFFF",className:"eye-icon",onClick:c}):f.jsx(bc,{size:g,color:"#FFFFFF",className:"eye-icon",onClick:c})]}),f.jsxs(pt,{className:"check-box-option",children:[f.jsx(Xe,{xs:1,children:f.jsx("input",{type:"checkbox",onChange:s,checked:i.consent,name:"consent"})}),f.jsx(Xe,{children:f.jsx("span",{children:"Doy mi consentimiento y acepto recibir información sobre los servicios y novedades de Know me."})})]}),f.jsxs(pt,{className:"check-box-option",children:[f.jsx(Xe,{xs:1,children:f.jsx("input",{type:"checkbox",onChange:s,checked:i.terms,name:"terms"})}),f.jsx(Xe,{children:f.jsx("span",{children:"Al crear la cuenta de usuario aceptas los terminos y condiciones del servicio de Know me, y reconoces que has leído nuestras políticas de privacidad."})})]}),n&&f.jsx($$,{variant:"danger",className:"registro-alert",children:i.terms==!1?"Es necesario aceptar terminos y condiciones":"Favor de rellenar los campos marcados en rojo y asegurarse que las contraseñas coincidan"}),f.jsx(br,{className:"registro-btn",onClick:u,children:"Crear cuenta"})]})}),f.jsx(Xe,{})]}),f.jsx(Mn,{position:"top-center",richColors:!0})]})};function eW(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function hG(e,t){e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(t).forEach(n=>{typeof e[n]>"u"?e[n]=t[n]:eW(t[n])&&eW(e[n])&&Object.keys(t[n]).length>0&&hG(e[n],t[n])})}const k4={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Lg(){const e=typeof document<"u"?document:{};return hG(e,k4),e}const hne={document:k4,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function go(){const e=typeof window<"u"?window:{};return hG(e,hne),e}function Cne(e){return e===void 0&&(e=""),e.trim().split(" ").filter(t=>!!t.trim())}function pne(e){const t=e;Object.keys(t).forEach(n=>{try{t[n]=null}catch{}try{delete t[n]}catch{}})}function hx(e,t){return t===void 0&&(t=0),setTimeout(e,t)}function up(){return Date.now()}function Ane(e){const t=go();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}function bne(e,t){t===void 0&&(t="x");const n=go();let r,o,i;const a=Ane(e);return n.WebKitCSSMatrix?(o=a.transform||a.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(l=>l.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(o==="none"?"":o)):(i=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),t==="x"&&(n.WebKitCSSMatrix?o=i.m41:r.length===16?o=parseFloat(r[12]):o=parseFloat(r[4])),t==="y"&&(n.WebKitCSSMatrix?o=i.m42:r.length===16?o=parseFloat(r[13]):o=parseFloat(r[5])),o||0}function Ih(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function vne(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function Ur(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!vne(r)){const o=Object.keys(Object(r)).filter(i=>t.indexOf(i)<0);for(let i=0,a=o.length;i<a;i+=1){const l=o[i],s=Object.getOwnPropertyDescriptor(r,l);s!==void 0&&s.enumerable&&(Ih(e[l])&&Ih(r[l])?r[l].__swiper__?e[l]=r[l]:Ur(e[l],r[l]):!Ih(e[l])&&Ih(r[l])?(e[l]={},r[l].__swiper__?e[l]=r[l]:Ur(e[l],r[l])):e[l]=r[l])}}}return e}function hh(e,t,n){e.style.setProperty(t,n)}function R4(e){let{swiper:t,targetPosition:n,side:r}=e;const o=go(),i=-t.translate;let a=null,l;const s=t.params.speed;t.wrapperEl.style.scrollSnapType="none",o.cancelAnimationFrame(t.cssModeFrameID);const c=n>i?"next":"prev",u=(d,m)=>c==="next"&&d>=m||c==="prev"&&d<=m,g=()=>{l=new Date().getTime(),a===null&&(a=l);const d=Math.max(Math.min((l-a)/s,1),0),m=.5-Math.cos(d*Math.PI)/2;let I=i+m*(n-i);if(u(I,n)&&(I=n),t.wrapperEl.scrollTo({[r]:I}),u(I,n)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[r]:I})}),o.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=o.requestAnimationFrame(g)};g()}function Gi(e,t){return t===void 0&&(t=""),[...e.children].filter(n=>n.matches(t))}function gp(e){try{console.warn(e);return}catch{}}function dp(e,t){t===void 0&&(t=[]);const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:Cne(t)),n}function yne(e,t){const n=[];for(;e.previousElementSibling;){const r=e.previousElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}function xne(e,t){const n=[];for(;e.nextElementSibling;){const r=e.nextElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}function Al(e,t){return go().getComputedStyle(e,null).getPropertyValue(t)}function fp(e){let t=e,n;if(t){for(n=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(n+=1);return n}}function V4(e,t){const n=[];let r=e.parentElement;for(;r;)t?r.matches(t)&&n.push(r):n.push(r),r=r.parentElement;return n}function Cx(e,t,n){const r=go();return n?e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom")):e.offsetWidth}function qi(e){return(Array.isArray(e)?e:[e]).filter(t=>!!t)}let Iy;function Sne(){const e=go(),t=Lg();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function W4(){return Iy||(Iy=Sne()),Iy}let hy;function Zne(e){let{userAgent:t}=e===void 0?{}:e;const n=W4(),r=go(),o=r.navigator.platform,i=t||r.navigator.userAgent,a={ios:!1,android:!1},l=r.screen.width,s=r.screen.height,c=i.match(/(Android);?[\s\/]+([\d.]+)?/);let u=i.match(/(iPad).*OS\s([\d_]+)/);const g=i.match(/(iPod)(.*OS\s([\d_]+))?/),d=!u&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=o==="Win32";let I=o==="MacIntel";const h=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&I&&n.touch&&h.indexOf(`${l}x${s}`)>=0&&(u=i.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),I=!1),c&&!m&&(a.os="android",a.android=!0),(u||d||g)&&(a.os="ios",a.ios=!0),a}function N4(e){return e===void 0&&(e={}),hy||(hy=Zne(e)),hy}let Cy;function wne(){const e=go(),t=N4();let n=!1;function r(){const l=e.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(e.navigator.userAgent);if(l.includes("Version/")){const[s,c]=l.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=s<16||s===16&&c<2}}const o=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),i=r(),a=i||o&&t.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:a,isWebView:o}}function Gne(){return Cy||(Cy=wne()),Cy}function Bne(e){let{swiper:t,on:n,emit:r}=e;const o=go();let i=null,a=null;const l=()=>{!t||t.destroyed||!t.initialized||(r("beforeResize"),r("resize"))},s=()=>{!t||t.destroyed||!t.initialized||(i=new ResizeObserver(g=>{a=o.requestAnimationFrame(()=>{const{width:d,height:m}=t;let I=d,h=m;g.forEach(A=>{let{contentBoxSize:C,contentRect:p,target:v}=A;v&&v!==t.el||(I=p?p.width:(C[0]||C).inlineSize,h=p?p.height:(C[0]||C).blockSize)}),(I!==d||h!==m)&&l()})}),i.observe(t.el))},c=()=>{a&&o.cancelAnimationFrame(a),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null)},u=()=>{!t||t.destroyed||!t.initialized||r("orientationchange")};n("init",()=>{if(t.params.resizeObserver&&typeof o.ResizeObserver<"u"){s();return}o.addEventListener("resize",l),o.addEventListener("orientationchange",u)}),n("destroy",()=>{c(),o.removeEventListener("resize",l),o.removeEventListener("orientationchange",u)})}function kne(e){let{swiper:t,extendParams:n,on:r,emit:o}=e;const i=[],a=go(),l=function(u,g){g===void 0&&(g={});const d=a.MutationObserver||a.WebkitMutationObserver,m=new d(I=>{if(t.__preventObserver__)return;if(I.length===1){o("observerUpdate",I[0]);return}const h=function(){o("observerUpdate",I[0])};a.requestAnimationFrame?a.requestAnimationFrame(h):a.setTimeout(h,0)});m.observe(u,{attributes:typeof g.attributes>"u"?!0:g.attributes,childList:typeof g.childList>"u"?!0:g.childList,characterData:typeof g.characterData>"u"?!0:g.characterData}),i.push(m)},s=()=>{if(t.params.observer){if(t.params.observeParents){const u=V4(t.hostEl);for(let g=0;g<u.length;g+=1)l(u[g])}l(t.hostEl,{childList:t.params.observeSlideChildren}),l(t.wrapperEl,{attributes:!1})}},c=()=>{i.forEach(u=>{u.disconnect()}),i.splice(0,i.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",s),r("destroy",c)}var Rne={on(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;const o=n?"unshift":"push";return e.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][o](t)}),r},once(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;function o(){r.off(e,o),o.__emitterProxy&&delete o.__emitterProxy;for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];t.apply(r,a)}return o.__emitterProxy=t,r.on(e,o,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||e.split(" ").forEach(r=>{typeof t>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((o,i)=>{(o===t||o.__emitterProxy&&o.__emitterProxy===t)&&n.eventsListeners[r].splice(i,1)})}),n},emit(){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,n,r;for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return typeof i[0]=="string"||Array.isArray(i[0])?(t=i[0],n=i.slice(1,i.length),r=e):(t=i[0].events,n=i[0].data,r=i[0].context||e),n.unshift(r),(Array.isArray(t)?t:t.split(" ")).forEach(s=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(c=>{c.apply(r,[s,...n])}),e.eventsListeners&&e.eventsListeners[s]&&e.eventsListeners[s].forEach(c=>{c.apply(r,n)})}),e}};function Vne(){const e=this;let t,n;const r=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=r.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?n=e.params.height:n=r.clientHeight,!(t===0&&e.isHorizontal()||n===0&&e.isVertical())&&(t=t-parseInt(Al(r,"padding-left")||0,10)-parseInt(Al(r,"padding-right")||0,10),n=n-parseInt(Al(r,"padding-top")||0,10)-parseInt(Al(r,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))}function Wne(){const e=this;function t(w,k){return parseFloat(w.getPropertyValue(e.getDirectionLabel(k))||0)}const n=e.params,{wrapperEl:r,slidesEl:o,size:i,rtlTranslate:a,wrongRTL:l}=e,s=e.virtual&&n.virtual.enabled,c=s?e.virtual.slides.length:e.slides.length,u=Gi(o,`.${e.params.slideClass}, swiper-slide`),g=s?e.virtual.slides.length:u.length;let d=[];const m=[],I=[];let h=n.slidesOffsetBefore;typeof h=="function"&&(h=n.slidesOffsetBefore.call(e));let A=n.slidesOffsetAfter;typeof A=="function"&&(A=n.slidesOffsetAfter.call(e));const C=e.snapGrid.length,p=e.slidesGrid.length;let v=n.spaceBetween,y=-h,x=0,S=0;if(typeof i>"u")return;typeof v=="string"&&v.indexOf("%")>=0?v=parseFloat(v.replace("%",""))/100*i:typeof v=="string"&&(v=parseFloat(v)),e.virtualSize=-v,u.forEach(w=>{a?w.style.marginLeft="":w.style.marginRight="",w.style.marginBottom="",w.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(hh(r,"--swiper-centered-offset-before",""),hh(r,"--swiper-centered-offset-after",""));const B=n.grid&&n.grid.rows>1&&e.grid;B?e.grid.initSlides(u):e.grid&&e.grid.unsetSlides();let Z;const R=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(w=>typeof n.breakpoints[w].slidesPerView<"u").length>0;for(let w=0;w<g;w+=1){Z=0;let k;if(u[w]&&(k=u[w]),B&&e.grid.updateSlide(w,k,u),!(u[w]&&Al(k,"display")==="none")){if(n.slidesPerView==="auto"){R&&(u[w].style[e.getDirectionLabel("width")]="");const V=getComputedStyle(k),W=k.style.transform,N=k.style.webkitTransform;if(W&&(k.style.transform="none"),N&&(k.style.webkitTransform="none"),n.roundLengths)Z=e.isHorizontal()?Cx(k,"width",!0):Cx(k,"height",!0);else{const X=t(V,"width"),J=t(V,"padding-left"),E=t(V,"padding-right"),F=t(V,"margin-left"),H=t(V,"margin-right"),M=V.getPropertyValue("box-sizing");if(M&&M==="border-box")Z=X+F+H;else{const{clientWidth:Y,offsetWidth:T}=k;Z=X+J+E+F+H+(T-Y)}}W&&(k.style.transform=W),N&&(k.style.webkitTransform=N),n.roundLengths&&(Z=Math.floor(Z))}else Z=(i-(n.slidesPerView-1)*v)/n.slidesPerView,n.roundLengths&&(Z=Math.floor(Z)),u[w]&&(u[w].style[e.getDirectionLabel("width")]=`${Z}px`);u[w]&&(u[w].swiperSlideSize=Z),I.push(Z),n.centeredSlides?(y=y+Z/2+x/2+v,x===0&&w!==0&&(y=y-i/2-v),w===0&&(y=y-i/2-v),Math.abs(y)<1/1e3&&(y=0),n.roundLengths&&(y=Math.floor(y)),S%n.slidesPerGroup===0&&d.push(y),m.push(y)):(n.roundLengths&&(y=Math.floor(y)),(S-Math.min(e.params.slidesPerGroupSkip,S))%e.params.slidesPerGroup===0&&d.push(y),m.push(y),y=y+Z+v),e.virtualSize+=Z+v,x=Z,S+=1}}if(e.virtualSize=Math.max(e.virtualSize,i)+A,a&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${e.virtualSize+v}px`),n.setWrapperSize&&(r.style[e.getDirectionLabel("width")]=`${e.virtualSize+v}px`),B&&e.grid.updateWrapperSize(Z,d),!n.centeredSlides){const w=[];for(let k=0;k<d.length;k+=1){let V=d[k];n.roundLengths&&(V=Math.floor(V)),d[k]<=e.virtualSize-i&&w.push(V)}d=w,Math.floor(e.virtualSize-i)-Math.floor(d[d.length-1])>1&&d.push(e.virtualSize-i)}if(s&&n.loop){const w=I[0]+v;if(n.slidesPerGroup>1){const k=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/n.slidesPerGroup),V=w*n.slidesPerGroup;for(let W=0;W<k;W+=1)d.push(d[d.length-1]+V)}for(let k=0;k<e.virtual.slidesBefore+e.virtual.slidesAfter;k+=1)n.slidesPerGroup===1&&d.push(d[d.length-1]+w),m.push(m[m.length-1]+w),e.virtualSize+=w}if(d.length===0&&(d=[0]),v!==0){const w=e.isHorizontal()&&a?"marginLeft":e.getDirectionLabel("marginRight");u.filter((k,V)=>!n.cssMode||n.loop?!0:V!==u.length-1).forEach(k=>{k.style[w]=`${v}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let w=0;I.forEach(V=>{w+=V+(v||0)}),w-=v;const k=w-i;d=d.map(V=>V<=0?-h:V>k?k+A:V)}if(n.centerInsufficientSlides){let w=0;if(I.forEach(k=>{w+=k+(v||0)}),w-=v,w<i){const k=(i-w)/2;d.forEach((V,W)=>{d[W]=V-k}),m.forEach((V,W)=>{m[W]=V+k})}}if(Object.assign(e,{slides:u,snapGrid:d,slidesGrid:m,slidesSizesGrid:I}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){hh(r,"--swiper-centered-offset-before",`${-d[0]}px`),hh(r,"--swiper-centered-offset-after",`${e.size/2-I[I.length-1]/2}px`);const w=-e.snapGrid[0],k=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(V=>V+w),e.slidesGrid=e.slidesGrid.map(V=>V+k)}if(g!==c&&e.emit("slidesLengthChange"),d.length!==C&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),m.length!==p&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!s&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const w=`${n.containerModifierClass}backface-hidden`,k=e.el.classList.contains(w);g<=n.maxBackfaceHiddenSlides?k||e.el.classList.add(w):k&&e.el.classList.remove(w)}}function Nne(e){const t=this,n=[],r=t.virtual&&t.params.virtual.enabled;let o=0,i;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const a=l=>r?t.slides[t.getSlideIndexByData(l)]:t.slides[l];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(l=>{n.push(l)});else for(i=0;i<Math.ceil(t.params.slidesPerView);i+=1){const l=t.activeIndex+i;if(l>t.slides.length&&!r)break;n.push(a(l))}else n.push(a(t.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const l=n[i].offsetHeight;o=l>o?l:o}(o||o===0)&&(t.wrapperEl.style.height=`${o}px`)}function Ene(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let r=0;r<t.length;r+=1)t[r].swiperSlideOffset=(e.isHorizontal()?t[r].offsetLeft:t[r].offsetTop)-n-e.cssOverflowAdjustment()}function Xne(e){e===void 0&&(e=this&&this.translate||0);const t=this,n=t.params,{slides:r,rtlTranslate:o,snapGrid:i}=t;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let a=-e;o&&(a=e),r.forEach(s=>{s.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass)}),t.visibleSlidesIndexes=[],t.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*t.size:typeof l=="string"&&(l=parseFloat(l));for(let s=0;s<r.length;s+=1){const c=r[s];let u=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=r[0].swiperSlideOffset);const g=(a+(n.centeredSlides?t.minTranslate():0)-u)/(c.swiperSlideSize+l),d=(a-i[0]+(n.centeredSlides?t.minTranslate():0)-u)/(c.swiperSlideSize+l),m=-(a-u),I=m+t.slidesSizesGrid[s],h=m>=0&&m<=t.size-t.slidesSizesGrid[s];(m>=0&&m<t.size-1||I>1&&I<=t.size||m<=0&&I>=t.size)&&(t.visibleSlides.push(c),t.visibleSlidesIndexes.push(s),r[s].classList.add(n.slideVisibleClass)),h&&r[s].classList.add(n.slideFullyVisibleClass),c.progress=o?-g:g,c.originalProgress=o?-d:d}}function Jne(e){const t=this;if(typeof e>"u"){const u=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*u||0}const n=t.params,r=t.maxTranslate()-t.minTranslate();let{progress:o,isBeginning:i,isEnd:a,progressLoop:l}=t;const s=i,c=a;if(r===0)o=0,i=!0,a=!0;else{o=(e-t.minTranslate())/r;const u=Math.abs(e-t.minTranslate())<1,g=Math.abs(e-t.maxTranslate())<1;i=u||o<=0,a=g||o>=1,u&&(o=0),g&&(o=1)}if(n.loop){const u=t.getSlideIndexByData(0),g=t.getSlideIndexByData(t.slides.length-1),d=t.slidesGrid[u],m=t.slidesGrid[g],I=t.slidesGrid[t.slidesGrid.length-1],h=Math.abs(e);h>=d?l=(h-d)/I:l=(h+I-m)/I,l>1&&(l-=1)}Object.assign(t,{progress:o,progressLoop:l,isBeginning:i,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),i&&!s&&t.emit("reachBeginning toEdge"),a&&!c&&t.emit("reachEnd toEdge"),(s&&!i||c&&!a)&&t.emit("fromEdge"),t.emit("progress",o)}const py=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};function Yne(){const e=this,{slides:t,params:n,slidesEl:r,activeIndex:o}=e,i=e.virtual&&n.virtual.enabled,a=e.grid&&n.grid&&n.grid.rows>1,l=g=>Gi(r,`.${n.slideClass}${g}, swiper-slide${g}`)[0];let s,c,u;if(i)if(n.loop){let g=o-e.virtual.slidesBefore;g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),s=l(`[data-swiper-slide-index="${g}"]`)}else s=l(`[data-swiper-slide-index="${o}"]`);else a?(s=t.filter(g=>g.column===o)[0],u=t.filter(g=>g.column===o+1)[0],c=t.filter(g=>g.column===o-1)[0]):s=t[o];s&&(a||(u=xne(s,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=t[0]),c=yne(s,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=t[t.length-1]))),t.forEach(g=>{py(g,g===s,n.slideActiveClass),py(g,g===u,n.slideNextClass),py(g,g===c,n.slidePrevClass)}),e.emitSlidesClasses()}const IC=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,r=t.closest(n());if(r){let o=r.querySelector(`.${e.params.lazyPreloaderClass}`);!o&&e.isElement&&(r.shadowRoot?o=r.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(o=r.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),o&&o.remove())})),o&&o.remove()}},Ay=(e,t)=>{if(!e.slides[t])return;const n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},px=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const r=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),o=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const a=o,l=[a-t];l.push(...Array.from({length:t}).map((s,c)=>a+r+c)),e.slides.forEach((s,c)=>{l.includes(s.column)&&Ay(e,c)});return}const i=o+r-1;if(e.params.rewind||e.params.loop)for(let a=o-t;a<=i+t;a+=1){const l=(a%n+n)%n;(l<o||l>i)&&Ay(e,l)}else for(let a=Math.max(o-t,0);a<=Math.min(i+t,n-1);a+=1)a!==o&&(a>i||a<o)&&Ay(e,a)};function Hne(e){const{slidesGrid:t,params:n}=e,r=e.rtlTranslate?e.translate:-e.translate;let o;for(let i=0;i<t.length;i+=1)typeof t[i+1]<"u"?r>=t[i]&&r<t[i+1]-(t[i+1]-t[i])/2?o=i:r>=t[i]&&r<t[i+1]&&(o=i+1):r>=t[i]&&(o=i);return n.normalizeSlideIndex&&(o<0||typeof o>"u")&&(o=0),o}function Fne(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:r,params:o,activeIndex:i,realIndex:a,snapIndex:l}=t;let s=e,c;const u=m=>{let I=m-t.virtual.slidesBefore;return I<0&&(I=t.virtual.slides.length+I),I>=t.virtual.slides.length&&(I-=t.virtual.slides.length),I};if(typeof s>"u"&&(s=Hne(t)),r.indexOf(n)>=0)c=r.indexOf(n);else{const m=Math.min(o.slidesPerGroupSkip,s);c=m+Math.floor((s-m)/o.slidesPerGroup)}if(c>=r.length&&(c=r.length-1),s===i&&!t.params.loop){c!==l&&(t.snapIndex=c,t.emit("snapIndexChange"));return}if(s===i&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=u(s);return}const g=t.grid&&o.grid&&o.grid.rows>1;let d;if(t.virtual&&o.virtual.enabled&&o.loop)d=u(s);else if(g){const m=t.slides.filter(h=>h.column===s)[0];let I=parseInt(m.getAttribute("data-swiper-slide-index"),10);Number.isNaN(I)&&(I=Math.max(t.slides.indexOf(m),0)),d=Math.floor(I/o.grid.rows)}else if(t.slides[s]){const m=t.slides[s].getAttribute("data-swiper-slide-index");m?d=parseInt(m,10):d=s}else d=s;Object.assign(t,{previousSnapIndex:l,snapIndex:c,previousRealIndex:a,realIndex:d,previousIndex:i,activeIndex:s}),t.initialized&&px(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(a!==d&&t.emit("realIndexChange"),t.emit("slideChange"))}function Mne(e,t){const n=this,r=n.params;let o=e.closest(`.${r.slideClass}, swiper-slide`);!o&&n.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(l=>{!o&&l.matches&&l.matches(`.${r.slideClass}, swiper-slide`)&&(o=l)});let i=!1,a;if(o){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===o){i=!0,a=l;break}}if(o&&i)n.clickedSlide=o,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(o.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=a;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var jne={updateSize:Vne,updateSlides:Wne,updateAutoHeight:Nne,updateSlidesOffset:Ene,updateSlidesProgress:Xne,updateProgress:Jne,updateSlidesClasses:Yne,updateActiveIndex:Fne,updateClickedSlide:Mne};function Tne(e){e===void 0&&(e=this.isHorizontal()?"x":"y");const t=this,{params:n,rtlTranslate:r,translate:o,wrapperEl:i}=t;if(n.virtualTranslate)return r?-o:o;if(n.cssMode)return o;let a=bne(i,e);return a+=t.cssOverflowAdjustment(),r&&(a=-a),a||0}function Lne(e,t){const n=this,{rtlTranslate:r,params:o,wrapperEl:i,progress:a}=n;let l=0,s=0;const c=0;n.isHorizontal()?l=r?-e:e:s=e,o.roundLengths&&(l=Math.floor(l),s=Math.floor(s)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:s,o.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-s:o.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():s-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${l}px, ${s}px, ${c}px)`);let u;const g=n.maxTranslate()-n.minTranslate();g===0?u=0:u=(e-n.minTranslate())/g,u!==a&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)}function Kne(){return-this.snapGrid[0]}function One(){return-this.snapGrid[this.snapGrid.length-1]}function Pne(e,t,n,r,o){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const i=this,{params:a,wrapperEl:l}=i;if(i.animating&&a.preventInteractionOnTransition)return!1;const s=i.minTranslate(),c=i.maxTranslate();let u;if(r&&e>s?u=s:r&&e<c?u=c:u=e,i.updateProgress(u),a.cssMode){const g=i.isHorizontal();if(t===0)l[g?"scrollLeft":"scrollTop"]=-u;else{if(!i.support.smoothScroll)return R4({swiper:i,targetPosition:-u,side:g?"left":"top"}),!0;l.scrollTo({[g?"left":"top"]:-u,behavior:"smooth"})}return!0}return t===0?(i.setTransition(0),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",t,o),i.emit("transitionEnd"))):(i.setTransition(t),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",t,o),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(d){!i||i.destroyed||d.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var Dne={getTranslate:Tne,setTranslate:Lne,minTranslate:Kne,maxTranslate:One,translateTo:Pne};function zne(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${e}ms`,n.wrapperEl.style.transitionDelay=e===0?"0ms":""),n.emit("setTransition",e,t)}function E4(e){let{swiper:t,runCallbacks:n,direction:r,step:o}=e;const{activeIndex:i,previousIndex:a}=t;let l=r;if(l||(i>a?l="next":i<a?l="prev":l="reset"),t.emit(`transition${o}`),n&&i!==a){if(l==="reset"){t.emit(`slideResetTransition${o}`);return}t.emit(`slideChangeTransition${o}`),l==="next"?t.emit(`slideNextTransition${o}`):t.emit(`slidePrevTransition${o}`)}}function Une(e,t){e===void 0&&(e=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),E4({swiper:n,runCallbacks:e,direction:t,step:"Start"}))}function _ne(e,t){e===void 0&&(e=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),E4({swiper:n,runCallbacks:e,direction:t,step:"End"}))}var Qne={setTransition:zne,transitionStart:Une,transitionEnd:_ne};function $ne(e,t,n,r,o){e===void 0&&(e=0),n===void 0&&(n=!0),typeof e=="string"&&(e=parseInt(e,10));const i=this;let a=e;a<0&&(a=0);const{params:l,snapGrid:s,slidesGrid:c,previousIndex:u,activeIndex:g,rtlTranslate:d,wrapperEl:m,enabled:I}=i;if(!I&&!r&&!o||i.destroyed||i.animating&&l.preventInteractionOnTransition)return!1;typeof t>"u"&&(t=i.params.speed);const h=Math.min(i.params.slidesPerGroupSkip,a);let A=h+Math.floor((a-h)/i.params.slidesPerGroup);A>=s.length&&(A=s.length-1);const C=-s[A];if(l.normalizeSlideIndex)for(let v=0;v<c.length;v+=1){const y=-Math.floor(C*100),x=Math.floor(c[v]*100),S=Math.floor(c[v+1]*100);typeof c[v+1]<"u"?y>=x&&y<S-(S-x)/2?a=v:y>=x&&y<S&&(a=v+1):y>=x&&(a=v)}if(i.initialized&&a!==g&&(!i.allowSlideNext&&(d?C>i.translate&&C>i.minTranslate():C<i.translate&&C<i.minTranslate())||!i.allowSlidePrev&&C>i.translate&&C>i.maxTranslate()&&(g||0)!==a))return!1;a!==(u||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(C);let p;if(a>g?p="next":a<g?p="prev":p="reset",d&&-C===i.translate||!d&&C===i.translate)return i.updateActiveIndex(a),l.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),l.effect!=="slide"&&i.setTranslate(C),p!=="reset"&&(i.transitionStart(n,p),i.transitionEnd(n,p)),!1;if(l.cssMode){const v=i.isHorizontal(),y=d?C:-C;if(t===0){const x=i.virtual&&i.params.virtual.enabled;x&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),x&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[v?"scrollLeft":"scrollTop"]=y})):m[v?"scrollLeft":"scrollTop"]=y,x&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1})}else{if(!i.support.smoothScroll)return R4({swiper:i,targetPosition:y,side:v?"left":"top"}),!0;m.scrollTo({[v?"left":"top"]:y,behavior:"smooth"})}return!0}return i.setTransition(t),i.setTranslate(C),i.updateActiveIndex(a),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,r),i.transitionStart(n,p),t===0?i.transitionEnd(n,p):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(y){!i||i.destroyed||y.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,p))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function qne(e,t,n,r){e===void 0&&(e=0),n===void 0&&(n=!0),typeof e=="string"&&(e=parseInt(e,10));const o=this;if(o.destroyed)return;typeof t>"u"&&(t=o.params.speed);const i=o.grid&&o.params.grid&&o.params.grid.rows>1;let a=e;if(o.params.loop)if(o.virtual&&o.params.virtual.enabled)a=a+o.virtual.slidesBefore;else{let l;if(i){const d=a*o.params.grid.rows;l=o.slides.filter(m=>m.getAttribute("data-swiper-slide-index")*1===d)[0].column}else l=o.getSlideIndexByData(a);const s=i?Math.ceil(o.slides.length/o.params.grid.rows):o.slides.length,{centeredSlides:c}=o.params;let u=o.params.slidesPerView;u==="auto"?u=o.slidesPerViewDynamic():(u=Math.ceil(parseFloat(o.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let g=s-l<u;if(c&&(g=g||l<Math.ceil(u/2)),r&&c&&o.params.slidesPerView!=="auto"&&!i&&(g=!1),g){const d=c?l<o.activeIndex?"prev":"next":l-o.activeIndex-1<o.params.slidesPerView?"next":"prev";o.loopFix({direction:d,slideTo:!0,activeSlideIndex:d==="next"?l+1:l-s+1,slideRealIndex:d==="next"?o.realIndex:void 0})}if(i){const d=a*o.params.grid.rows;a=o.slides.filter(m=>m.getAttribute("data-swiper-slide-index")*1===d)[0].column}else a=o.getSlideIndexByData(a)}return requestAnimationFrame(()=>{o.slideTo(a,t,n,r)}),o}function ere(e,t,n){t===void 0&&(t=!0);const r=this,{enabled:o,params:i,animating:a}=r;if(!o||r.destroyed)return r;typeof e>"u"&&(e=r.params.speed);let l=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const s=r.activeIndex<i.slidesPerGroupSkip?1:l,c=r.virtual&&i.virtual.enabled;if(i.loop){if(a&&!c&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+s,e,t,n)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+s,e,t,n)}function tre(e,t,n){t===void 0&&(t=!0);const r=this,{params:o,snapGrid:i,slidesGrid:a,rtlTranslate:l,enabled:s,animating:c}=r;if(!s||r.destroyed)return r;typeof e>"u"&&(e=r.params.speed);const u=r.virtual&&o.virtual.enabled;if(o.loop){if(c&&!u&&o.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const g=l?r.translate:-r.translate;function d(C){return C<0?-Math.floor(Math.abs(C)):Math.floor(C)}const m=d(g),I=i.map(C=>d(C));let h=i[I.indexOf(m)-1];if(typeof h>"u"&&o.cssMode){let C;i.forEach((p,v)=>{m>=p&&(C=v)}),typeof C<"u"&&(h=i[C>0?C-1:C])}let A=0;if(typeof h<"u"&&(A=a.indexOf(h),A<0&&(A=r.activeIndex-1),o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(A=A-r.slidesPerViewDynamic("previous",!0)+1,A=Math.max(A,0))),o.rewind&&r.isBeginning){const C=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(C,e,t,n)}else if(o.loop&&r.activeIndex===0&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(A,e,t,n)}),!0;return r.slideTo(A,e,t,n)}function nre(e,t,n){t===void 0&&(t=!0);const r=this;if(!r.destroyed)return typeof e>"u"&&(e=r.params.speed),r.slideTo(r.activeIndex,e,t,n)}function rre(e,t,n,r){t===void 0&&(t=!0),r===void 0&&(r=.5);const o=this;if(o.destroyed)return;typeof e>"u"&&(e=o.params.speed);let i=o.activeIndex;const a=Math.min(o.params.slidesPerGroupSkip,i),l=a+Math.floor((i-a)/o.params.slidesPerGroup),s=o.rtlTranslate?o.translate:-o.translate;if(s>=o.snapGrid[l]){const c=o.snapGrid[l],u=o.snapGrid[l+1];s-c>(u-c)*r&&(i+=o.params.slidesPerGroup)}else{const c=o.snapGrid[l-1],u=o.snapGrid[l];s-c<=(u-c)*r&&(i-=o.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,o.slidesGrid.length-1),o.slideTo(i,e,t,n)}function ore(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:n}=e,r=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let o=e.clickedIndex,i;const a=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;i=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?o<e.loopedSlides-r/2||o>e.slides.length-e.loopedSlides+r/2?(e.loopFix(),o=e.getSlideIndex(Gi(n,`${a}[data-swiper-slide-index="${i}"]`)[0]),hx(()=>{e.slideTo(o)})):e.slideTo(o):o>e.slides.length-r?(e.loopFix(),o=e.getSlideIndex(Gi(n,`${a}[data-swiper-slide-index="${i}"]`)[0]),hx(()=>{e.slideTo(o)})):e.slideTo(o)}else e.slideTo(o)}var ire={slideTo:$ne,slideToLoop:qne,slideNext:ere,slidePrev:tre,slideReset:nre,slideToClosest:rre,slideToClickedSlide:ore};function are(e){const t=this,{params:n,slidesEl:r}=t;if(!n.loop||t.virtual&&t.params.virtual.enabled)return;const o=()=>{Gi(r,`.${n.slideClass}, swiper-slide`).forEach((g,d)=>{g.setAttribute("data-swiper-slide-index",d)})},i=t.grid&&n.grid&&n.grid.rows>1,a=n.slidesPerGroup*(i?n.grid.rows:1),l=t.slides.length%a!==0,s=i&&t.slides.length%n.grid.rows!==0,c=u=>{for(let g=0;g<u;g+=1){const d=t.isElement?dp("swiper-slide",[n.slideBlankClass]):dp("div",[n.slideClass,n.slideBlankClass]);t.slidesEl.append(d)}};if(l){if(n.loopAddBlankSlides){const u=a-t.slides.length%a;c(u),t.recalcSlides(),t.updateSlides()}else gp("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(s){if(n.loopAddBlankSlides){const u=n.grid.rows-t.slides.length%n.grid.rows;c(u),t.recalcSlides(),t.updateSlides()}else gp("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();t.loopFix({slideRealIndex:e,direction:n.centeredSlides?void 0:"next"})}function lre(e){let{slideRealIndex:t,slideTo:n=!0,direction:r,setTranslate:o,activeSlideIndex:i,byController:a,byMousewheel:l}=e===void 0?{}:e;const s=this;if(!s.params.loop)return;s.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:g,slidesEl:d,params:m}=s,{centeredSlides:I}=m;if(s.allowSlidePrev=!0,s.allowSlideNext=!0,s.virtual&&m.virtual.enabled){n&&(!m.centeredSlides&&s.snapIndex===0?s.slideTo(s.virtual.slides.length,0,!1,!0):m.centeredSlides&&s.snapIndex<m.slidesPerView?s.slideTo(s.virtual.slides.length+s.snapIndex,0,!1,!0):s.snapIndex===s.snapGrid.length-1&&s.slideTo(s.virtual.slidesBefore,0,!1,!0)),s.allowSlidePrev=u,s.allowSlideNext=g,s.emit("loopFix");return}let h=m.slidesPerView;h==="auto"?h=s.slidesPerViewDynamic():(h=Math.ceil(parseFloat(m.slidesPerView,10)),I&&h%2===0&&(h=h+1));const A=m.slidesPerGroupAuto?h:m.slidesPerGroup;let C=A;C%A!==0&&(C+=A-C%A),C+=m.loopAdditionalSlides,s.loopedSlides=C;const p=s.grid&&m.grid&&m.grid.rows>1;c.length<h+C?gp("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):p&&m.grid.fill==="row"&&gp("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const v=[],y=[];let x=s.activeIndex;typeof i>"u"?i=s.getSlideIndex(c.filter(W=>W.classList.contains(m.slideActiveClass))[0]):x=i;const S=r==="next"||!r,B=r==="prev"||!r;let Z=0,R=0;const w=p?Math.ceil(c.length/m.grid.rows):c.length,V=(p?c[i].column:i)+(I&&typeof o>"u"?-h/2+.5:0);if(V<C){Z=Math.max(C-V,A);for(let W=0;W<C-V;W+=1){const N=W-Math.floor(W/w)*w;if(p){const X=w-N-1;for(let J=c.length-1;J>=0;J-=1)c[J].column===X&&v.push(J)}else v.push(w-N-1)}}else if(V+h>w-C){R=Math.max(V-(w-C*2),A);for(let W=0;W<R;W+=1){const N=W-Math.floor(W/w)*w;p?c.forEach((X,J)=>{X.column===N&&y.push(J)}):y.push(N)}}if(s.__preventObserver__=!0,requestAnimationFrame(()=>{s.__preventObserver__=!1}),B&&v.forEach(W=>{c[W].swiperLoopMoveDOM=!0,d.prepend(c[W]),c[W].swiperLoopMoveDOM=!1}),S&&y.forEach(W=>{c[W].swiperLoopMoveDOM=!0,d.append(c[W]),c[W].swiperLoopMoveDOM=!1}),s.recalcSlides(),m.slidesPerView==="auto"?s.updateSlides():p&&(v.length>0&&B||y.length>0&&S)&&s.slides.forEach((W,N)=>{s.grid.updateSlide(N,W,s.slides)}),m.watchSlidesProgress&&s.updateSlidesOffset(),n){if(v.length>0&&B){if(typeof t>"u"){const W=s.slidesGrid[x],X=s.slidesGrid[x+Z]-W;l?s.setTranslate(s.translate-X):(s.slideTo(x+Math.ceil(Z),0,!1,!0),o&&(s.touchEventsData.startTranslate=s.touchEventsData.startTranslate-X,s.touchEventsData.currentTranslate=s.touchEventsData.currentTranslate-X))}else if(o){const W=p?v.length/m.grid.rows:v.length;s.slideTo(s.activeIndex+W,0,!1,!0),s.touchEventsData.currentTranslate=s.translate}}else if(y.length>0&&S)if(typeof t>"u"){const W=s.slidesGrid[x],X=s.slidesGrid[x-R]-W;l?s.setTranslate(s.translate-X):(s.slideTo(x-R,0,!1,!0),o&&(s.touchEventsData.startTranslate=s.touchEventsData.startTranslate-X,s.touchEventsData.currentTranslate=s.touchEventsData.currentTranslate-X))}else{const W=p?y.length/m.grid.rows:y.length;s.slideTo(s.activeIndex-W,0,!1,!0)}}if(s.allowSlidePrev=u,s.allowSlideNext=g,s.controller&&s.controller.control&&!a){const W={slideRealIndex:t,direction:r,setTranslate:o,activeSlideIndex:i,byController:!0};Array.isArray(s.controller.control)?s.controller.control.forEach(N=>{!N.destroyed&&N.params.loop&&N.loopFix({...W,slideTo:N.params.slidesPerView===m.slidesPerView?n:!1})}):s.controller.control instanceof s.constructor&&s.controller.control.params.loop&&s.controller.control.loopFix({...W,slideTo:s.controller.control.params.slidesPerView===m.slidesPerView?n:!1})}s.emit("loopFix")}function sre(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const r=[];e.slides.forEach(o=>{const i=typeof o.swiperSlideIndex>"u"?o.getAttribute("data-swiper-slide-index")*1:o.swiperSlideIndex;r[i]=o}),e.slides.forEach(o=>{o.removeAttribute("data-swiper-slide-index")}),r.forEach(o=>{n.append(o)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}var cre={loopCreate:are,loopFix:lre,loopDestroy:sre};function ure(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function gre(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}var dre={setGrabCursor:ure,unsetGrabCursor:gre};function fre(e,t){t===void 0&&(t=this);function n(r){if(!r||r===Lg()||r===go())return null;r.assignedSlot&&(r=r.assignedSlot);const o=r.closest(e);return!o&&!r.getRootNode?null:o||n(r.getRootNode().host)}return n(t)}function tW(e,t,n){const r=go(),{params:o}=e,i=o.edgeSwipeDetection,a=o.edgeSwipeThreshold;return i&&(n<=a||n>=r.innerWidth-a)?i==="prevent"?(t.preventDefault(),!0):!1:!0}function mre(e){const t=this,n=Lg();let r=e;r.originalEvent&&(r=r.originalEvent);const o=t.touchEventsData;if(r.type==="pointerdown"){if(o.pointerId!==null&&o.pointerId!==r.pointerId)return;o.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(o.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){tW(t,r,r.targetTouches[0].pageX);return}const{params:i,touches:a,enabled:l}=t;if(!l||!i.simulateTouch&&r.pointerType==="mouse"||t.animating&&i.preventInteractionOnTransition)return;!t.animating&&i.cssMode&&i.loop&&t.loopFix();let s=r.target;if(i.touchEventsTarget==="wrapper"&&!t.wrapperEl.contains(s)||"which"in r&&r.which===3||"button"in r&&r.button>0||o.isTouched&&o.isMoved)return;const c=!!i.noSwipingClass&&i.noSwipingClass!=="",u=r.composedPath?r.composedPath():r.path;c&&r.target&&r.target.shadowRoot&&u&&(s=u[0]);const g=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,d=!!(r.target&&r.target.shadowRoot);if(i.noSwiping&&(d?fre(g,s):s.closest(g))){t.allowClick=!0;return}if(i.swipeHandler&&!s.closest(i.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;const m=a.currentX,I=a.currentY;if(!tW(t,r,m))return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=m,a.startY=I,o.touchStartTime=up(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,i.threshold>0&&(o.allowThresholdMove=!1);let h=!0;s.matches(o.focusableElements)&&(h=!1,s.nodeName==="SELECT"&&(o.isTouched=!1)),n.activeElement&&n.activeElement.matches(o.focusableElements)&&n.activeElement!==s&&n.activeElement.blur();const A=h&&t.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||A)&&!s.isContentEditable&&r.preventDefault(),i.freeMode&&i.freeMode.enabled&&t.freeMode&&t.animating&&!i.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",r)}function Ire(e){const t=Lg(),n=this,r=n.touchEventsData,{params:o,touches:i,rtlTranslate:a,enabled:l}=n;if(!l||!o.simulateTouch&&e.pointerType==="mouse")return;let s=e;if(s.originalEvent&&(s=s.originalEvent),s.type==="pointermove"&&(r.touchId!==null||s.pointerId!==r.pointerId))return;let c;if(s.type==="touchmove"){if(c=[...s.changedTouches].filter(S=>S.identifier===r.touchId)[0],!c||c.identifier!==r.touchId)return}else c=s;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",s);return}const u=c.pageX,g=c.pageY;if(s.preventedByNestedSwiper){i.startX=u,i.startY=g;return}if(!n.allowTouchMove){s.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:u,startY:g,currentX:u,currentY:g}),r.touchStartTime=up());return}if(o.touchReleaseOnEdges&&!o.loop){if(n.isVertical()){if(g<i.startY&&n.translate<=n.maxTranslate()||g>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(u<i.startX&&n.translate<=n.maxTranslate()||u>i.startX&&n.translate>=n.minTranslate())return}if(t.activeElement&&s.target===t.activeElement&&s.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",s),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=u,i.currentY=g;const d=i.currentX-i.startX,m=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(d**2+m**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let S;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:d*d+m*m>=25&&(S=Math.atan2(Math.abs(m),Math.abs(d))*180/Math.PI,r.isScrolling=n.isHorizontal()?S>o.touchAngle:90-S>o.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",s),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling||s.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!o.cssMode&&s.cancelable&&s.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&s.stopPropagation();let I=n.isHorizontal()?d:m,h=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;o.oneWayMovement&&(I=Math.abs(I)*(a?1:-1),h=Math.abs(h)*(a?1:-1)),i.diff=I,I*=o.touchRatio,a&&(I=-I,h=-h);const A=n.touchesDirection;n.swipeDirection=I>0?"prev":"next",n.touchesDirection=h>0?"prev":"next";const C=n.params.loop&&!o.cssMode,p=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(C&&p&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const S=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(S)}r.allowMomentumBounce=!1,o.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",s)}let v;if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&A!==n.touchesDirection&&C&&p&&Math.abs(I)>=1){Object.assign(i,{startX:u,startY:g,currentX:u,currentY:g,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",s),r.isMoved=!0,r.currentTranslate=I+r.startTranslate;let y=!0,x=o.resistanceRatio;if(o.touchReleaseOnEdges&&(x=0),I>0?(C&&p&&!v&&r.allowThresholdMove&&r.currentTranslate>(o.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(y=!1,o.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+I)**x))):I<0&&(C&&p&&!v&&r.allowThresholdMove&&r.currentTranslate<(o.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(o.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(y=!1,o.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-I)**x))),y&&(s.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),o.threshold>0)if(Math.abs(I)>o.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!o.followFinger||o.cssMode||((o.freeMode&&o.freeMode.enabled&&n.freeMode||o.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),o.freeMode&&o.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function hre(e){const t=this,n=t.touchEventsData;let r=e;r.originalEvent&&(r=r.originalEvent);let o;if(r.type==="touchend"||r.type==="touchcancel"){if(o=[...r.changedTouches].filter(x=>x.identifier===n.touchId)[0],!o||o.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;o=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(t.browser.isSafari||t.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:a,touches:l,rtlTranslate:s,slidesGrid:c,enabled:u}=t;if(!u||!a.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&t.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&a.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}a.grabCursor&&n.isMoved&&n.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const g=up(),d=g-n.touchStartTime;if(t.allowClick){const x=r.path||r.composedPath&&r.composedPath();t.updateClickedSlide(x&&x[0]||r.target,x),t.emit("tap click",r),d<300&&g-n.lastClickTime<300&&t.emit("doubleTap doubleClick",r)}if(n.lastClickTime=up(),hx(()=>{t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let m;if(a.followFinger?m=s?t.translate:-t.translate:m=-n.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:m});return}const I=m>=-t.maxTranslate()&&!t.params.loop;let h=0,A=t.slidesSizesGrid[0];for(let x=0;x<c.length;x+=x<a.slidesPerGroupSkip?1:a.slidesPerGroup){const S=x<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof c[x+S]<"u"?(I||m>=c[x]&&m<c[x+S])&&(h=x,A=c[x+S]-c[x]):(I||m>=c[x])&&(h=x,A=c[c.length-1]-c[c.length-2])}let C=null,p=null;a.rewind&&(t.isBeginning?p=a.virtual&&a.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(C=0));const v=(m-c[h])/A,y=h<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(d>a.longSwipesMs){if(!a.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(v>=a.longSwipesRatio?t.slideTo(a.rewind&&t.isEnd?C:h+y):t.slideTo(h)),t.swipeDirection==="prev"&&(v>1-a.longSwipesRatio?t.slideTo(h+y):p!==null&&v<0&&Math.abs(v)>a.longSwipesRatio?t.slideTo(p):t.slideTo(h))}else{if(!a.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(r.target===t.navigation.nextEl||r.target===t.navigation.prevEl)?r.target===t.navigation.nextEl?t.slideTo(h+y):t.slideTo(h):(t.swipeDirection==="next"&&t.slideTo(C!==null?C:h+y),t.swipeDirection==="prev"&&t.slideTo(p!==null?p:h))}}function nW(){const e=this,{params:t,el:n}=e;if(n&&n.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:o,snapGrid:i}=e,a=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const l=a&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!l?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!a?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=o,e.allowSlideNext=r,e.params.watchOverflow&&i!==e.snapGrid&&e.checkOverflow()}function Cre(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function pre(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:r}=e;if(!r)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let o;const i=e.maxTranslate()-e.minTranslate();i===0?o=0:o=(e.translate-e.minTranslate())/i,o!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function Are(e){const t=this;IC(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function bre(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const X4=(e,t)=>{const n=Lg(),{params:r,el:o,wrapperEl:i,device:a}=e,l=!!r.nested,s=t==="on"?"addEventListener":"removeEventListener",c=t;n[s]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:l}),o[s]("touchstart",e.onTouchStart,{passive:!1}),o[s]("pointerdown",e.onTouchStart,{passive:!1}),n[s]("touchmove",e.onTouchMove,{passive:!1,capture:l}),n[s]("pointermove",e.onTouchMove,{passive:!1,capture:l}),n[s]("touchend",e.onTouchEnd,{passive:!0}),n[s]("pointerup",e.onTouchEnd,{passive:!0}),n[s]("pointercancel",e.onTouchEnd,{passive:!0}),n[s]("touchcancel",e.onTouchEnd,{passive:!0}),n[s]("pointerout",e.onTouchEnd,{passive:!0}),n[s]("pointerleave",e.onTouchEnd,{passive:!0}),n[s]("contextmenu",e.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&o[s]("click",e.onClick,!0),r.cssMode&&i[s]("scroll",e.onScroll),r.updateOnWindowResize?e[c](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",nW,!0):e[c]("observerUpdate",nW,!0),o[s]("load",e.onLoad,{capture:!0})};function vre(){const e=this,{params:t}=e;e.onTouchStart=mre.bind(e),e.onTouchMove=Ire.bind(e),e.onTouchEnd=hre.bind(e),e.onDocumentTouchStart=bre.bind(e),t.cssMode&&(e.onScroll=pre.bind(e)),e.onClick=Cre.bind(e),e.onLoad=Are.bind(e),X4(e,"on")}function yre(){X4(this,"off")}var xre={attachEvents:vre,detachEvents:yre};const rW=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function Sre(){const e=this,{realIndex:t,initialized:n,params:r,el:o}=e,i=r.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const a=e.getBreakpoint(i,e.params.breakpointsBase,e.el);if(!a||e.currentBreakpoint===a)return;const s=(a in i?i[a]:void 0)||e.originalParams,c=rW(e,r),u=rW(e,s),g=e.params.grabCursor,d=s.grabCursor,m=r.enabled;c&&!u?(o.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),e.emitContainerClasses()):!c&&u&&(o.classList.add(`${r.containerModifierClass}grid`),(s.grid.fill&&s.grid.fill==="column"||!s.grid.fill&&r.grid.fill==="column")&&o.classList.add(`${r.containerModifierClass}grid-column`),e.emitContainerClasses()),g&&!d?e.unsetGrabCursor():!g&&d&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(v=>{if(typeof s[v]>"u")return;const y=r[v]&&r[v].enabled,x=s[v]&&s[v].enabled;y&&!x&&e[v].disable(),!y&&x&&e[v].enable()});const I=s.direction&&s.direction!==r.direction,h=r.loop&&(s.slidesPerView!==r.slidesPerView||I),A=r.loop;I&&n&&e.changeDirection(),Ur(e.params,s);const C=e.params.enabled,p=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),m&&!C?e.disable():!m&&C&&e.enable(),e.currentBreakpoint=a,e.emit("_beforeBreakpoint",s),n&&(h?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!A&&p?(e.loopCreate(t),e.updateSlides()):A&&!p&&e.loopDestroy()),e.emit("breakpoint",s)}function Zre(e,t,n){if(t===void 0&&(t="window"),!e||t==="container"&&!n)return;let r=!1;const o=go(),i=t==="window"?o.innerHeight:n.clientHeight,a=Object.keys(e).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const s=parseFloat(l.substr(1));return{value:i*s,point:l}}return{value:l,point:l}});a.sort((l,s)=>parseInt(l.value,10)-parseInt(s.value,10));for(let l=0;l<a.length;l+=1){const{point:s,value:c}=a[l];t==="window"?o.matchMedia(`(min-width: ${c}px)`).matches&&(r=s):c<=n.clientWidth&&(r=s)}return r||"max"}var wre={setBreakpoint:Sre,getBreakpoint:Zre};function Gre(e,t){const n=[];return e.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(o=>{r[o]&&n.push(t+o)}):typeof r=="string"&&n.push(t+r)}),n}function Bre(){const e=this,{classNames:t,params:n,rtl:r,el:o,device:i}=e,a=Gre(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...a),o.classList.add(...t),e.emitContainerClasses()}function kre(){const e=this,{el:t,classNames:n}=e;t.classList.remove(...n),e.emitContainerClasses()}var Rre={addClasses:Bre,removeClasses:kre};function Vre(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:r}=n;if(r){const o=e.slides.length-1,i=e.slidesGrid[o]+e.slidesSizesGrid[o]+r*2;e.isLocked=e.size>i}else e.isLocked=e.snapGrid.length===1;n.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),n.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}var Wre={checkOverflow:Vre},Ax={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Nre(e,t){return function(r){r===void 0&&(r={});const o=Object.keys(r)[0],i=r[o];if(typeof i!="object"||i===null){Ur(t,r);return}if(e[o]===!0&&(e[o]={enabled:!0}),o==="navigation"&&e[o]&&e[o].enabled&&!e[o].prevEl&&!e[o].nextEl&&(e[o].auto=!0),["pagination","scrollbar"].indexOf(o)>=0&&e[o]&&e[o].enabled&&!e[o].el&&(e[o].auto=!0),!(o in e&&"enabled"in i)){Ur(t,r);return}typeof e[o]=="object"&&!("enabled"in e[o])&&(e[o].enabled=!0),e[o]||(e[o]={enabled:!1}),Ur(t,r)}}const by={eventsEmitter:Rne,update:jne,translate:Dne,transition:Qne,slide:ire,loop:cre,grabCursor:dre,events:xre,breakpoints:wre,checkOverflow:Wre,classes:Rre},vy={};let CG=class ia{constructor(){let t,n;for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];o.length===1&&o[0].constructor&&Object.prototype.toString.call(o[0]).slice(8,-1)==="Object"?n=o[0]:[t,n]=o,n||(n={}),n=Ur({},n),t&&!n.el&&(n.el=t);const a=Lg();if(n.el&&typeof n.el=="string"&&a.querySelectorAll(n.el).length>1){const u=[];return a.querySelectorAll(n.el).forEach(g=>{const d=Ur({},n,{el:g});u.push(new ia(d))}),u}const l=this;l.__swiper__=!0,l.support=W4(),l.device=N4({userAgent:n.userAgent}),l.browser=Gne(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],n.modules&&Array.isArray(n.modules)&&l.modules.push(...n.modules);const s={};l.modules.forEach(u=>{u({params:n,swiper:l,extendParams:Nre(n,s),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const c=Ur({},Ax,s);return l.params=Ur({},c,vy,n),l.originalParams=Ur({},l.params),l.passedParams=Ur({},n),l.params&&l.params.on&&Object.keys(l.params.on).forEach(u=>{l.on(u,l.params.on[u])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:n,params:r}=this,o=Gi(n,`.${r.slideClass}, swiper-slide`),i=fp(o[0]);return fp(t)-i}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===t)[0])}recalcSlides(){const t=this,{slidesEl:n,params:r}=t;t.slides=Gi(n,`.${r.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,n){const r=this;t=Math.min(Math.max(t,0),1);const o=r.minTranslate(),a=(r.maxTranslate()-o)*t+o;r.translateTo(a,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=t.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",n.join(" "))}getSlideClasses(t){const n=this;return n.destroyed?"":t.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=[];t.slides.forEach(r=>{const o=t.getSlideClasses(r);n.push({slideEl:r,classNames:o}),t.emit("_slideClass",r,o)}),t.emit("_slideClasses",n)}slidesPerViewDynamic(t,n){t===void 0&&(t="current"),n===void 0&&(n=!1);const r=this,{params:o,slides:i,slidesGrid:a,slidesSizesGrid:l,size:s,activeIndex:c}=r;let u=1;if(typeof o.slidesPerView=="number")return o.slidesPerView;if(o.centeredSlides){let g=i[c]?Math.ceil(i[c].swiperSlideSize):0,d;for(let m=c+1;m<i.length;m+=1)i[m]&&!d&&(g+=Math.ceil(i[m].swiperSlideSize),u+=1,g>s&&(d=!0));for(let m=c-1;m>=0;m-=1)i[m]&&!d&&(g+=i[m].swiperSlideSize,u+=1,g>s&&(d=!0))}else if(t==="current")for(let g=c+1;g<i.length;g+=1)(n?a[g]+l[g]-a[c]<s:a[g]-a[c]<s)&&(u+=1);else for(let g=c-1;g>=0;g-=1)a[c]-a[g]<s&&(u+=1);return u}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:n,params:r}=t;r.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&IC(t,a)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function o(){const a=t.rtlTranslate?t.translate*-1:t.translate,l=Math.min(Math.max(a,t.maxTranslate()),t.minTranslate());t.setTranslate(l),t.updateActiveIndex(),t.updateSlidesClasses()}let i;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)o(),r.autoHeight&&t.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&t.isEnd&&!r.centeredSlides){const a=t.virtual&&r.virtual.enabled?t.virtual.slides:t.slides;i=t.slideTo(a.length-1,0,!1,!0)}else i=t.slideTo(t.activeIndex,0,!1,!0);i||o()}r.watchOverflow&&n!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,n){n===void 0&&(n=!0);const r=this,o=r.params.direction;return t||(t=o==="horizontal"?"vertical":"horizontal"),t===o||t!=="horizontal"&&t!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${o}`),r.el.classList.add(`${r.params.containerModifierClass}${t}`),r.emitContainerClasses(),r.params.direction=t,r.slides.forEach(i=>{t==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(t){const n=this;n.rtl&&t==="rtl"||!n.rtl&&t==="ltr"||(n.rtl=t==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(t){const n=this;if(n.mounted)return!0;let r=t||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const o=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=(()=>r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(o()):Gi(r,o())[0])();return!a&&n.params.createElements&&(a=dp("div",n.params.wrapperClass),r.append(a),Gi(r,`.${n.params.slideClass}`).forEach(l=>{a.append(l)})),Object.assign(n,{el:r,wrapperEl:a,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:a,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Al(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Al(r,"direction")==="rtl"),wrongRTL:Al(a,"display")==="-webkit-box"}),!0}init(t){const n=this;if(n.initialized||n.mount(t)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const o=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&o.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),o.forEach(i=>{i.complete?IC(n,i):i.addEventListener("load",a=>{IC(n,a.target)})}),px(n),n.initialized=!0,px(n),n.emit("init"),n.emit("afterInit"),n}destroy(t,n){t===void 0&&(t=!0),n===void 0&&(n=!0);const r=this,{params:o,el:i,wrapperEl:a,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),o.loop&&r.loopDestroy(),n&&(r.removeClasses(),i.removeAttribute("style"),a.removeAttribute("style"),l&&l.length&&l.forEach(s=>{s.classList.remove(o.slideVisibleClass,o.slideFullyVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass),s.removeAttribute("style"),s.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(s=>{r.off(s)}),t!==!1&&(r.el.swiper=null,pne(r)),r.destroyed=!0),null}static extendDefaults(t){Ur(vy,t)}static get extendedDefaults(){return vy}static get defaults(){return Ax}static installModule(t){ia.prototype.__modules__||(ia.prototype.__modules__=[]);const n=ia.prototype.__modules__;typeof t=="function"&&n.indexOf(t)<0&&n.push(t)}static use(t){return Array.isArray(t)?(t.forEach(n=>ia.installModule(n)),ia):(ia.installModule(t),ia)}};Object.keys(by).forEach(e=>{Object.keys(by[e]).forEach(t=>{CG.prototype[t]=by[e][t]})});CG.use([Bne,kne]);const J4=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function yc(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"&&!e.__swiper__}function Nu(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof e[r]>"u"?e[r]=t[r]:yc(t[r])&&yc(e[r])&&Object.keys(t[r]).length>0?t[r].__swiper__?e[r]=t[r]:Nu(e[r],t[r]):e[r]=t[r]})}function Y4(e){return e===void 0&&(e={}),e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function H4(e){return e===void 0&&(e={}),e.pagination&&typeof e.pagination.el>"u"}function F4(e){return e===void 0&&(e={}),e.scrollbar&&typeof e.scrollbar.el>"u"}function M4(e){e===void 0&&(e="");const t=e.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return t.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function Ere(e){return e===void 0&&(e=""),e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function Xre(e){let{swiper:t,slides:n,passedParams:r,changedParams:o,nextEl:i,prevEl:a,scrollbarEl:l,paginationEl:s}=e;const c=o.filter(R=>R!=="children"&&R!=="direction"&&R!=="wrapperClass"),{params:u,pagination:g,navigation:d,scrollbar:m,virtual:I,thumbs:h}=t;let A,C,p,v,y,x,S,B;o.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(A=!0),o.includes("controller")&&r.controller&&r.controller.control&&u.controller&&!u.controller.control&&(C=!0),o.includes("pagination")&&r.pagination&&(r.pagination.el||s)&&(u.pagination||u.pagination===!1)&&g&&!g.el&&(p=!0),o.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||l)&&(u.scrollbar||u.scrollbar===!1)&&m&&!m.el&&(v=!0),o.includes("navigation")&&r.navigation&&(r.navigation.prevEl||a)&&(r.navigation.nextEl||i)&&(u.navigation||u.navigation===!1)&&d&&!d.prevEl&&!d.nextEl&&(y=!0);const Z=R=>{t[R]&&(t[R].destroy(),R==="navigation"?(t.isElement&&(t[R].prevEl.remove(),t[R].nextEl.remove()),u[R].prevEl=void 0,u[R].nextEl=void 0,t[R].prevEl=void 0,t[R].nextEl=void 0):(t.isElement&&t[R].el.remove(),u[R].el=void 0,t[R].el=void 0))};o.includes("loop")&&t.isElement&&(u.loop&&!r.loop?x=!0:!u.loop&&r.loop?S=!0:B=!0),c.forEach(R=>{if(yc(u[R])&&yc(r[R]))Object.assign(u[R],r[R]),(R==="navigation"||R==="pagination"||R==="scrollbar")&&"enabled"in r[R]&&!r[R].enabled&&Z(R);else{const w=r[R];(w===!0||w===!1)&&(R==="navigation"||R==="pagination"||R==="scrollbar")?w===!1&&Z(R):u[R]=r[R]}}),c.includes("controller")&&!C&&t.controller&&t.controller.control&&u.controller&&u.controller.control&&(t.controller.control=u.controller.control),o.includes("children")&&n&&I&&u.virtual.enabled?(I.slides=n,I.update(!0)):o.includes("virtual")&&I&&u.virtual.enabled&&(n&&(I.slides=n),I.update(!0)),o.includes("children")&&n&&u.loop&&(B=!0),A&&h.init()&&h.update(!0),C&&(t.controller.control=u.controller.control),p&&(t.isElement&&(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-pagination"),s.part.add("pagination"),t.el.appendChild(s)),s&&(u.pagination.el=s),g.init(),g.render(),g.update()),v&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),t.el.appendChild(l)),l&&(u.scrollbar.el=l),m.init(),m.updateSize(),m.setTranslate()),y&&(t.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),i.innerHTML=t.hostEl.constructor.nextButtonSvg,i.part.add("button-next"),t.el.appendChild(i)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),a.innerHTML=t.hostEl.constructor.prevButtonSvg,a.part.add("button-prev"),t.el.appendChild(a))),i&&(u.navigation.nextEl=i),a&&(u.navigation.prevEl=a),d.init(),d.update()),o.includes("allowSlideNext")&&(t.allowSlideNext=r.allowSlideNext),o.includes("allowSlidePrev")&&(t.allowSlidePrev=r.allowSlidePrev),o.includes("direction")&&t.changeDirection(r.direction,!1),(x||B)&&t.loopDestroy(),(S||B)&&t.loopCreate(),t.update()}function Jre(e,t){e===void 0&&(e={}),t===void 0&&(t=!0);const n={on:{}},r={},o={};Nu(n,Ax),n._emitClasses=!0,n.init=!1;const i={},a=J4.map(s=>s.replace(/_/,"")),l=Object.assign({},e);return Object.keys(l).forEach(s=>{typeof e[s]>"u"||(a.indexOf(s)>=0?yc(e[s])?(n[s]={},o[s]={},Nu(n[s],e[s]),Nu(o[s],e[s])):(n[s]=e[s],o[s]=e[s]):s.search(/on[A-Z]/)===0&&typeof e[s]=="function"?t?r[`${s[2].toLowerCase()}${s.substr(3)}`]=e[s]:n.on[`${s[2].toLowerCase()}${s.substr(3)}`]=e[s]:i[s]=e[s])}),["navigation","pagination","scrollbar"].forEach(s=>{n[s]===!0&&(n[s]={}),n[s]===!1&&delete n[s]}),{params:n,passedParams:o,rest:i,events:r}}function Yre(e,t){let{el:n,nextEl:r,prevEl:o,paginationEl:i,scrollbarEl:a,swiper:l}=e;Y4(t)&&r&&o&&(l.params.navigation.nextEl=r,l.originalParams.navigation.nextEl=r,l.params.navigation.prevEl=o,l.originalParams.navigation.prevEl=o),H4(t)&&i&&(l.params.pagination.el=i,l.originalParams.pagination.el=i),F4(t)&&a&&(l.params.scrollbar.el=a,l.originalParams.scrollbar.el=a),l.init(n)}function Hre(e,t,n,r,o){const i=[];if(!t)return i;const a=s=>{i.indexOf(s)<0&&i.push(s)};if(n&&r){const s=r.map(o),c=n.map(o);s.join("")!==c.join("")&&a("children"),r.length!==n.length&&a("children")}return J4.filter(s=>s[0]==="_").map(s=>s.replace(/_/,"")).forEach(s=>{if(s in e&&s in t)if(yc(e[s])&&yc(t[s])){const c=Object.keys(e[s]),u=Object.keys(t[s]);c.length!==u.length?a(s):(c.forEach(g=>{e[s][g]!==t[s][g]&&a(s)}),u.forEach(g=>{e[s][g]!==t[s][g]&&a(s)}))}else e[s]!==t[s]&&a(s)}),i}const Fre=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())};function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mp.apply(this,arguments)}function j4(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function T4(e){const t=[];return G.Children.toArray(e).forEach(n=>{j4(n)?t.push(n):n.props&&n.props.children&&T4(n.props.children).forEach(r=>t.push(r))}),t}function Mre(e){const t=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return G.Children.toArray(e).forEach(r=>{if(j4(r))t.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const o=T4(r.props.children);o.length>0?o.forEach(i=>t.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:t,slots:n}}function jre(e,t,n){if(!n)return null;const r=u=>{let g=u;return u<0?g=t.length+u:g>=t.length&&(g=g-t.length),g},o=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:a}=n,l=e.params.loop?-t.length:0,s=e.params.loop?t.length*2:t.length,c=[];for(let u=l;u<s;u+=1)u>=i&&u<=a&&c.push(t[r(u)]);return c.map((u,g)=>G.cloneElement(u,{swiper:e,style:o,key:u.props.virtualIndex||u.key||`slide-${g}`}))}function pf(e,t){return typeof window>"u"?b.useEffect(e,t):b.useLayoutEffect(e,t)}const oW=b.createContext(null),Tre=b.createContext(null),pG=b.forwardRef(function(e,t){let{className:n,tag:r="div",wrapperTag:o="div",children:i,onSwiper:a,...l}=e===void 0?{}:e,s=!1;const[c,u]=b.useState("swiper"),[g,d]=b.useState(null),[m,I]=b.useState(!1),h=b.useRef(!1),A=b.useRef(null),C=b.useRef(null),p=b.useRef(null),v=b.useRef(null),y=b.useRef(null),x=b.useRef(null),S=b.useRef(null),B=b.useRef(null),{params:Z,passedParams:R,rest:w,events:k}=Jre(l),{slides:V,slots:W}=Mre(i),N=()=>{I(!m)};Object.assign(Z.on,{_containerClasses(H,M){u(M)}});const X=()=>{Object.assign(Z.on,k),s=!0;const H={...Z};if(delete H.wrapperClass,C.current=new CG(H),C.current.virtual&&C.current.params.virtual.enabled){C.current.virtual.slides=V;const M={cache:!1,slides:V,renderExternal:d,renderExternalUpdate:!1};Nu(C.current.params.virtual,M),Nu(C.current.originalParams.virtual,M)}};A.current||X(),C.current&&C.current.on("_beforeBreakpoint",N);const J=()=>{s||!k||!C.current||Object.keys(k).forEach(H=>{C.current.on(H,k[H])})},E=()=>{!k||!C.current||Object.keys(k).forEach(H=>{C.current.off(H,k[H])})};b.useEffect(()=>()=>{C.current&&C.current.off("_beforeBreakpoint",N)}),b.useEffect(()=>{!h.current&&C.current&&(C.current.emitSlidesClasses(),h.current=!0)}),pf(()=>{if(t&&(t.current=A.current),!!A.current)return C.current.destroyed&&X(),Yre({el:A.current,nextEl:y.current,prevEl:x.current,paginationEl:S.current,scrollbarEl:B.current,swiper:C.current},Z),a&&!C.current.destroyed&&a(C.current),()=>{C.current&&!C.current.destroyed&&C.current.destroy(!0,!1)}},[]),pf(()=>{J();const H=Hre(R,p.current,V,v.current,M=>M.key);return p.current=R,v.current=V,H.length&&C.current&&!C.current.destroyed&&Xre({swiper:C.current,slides:V,passedParams:R,changedParams:H,nextEl:y.current,prevEl:x.current,scrollbarEl:B.current,paginationEl:S.current}),()=>{E()}}),pf(()=>{Fre(C.current)},[g]);function F(){return Z.virtual?jre(C.current,V,g):V.map((H,M)=>G.cloneElement(H,{swiper:C.current,swiperSlideIndex:M}))}return G.createElement(r,mp({ref:A,className:M4(`${c}${n?` ${n}`:""}`)},w),G.createElement(Tre.Provider,{value:C.current},W["container-start"],G.createElement(o,{className:Ere(Z.wrapperClass)},W["wrapper-start"],F(),W["wrapper-end"]),Y4(Z)&&G.createElement(G.Fragment,null,G.createElement("div",{ref:x,className:"swiper-button-prev"}),G.createElement("div",{ref:y,className:"swiper-button-next"})),F4(Z)&&G.createElement("div",{ref:B,className:"swiper-scrollbar"}),H4(Z)&&G.createElement("div",{ref:S,className:"swiper-pagination"}),W["container-end"]))});pG.displayName="Swiper";const AG=b.forwardRef(function(e,t){let{tag:n="div",children:r,className:o="",swiper:i,zoom:a,lazy:l,virtualIndex:s,swiperSlideIndex:c,...u}=e===void 0?{}:e;const g=b.useRef(null),[d,m]=b.useState("swiper-slide"),[I,h]=b.useState(!1);function A(y,x,S){x===g.current&&m(S)}pf(()=>{if(typeof c<"u"&&(g.current.swiperSlideIndex=c),t&&(t.current=g.current),!(!g.current||!i)){if(i.destroyed){d!=="swiper-slide"&&m("swiper-slide");return}return i.on("_slideClass",A),()=>{i&&i.off("_slideClass",A)}}}),pf(()=>{i&&g.current&&!i.destroyed&&m(i.getSlideClasses(g.current))},[i]);const C={isActive:d.indexOf("swiper-slide-active")>=0,isVisible:d.indexOf("swiper-slide-visible")>=0,isPrev:d.indexOf("swiper-slide-prev")>=0,isNext:d.indexOf("swiper-slide-next")>=0},p=()=>typeof r=="function"?r(C):r,v=()=>{h(!0)};return G.createElement(n,mp({ref:g,className:M4(`${d}${o?` ${o}`:""}`),"data-swiper-slide-index":s,onLoad:v},u),a&&G.createElement(oW.Provider,{value:C},G.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},p(),l&&!I&&G.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&G.createElement(oW.Provider,{value:C},p(),l&&!I&&G.createElement("div",{className:"swiper-lazy-preloader"})))});AG.displayName="SwiperSlide";function Lre(e,t,n,r){return e.params.createElements&&Object.keys(r).forEach(o=>{if(!n[o]&&n.auto===!0){let i=Gi(e.el,`.${r[o]}`)[0];i||(i=dp("div",r[o]),i.className=r[o],e.el.append(i)),n[o]=i,t[o]=i}}),n}function Zd(e){return e===void 0&&(e=""),`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function L4(e){let{swiper:t,extendParams:n,on:r,emit:o}=e;const i="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:C=>C,formatFractionTotal:C=>C,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),t.pagination={el:null,bullets:[]};let a,l=0;function s(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function c(C,p){const{bulletActiveClass:v}=t.params.pagination;C&&(C=C[`${p==="prev"?"previous":"next"}ElementSibling`],C&&(C.classList.add(`${v}-${p}`),C=C[`${p==="prev"?"previous":"next"}ElementSibling`],C&&C.classList.add(`${v}-${p}-${p}`)))}function u(C){const p=C.target.closest(Zd(t.params.pagination.bulletClass));if(!p)return;C.preventDefault();const v=fp(p)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===v)return;t.slideToLoop(v)}else t.slideTo(v)}function g(){const C=t.rtl,p=t.params.pagination;if(s())return;let v=t.pagination.el;v=qi(v);let y,x;const S=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,B=t.params.loop?Math.ceil(S/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(x=t.previousRealIndex||0,y=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(y=t.snapIndex,x=t.previousSnapIndex):(x=t.previousIndex||0,y=t.activeIndex||0),p.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const Z=t.pagination.bullets;let R,w,k;if(p.dynamicBullets&&(a=Cx(Z[0],t.isHorizontal()?"width":"height",!0),v.forEach(V=>{V.style[t.isHorizontal()?"width":"height"]=`${a*(p.dynamicMainBullets+4)}px`}),p.dynamicMainBullets>1&&x!==void 0&&(l+=y-(x||0),l>p.dynamicMainBullets-1?l=p.dynamicMainBullets-1:l<0&&(l=0)),R=Math.max(y-l,0),w=R+(Math.min(Z.length,p.dynamicMainBullets)-1),k=(w+R)/2),Z.forEach(V=>{const W=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(N=>`${p.bulletActiveClass}${N}`)].map(N=>typeof N=="string"&&N.includes(" ")?N.split(" "):N).flat();V.classList.remove(...W)}),v.length>1)Z.forEach(V=>{const W=fp(V);W===y?V.classList.add(...p.bulletActiveClass.split(" ")):t.isElement&&V.setAttribute("part","bullet"),p.dynamicBullets&&(W>=R&&W<=w&&V.classList.add(...`${p.bulletActiveClass}-main`.split(" ")),W===R&&c(V,"prev"),W===w&&c(V,"next"))});else{const V=Z[y];if(V&&V.classList.add(...p.bulletActiveClass.split(" ")),t.isElement&&Z.forEach((W,N)=>{W.setAttribute("part",N===y?"bullet-active":"bullet")}),p.dynamicBullets){const W=Z[R],N=Z[w];for(let X=R;X<=w;X+=1)Z[X]&&Z[X].classList.add(...`${p.bulletActiveClass}-main`.split(" "));c(W,"prev"),c(N,"next")}}if(p.dynamicBullets){const V=Math.min(Z.length,p.dynamicMainBullets+4),W=(a*V-a)/2-k*a,N=C?"right":"left";Z.forEach(X=>{X.style[t.isHorizontal()?N:"top"]=`${W}px`})}}v.forEach((Z,R)=>{if(p.type==="fraction"&&(Z.querySelectorAll(Zd(p.currentClass)).forEach(w=>{w.textContent=p.formatFractionCurrent(y+1)}),Z.querySelectorAll(Zd(p.totalClass)).forEach(w=>{w.textContent=p.formatFractionTotal(B)})),p.type==="progressbar"){let w;p.progressbarOpposite?w=t.isHorizontal()?"vertical":"horizontal":w=t.isHorizontal()?"horizontal":"vertical";const k=(y+1)/B;let V=1,W=1;w==="horizontal"?V=k:W=k,Z.querySelectorAll(Zd(p.progressbarFillClass)).forEach(N=>{N.style.transform=`translate3d(0,0,0) scaleX(${V}) scaleY(${W})`,N.style.transitionDuration=`${t.params.speed}ms`})}p.type==="custom"&&p.renderCustom?(Z.innerHTML=p.renderCustom(t,y+1,B),R===0&&o("paginationRender",Z)):(R===0&&o("paginationRender",Z),o("paginationUpdate",Z)),t.params.watchOverflow&&t.enabled&&Z.classList[t.isLocked?"add":"remove"](p.lockClass)})}function d(){const C=t.params.pagination;if(s())return;const p=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let v=t.pagination.el;v=qi(v);let y="";if(C.type==="bullets"){let x=t.params.loop?Math.ceil(p/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&x>p&&(x=p);for(let S=0;S<x;S+=1)C.renderBullet?y+=C.renderBullet.call(t,S,C.bulletClass):y+=`<${C.bulletElement} ${t.isElement?'part="bullet"':""} class="${C.bulletClass}"></${C.bulletElement}>`}C.type==="fraction"&&(C.renderFraction?y=C.renderFraction.call(t,C.currentClass,C.totalClass):y=`<span class="${C.currentClass}"></span> / <span class="${C.totalClass}"></span>`),C.type==="progressbar"&&(C.renderProgressbar?y=C.renderProgressbar.call(t,C.progressbarFillClass):y=`<span class="${C.progressbarFillClass}"></span>`),t.pagination.bullets=[],v.forEach(x=>{C.type!=="custom"&&(x.innerHTML=y||""),C.type==="bullets"&&t.pagination.bullets.push(...x.querySelectorAll(Zd(C.bulletClass)))}),C.type!=="custom"&&o("paginationRender",v[0])}function m(){t.params.pagination=Lre(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const C=t.params.pagination;if(!C.el)return;let p;typeof C.el=="string"&&t.isElement&&(p=t.el.querySelector(C.el)),!p&&typeof C.el=="string"&&(p=[...document.querySelectorAll(C.el)]),p||(p=C.el),!(!p||p.length===0)&&(t.params.uniqueNavElements&&typeof C.el=="string"&&Array.isArray(p)&&p.length>1&&(p=[...t.el.querySelectorAll(C.el)],p.length>1&&(p=p.filter(v=>V4(v,".swiper")[0]===t.el)[0])),Array.isArray(p)&&p.length===1&&(p=p[0]),Object.assign(t.pagination,{el:p}),p=qi(p),p.forEach(v=>{C.type==="bullets"&&C.clickable&&v.classList.add(...(C.clickableClass||"").split(" ")),v.classList.add(C.modifierClass+C.type),v.classList.add(t.isHorizontal()?C.horizontalClass:C.verticalClass),C.type==="bullets"&&C.dynamicBullets&&(v.classList.add(`${C.modifierClass}${C.type}-dynamic`),l=0,C.dynamicMainBullets<1&&(C.dynamicMainBullets=1)),C.type==="progressbar"&&C.progressbarOpposite&&v.classList.add(C.progressbarOppositeClass),C.clickable&&v.addEventListener("click",u),t.enabled||v.classList.add(C.lockClass)}))}function I(){const C=t.params.pagination;if(s())return;let p=t.pagination.el;p&&(p=qi(p),p.forEach(v=>{v.classList.remove(C.hiddenClass),v.classList.remove(C.modifierClass+C.type),v.classList.remove(t.isHorizontal()?C.horizontalClass:C.verticalClass),C.clickable&&(v.classList.remove(...(C.clickableClass||"").split(" ")),v.removeEventListener("click",u))})),t.pagination.bullets&&t.pagination.bullets.forEach(v=>v.classList.remove(...C.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const C=t.params.pagination;let{el:p}=t.pagination;p=qi(p),p.forEach(v=>{v.classList.remove(C.horizontalClass,C.verticalClass),v.classList.add(t.isHorizontal()?C.horizontalClass:C.verticalClass)})}),r("init",()=>{t.params.pagination.enabled===!1?A():(m(),d(),g())}),r("activeIndexChange",()=>{typeof t.snapIndex>"u"&&g()}),r("snapIndexChange",()=>{g()}),r("snapGridLengthChange",()=>{d(),g()}),r("destroy",()=>{I()}),r("enable disable",()=>{let{el:C}=t.pagination;C&&(C=qi(C),C.forEach(p=>p.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),r("lock unlock",()=>{g()}),r("click",(C,p)=>{const v=p.target,y=qi(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&y&&y.length>0&&!v.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&v===t.navigation.nextEl||t.navigation.prevEl&&v===t.navigation.prevEl))return;const x=y[0].classList.contains(t.params.pagination.hiddenClass);o(x===!0?"paginationShow":"paginationHide"),y.forEach(S=>S.classList.toggle(t.params.pagination.hiddenClass))}});const h=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:C}=t.pagination;C&&(C=qi(C),C.forEach(p=>p.classList.remove(t.params.pagination.paginationDisabledClass))),m(),d(),g()},A=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:C}=t.pagination;C&&(C=qi(C),C.forEach(p=>p.classList.add(t.params.pagination.paginationDisabledClass))),I()};Object.assign(t.pagination,{enable:h,disable:A,render:d,update:g,init:m,destroy:I})}const K4=[{className:"basico",plan:"Básico",includes:["Foto de perfil","Fondo plano de color personalizable","Menú - Call - Email","Título / Nombre","Descripción hasta 200 caracteres ","Enlace a 1 red social","Vínculo perfil Know me"],cost:0,color:"#495456"},{className:"personal",plan:"Personal",includes:["Foto de perfil","Fondo plano de color personalizable","Menú - Call - Email","Título / Nombre","Descripción hasta 200 caracteres ","Enlace a 4 red social","Vínculo perfil Know me","Tarjeta de proximidad con logo"],cost:["99","980"],color:"#38B6FF"},{className:"emprendedor",plan:"Emprendedor",includes:["Foto de perfil","Fondo plano de color personalizable","Menú - Call - Email","Título / Nombre","Descripción hasta 200 caracteres ","Enlaces ilimiados a redes social","Vínculo perfil Know me","1000 Tarjetas de impresas con diseño personalizado","Alta en network Know me","Alta de archivos PDF en tu perfil Emprendedor","Galeria de imagenes"],cost:["199","1,990"],color:"#38B6FF"},{className:"ecommerce",plan:"Ecommerce",includes:["Foto de perfil","Fondo plano de color personalizable","Menú - Call - Email","Título / Nombre","Descripción hasta 200 caracteres ","Enlaces ilimiados a redes social","Vínculo perfil Know me","1000 Tarjetas de impresas con diseño personalizado","Alta en network Know me","Alta de archivos PDF en tu perfil Emprendedor","Galeria de imagenes","Tienda en linea"],cost:["330","3,190"],color:"#FD6202"}],O4={knowme_network:"Plataforma Knowme",proximity_card:["Tarjeta NFC - Blanco","Tarjeta NFC - Personalizada"],qr_code:"Código QR",social_media:"Redes Sociales (Links - Apps)",web_page_url:"Link único para compartir",personal_information:"Información Personal",business_information:"Información Business",profile_img:"Foto de Perfil",cover_img:"Foto de Portada",share_contact:"Intercambio de Contactos",ai_card_read:"Lectura AI de Tarjetas Tradicionales",contact_management:"Gestión de Contactos Recibidos",payment_links:"Enlaces de Pago",theme_selection:"Elección de Tema (Claro / Oscuro)",catalog:"Catálogo (Productos y Servicios)",service_directory:"Directorio de Servicios (Opcional)",directory_key_words:["5 Palabras clave para directorio","15 Palabras clave para directorio","Palabras clave ilimitadas para directorio"],knowme_discount:"Módulo de descuentos a comunidad Know Me",business_personalization:"Personalización Empresarial (Logotipo y pantalones)",gallery:"Galería",broshure:"Broshure o PDF",video:"Video",dashboard:"Dashboard Empresarial",data_export:"Exportación de Datos",user_management:"Gestión de Usuarios",masive_import:"Importación Masiva (csv, sheets, excels",analytics:"Analíticas",equipment_management:"Gestión de Equipos",card_reasignment:"Reasignación de Tarjetas",multiple_sub_business:"Multiples Sub-Empresas",crm_integration:"Automatizaciones personalizadas e integraciones con otros sistemas o CRM's"},yn=()=>{const e="https://api.knowmeapp.com",t="https://knowmeapp.com",n=localStorage.getItem("token"),{user:r}=b.useContext(kn);return{getPlans:async()=>await ve.get(`${e}/api/plans`),getProfile:async(K="")=>{let z;return K==""?z=await ve.get(`${e}/api/profile/username/${r.username}`,{headers:{"x-token":n}}):z=await ve.get(`${e}/api/profile/username/${K}`,{headers:{"x-token":n}}),z},getSocialMedia:async(K="")=>{let z;return K==""?z=await ve.get(`${e}/api/social_media_v2/${r.id}`,{headers:{"x-token":n}}):z=await ve.get(`${e}/api/social_media_v2/${K}`,{headers:{"x-token":n}}),z},postScheduleDay:async K=>(K.id_user=r.id,await ve.post(`${e}/api/schedule_day`,K,{headers:{"x-token":n}})),updateSocialMedia:async K=>(K.id_user=r.id,await ve.put(`${e}/api/social_media/${r.id}`,K,{headers:{"x-token":n}})),createProfile:async K=>{try{return K.username=r.username,await ve.post(`${e}/api/profile`,K,{headers:{"x-token":n}})}catch(z){throw z.response&&z.response.status===400?(console.error("Error 400:",z.response.data),new Error(z.response.data.msg||"Error al crear el perfil.")):(console.error("Error inesperado:",z),new Error("Error inesperado al crear el perfil."))}},getSchedule:async(K="")=>{let z;return K==""?z=await ve.get(`${e}/api/schedule_day/${r.id}`,{headers:{"x-token":n}}):z=await ve.get(`${e}/api/schedule_day/${K}`,{headers:{"x-token":n}}),z},updateScheduleDay:async K=>(K.id_user=r.id,await ve.put(`${e}/api/schedule_day/${r.id}/${K.day}`,K,{headers:{"x-token":n}})),updateProfile:async K=>(K.username=r.username,await ve.put(`${e}/api/profile/${r.username}`,K,{headers:{"x-token":n}})),getProfiles:async()=>await ve.get(`${e}/api/profile/`),getCategories:async()=>await ve.get(`${e}/api/categories/`,{headers:{"x-token":n}}),getProfilesFilter:async(K,z)=>await ve.get(`${e}/api/profile/filter/${K}/${z}`),getFilterCategories:async K=>await ve.get(`${e}/api/profile/filter/${K}`),createSocialMedia:async K=>(K.id_user=r.id,await ve.post(`${e}/api/social_media`,K,{headers:{"x-token":n}})),updateProfilePhoto:async K=>await ve.post(`${e}/api/profile/uploadAvatar`,K,{headers:{"x-token":n,"Content-Type":"multipart/form-data"}}),deleteSocialMedia:async(K,z)=>await ve.delete(`${e}/api/social_media_v2/${z}/${K}`,{headers:{"x-token":n,"Content-Type":"multipart/form-data"}}),getUser:async K=>await ve.get(`${e}/api/auth/user/${K}`,{headers:{"x-token":n,"Content-Type":"multipart/form-data"}}),validateUser:async()=>await ve.get(`${e}/api/user`,{headers:{"x-token":n,"Content-Type":"multipart/form-data"}}),getAlgolia:async(K,z)=>await ve.get(`${e}/api/profile/search/${z}?page=${K}&hitsPerPage=6`,{headers:{"x-token":n}}),createCardProfileDetail:async K=>await ve.post(`${e}/api/card_profile_detail/`,K,{headers:{"x-token":n}}),uploadFromDataUri:async K=>await ve.post(`${e}/api/profile/uploadFromDataUri`,K,{headers:{"x-token":n,"Content-Type":"multipart/form-data"}}),validateCard:async K=>{try{return await ve.get(`${e}/api/card/validate/${K}`,{headers:{"x-token":n,"Content-Type":"multipart/form-data"}})}catch(z){return z.response}},listCards:async()=>await ve.get(`${e}/api/card`,{headers:{"x-token":n,"Content-Type":"multipart/form-data"}}),getOrderCards:async()=>await ve.get(`${e}/api/order_card/${r.id}`,{headers:{"x-token":n}}),getOrderCardPdf:async K=>await ve.get(`${e}/api/order_card/${K}/pdf`,{headers:{"x-token":n,"Content-Type":"application/pdf"}}),postAdressDetail:async K=>{const z={...K,id_user_fk:r.id};return await ve.post(`${e}/api/address/`,z,{headers:{"x-token":n}})},getAdressOrder:async()=>await ve.get(`${e}/api/address/user/${r.id}`,{headers:{"x-token":n}}),listUsers:async()=>await ve.get(`${e}/api/user/list`,{headers:{"x-token":n,"Content-Type":"multipart/form-data"}}),updateUser:async(K,z)=>await ve.patch(`${e}/api/user/update/${z}}`,K,{headers:{"x-token":n}}),listOrderCards:async()=>await ve.get(`${e}/api/order_card/order/alls`,{headers:{"x-token":n}}),listAnalytics:async()=>await ve.get(`${e}/api/analytics`,{headers:{"x-token":n}}),updateTarjetadetail:async(K,z)=>await ve.put(`${e}/api/order_card/detail/${z}`,K,{headers:{"x-token":n}}),deleteAdressOrder:async K=>await ve.delete(`${e}/api/address/${K}`,{headers:{"x-token":n}}),searchUsers:async K=>await ve.get(`${e}/api/user/search/${K}`,{headers:{"x-token":n,"Content-Type":"multipart/form-data"}}),updateCardProfileDetail:async(K,z)=>await ve.put(`${e}/api/card_profile_detail/${z}`,K,{headers:{"x-token":n}}),listCardAnalytics:async()=>await ve.get(`${e}/api/analytics/cards`,{headers:{"x-token":n}}),listCategoryAnalytics:async()=>await ve.get(`${e}/api/analytics/categorys`,{headers:{"x-token":n}}),registerUser:async(K,z,_,U)=>{const te={name:K.name,lastname:K.lastname,email:K.email,orderCard:{image:_.image,nameBuisness:_.nameBuisness,nameOrder:_.nameOrder,color1:_.color1,color2:_.color2},adress:{fullName:_.fullname,work_home:_.work_home,street:_.street,street_1:_.street_1,street_2:_.street_2,outdoor_num:_.outdoor_num,other_indications:_.other_indications,contact_phone:_.contact_phone,municipality:_.municipality,state:_.state,postal_code:_.postal_code,colony:_.colony},date:K.date,area:K.area,cargo:K.cargo,mailing_status:!0,id_user_type_fk:2,terms_policies_status:!0,password:K.password,id_plan_fk:z,image:_.image,amountShipping:U,success_url:`${t}/success`,cancelUrl:`${t}/cancel`};return await ve.post(`${e}/api/auth/newpay`,te,{headers:{"x-token":n,"Content-Type":"application/json"}})},verifyCode:async K=>{const z={email:K};return await ve.post(`${e}/api/generatecode/`,z,{headers:{"Content-Type":"application/json"}})},validateCode:async(K,z)=>{const _={email:K,code:z};return await ve.post(`${e}/api/generatecode/verify`,_,{headers:{"Content-Type":"application/json"}})},registerAddress:async K=>{const z=new FormData;z.append("email",K.email),z.append("image",K.image),z.append("nameBuisness",K.nameBuisness),z.append("nameOrder",K.nameOrder),z.append("color1",K.color1),z.append("color2",K.color2),z.append("fullname",K.fullname),z.append("work_home",K.work_home),z.append("street",K.street),z.append("street_1","test"),z.append("street_2","test"),z.append("outdoor_num",K.outdoor_num),z.append("interior_num",K.interior_num),z.append("other_indications",K.other_indications),z.append("contact_phone",K.contact_phone),z.append("municipality",K.municipality),z.append("state",K.state),z.append("postal_code",K.postal_code),z.append("colony",K.colony);try{return await ve.post(`${e}/api/auth/newOrder`,z,{headers:{"x-token":n}})}catch(_){throw console.error("Error al registrar la dirección:",_),_}}}};const Kre=({plan:e,setSelectedPlan:t,cardsPlan:n})=>f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"plan-card ",style:{borderColor:"#"+n.color_card},children:[f.jsxs("div",{className:"info-card",children:[f.jsx("label",{className:"plan-title",style:{color:"#"+n.color_card},children:n.name_plan}),f.jsx("ul",{className:"plan-list p-4",children:Object.entries(O4).map(r=>{if(n[r[0]]==!0)return typeof r[1]=="string"?f.jsxs("li",{style:{color:"#"+n.color_card},children:["▸ ",r[1]]},r[0]):f.jsxs("li",{style:{color:"#"+n.color_card},children:["▸ ",r[1][n[r[0]]-1]]},r[0])})})]}),f.jsxs("div",{className:"plan-footer",children:[f.jsxs(pt,{className:"plan-cost",style:{color:"#"+n.color_card},children:[f.jsx(Xe,{xs:4,children:parseFloat(n.unique_cost)>0&&parseFloat(n.annual_cost)>0&&"MXN"}),f.jsx(Xe,{xs:8,className:"plan-month",children:parseFloat(n.unique_cost)<0&&parseFloat(n.annual_cost)<0?"Contáctanos":n.unique_cost=="0.00"&&n.annual_cost=="0.00"?"Gratis":n.unique_cost!="0.00"?`$${n.unique_cost} Pago único`:`$${n.annual_cost} Anual`})]}),f.jsx(br,{className:`plan-btn ${n.name_plan}`,style:{color:"#"+n.color_card,borderColor:"#"+n.color_card,cursor:"pointer"},onClick:()=>{t(n)},children:`Elige ${n.name_plan}`})]})]}),f.jsx("style",{children:`
          button.${n.name_plan}:hover,
          button.${n.name_plan}:active {
            background-color: ${"#"+n.color_card} !important;
            color: linear-gradient(var(--background-gradient)) !important;
          }
        `})]}),Ore=({selectedPlan:e,setSelectedPlan:t})=>{const[n,r]=b.useState(null),o=yn(),i=async()=>{const a=await o.getPlans();r(a.data.plans)};return b.useEffect(()=>{i()},[]),f.jsx(f.Fragment,{children:n!=null&&f.jsx(pG,{slidesPerView:1.3,centeredSlides:!0,spaceBetween:30,modules:[L4],className:"mySwiper",children:K4.map((a,l)=>(a.id_plan=n[l].id_plan,a.cost=[n[l].month_cost,n[l].annual_cost],a.color="#"+n[l].color_card,f.jsx(AG,{children:f.jsx(Kre,{plan:a,setSelectedPlan:t,cardsPlan:n[l]})},l)))})})};const Pre=({selectedPlan:e})=>{const[t,n]=b.useState(!1),r=xr(),o=ss(),i=Zt();b.useContext(kn),b.useEffect(()=>{r.state==null&&i("/")},[r]);const a=async()=>{const l=window.location.href.replace("plan",""),s={id_plan_fk:e.id_plan,successUrl:`${l}login`,cancelUrl:`${l}registro`},{usuario:c,terms:u,consent:g,email:d,nombre:m,password:I,apellido:h}=r.state.user,A={username:c,name:m,lastname:h,email:d,password:I,mailing_status:g,terms_policies_status:u,id_plan_fk:e.id_plan,id_user_type_fk:2};try{n(!0);const{data:C}=await o.createUser(A),{data:p}=await o.addPlan(C.id,s,C.token);n(!1),window.open(p.user.stripe_session_url,"_self")}catch{n(!1),i("/registro")}};return f.jsxs(f.Fragment,{children:[t&&f.jsx(IG,{}),f.jsx("div",{className:"plan-pay-option"}),f.jsx("div",{className:"plan-pay-btn",children:f.jsx(br,{onClick:a,children:e.name_plan!="Básico"?"Pagar con PayPal":"Comenzar"})}),f.jsx(Mn,{position:"top-center",richColors:!0})]})};const Dre="/assets/logoknowme-9ac09ab7.png";var zre={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function Ure(e){if(typeof e=="number")return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();n.includes(".")?t=parseFloat(n):t=parseInt(n,10);var r=(e.match(/[^0-9]*$/)||"").toString();return zre[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function yy(e){var t=Ure(e);return"".concat(t.value).concat(t.unit)}var _re=function(e,t,n){var r="react-spinners-".concat(e,"-").concat(n);if(typeof window>"u"||!window.document)return r;var o=document.createElement("style");document.head.appendChild(o);var i=o.sheet,a=`
    @keyframes `.concat(r,` {
      `).concat(t,`
    }
  `);return i&&i.insertRule(a,0),r},Ip=globalThis&&globalThis.__assign||function(){return Ip=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ip.apply(this,arguments)},Qre=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},$re=_re("BeatLoader","50% {transform: scale(0.75);opacity: 0.2} 100% {transform: scale(1);opacity: 1}","beat");function qre(e){var t=e.loading,n=t===void 0?!0:t,r=e.color,o=r===void 0?"#000000":r,i=e.speedMultiplier,a=i===void 0?1:i,l=e.cssOverride,s=l===void 0?{}:l,c=e.size,u=c===void 0?15:c,g=e.margin,d=g===void 0?2:g,m=Qre(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),I=Ip({display:"inherit"},s),h=function(A){return{display:"inline-block",backgroundColor:o,width:yy(u),height:yy(u),margin:yy(d),borderRadius:"100%",animation:"".concat($re," ").concat(.7/a,"s ").concat(A%2?"0s":"".concat(.35/a,"s")," infinite linear"),animationFillMode:"both"}};return n?b.createElement("span",Ip({style:I},m),b.createElement("span",{style:h(1)}),b.createElement("span",{style:h(2)}),b.createElement("span",{style:h(3)})):null}const cs=({fullScreen:e})=>f.jsx("div",{className:"loading-screen",style:e==!0?{height:"100vh"}:{},children:f.jsxs("div",{className:"loading-container",children:[f.jsx("img",{src:Dre,beforeInjection:t=>{t.classList.add("loading-logo")}}),f.jsx(qre,{color:"#597393",size:60,className:"loading-loader"})]})}),eoe=()=>{const e=ss(),t=Zt(),n=xr(),[r,o]=b.useState(null),i=l=>new Promise(s=>setTimeout(s,l)),a=async()=>{const{usuario:l,terms:s,consent:c,email:u,nombre:g,password:d,apellido:m}=n.state.user,I={username:l,name:g,lastname:m,email:u,password:d,mailing_status:c,terms_policies_status:s,id_plan_fk:r.id_plan,id_user_type_fk:2};try{const h=await e.createUser(I);await i(1e3),t("/")}catch{await i(1e3),t("/registro")}};return b.useEffect(()=>{n.state==null&&t("/login")},[]),b.useEffect(()=>{r&&r.unique_cost=="0.00"&&r.annual_cost=="0.00"&&a()},[r]),r&&r.unique_cost=="0.00"&&r.annual_cost=="0.00"?f.jsxs(f.Fragment,{children:[f.jsx(cs,{fullScreen:!0}),f.jsx(Mn,{position:"top-center",richColors:!0})]}):f.jsxs("div",{className:"plan-view",children:[f.jsx(om,{className:"registro-back",size:33,color:"#FD6202",onClick:()=>{r==null?t("/registro"):o(null)}}),f.jsxs(pt,{children:[f.jsx(Xe,{}),f.jsx(Xe,{xs:12,sm:10,className:"plan-container",children:f.jsxs("div",{className:"plan-card-2 ",children:[r!=null&&f.jsxs("label",{className:"plan-title",children:[" ",`Elige tu método de pago para el plan ${r.name_plan}:`]}),r==null&&f.jsxs(f.Fragment,{children:[f.jsx("label",{className:"plan-title",children:"Bienvenido a Know Me!"}),f.jsx("label",{className:"plan-content",children:"Por favor ayudanos a saber como nos adaptamos a ti"}),f.jsx("label",{className:"plan-subtitle",children:"¿Cuál opción se adapta a tus necesidades?"})]}),r==null?f.jsx(Ore,{selectedPlan:r,setSelectedPlan:o}):f.jsx(Pre,{selectedPlan:r})]})}),f.jsx(Xe,{})]}),f.jsx("div",{className:"plan-divider"})]})};function bG(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M176 416v64M80 32h192a32 32 0 0 1 32 32v412a4 4 0 0 1-4 4H48h0V64a32 32 0 0 1 32-32zm240 160h112a32 32 0 0 1 32 32v256h0-160 0V208a16 16 0 0 1 16-16z"},child:[]},{tag:"path",attr:{d:"M98.08 431.87a16 16 0 1 1 13.79-13.79 16 16 0 0 1-13.79 13.79zm0-80a16 16 0 1 1 13.79-13.79 16 16 0 0 1-13.79 13.79zm0-80a16 16 0 1 1 13.79-13.79 16 16 0 0 1-13.79 13.79zm0-80a16 16 0 1 1 13.79-13.79 16 16 0 0 1-13.79 13.79zm0-80a16 16 0 1 1 13.79-13.79 16 16 0 0 1-13.79 13.79zm80 240a16 16 0 1 1 13.79-13.79 16 16 0 0 1-13.79 13.79zm0-80a16 16 0 1 1 13.79-13.79 16 16 0 0 1-13.79 13.79zm0-80a16 16 0 1 1 13.79-13.79 16 16 0 0 1-13.79 13.79zm0-80a16 16 0 1 1 13.79-13.79 16 16 0 0 1-13.79 13.79zm80 320a16 16 0 1 1 13.79-13.79 16 16 0 0 1-13.79 13.79zm0-80a16 16 0 1 1 13.79-13.79 16 16 0 0 1-13.79 13.79zm0-80a16 16 0 1 1 13.79-13.79 16 16 0 0 1-13.79 13.79z"},child:[]},{tag:"ellipse",attr:{cx:"256",cy:"176",rx:"15.95",ry:"16.03",transform:"rotate(-45 255.99 175.996)"},child:[]},{tag:"path",attr:{d:"M258.08 111.87a16 16 0 1 1 13.79-13.79 16 16 0 0 1-13.79 13.79zM400 400a16 16 0 1 0 16 16 16 16 0 0 0-16-16zm0-80a16 16 0 1 0 16 16 16 16 0 0 0-16-16zm0-80a16 16 0 1 0 16 16 16 16 0 0 0-16-16zm-64 160a16 16 0 1 0 16 16 16 16 0 0 0-16-16zm0-80a16 16 0 1 0 16 16 16 16 0 0 0-16-16zm0-80a16 16 0 1 0 16 16 16 16 0 0 0-16-16z"},child:[]}]})(e)}function _c(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m184 112 144 144-144 144"},child:[]}]})(e)}function vG(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(e)}function toe(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M261.56 101.28a8 8 0 0 0-11.06 0L66.4 277.15a8 8 0 0 0-2.47 5.79L63.9 448a32 32 0 0 0 32 32H192a16 16 0 0 0 16-16V328a8 8 0 0 1 8-8h80a8 8 0 0 1 8 8v136a16 16 0 0 0 16 16h96.06a32 32 0 0 0 32-32V282.94a8 8 0 0 0-2.47-5.79z"},child:[]},{tag:"path",attr:{d:"m490.91 244.15-74.8-71.56V64a16 16 0 0 0-16-16h-48a16 16 0 0 0-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0 0 43 267.56L250.5 69.28a8 8 0 0 1 11.06 0l207.52 198.28a16 16 0 0 0 22.59-.44c6.14-6.36 5.63-16.86-.76-22.97z"},child:[]}]})(e)}function noe(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"80",height:"80",x:"336",y:"336",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"64",height:"64",x:"272",y:"272",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"64",height:"64",x:"416",y:"416",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"48",height:"48",x:"432",y:"272",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"48",height:"48",x:"272",y:"432",rx:"8",ry:"8"},child:[]},{tag:"path",attr:{d:"M448 32H304a32 32 0 0 0-32 32v144a32 32 0 0 0 32 32h144a32 32 0 0 0 32-32V64a32 32 0 0 0-32-32zm-32 136a8 8 0 0 1-8 8h-64a8 8 0 0 1-8-8v-64a8 8 0 0 1 8-8h64a8 8 0 0 1 8 8zM208 32H64a32 32 0 0 0-32 32v144a32 32 0 0 0 32 32h144a32 32 0 0 0 32-32V64a32 32 0 0 0-32-32zm-32 136a8 8 0 0 1-8 8h-64a8 8 0 0 1-8-8v-64a8 8 0 0 1 8-8h64a8 8 0 0 1 8 8zm32 104H64a32 32 0 0 0-32 32v144a32 32 0 0 0 32 32h144a32 32 0 0 0 32-32V304a32 32 0 0 0-32-32zm-32 136a8 8 0 0 1-8 8h-64a8 8 0 0 1-8-8v-64a8 8 0 0 1 8-8h64a8 8 0 0 1 8 8z"},child:[]}]})(e)}function P4(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M463.1 112.37C373.68 96.33 336.71 84.45 256 48c-80.71 36.45-117.68 48.33-207.1 64.37C32.7 369.13 240.58 457.79 256 464c15.42-6.21 223.3-94.87 207.1-351.63z"},child:[]},{tag:"path",attr:{d:"M256 48c-80.71 36.45-117.68 48.33-207.1 64.37C32.7 369.13 240.58 457.79 256 464z"},child:[]}]})(e)}const xc=({src:e,color:t,size:n,name:r,round:o})=>{const i="https://t4.ftcdn.net/jpg/03/59/58/91/360_F_359589186_JDLl8dIWoBNf1iqEkHxhUeeOulx0wOC5.jpg",a={width:`${n}px`,height:`${n}px`};return f.jsx(f.Fragment,{children:f.jsx("img",{src:e!=""&&e?e:i,alt:r,style:a,className:`inline-block h-6 w-6 object-cover ${o?"rounded-full":"rounded-lg"}`})})};function roe({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-4.28 9.22a.75.75 0 0 0 0 1.06l3 3a.75.75 0 1 0 1.06-1.06l-1.72-1.72h5.69a.75.75 0 0 0 0-1.5h-5.69l1.72-1.72a.75.75 0 0 0-1.06-1.06l-3 3Z",clipRule:"evenodd"}))}const ooe=b.forwardRef(roe),ioe=ooe;function aoe({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm4.28 10.28a.75.75 0 0 0 0-1.06l-3-3a.75.75 0 1 0-1.06 1.06l1.72 1.72H8.25a.75.75 0 0 0 0 1.5h5.69l-1.72 1.72a.75.75 0 1 0 1.06 1.06l3-3Z",clipRule:"evenodd"}))}const loe=b.forwardRef(aoe),soe=loe;function coe({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{fillRule:"evenodd",d:"M7.5 5.25a3 3 0 0 1 3-3h3a3 3 0 0 1 3 3v.205c.933.085 1.857.197 2.774.334 1.454.218 2.476 1.483 2.476 2.917v3.033c0 1.211-.734 2.352-1.936 2.752A24.726 24.726 0 0 1 12 15.75c-2.73 0-5.357-.442-7.814-1.259-1.202-.4-1.936-1.541-1.936-2.752V8.706c0-1.434 1.022-2.7 2.476-2.917A48.814 48.814 0 0 1 7.5 5.455V5.25Zm7.5 0v.09a49.488 49.488 0 0 0-6 0v-.09a1.5 1.5 0 0 1 1.5-1.5h3a1.5 1.5 0 0 1 1.5 1.5Zm-3 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}),b.createElement("path",{d:"M3 18.4v-2.796a4.3 4.3 0 0 0 .713.31A26.226 26.226 0 0 0 12 17.25c2.892 0 5.68-.468 8.287-1.335.252-.084.49-.189.713-.311V18.4c0 1.452-1.047 2.728-2.523 2.923-2.12.282-4.282.427-6.477.427a49.19 49.19 0 0 1-6.477-.427C4.047 21.128 3 19.852 3 18.4Z"}))}const uoe=b.forwardRef(coe),goe=uoe;function doe({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{fillRule:"evenodd",d:"M4.5 2.25a.75.75 0 0 0 0 1.5v16.5h-.75a.75.75 0 0 0 0 1.5h16.5a.75.75 0 0 0 0-1.5h-.75V3.75a.75.75 0 0 0 0-1.5h-15ZM9 6a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5H9Zm-.75 3.75A.75.75 0 0 1 9 9h1.5a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM9 12a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5H9Zm3.75-5.25A.75.75 0 0 1 13.5 6H15a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM13.5 9a.75.75 0 0 0 0 1.5H15A.75.75 0 0 0 15 9h-1.5Zm-.75 3.75a.75.75 0 0 1 .75-.75H15a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM9 19.5v-2.25a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-.75.75h-4.5A.75.75 0 0 1 9 19.5Z",clipRule:"evenodd"}))}const foe=b.forwardRef(doe),yG=foe;function moe({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z",clipRule:"evenodd"}))}const Ioe=b.forwardRef(moe),hoe=Ioe;function Coe({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{fillRule:"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z",clipRule:"evenodd"}),b.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const poe=b.forwardRef(Coe),Aoe=poe;function boe({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{d:"M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z"}),b.createElement("path",{d:"M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z"}))}const voe=b.forwardRef(boe),iI=voe;function yoe({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const xoe=b.forwardRef(yoe),Soe=xoe;function Zoe({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{d:"M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z"}))}const woe=b.forwardRef(Zoe),RA=woe;function Goe({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{d:"M12 .75a8.25 8.25 0 0 0-4.135 15.39c.686.398 1.115 1.008 1.134 1.623a.75.75 0 0 0 .577.706c.352.083.71.148 1.074.195.323.041.6-.218.6-.544v-4.661a6.714 6.714 0 0 1-.937-.171.75.75 0 1 1 .374-1.453 5.261 5.261 0 0 0 2.626 0 .75.75 0 1 1 .374 1.452 6.712 6.712 0 0 1-.937.172v4.66c0 .327.277.586.6.545.364-.047.722-.112 1.074-.195a.75.75 0 0 0 .577-.706c.02-.615.448-1.225 1.134-1.623A8.25 8.25 0 0 0 12 .75Z"}),b.createElement("path",{fillRule:"evenodd",d:"M9.013 19.9a.75.75 0 0 1 .877-.597 11.319 11.319 0 0 0 4.22 0 .75.75 0 1 1 .28 1.473 12.819 12.819 0 0 1-4.78 0 .75.75 0 0 1-.597-.876ZM9.754 22.344a.75.75 0 0 1 .824-.668 13.682 13.682 0 0 0 2.844 0 .75.75 0 1 1 .156 1.492 15.156 15.156 0 0 1-3.156 0 .75.75 0 0 1-.668-.824Z",clipRule:"evenodd"}))}const Boe=b.forwardRef(Goe),koe=Boe;function Roe({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{fillRule:"evenodd",d:"m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",clipRule:"evenodd"}))}const Voe=b.forwardRef(Roe),Woe=Voe;function Noe({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"}))}const Eoe=b.forwardRef(Noe),Xoe=Eoe;function Joe({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{fillRule:"evenodd",d:"M1.5 4.5a3 3 0 0 1 3-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 0 1-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 0 0 6.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 0 1 1.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 0 1-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5Z",clipRule:"evenodd"}))}const Yoe=b.forwardRef(Joe),hp=Yoe;function Hoe({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const Foe=b.forwardRef(Hoe),D4=Foe;function Moe({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{fillRule:"evenodd",d:"M3 4.875C3 3.839 3.84 3 4.875 3h4.5c1.036 0 1.875.84 1.875 1.875v4.5c0 1.036-.84 1.875-1.875 1.875h-4.5A1.875 1.875 0 0 1 3 9.375v-4.5ZM4.875 4.5a.375.375 0 0 0-.375.375v4.5c0 .207.168.375.375.375h4.5a.375.375 0 0 0 .375-.375v-4.5a.375.375 0 0 0-.375-.375h-4.5Zm7.875.375c0-1.036.84-1.875 1.875-1.875h4.5C20.16 3 21 3.84 21 4.875v4.5c0 1.036-.84 1.875-1.875 1.875h-4.5a1.875 1.875 0 0 1-1.875-1.875v-4.5Zm1.875-.375a.375.375 0 0 0-.375.375v4.5c0 .207.168.375.375.375h4.5a.375.375 0 0 0 .375-.375v-4.5a.375.375 0 0 0-.375-.375h-4.5ZM6 6.75A.75.75 0 0 1 6.75 6h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75A.75.75 0 0 1 6 7.5v-.75Zm9.75 0A.75.75 0 0 1 16.5 6h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75ZM3 14.625c0-1.036.84-1.875 1.875-1.875h4.5c1.036 0 1.875.84 1.875 1.875v4.5c0 1.035-.84 1.875-1.875 1.875h-4.5A1.875 1.875 0 0 1 3 19.125v-4.5Zm1.875-.375a.375.375 0 0 0-.375.375v4.5c0 .207.168.375.375.375h4.5a.375.375 0 0 0 .375-.375v-4.5a.375.375 0 0 0-.375-.375h-4.5Zm7.875-.75a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Zm6 0a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75ZM6 16.5a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Zm9.75 0a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Zm-3 3a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Zm6 0a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Z",clipRule:"evenodd"}))}const joe=b.forwardRef(Moe),Toe=joe;function Loe({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{fillRule:"evenodd",d:"M9.315 7.584C12.195 3.883 16.695 1.5 21.75 1.5a.75.75 0 0 1 .75.75c0 5.056-2.383 9.555-6.084 12.436A6.75 6.75 0 0 1 9.75 22.5a.75.75 0 0 1-.75-.75v-4.131A15.838 15.838 0 0 1 6.382 15H2.25a.75.75 0 0 1-.75-.75 6.75 6.75 0 0 1 7.815-6.666ZM15 6.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z",clipRule:"evenodd"}),b.createElement("path",{d:"M5.26 17.242a.75.75 0 1 0-.897-1.203 5.243 5.243 0 0 0-2.05 5.022.75.75 0 0 0 .625.627 5.243 5.243 0 0 0 5.022-2.051.75.75 0 1 0-1.202-.897 3.744 3.744 0 0 1-3.008 1.51c0-1.23.592-2.323 1.51-3.008Z"}))}const Koe=b.forwardRef(Loe),Ooe=Koe;function Poe({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const Doe=b.forwardRef(Poe),z4=Doe;function zoe({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"}))}const Uoe=b.forwardRef(zoe),iW=Uoe;function _oe({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const Qoe=b.forwardRef(_oe),U4=Qoe,aW={Lunes:!1,LunesSt:"08:00",LunesEnd:"17:00",Martes:!1,MartesSt:"08:00",MartesEnd:"17:00",Miércoles:!1,MiércolesSt:"08:00",MiércolesEnd:"17:00",Jueves:!1,JuevesSt:"08:00",JuevesEnd:"17:00",Viernes:!1,ViernesSt:"08:00",ViernesEnd:"17:00",Sábado:!1,SábadoSt:"08:00",SábadoEnd:"17:00",Domingo:!1,DomingoSt:"08:00",DomingoEnd:"17:00"},bx=["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],$oe={6:"PLAN GRATUITO",7:"PLAN BÁSICO",8:"PLAN EMPRENDEDOR",9:"PLAN BUSINESS",10:"PLAN MULTIEMPRESAS",23:"PLAN PREMIUM"};function qoe({searchActive:e}){const t=yn(),[n,r]=b.useState({}),{email:o,title_profile:i,username:a}=n,[l,s]=b.useState("");return b.useEffect(()=>{(async()=>{try{const u=await t.getProfile();r(u.data),s(u.data.profile_img_url)}catch(u){console.error("Error fetching profile:",u)}})()},[]),f.jsxs("div",{className:"relative z-0 isolate ",children:[f.jsx("div",{className:"absolute inset-x-0 top-[calc(100%-13rem)] transform-gpu overflow-hidden blur-3xl sm:top-[calc(30%-30rem)]","aria-hidden":"true",children:f.jsx("div",{className:"relative left-[calc(50%+3rem)] aspect-[1155/678] w-[1.125rem] -translate-x-1/2 bg-gradient-to-tr from-[#fde68a] to-[#9a3412] opacity-20 sm:left-[calc(40%+5rem)] sm:w-[70.1875rem]",style:{clipPath:"polygon(90.76% 75.84%, 100% 66%, 85.5% 36.72%, 85.5% 0%, 75.14% 15.81%, 38.66% 15.81%, 65.1% 45.92%, 61.5% 85.83%, 20% 27.29%, 0% 35.42%, 29.3% 73.96%, 0% 89%, 20% 100%, 32.79% 91.48%, 76.1% 102%, 78% 48%)"}})}),f.jsx("div",{className:"flex justify-center items-center",children:f.jsxs("div",{className:"max-w-md w-full backdrop-blur-sm overflow-hidden shadow-lg pb-4",children:[f.jsxs("div",{className:"px-6 py-4",children:[f.jsx("div",{className:"flex justify-center",children:f.jsx(xc,{name:a,size:"40",src:l})}),f.jsxs("div",{className:"text-center m-2",children:[f.jsxs("h3",{className:"text-sm font-semibold",children:["¡Hola, ",i,"!"]}),f.jsx("span",{className:"inline-flex items-center rounded-md bg-gray-50 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-500/10 m-1",children:$oe[localStorage.getItem("id_plan")]})]})]}),f.jsx("div",{className:"px-2 flex justify-center",children:f.jsxs(js,{type:"button",to:"/share/",className:"inline-flex items-center rounded-md bg-orange-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600",children:[f.jsx(Toe,{className:"-ml-0.5 mr-1.5 h-5 w-5","aria-hidden":"true"}),"Compartir QR"]})})]})})]})}function _4(e){return Ze({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21.0082 3C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082ZM20 5H4V19H20V5ZM18 15V17H6V15H18ZM12 7V13H6V7H12ZM18 11V13H14V11H18ZM10 9H8V11H10V9ZM18 7V9H14V7H18Z"},child:[]}]})(e)}function eie(e){return Ze({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18 8H20C20.5523 8 21 8.44772 21 9V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V9C3 8.44772 3.44772 8 4 8H6V7C6 3.68629 8.68629 1 12 1C15.3137 1 18 3.68629 18 7V8ZM16 8V7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7V8H16ZM11 14V16H13V14H11ZM7 14V16H9V14H7ZM15 14V16H17V14H15Z"},child:[]}]})(e)}function Q4(e){return Ze({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 11H13V13H5V16L0 12L5 8V11ZM3.99927 18H6.70835C8.11862 19.2447 9.97111 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C9.97111 4 8.11862 4.75527 6.70835 6H3.99927C5.82368 3.57111 8.72836 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C8.72836 22 5.82368 20.4289 3.99927 18Z"},child:[]}]})(e)}function $4(e){return Ze({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z",clipRule:"evenodd"},child:[]}]})(e)}function q4(e){return Ze({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19.5 7a9 9 0 0 0 -7.5 -4a8.991 8.991 0 0 0 -7.484 4"},child:[]},{tag:"path",attr:{d:"M11.5 3a16.989 16.989 0 0 0 -1.826 4"},child:[]},{tag:"path",attr:{d:"M12.5 3a16.989 16.989 0 0 1 1.828 4"},child:[]},{tag:"path",attr:{d:"M19.5 17a9 9 0 0 1 -7.5 4a8.991 8.991 0 0 1 -7.484 -4"},child:[]},{tag:"path",attr:{d:"M11.5 21a16.989 16.989 0 0 1 -1.826 -4"},child:[]},{tag:"path",attr:{d:"M12.5 21a16.989 16.989 0 0 0 1.828 -4"},child:[]},{tag:"path",attr:{d:"M2 10l1 4l1.5 -4l1.5 4l1 -4"},child:[]},{tag:"path",attr:{d:"M17 10l1 4l1.5 -4l1.5 4l1 -4"},child:[]},{tag:"path",attr:{d:"M9.5 10l1 4l1.5 -4l1.5 4l1 -4"},child:[]}]})(e)}const ys=16,tie=[{option:"Home",icon:f.jsx(see,{size:ys}),url:"/home/"},{option:"Tarjetas",icon:f.jsx($4,{size:ys}),url:"/share/"},{option:"Business",icon:f.jsx(bG,{size:ys}),url:"/business/"},{option:"Contactos",icon:f.jsx(rG,{size:ys}),url:"/contacts/"},{option:"Perfil",icon:f.jsx(_4,{size:ys}),url:"/perfil/"},{option:"Ajustes",icon:f.jsx($j,{style:{rotate:"45deg"},size:ys}),url:"/settings/"},{option:"Cerrar sesión",icon:f.jsx(Q4,{size:ys}),url:"/"}],Vn=()=>{const e=Zt();b.useContext(kn);const[t,n]=b.useState(!1),r=()=>{localStorage.removeItem("token"),localStorage.removeItem("fullname"),localStorage.removeItem("email"),localStorage.removeItem("id_plan"),localStorage.removeItem("is_superuser"),e("/login")},o=()=>{e("/upgrade")},i=[{description:f.jsxs(f.Fragment,{children:[f.jsx(bG,{className:"inline-block align-baseline"})," Business : Gestiona la información de tu empresa y los miembros dentro de esta."]})},{description:f.jsxs(f.Fragment,{children:[f.jsx($4,{className:"inline-block align-baseline"})," Tarjetas : Da seguimiento y personaliza tus tarjetas Knowme."]})},{description:f.jsxs(f.Fragment,{children:[f.jsx(_4,{className:"inline-block align-baseline"})," Perfil : Aprovecha al máximo tu plan, ofrece la información más detallada sobre tu empresa a todos nuestros usuarios Knowme."]})}];return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"sidebar",children:[f.jsx(qoe,{searchActive:!0}),f.jsx("div",{className:"flex flex-col w-96 cursor-pointer",children:f.jsxs(rm.Provider,{value:{color:"#FFF"},children:[localStorage.getItem("is_superuser")==="true"&&f.jsxs("div",{className:"flex justify-start text-white p-2 hover:bg-orange-500 space-x-4 items-center hover:rounded-md",onClick:()=>e("/admin"),children:[f.jsx(P4,{}),f.jsx(tx,{children:"Administrador"})]}),tie.map(a=>a.option==="Business"&&localStorage.getItem("id_plan")!=="9"||a.option==="Contactos"&&localStorage.getItem("id_plan")<=7||a.option==="Home"&&localStorage.getItem("id_plan")<=7?null:f.jsxs("div",{className:"flex justify-start text-white p-2 hover:bg-orange-500 space-x-4 items-center hover:rounded-md",onClick:a.option==="Cerrar sesión"?r:()=>e(a.url),children:[a.icon,f.jsx(tx,{children:a.option})]},a.option))]})}),f.jsx("div",{className:"flex justify-center items-center w-96 pt-10",children:localStorage.getItem("id_plan")==="9"?f.jsx("div",{className:"flex justify-center items-center w-full",children:f.jsx("button",{type:"button",className:"inline-flex items-center rounded-md bg-orange-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600",onClick:()=>n(!0),children:"YA ERES BUSINESS"})}):f.jsx("button",{onClick:o,type:"button",className:"btn bg-gradient-to-r from-green-400 to-blue-500 hover:from-pink-500 hover:to-yellow-500 text-slate-100 hover:text-slate-200 subpixel-antialiased",children:"UPGRADE"})})]}),t&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:f.jsxs("div",{className:"bg-orange-600 rounded-lg shadow-xl max-w-3xl w-full p-8",children:[f.jsx("div",{className:"flex justify-between items-center mb-6",children:f.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Beneficios de tu plan"})}),f.jsx("div",{className:"space-y-6",children:i.map((a,l)=>f.jsx("div",{className:"flex flex-col items-start space-y-2",children:f.jsx("div",{className:"flex items-center text-lg text-white",children:f.jsx("span",{className:"mr-3",children:a.description})})},l))}),f.jsx("div",{className:"mt-8 text-center",children:f.jsx("button",{onClick:()=>n(!1),className:"px-6 py-3 bg-gray-700 text-white font-semibold rounded-lg shadow-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-300",children:"Cerrar"})})]})})]})};function nie(e){return Ze({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"},child:[]}]})(e)}const eT=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#eeeeee","#795548","#607d8b"],rie=({setShowCustomButton:e,setCustomButtonParams:t,customButtonParams:n})=>{const[r,o]=b.useState(n.color),{formState:i,onInputChange:a,onResetForm:l,onCheckBoxChange:s}=ls({...n}),c=()=>{t({...i,color:r}),e(!1)};return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"profile-custom-button",children:[f.jsx("div",{className:"profile-x",onClick:()=>{e(!1)},children:f.jsx(vG,{size:24})}),f.jsx("h5",{children:"Personaliza tu enlace y color del botón:"}),f.jsxs("div",{className:"profile-site",children:[f.jsx(sG,{size:24,color:"#858585"}),f.jsx("input",{type:"url",className:"profile-site-input",placeholder:i.url,value:i.url,name:"url",onChange:a})]}),f.jsxs("div",{className:"profile-site",children:[f.jsx(nie,{size:24,color:"#858585"}),f.jsx("input",{type:"text",className:"profile-site-input",placeholder:i.text,value:i.text,name:"text",onChange:a})]}),f.jsx("h6",{children:"Elige un color:"}),f.jsx("div",{className:"paleta-color",children:f.jsx(pt,{children:eT.map(u=>f.jsx(Xe,{xs:4,md:2,className:"color-option",children:f.jsx("div",{style:{backgroundColor:u,borderColor:r==u?"black":"gray"},onClick:()=>{o(u)}})},u))})}),f.jsx("div",{className:"profile-boton",children:f.jsx(br,{variant:"outline-primary",children:"Ej. CONÓCENOS"})}),f.jsx("div",{className:"profile-guardar",children:f.jsx(br,{variant:"primary",size:"lg",onClick:c,children:"Guardar"})}),f.jsx("style",{children:`
          .profile-boton button{
            border-color: ${r};
            color: ${r};
          }
          .profile-boton button:hover, .profile-boton button:active{
            background-color: ${r}!important;
            border-color: ${r}!important;
          }
          `})]})})};function oie({setShowCustomButtonHour:e,setSchedule:t,schedule:n}){const{formState:r,onInputChange:o,onCheckBoxChange:i}=ls(n),a=()=>{t({...r}),e(!1)};return f.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-11/12 max-w-lg p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h5",{className:"text-lg font-semibold text-gray-800",children:"Horarios de atención"}),f.jsx("button",{type:"button",onClick:()=>e(!1),className:"text-gray-500 hover:text-gray-700",children:f.jsx(vG,{size:24})})]}),f.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Configura los días y horarios en los que estarás disponible. Los cambios se aplicarán cuando guardes el perfil completo."}),f.jsx("div",{className:"space-y-4",children:bx.map(l=>f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("label",{className:"text-sm font-medium text-gray-800",children:l}),f.jsxs("div",{className:"flex space-x-2 items-center",children:[f.jsx("input",{name:`${l}St`,value:r[`${l}St`],onChange:o,type:"time",className:"w-28 px-2 py-1 border rounded-md text-sm text-gray-700"}),f.jsx("span",{className:"text-gray-500",children:"a"}),f.jsx("input",{name:`${l}End`,value:r[`${l}End`],onChange:o,type:"time",className:"w-28 px-2 py-1 border rounded-md text-sm text-gray-700"}),f.jsx("input",{name:l,checked:r[l],onChange:i,type:"checkbox",id:`${l}-disponible`,className:"h-4 w-4 text-orange-500 rounded focus:ring-orange-400"})]})]},l))}),f.jsxs("div",{className:"flex justify-between mt-6",children:[f.jsx("button",{type:"button",onClick:()=>e(!1),className:"rounded-md bg-gray-300 px-4 py-2 text-sm font-semibold text-gray-700 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-400",children:"Cerrar"}),f.jsx("button",{type:"button",onClick:a,className:"rounded-md bg-orange-500 px-4 py-2 text-sm font-semibold text-white shadow-sm ring-1 ring-inset ring-orange-500 hover:bg-orange-600",children:"Aplicar cambios"})]})]})})}const iie=()=>(b.useState([{coordenadas:[21.88695915277653,-102.29242038583625],popUp:"Zaragoza"},{coordenadas:[21.924763219343827,-102.30465885000585],popUp:"Colosio"},{coordenadas:[21.89441976335907,-102.29520312269968],popUp:"Av. Independencia"},{coordenadas:[21.867415207362505,-102.30284329073551],popUp:"Av Américas"},{coordenadas:[21.922800254618185,-102.29173215978628],popUp:"Blvd Zacatecas"}]),f.jsx(f.Fragment,{children:f.jsx("div",{className:"profile-map-modal",children:f.jsx("h1",{children:"EN DESARROLLO..."})})}));const aie=({setShowColorPallete:e,setCustomBannerColor:t,customBannerColor:n})=>{const[r,o]=b.useState(n),i=()=>{e(!1)},a=()=>{t(r),e(!1)};return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"color-pallete",children:[f.jsx("div",{className:"profile-x",onClick:a,children:f.jsx(vG,{size:24})}),f.jsx("div",{className:"paleta-color",children:f.jsx(pt,{children:eT.map(l=>f.jsx(Xe,{xs:4,md:2,className:"color-option",children:f.jsx("div",{style:{backgroundColor:l,borderColor:n==l?"black":"gray"},onClick:()=>{t(l)}})},l))})}),f.jsx("div",{className:"pallete-guardar",children:f.jsx(br,{variant:"primary",size:"lg",onClick:i,children:"Guardar"})})]})})};const lie=({handleClick:e,placeText:t})=>{const{formState:n,onInputChange:r}=ls({url:""});return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"input-modal",children:[f.jsx("div",{children:f.jsx("input",{type:"text",placeholder:t,onChange:r,name:"url"})}),f.jsx("div",{children:f.jsx(br,{variant:"primary",onClick:()=>{e(n)},children:"Guardar"})})]})})};const qu="/assets/portada-img-default-5dd45fd5.png";function sie(e){return Ze({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm297.1 84L257.3 234.6 379.4 396H283.8L209 298.1 123.3 396H75.8l111-126.9L69.7 116h98l67.7 89.5L313.6 116h47.5zM323.3 367.6L153.4 142.9H125.1L296.9 367.6h26.3z"},child:[]}]})(e)}function cie(e){return Ze({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"},child:[]}]})(e)}function tT({open:e,onClose:t,children:n,title:r}){return e?f.jsx("div",{id:"default-modal",tabIndex:"-1","aria-hidden":"true",className:"fixed top-0 right-0 left-0 z-50 flex justify-center items-center w-full h-full bg-gray-800 bg-opacity-50",children:f.jsx("div",{className:"relative p-4 w-full max-w-2xl max-h-full",children:f.jsxs("div",{className:"relative bg-white rounded-lg shadow ",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 md:p-5 border-b rounded-t ",children:[f.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:r}),f.jsxs("button",{onClick:t,type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center ",children:[f.jsx("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:f.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),f.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),f.jsx("div",{className:"p-4 md:p-5 space-y-4",children:n})]})})}):null}function uie({show:e,setShow:t,activeRed:n,setActiveRed:r}){const o="https://api.knowmeapp.com",i=localStorage.getItem("token"),[a,l]=b.useState(""),[s,c]=b.useState(""),{user:u}=b.useContext(kn),g=[{name:"Facebook",icon:f.jsx(iG,{})},{name:"Twitter",icon:f.jsx(sie,{})},{name:"TikTok",icon:f.jsx(xA,{})},{name:"Youtube",icon:f.jsx(r4,{})},{name:"Telegram",icon:f.jsx(n4,{})},{name:"Instagram",icon:f.jsx(aG,{})},{name:"Google",icon:f.jsx(qj,{})},{name:"Spotify",icon:f.jsx(t4,{})},{name:"Pinterest",icon:f.jsx(e4,{})},{name:"LinkedIn",icon:f.jsx(lG,{})},{name:"Custom",icon:f.jsx(sG,{})}],d=async I=>await ve.post(`${o}/api/social_media_v2`,I,{headers:{"x-token":i}}),m=async()=>{if(s.length<2){Re.error("El campo de usuario no debe ir vacío");return}let I={name:a,url:s,id:u.id};const h=Re.loading("Guardando red social");try{await d(I),r([...n,I]),Re.success(`Red social para ${a} guardado exitosamente`,{id:h}),t(!1)}catch(A){console.error("Failed to update social media:",A),Re.error("Error al agregar red social",{id:h})}};return f.jsxs(f.Fragment,{children:[f.jsx(Mn,{position:"top-right",richColors:!0}),f.jsxs(tT,{title:"Añadir redes sociales",open:e,onClose:()=>t(!1),children:[f.jsx("div",{children:a.length===0?f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2",children:g.map((I,h)=>f.jsx("button",{onClick:()=>l(I.name),className:"rounded-md border border-slate-300 h-16 w-full flex items-center justify-center p-1 text-center text-sm transition-all shadow-sm hover:shadow-lg text-slate-600 hover:text-white hover:bg-slate-800 hover:border-slate-800 focus:text-white focus:bg-slate-800 focus:border-slate-800 active:border-slate-800 active:text-white active:bg-slate-800",type:"button",children:f.jsx("div",{className:"flex justify-center",children:G.cloneElement(I.icon,{color:"orange",size:32})})},h))}):f.jsxs("div",{children:[f.jsx("div",{className:"rounded-md bg-blue-50 p-4 mb-4",children:f.jsxs("div",{className:"flex flex-col sm:flex-row",children:[f.jsx("div",{className:"shrink-0 mb-2 sm:mb-0",children:f.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:f.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-7-4a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM9 9a.75.75 0 0 0 0 1.5h.253a.25.25 0 0 1 .244.304l-.459 2.066A1.75 1.75 0 0 0 10.747 15H11a.75.75 0 0 0 0-1.5h-.253a.25.25 0 0 1-.244-.304l.459-2.066A1.75 1.75 0 0 0 9.253 9H9Z",clipRule:"evenodd"})})}),f.jsx("div",{className:"ml-0 sm:ml-3 flex-1",children:f.jsxs("p",{className:"text-sm text-blue-700 break-words",children:["Selecciona una red social y completa los campos requeridos. Si es una URL personalizada, incluye el enlace completo. Por ejemplo: https://www.",a.toLowerCase(),".com/knowme_app_com"]})})]})}),a==="custom"?f.jsx(f.Fragment,{children:f.jsx("h2",{className:"addSocial text-black",children:"Añade tu URL personalizada"})}):f.jsx(f.Fragment,{children:f.jsxs("h2",{className:"addSocial text-black",children:["Añade tu usuario de ",a]})}),f.jsx("div",{className:"flex",children:a==="telegram"?f.jsxs(f.Fragment,{children:[f.jsx("input",{type:"number",disabled:!0,placeholder:"+52",className:"mt-3 mr-1 social-input-add p-2 border rounded-md w-1/3"}),f.jsx("input",{type:"number",className:"mt-3 social-input-add p-2 border rounded-md w-full",value:s,placeholder:"331234912",onChange:I=>c(I.target.value)})]}):f.jsx(f.Fragment,{children:a==="custom"?f.jsx(f.Fragment,{children:f.jsx("input",{type:"text",className:"mt-3 social-input-add p-2 border rounded-md w-full",value:s,placeholder:"www.url.com",onChange:I=>c(I.target.value)})}):f.jsxs(f.Fragment,{children:[f.jsx("input",{type:"text",disabled:!0,placeholder:`www.${a.toLowerCase()}.com/`,className:"mt-3 mr-1 social-input-add p-2 border rounded-md w-1/3"}),f.jsx("input",{type:"text",className:"mt-3 social-input-add p-2 border rounded-md w-2/3",value:s,placeholder:"usuario",onChange:I=>c(I.target.value)})]})})})]})}),f.jsx("div",{children:a.length!==0?f.jsxs(f.Fragment,{children:[f.jsx("button",{type:"button",className:"rounded-md bg-gray-300 px-4 py-2 text-sm font-semibold text-gray-700 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-400 m-1",onClick:()=>l(""),children:"Ir atrás"}),f.jsx("button",{type:"button",className:"rounded-md bg-red-500 px-4 py-2 text-sm font-semibold text-white shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-400 m-1",onClick:()=>t(!1),children:"Cancelar"}),f.jsx("button",{type:"button",className:"rounded-md bg-orange-500 px-4 py-2 text-sm font-semibold text-white shadow-sm ring-1 ring-inset ring-orange-500 hover:bg-orange-600 m-1",onClick:m,children:"Agregar"})]}):f.jsx(br,{variant:"secondary",onClick:()=>t(!1),children:"Cerrar"})})]})]})}const gie=({name:e,show:t,setShow:n})=>{const r="https://api.knowmeapp.com",o=localStorage.getItem("token"),[i,a]=b.useState(""),{user:l}=b.useContext(kn),s=async u=>await ve.put(`${r}/api/social_media_v2/${l.id}/${e}`,u,{headers:{"x-token":o}}),c=async()=>{const u={name:e,url:i,id:l.id},g=Re.loading("Guardando red social");try{await s(u),Re.success(`Red social para ${e} guardado exitosamente`,{id:g}),n(!1)}catch(d){console.error("Failed to update social media:",d),Re.error("Error al agregar red social",{id:g})}};return f.jsxs(f.Fragment,{children:[f.jsx(Mn,{position:"top-right",richColors:!0}),f.jsxs(Ls,{show:t,centered:!0,onHide:()=>n(!1),children:[f.jsx(Ls.Header,{closeButton:!0,children:f.jsxs(Ls.Title,{children:["Actualizar ",e]})}),f.jsx(Ls.Body,{children:f.jsxs("div",{children:[f.jsxs("h2",{className:"addSocial text-black",children:["Añade tu usuario de ",e]}),f.jsx("input",{type:"text",className:"mt-3 w-full p-2 border rounded-md social-input-add",value:i,onChange:u=>a(u.target.value)})]})}),f.jsxs(Ls.Footer,{className:"flex justify-between",children:[f.jsx("button",{type:"button",className:"rounded-md bg-gray-300 px-4 py-2 text-sm font-semibold text-gray-700 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-400",onClick:()=>n(!1),children:"Cerrar"}),f.jsx("button",{type:"button",className:"rounded-md bg-orange-500 px-4 py-2 text-sm font-semibold text-white shadow-sm ring-1 ring-inset ring-orange-500 hover:bg-orange-600",onClick:c,children:"Actualizar"})]})]})]})};var lW=!1,Ks,vx,yx,hC,CC,nT,pC,xx,Sx,Zx,rT,wx,Gx,oT,iT;function Sr(){if(!lW){lW=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(wx=/\b(iPhone|iP[ao]d)/.exec(e),Gx=/\b(iP[ao]d)/.exec(e),Zx=/Android/i.exec(e),oT=/FBAN\/\w+;/i.exec(e),iT=/Mobile/i.exec(e),rT=!!/Win64/.exec(e),t){Ks=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,Ks&&document&&document.documentMode&&(Ks=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);nT=r?parseFloat(r[1])+4:Ks,vx=t[2]?parseFloat(t[2]):NaN,yx=t[3]?parseFloat(t[3]):NaN,hC=t[4]?parseFloat(t[4]):NaN,hC?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),CC=t&&t[1]?parseFloat(t[1]):NaN):CC=NaN}else Ks=vx=yx=CC=hC=NaN;if(n){if(n[1]){var o=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);pC=o?parseFloat(o[1].replace("_",".")):!0}else pC=!1;xx=!!n[2],Sx=!!n[3]}else pC=xx=Sx=!1}}var Bx={ie:function(){return Sr()||Ks},ieCompatibilityMode:function(){return Sr()||nT>Ks},ie64:function(){return Bx.ie()&&rT},firefox:function(){return Sr()||vx},opera:function(){return Sr()||yx},webkit:function(){return Sr()||hC},safari:function(){return Bx.webkit()},chrome:function(){return Sr()||CC},windows:function(){return Sr()||xx},osx:function(){return Sr()||pC},linux:function(){return Sr()||Sx},iphone:function(){return Sr()||wx},mobile:function(){return Sr()||wx||Gx||Zx||iT},nativeApp:function(){return Sr()||oT},android:function(){return Sr()||Zx},ipad:function(){return Sr()||Gx}},die=Bx,Ch=!!(typeof window<"u"&&window.document&&window.document.createElement),fie={canUseDOM:Ch,canUseWorkers:typeof Worker<"u",canUseEventListeners:Ch&&!!(window.addEventListener||window.attachEvent),canUseViewport:Ch&&!!window.screen,isInWorker:!Ch},mie=fie,aT=mie,lT;aT.canUseDOM&&(lT=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Iie(e,t){if(!aT.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var o=document.createElement("div");o.setAttribute(n,"return;"),r=typeof o[n]=="function"}return!r&&lT&&e==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var hie=Iie,Cie=die,pie=hie,sW=10,cW=40,uW=800;function sT(e){var t=0,n=0,r=0,o=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*sW,o=n*sW,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||o)&&e.deltaMode&&(e.deltaMode==1?(r*=cW,o*=cW):(r*=uW,o*=uW)),r&&!t&&(t=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:o}}sT.getEventType=function(){return Cie.firefox()?"DOMMouseScroll":pie("wheel")?"wheel":"mousewheel"};var Aie=sT,bie=Aie;const vie=ot(bie);function yie(e,t,n,r,o,i){i===void 0&&(i=0);var a=eg(e,t,i),l=a.width,s=a.height,c=Math.min(l,n),u=Math.min(s,r);return c>u*o?{width:u*o,height:u}:{width:c,height:c/o}}function xie(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function ph(e,t,n,r,o){o===void 0&&(o=0);var i=eg(t.width,t.height,o),a=i.width,l=i.height;return{x:gW(e.x,a,n.width,r),y:gW(e.y,l,n.height,r)}}function gW(e,t,n,r){var o=t*r/2-n/2;return VA(e,-o,o)}function dW(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function fW(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI}function Sie(e,t,n,r,o,i,a){i===void 0&&(i=0),a===void 0&&(a=!0);var l=a?Zie:wie,s=eg(t.width,t.height,i),c=eg(t.naturalWidth,t.naturalHeight,i),u={x:l(100,((s.width-n.width/o)/2-e.x/o)/s.width*100),y:l(100,((s.height-n.height/o)/2-e.y/o)/s.height*100),width:l(100,n.width/s.width*100/o),height:l(100,n.height/s.height*100/o)},g=Math.round(l(c.width,u.width*c.width/100)),d=Math.round(l(c.height,u.height*c.height/100)),m=c.width>=c.height*r,I=m?{width:Math.round(d*r),height:d}:{width:g,height:Math.round(g/r)},h=rr(rr({},I),{x:Math.round(l(c.width-I.width,u.x*c.width/100)),y:Math.round(l(c.height-I.height,u.y*c.height/100))});return{croppedAreaPercentages:u,croppedAreaPixels:h}}function Zie(e,t){return Math.min(e,Math.max(0,t))}function wie(e,t){return t}function Gie(e,t,n,r,o,i){var a=eg(t.width,t.height,n),l=VA(r.width/a.width*(100/e.width),o,i),s={x:l*a.width/2-r.width/2-a.width*l*(e.x/100),y:l*a.height/2-r.height/2-a.height*l*(e.y/100)};return{crop:s,zoom:l}}function Bie(e,t,n){var r=xie(t);return n.height>n.width?n.height/(e.height*r):n.width/(e.width*r)}function kie(e,t,n,r,o,i){n===void 0&&(n=0);var a=eg(t.naturalWidth,t.naturalHeight,n),l=VA(Bie(e,t,r),o,i),s=r.height>r.width?r.height/e.height:r.width/e.width,c={x:((a.width-e.width)/2-e.x)*s,y:((a.height-e.height)/2-e.y)*s};return{crop:c,zoom:l}}function mW(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function Rie(e){return e*Math.PI/180}function eg(e,t,n){var r=Rie(n);return{width:Math.abs(Math.cos(r)*e)+Math.abs(Math.sin(r)*t),height:Math.abs(Math.sin(r)*e)+Math.abs(Math.cos(r)*t)}}function VA(e,t,n){return Math.min(Math.max(e,t),n)}function Ah(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var Vie=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Wie=1,Nie=3,Eie=function(e){TQ(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.imageRef=b.createRef(),n.videoRef=b.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(o){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturemove",n.onGestureMove),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var o=Gie(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),i=o.crop,a=o.zoom;n.props.onCropChange(i),n.props.onZoomChange&&n.props.onZoomChange(a)}else if(n.props.initialCroppedAreaPixels){var l=kie(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),i=l.crop,a=l.zoom;n.props.onCropChange(i),n.props.onZoomChange&&n.props.onZoomChange(a)}},n.computeSizes=function(){var r,o,i,a,l,s,c=n.imageRef.current||n.videoRef.current;if(c&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var u=n.containerRect.width/n.containerRect.height,g=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((o=n.videoRef.current)===null||o===void 0?void 0:o.videoWidth)||0,d=((i=n.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((a=n.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,m=c.offsetWidth<g||c.offsetHeight<d,I=g/d,h=void 0;if(m)switch(n.state.mediaObjectFit){default:case"contain":h=u>I?{width:n.containerRect.height*I,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/I};break;case"horizontal-cover":h={width:n.containerRect.width,height:n.containerRect.width/I};break;case"vertical-cover":h={width:n.containerRect.height*I,height:n.containerRect.height};break}else h={width:c.offsetWidth,height:c.offsetHeight};n.mediaSize=rr(rr({},h),{naturalWidth:g,naturalHeight:d}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var A=n.props.cropSize?n.props.cropSize:yie(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((l=n.state.cropSize)===null||l===void 0?void 0:l.height)!==A.height||((s=n.state.cropSize)===null||s===void 0?void 0:s.width)!==A.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(A),n.setState({cropSize:A},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(A),A}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(t.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(t.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(t.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(t.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureMove),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureMove=function(r){if(r.preventDefault(),!n.isTouching){var o=t.getMousePoint(r),i=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(i,o,{shouldUpdatePosition:!0}),n.props.onRotationChange){var a=n.gestureRotationStart+r.rotation;n.props.onRotationChange(a)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var o,i,a=r.x,l=r.y;n.dragStartPosition={x:a,y:l},n.dragStartCrop=rr({},n.props.crop),(i=(o=n.props).onInteractionStart)===null||i===void 0||i.call(o)},n.onDrag=function(r){var o=r.x,i=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(o===void 0||i===void 0)){var a=o-n.dragStartPosition.x,l=i-n.dragStartPosition.y,s={x:n.dragStartCrop.x+a,y:n.dragStartCrop.y+l},c=n.props.restrictPosition?ph(s,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):s;n.props.onCropChange(c)}}))},n.onDragStopped=function(){var r,o;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(o=(r=n.props).onInteractionEnd)===null||o===void 0||o.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var o=t.getMousePoint(r),i=vie(r).pixelY,a=n.props.zoom-i*n.props.zoomSpeed/200;n.setNewZoom(a,o,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var l,s;return(s=(l=n.props).onInteractionStart)===null||s===void 0?void 0:s.call(l)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var l,s;return(s=(l=n.props).onInteractionEnd)===null||s===void 0?void 0:s.call(l)})},250)}},n.getPointOnContainer=function(r,o){var i=r.x,a=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(i-o.x),y:n.containerRect.height/2-(a-o.y)}},n.getPointOnMedia=function(r){var o=r.x,i=r.y,a=n.props,l=a.crop,s=a.zoom;return{x:(o+l.x)/s,y:(i+l.y)/s}},n.setNewZoom=function(r,o,i){var a=i===void 0?{}:i,l=a.shouldUpdatePosition,s=l===void 0?!0:l;if(!(!n.state.cropSize||!n.props.onZoomChange)){var c=VA(r,n.props.minZoom,n.props.maxZoom);if(s){var u=n.getPointOnContainer(o,n.containerPosition),g=n.getPointOnMedia(u),d={x:g.x*c-u.x,y:g.y*c-u.y},m=n.props.restrictPosition?ph(d,n.mediaSize,n.state.cropSize,c,n.props.rotation):d;n.props.onCropChange(m)}n.props.onZoomChange(c)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?ph(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return Sie(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var o=r.croppedAreaPercentages,i=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(o,i),n.props.onCropAreaChange&&n.props.onCropAreaChange(o,i)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var o=r.croppedAreaPercentages,i=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(o,i)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.restrictPosition?ph(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(r),n.emitCropData()}},n}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Vie,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},t.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(n){var r,o,i,a,l,s,c,u,g;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.height)||((i=n.cropSize)===null||i===void 0?void 0:i.width)!==((a=this.props.cropSize)===null||a===void 0?void 0:a.width)?this.computeSizes():(((l=n.crop)===null||l===void 0?void 0:l.x)!==((s=this.props.crop)===null||s===void 0?void 0:s.x)||((c=n.crop)===null||c===void 0?void 0:c.y)!==((u=this.props.crop)===null||u===void 0?void 0:u.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((g=this.videoRef.current)===null||g===void 0||g.load());var d=this.getObjectFit();d!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:d},this.computeSizes)},t.prototype.getAspect=function(){var n=this.props,r=n.cropSize,o=n.aspect;return r?r.width/r.height:o},t.prototype.getObjectFit=function(){var n,r,o,i;if(this.props.objectFit==="cover"){var a=this.imageRef.current||this.videoRef.current;if(a&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var l=this.containerRect.width/this.containerRect.height,s=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,c=((o=this.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((i=this.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,u=s/c;return u<l?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(n){var r=t.getTouchPoint(n.touches[0]),o=t.getTouchPoint(n.touches[1]);this.lastPinchDistance=dW(r,o),this.lastPinchRotation=fW(r,o),this.onDragStart(mW(r,o))},t.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var o=t.getTouchPoint(n.touches[0]),i=t.getTouchPoint(n.touches[1]),a=mW(o,i);this.onDrag(a),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var l=dW(o,i),s=r.props.zoom*(l/r.lastPinchDistance);r.setNewZoom(s,a,{shouldUpdatePosition:!1}),r.lastPinchDistance=l;var c=fW(o,i),u=r.props.rotation+(c-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(u),r.lastPinchRotation=c})}},t.prototype.render=function(){var n=this,r,o=this.props,i=o.image,a=o.video,l=o.mediaProps,s=o.transform,c=o.crop,u=c.x,g=c.y,d=o.rotation,m=o.zoom,I=o.cropShape,h=o.showGrid,A=o.style,C=A.containerStyle,p=A.cropAreaStyle,v=A.mediaStyle,y=o.classes,x=y.containerClassName,S=y.cropAreaClassName,B=y.mediaClassName,Z=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return b.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(w){return n.containerRef=w},"data-testid":"container",style:C,className:Ah("reactEasyCrop_Container",x)},i?b.createElement("img",rr({alt:"",className:Ah("reactEasyCrop_Image",Z==="contain"&&"reactEasyCrop_Contain",Z==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",Z==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",B)},l,{src:i,ref:this.imageRef,style:rr(rr({},v),{transform:s||"translate(".concat(u,"px, ").concat(g,"px) rotate(").concat(d,"deg) scale(").concat(m,")")}),onLoad:this.onMediaLoad})):a&&b.createElement("video",rr({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Ah("reactEasyCrop_Video",Z==="contain"&&"reactEasyCrop_Contain",Z==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",Z==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",B)},l,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:rr(rr({},v),{transform:s||"translate(".concat(u,"px, ").concat(g,"px) rotate(").concat(d,"deg) scale(").concat(m,")")}),controls:!1}),(Array.isArray(a)?a:[{src:a}]).map(function(R){return b.createElement("source",rr({key:R.src},R))})),this.state.cropSize&&b.createElement("div",{style:rr(rr({},p),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:Ah("reactEasyCrop_CropArea",I==="round"&&"reactEasyCrop_CropAreaRound",h&&"reactEasyCrop_CropAreaGrid",S)}))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Nie,minZoom:Wie,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},t.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t}(b.Component);function Xie({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{fillRule:"evenodd",d:"M18 10a.75.75 0 0 1-.75.75H4.66l2.1 1.95a.75.75 0 1 1-1.02 1.1l-3.5-3.25a.75.75 0 0 1 0-1.1l3.5-3.25a.75.75 0 1 1 1.02 1.1l-2.1 1.95h12.59A.75.75 0 0 1 18 10Z",clipRule:"evenodd"}))}const Jie=b.forwardRef(Xie),Yie=Jie;function Hie({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{fillRule:"evenodd",d:"M2 10a.75.75 0 0 1 .75-.75h12.59l-2.1-1.95a.75.75 0 1 1 1.02-1.1l3.5 3.25a.75.75 0 0 1 0 1.1l-3.5 3.25a.75.75 0 1 1-1.02-1.1l2.1-1.95H2.75A.75.75 0 0 1 2 10Z",clipRule:"evenodd"}))}const Fie=b.forwardRef(Hie),Mie=Fie;function jie({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-7-4a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM9 9a.75.75 0 0 0 0 1.5h.253a.25.25 0 0 1 .244.304l-.459 2.066A1.75 1.75 0 0 0 10.747 15H11a.75.75 0 0 0 0-1.5h-.253a.25.25 0 0 1-.244-.304l.459-2.066A1.75 1.75 0 0 0 9.253 9H9Z",clipRule:"evenodd"}))}const Tie=b.forwardRef(jie),Lie=Tie;function Kie({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{fillRule:"evenodd",d:"M15.621 4.379a3 3 0 0 0-4.242 0l-7 7a3 3 0 0 0 4.241 4.243h.001l.497-.5a.75.75 0 0 1 1.064 1.057l-.498.501-.002.002a4.5 4.5 0 0 1-6.364-6.364l7-7a4.5 4.5 0 0 1 6.368 6.36l-3.455 3.553A2.625 2.625 0 1 1 9.52 9.52l3.45-3.451a.75.75 0 1 1 1.061 1.06l-3.45 3.451a1.125 1.125 0 0 0 1.587 1.595l3.454-3.553a3 3 0 0 0 0-4.242Z",clipRule:"evenodd"}))}const Oie=b.forwardRef(Kie),IW=Oie,Pie=({cropDone:e,image:t,setImage:n,setShowCrop:r,inputRef:o})=>{const i=window.innerWidth,[a,l]=b.useState({x:0,y:0}),[s,c]=b.useState(1),[u,g]=b.useState(null),[d,m]=b.useState(""),I=(v,y)=>{g(y)},h=()=>{o.current.value="",n(""),r(!1)},A=v=>{const y=document.createElement("canvas");y.width=v.width,y.height=v.height;const x=y.getContext("2d");let S=new Image;S.src=t,S.onload=function(){x.drawImage(S,v.x,v.y,v.width,v.height,0,0,v.width,v.height);const B=y.toDataURL("image/jpeg");m(B),e(B),n(""),r(!1)}},C={marginTop:"6rem",width:"80vw",height:"70vh",marginLeft:"10vw",backgroundColor:"#fff"},p={margin:"8rem 0 0 0",width:"100vw",height:"65vh",backgroundColor:"#fff"};return f.jsx(f.Fragment,{children:f.jsx("div",{children:f.jsxs("div",{className:"bg-slate-800 h-screen w-full fixed translate-x-2/4 right-2/4 top-0 z-40",children:[f.jsx("div",{className:"rounded-md bg-blue-50 p-4 absolute translate-x-2/4 right-2/4 top-4 w-96 md:w-full lg:w-8/12",children:f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx(Lie,{"aria-hidden":"true",className:"h-5 w-5 text-blue-400"})}),f.jsx("div",{className:"ml-3 flex-1 md:flex md:justify-between",children:f.jsx("p",{className:"text-sm text-blue-700",children:"Usa el scroll para ajustar el zoom 🔍 y recortar la imagen de perfil correctamente."})})]})}),f.jsx(Eie,{image:t,crop:a,zoom:s,aspect:3/3,onCropChange:l,onCropComplete:I,onZoomChange:c,style:{containerStyle:i>600?C:p}}),f.jsx("div",{className:"btn-container absolute bottom-12 translate-x-2/4 right-2/4 w-full pb-1 z-50",children:f.jsxs("div",{className:"w-fit m-auto pb-10 md:pb-1",children:[f.jsx("button",{className:"rounded bg-white/10 px-4 py-2.5 font-semibold text-white shadow-sm hover:bg-red-600/40 mr-4",onClick:h,children:"Cancelar"}),f.jsx("button",{className:"rounded bg-white/10 px-4 py-2.5 font-semibold text-white shadow-sm hover:bg-white/20",onClick:()=>{A(u)},children:"Guardar"})]})})]})})})};function Die(){this.__data__=[],this.size=0}var zie=Die;function Uie(e,t){return e===t||e!==e&&t!==t}var xG=Uie,_ie=xG;function Qie(e,t){for(var n=e.length;n--;)if(_ie(e[n][0],t))return n;return-1}var WA=Qie,$ie=WA,qie=Array.prototype,eae=qie.splice;function tae(e){var t=this.__data__,n=$ie(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():eae.call(t,n,1),--this.size,!0}var nae=tae,rae=WA;function oae(e){var t=this.__data__,n=rae(t,e);return n<0?void 0:t[n][1]}var iae=oae,aae=WA;function lae(e){return aae(this.__data__,e)>-1}var sae=lae,cae=WA;function uae(e,t){var n=this.__data__,r=cae(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var gae=uae,dae=zie,fae=nae,mae=iae,Iae=sae,hae=gae;function Kg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Kg.prototype.clear=dae;Kg.prototype.delete=fae;Kg.prototype.get=mae;Kg.prototype.has=Iae;Kg.prototype.set=hae;var NA=Kg,Cae=NA;function pae(){this.__data__=new Cae,this.size=0}var Aae=pae;function bae(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var vae=bae;function yae(e){return this.__data__.get(e)}var xae=yae;function Sae(e){return this.__data__.has(e)}var Zae=Sae,wae=typeof en=="object"&&en&&en.Object===Object&&en,cT=wae,Gae=cT,Bae=typeof self=="object"&&self&&self.Object===Object&&self,kae=Gae||Bae||Function("return this")(),_i=kae,Rae=_i,Vae=Rae.Symbol,aI=Vae,hW=aI,uT=Object.prototype,Wae=uT.hasOwnProperty,Nae=uT.toString,wd=hW?hW.toStringTag:void 0;function Eae(e){var t=Wae.call(e,wd),n=e[wd];try{e[wd]=void 0;var r=!0}catch{}var o=Nae.call(e);return r&&(t?e[wd]=n:delete e[wd]),o}var Xae=Eae,Jae=Object.prototype,Yae=Jae.toString;function Hae(e){return Yae.call(e)}var Fae=Hae,CW=aI,Mae=Xae,jae=Fae,Tae="[object Null]",Lae="[object Undefined]",pW=CW?CW.toStringTag:void 0;function Kae(e){return e==null?e===void 0?Lae:Tae:pW&&pW in Object(e)?Mae(e):jae(e)}var Ha=Kae;function Oae(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var us=Oae;const Og=ot(us);var Pae=Ha,Dae=us,zae="[object AsyncFunction]",Uae="[object Function]",_ae="[object GeneratorFunction]",Qae="[object Proxy]";function $ae(e){if(!Dae(e))return!1;var t=Pae(e);return t==Uae||t==_ae||t==zae||t==Qae}var SG=$ae;const je=ot(SG);var qae=_i,ele=qae["__core-js_shared__"],tle=ele,xy=tle,AW=function(){var e=/[^.]+$/.exec(xy&&xy.keys&&xy.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function nle(e){return!!AW&&AW in e}var rle=nle,ole=Function.prototype,ile=ole.toString;function ale(e){if(e!=null){try{return ile.call(e)}catch{}try{return e+""}catch{}}return""}var gT=ale,lle=SG,sle=rle,cle=us,ule=gT,gle=/[\\^$.*+?()[\]{}|]/g,dle=/^\[object .+?Constructor\]$/,fle=Function.prototype,mle=Object.prototype,Ile=fle.toString,hle=mle.hasOwnProperty,Cle=RegExp("^"+Ile.call(hle).replace(gle,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ple(e){if(!cle(e)||sle(e))return!1;var t=lle(e)?Cle:dle;return t.test(ule(e))}var Ale=ple;function ble(e,t){return e==null?void 0:e[t]}var vle=ble,yle=Ale,xle=vle;function Sle(e,t){var n=xle(e,t);return yle(n)?n:void 0}var Xc=Sle,Zle=Xc,wle=_i,Gle=Zle(wle,"Map"),ZG=Gle,Ble=Xc,kle=Ble(Object,"create"),EA=kle,bW=EA;function Rle(){this.__data__=bW?bW(null):{},this.size=0}var Vle=Rle;function Wle(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Nle=Wle,Ele=EA,Xle="__lodash_hash_undefined__",Jle=Object.prototype,Yle=Jle.hasOwnProperty;function Hle(e){var t=this.__data__;if(Ele){var n=t[e];return n===Xle?void 0:n}return Yle.call(t,e)?t[e]:void 0}var Fle=Hle,Mle=EA,jle=Object.prototype,Tle=jle.hasOwnProperty;function Lle(e){var t=this.__data__;return Mle?t[e]!==void 0:Tle.call(t,e)}var Kle=Lle,Ole=EA,Ple="__lodash_hash_undefined__";function Dle(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ole&&t===void 0?Ple:t,this}var zle=Dle,Ule=Vle,_le=Nle,Qle=Fle,$le=Kle,qle=zle;function Pg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Pg.prototype.clear=Ule;Pg.prototype.delete=_le;Pg.prototype.get=Qle;Pg.prototype.has=$le;Pg.prototype.set=qle;var ese=Pg,vW=ese,tse=NA,nse=ZG;function rse(){this.size=0,this.__data__={hash:new vW,map:new(nse||tse),string:new vW}}var ose=rse;function ise(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var ase=ise,lse=ase;function sse(e,t){var n=e.__data__;return lse(t)?n[typeof t=="string"?"string":"hash"]:n.map}var XA=sse,cse=XA;function use(e){var t=cse(this,e).delete(e);return this.size-=t?1:0,t}var gse=use,dse=XA;function fse(e){return dse(this,e).get(e)}var mse=fse,Ise=XA;function hse(e){return Ise(this,e).has(e)}var Cse=hse,pse=XA;function Ase(e,t){var n=pse(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var bse=Ase,vse=ose,yse=gse,xse=mse,Sse=Cse,Zse=bse;function Dg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Dg.prototype.clear=vse;Dg.prototype.delete=yse;Dg.prototype.get=xse;Dg.prototype.has=Sse;Dg.prototype.set=Zse;var wG=Dg,wse=NA,Gse=ZG,Bse=wG,kse=200;function Rse(e,t){var n=this.__data__;if(n instanceof wse){var r=n.__data__;if(!Gse||r.length<kse-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Bse(r)}return n.set(e,t),this.size=n.size,this}var Vse=Rse,Wse=NA,Nse=Aae,Ese=vae,Xse=xae,Jse=Zae,Yse=Vse;function zg(e){var t=this.__data__=new Wse(e);this.size=t.size}zg.prototype.clear=Nse;zg.prototype.delete=Ese;zg.prototype.get=Xse;zg.prototype.has=Jse;zg.prototype.set=Yse;var dT=zg,Hse="__lodash_hash_undefined__";function Fse(e){return this.__data__.set(e,Hse),this}var Mse=Fse;function jse(e){return this.__data__.has(e)}var Tse=jse,Lse=wG,Kse=Mse,Ose=Tse;function Cp(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Lse;++t<n;)this.add(e[t])}Cp.prototype.add=Cp.prototype.push=Kse;Cp.prototype.has=Ose;var fT=Cp;function Pse(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var mT=Pse;function Dse(e,t){return e.has(t)}var IT=Dse,zse=fT,Use=mT,_se=IT,Qse=1,$se=2;function qse(e,t,n,r,o,i){var a=n&Qse,l=e.length,s=t.length;if(l!=s&&!(a&&s>l))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var g=-1,d=!0,m=n&$se?new zse:void 0;for(i.set(e,t),i.set(t,e);++g<l;){var I=e[g],h=t[g];if(r)var A=a?r(h,I,g,t,e,i):r(I,h,g,e,t,i);if(A!==void 0){if(A)continue;d=!1;break}if(m){if(!Use(t,function(C,p){if(!_se(m,p)&&(I===C||o(I,C,n,r,i)))return m.push(p)})){d=!1;break}}else if(!(I===h||o(I,h,n,r,i))){d=!1;break}}return i.delete(e),i.delete(t),d}var hT=qse,ece=_i,tce=ece.Uint8Array,nce=tce;function rce(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}var oce=rce;function ice(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var GG=ice,yW=aI,xW=nce,ace=xG,lce=hT,sce=oce,cce=GG,uce=1,gce=2,dce="[object Boolean]",fce="[object Date]",mce="[object Error]",Ice="[object Map]",hce="[object Number]",Cce="[object RegExp]",pce="[object Set]",Ace="[object String]",bce="[object Symbol]",vce="[object ArrayBuffer]",yce="[object DataView]",SW=yW?yW.prototype:void 0,Sy=SW?SW.valueOf:void 0;function xce(e,t,n,r,o,i,a){switch(n){case yce:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case vce:return!(e.byteLength!=t.byteLength||!i(new xW(e),new xW(t)));case dce:case fce:case hce:return ace(+e,+t);case mce:return e.name==t.name&&e.message==t.message;case Cce:case Ace:return e==t+"";case Ice:var l=sce;case pce:var s=r&uce;if(l||(l=cce),e.size!=t.size&&!s)return!1;var c=a.get(e);if(c)return c==t;r|=gce,a.set(e,t);var u=lce(l(e),l(t),r,o,i,a);return a.delete(e),u;case bce:if(Sy)return Sy.call(e)==Sy.call(t)}return!1}var Sce=xce;function Zce(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var CT=Zce,wce=Array.isArray,jr=wce,Gce=CT,Bce=jr;function kce(e,t,n){var r=t(e);return Bce(e)?r:Gce(r,n(e))}var Rce=kce;function Vce(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}var Wce=Vce;function Nce(){return[]}var Ece=Nce,Xce=Wce,Jce=Ece,Yce=Object.prototype,Hce=Yce.propertyIsEnumerable,ZW=Object.getOwnPropertySymbols,Fce=ZW?function(e){return e==null?[]:(e=Object(e),Xce(ZW(e),function(t){return Hce.call(e,t)}))}:Jce,Mce=Fce;function jce(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Tce=jce;function Lce(e){return e!=null&&typeof e=="object"}var Fa=Lce,Kce=Ha,Oce=Fa,Pce="[object Arguments]";function Dce(e){return Oce(e)&&Kce(e)==Pce}var zce=Dce,wW=zce,Uce=Fa,pT=Object.prototype,_ce=pT.hasOwnProperty,Qce=pT.propertyIsEnumerable,$ce=wW(function(){return arguments}())?wW:function(e){return Uce(e)&&_ce.call(e,"callee")&&!Qce.call(e,"callee")},BG=$ce,pp={exports:{}};function qce(){return!1}var eue=qce;pp.exports;(function(e,t){var n=_i,r=eue,o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===o,l=a?n.Buffer:void 0,s=l?l.isBuffer:void 0,c=s||r;e.exports=c})(pp,pp.exports);var AT=pp.exports,tue=9007199254740991,nue=/^(?:0|[1-9]\d*)$/;function rue(e,t){var n=typeof e;return t=t??tue,!!t&&(n=="number"||n!="symbol"&&nue.test(e))&&e>-1&&e%1==0&&e<t}var kG=rue,oue=9007199254740991;function iue(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=oue}var RG=iue,aue=Ha,lue=RG,sue=Fa,cue="[object Arguments]",uue="[object Array]",gue="[object Boolean]",due="[object Date]",fue="[object Error]",mue="[object Function]",Iue="[object Map]",hue="[object Number]",Cue="[object Object]",pue="[object RegExp]",Aue="[object Set]",bue="[object String]",vue="[object WeakMap]",yue="[object ArrayBuffer]",xue="[object DataView]",Sue="[object Float32Array]",Zue="[object Float64Array]",wue="[object Int8Array]",Gue="[object Int16Array]",Bue="[object Int32Array]",kue="[object Uint8Array]",Rue="[object Uint8ClampedArray]",Vue="[object Uint16Array]",Wue="[object Uint32Array]",Tt={};Tt[Sue]=Tt[Zue]=Tt[wue]=Tt[Gue]=Tt[Bue]=Tt[kue]=Tt[Rue]=Tt[Vue]=Tt[Wue]=!0;Tt[cue]=Tt[uue]=Tt[yue]=Tt[gue]=Tt[xue]=Tt[due]=Tt[fue]=Tt[mue]=Tt[Iue]=Tt[hue]=Tt[Cue]=Tt[pue]=Tt[Aue]=Tt[bue]=Tt[vue]=!1;function Nue(e){return sue(e)&&lue(e.length)&&!!Tt[aue(e)]}var Eue=Nue;function Xue(e){return function(t){return e(t)}}var bT=Xue,Ap={exports:{}};Ap.exports;(function(e,t){var n=cT,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,a=i&&n.process,l=function(){try{var s=o&&o.require&&o.require("util").types;return s||a&&a.binding&&a.binding("util")}catch{}}();e.exports=l})(Ap,Ap.exports);var Jue=Ap.exports,Yue=Eue,Hue=bT,GW=Jue,BW=GW&&GW.isTypedArray,Fue=BW?Hue(BW):Yue,vT=Fue,Mue=Tce,jue=BG,Tue=jr,Lue=AT,Kue=kG,Oue=vT,Pue=Object.prototype,Due=Pue.hasOwnProperty;function zue(e,t){var n=Tue(e),r=!n&&jue(e),o=!n&&!r&&Lue(e),i=!n&&!r&&!o&&Oue(e),a=n||r||o||i,l=a?Mue(e.length,String):[],s=l.length;for(var c in e)(t||Due.call(e,c))&&!(a&&(c=="length"||o&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Kue(c,s)))&&l.push(c);return l}var Uue=zue,_ue=Object.prototype;function Que(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||_ue;return e===n}var $ue=Que;function que(e,t){return function(n){return e(t(n))}}var yT=que,ege=yT,tge=ege(Object.keys,Object),nge=tge,rge=$ue,oge=nge,ige=Object.prototype,age=ige.hasOwnProperty;function lge(e){if(!rge(e))return oge(e);var t=[];for(var n in Object(e))age.call(e,n)&&n!="constructor"&&t.push(n);return t}var sge=lge,cge=SG,uge=RG;function gge(e){return e!=null&&uge(e.length)&&!cge(e)}var lI=gge,dge=Uue,fge=sge,mge=lI;function Ige(e){return mge(e)?dge(e):fge(e)}var JA=Ige,hge=Rce,Cge=Mce,pge=JA;function Age(e){return hge(e,pge,Cge)}var bge=Age,kW=bge,vge=1,yge=Object.prototype,xge=yge.hasOwnProperty;function Sge(e,t,n,r,o,i){var a=n&vge,l=kW(e),s=l.length,c=kW(t),u=c.length;if(s!=u&&!a)return!1;for(var g=s;g--;){var d=l[g];if(!(a?d in t:xge.call(t,d)))return!1}var m=i.get(e),I=i.get(t);if(m&&I)return m==t&&I==e;var h=!0;i.set(e,t),i.set(t,e);for(var A=a;++g<s;){d=l[g];var C=e[d],p=t[d];if(r)var v=a?r(p,C,d,t,e,i):r(C,p,d,e,t,i);if(!(v===void 0?C===p||o(C,p,n,r,i):v)){h=!1;break}A||(A=d=="constructor")}if(h&&!A){var y=e.constructor,x=t.constructor;y!=x&&"constructor"in e&&"constructor"in t&&!(typeof y=="function"&&y instanceof y&&typeof x=="function"&&x instanceof x)&&(h=!1)}return i.delete(e),i.delete(t),h}var Zge=Sge,wge=Xc,Gge=_i,Bge=wge(Gge,"DataView"),kge=Bge,Rge=Xc,Vge=_i,Wge=Rge(Vge,"Promise"),Nge=Wge,Ege=Xc,Xge=_i,Jge=Ege(Xge,"Set"),xT=Jge,Yge=Xc,Hge=_i,Fge=Yge(Hge,"WeakMap"),Mge=Fge,kx=kge,Rx=ZG,Vx=Nge,Wx=xT,Nx=Mge,ST=Ha,Ug=gT,RW="[object Map]",jge="[object Object]",VW="[object Promise]",WW="[object Set]",NW="[object WeakMap]",EW="[object DataView]",Tge=Ug(kx),Lge=Ug(Rx),Kge=Ug(Vx),Oge=Ug(Wx),Pge=Ug(Nx),Es=ST;(kx&&Es(new kx(new ArrayBuffer(1)))!=EW||Rx&&Es(new Rx)!=RW||Vx&&Es(Vx.resolve())!=VW||Wx&&Es(new Wx)!=WW||Nx&&Es(new Nx)!=NW)&&(Es=function(e){var t=ST(e),n=t==jge?e.constructor:void 0,r=n?Ug(n):"";if(r)switch(r){case Tge:return EW;case Lge:return RW;case Kge:return VW;case Oge:return WW;case Pge:return NW}return t});var Dge=Es,Zy=dT,zge=hT,Uge=Sce,_ge=Zge,XW=Dge,JW=jr,YW=AT,Qge=vT,$ge=1,HW="[object Arguments]",FW="[object Array]",bh="[object Object]",qge=Object.prototype,MW=qge.hasOwnProperty;function ede(e,t,n,r,o,i){var a=JW(e),l=JW(t),s=a?FW:XW(e),c=l?FW:XW(t);s=s==HW?bh:s,c=c==HW?bh:c;var u=s==bh,g=c==bh,d=s==c;if(d&&YW(e)){if(!YW(t))return!1;a=!0,u=!1}if(d&&!u)return i||(i=new Zy),a||Qge(e)?zge(e,t,n,r,o,i):Uge(e,t,s,n,r,o,i);if(!(n&$ge)){var m=u&&MW.call(e,"__wrapped__"),I=g&&MW.call(t,"__wrapped__");if(m||I){var h=m?e.value():e,A=I?t.value():t;return i||(i=new Zy),o(h,A,n,r,i)}}return d?(i||(i=new Zy),_ge(e,t,n,r,o,i)):!1}var tde=ede,nde=tde,jW=Fa;function ZT(e,t,n,r,o){return e===t?!0:e==null||t==null||!jW(e)&&!jW(t)?e!==e&&t!==t:nde(e,t,n,r,ZT,o)}var VG=ZT,rde=VG;function ode(e,t){return rde(e,t)}var wT=ode;const Ol=ot(wT);var GT={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(r,o){e.exports=o()})(typeof self<"u"?self:en,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var a=r[i]={i,l:!1,exports:{}};return n[i].call(a.exports,a,a.exports,o),a.l=!0,a.exports}return o.m=n,o.c=r,o.d=function(i,a,l){o.o(i,a)||Object.defineProperty(i,a,{configurable:!1,enumerable:!0,get:l})},o.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(a,"a",a),a},o.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},o.p="",o(o.s=109)}([function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(17),a=o(18),l=o(19),s=o(45),c=o(46),u=o(47),g=o(48),d=o(49),m=o(12),I=o(32),h=o(33),A=o(31),C=o(1),p={Scope:C.Scope,create:C.create,find:C.find,query:C.query,register:C.register,Container:i.default,Format:a.default,Leaf:l.default,Embed:g.default,Scroll:s.default,Block:u.default,Inline:c.default,Text:d.default,Attributor:{Attribute:m.default,Class:I.default,Style:h.default,Store:A.default}};r.default=p},function(n,r,o){var i=this&&this.__extends||function(){var A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,p){C.__proto__=p}||function(C,p){for(var v in p)p.hasOwnProperty(v)&&(C[v]=p[v])};return function(C,p){A(C,p);function v(){this.constructor=C}C.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=function(A){i(C,A);function C(p){var v=this;return p="[Parchment] "+p,v=A.call(this,p)||this,v.message=p,v.name=v.constructor.name,v}return C}(Error);r.ParchmentError=a;var l={},s={},c={},u={};r.DATA_KEY="__blot";var g;(function(A){A[A.TYPE=3]="TYPE",A[A.LEVEL=12]="LEVEL",A[A.ATTRIBUTE=13]="ATTRIBUTE",A[A.BLOT=14]="BLOT",A[A.INLINE=7]="INLINE",A[A.BLOCK=11]="BLOCK",A[A.BLOCK_BLOT=10]="BLOCK_BLOT",A[A.INLINE_BLOT=6]="INLINE_BLOT",A[A.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",A[A.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",A[A.ANY=15]="ANY"})(g=r.Scope||(r.Scope={}));function d(A,C){var p=I(A);if(p==null)throw new a("Unable to create "+A+" blot");var v=p,y=A instanceof Node||A.nodeType===Node.TEXT_NODE?A:v.create(C);return new v(y,C)}r.create=d;function m(A,C){return C===void 0&&(C=!1),A==null?null:A[r.DATA_KEY]!=null?A[r.DATA_KEY].blot:C?m(A.parentNode,C):null}r.find=m;function I(A,C){C===void 0&&(C=g.ANY);var p;if(typeof A=="string")p=u[A]||l[A];else if(A instanceof Text||A.nodeType===Node.TEXT_NODE)p=u.text;else if(typeof A=="number")A&g.LEVEL&g.BLOCK?p=u.block:A&g.LEVEL&g.INLINE&&(p=u.inline);else if(A instanceof HTMLElement){var v=(A.getAttribute("class")||"").split(/\s+/);for(var y in v)if(p=s[v[y]],p)break;p=p||c[A.tagName]}return p==null?null:C&g.LEVEL&p.scope&&C&g.TYPE&p.scope?p:null}r.query=I;function h(){for(var A=[],C=0;C<arguments.length;C++)A[C]=arguments[C];if(A.length>1)return A.map(function(y){return h(y)});var p=A[0];if(typeof p.blotName!="string"&&typeof p.attrName!="string")throw new a("Invalid definition");if(p.blotName==="abstract")throw new a("Cannot register abstract class");if(u[p.blotName||p.attrName]=p,typeof p.keyName=="string")l[p.keyName]=p;else if(p.className!=null&&(s[p.className]=p),p.tagName!=null){Array.isArray(p.tagName)?p.tagName=p.tagName.map(function(y){return y.toUpperCase()}):p.tagName=p.tagName.toUpperCase();var v=Array.isArray(p.tagName)?p.tagName:[p.tagName];v.forEach(function(y){(c[y]==null||p.className==null)&&(c[y]=p)})}return p}r.register=h},function(n,r,o){var i=o(51),a=o(11),l=o(3),s=o(20),c=String.fromCharCode(0),u=function(g){Array.isArray(g)?this.ops=g:g!=null&&Array.isArray(g.ops)?this.ops=g.ops:this.ops=[]};u.prototype.insert=function(g,d){var m={};return g.length===0?this:(m.insert=g,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(m.attributes=d),this.push(m))},u.prototype.delete=function(g){return g<=0?this:this.push({delete:g})},u.prototype.retain=function(g,d){if(g<=0)return this;var m={retain:g};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(m.attributes=d),this.push(m)},u.prototype.push=function(g){var d=this.ops.length,m=this.ops[d-1];if(g=l(!0,{},g),typeof m=="object"){if(typeof g.delete=="number"&&typeof m.delete=="number")return this.ops[d-1]={delete:m.delete+g.delete},this;if(typeof m.delete=="number"&&g.insert!=null&&(d-=1,m=this.ops[d-1],typeof m!="object"))return this.ops.unshift(g),this;if(a(g.attributes,m.attributes)){if(typeof g.insert=="string"&&typeof m.insert=="string")return this.ops[d-1]={insert:m.insert+g.insert},typeof g.attributes=="object"&&(this.ops[d-1].attributes=g.attributes),this;if(typeof g.retain=="number"&&typeof m.retain=="number")return this.ops[d-1]={retain:m.retain+g.retain},typeof g.attributes=="object"&&(this.ops[d-1].attributes=g.attributes),this}}return d===this.ops.length?this.ops.push(g):this.ops.splice(d,0,g),this},u.prototype.chop=function(){var g=this.ops[this.ops.length-1];return g&&g.retain&&!g.attributes&&this.ops.pop(),this},u.prototype.filter=function(g){return this.ops.filter(g)},u.prototype.forEach=function(g){this.ops.forEach(g)},u.prototype.map=function(g){return this.ops.map(g)},u.prototype.partition=function(g){var d=[],m=[];return this.forEach(function(I){var h=g(I)?d:m;h.push(I)}),[d,m]},u.prototype.reduce=function(g,d){return this.ops.reduce(g,d)},u.prototype.changeLength=function(){return this.reduce(function(g,d){return d.insert?g+s.length(d):d.delete?g-d.delete:g},0)},u.prototype.length=function(){return this.reduce(function(g,d){return g+s.length(d)},0)},u.prototype.slice=function(g,d){g=g||0,typeof d!="number"&&(d=1/0);for(var m=[],I=s.iterator(this.ops),h=0;h<d&&I.hasNext();){var A;h<g?A=I.next(g-h):(A=I.next(d-h),m.push(A)),h+=s.length(A)}return new u(m)},u.prototype.compose=function(g){var d=s.iterator(this.ops),m=s.iterator(g.ops),I=[],h=m.peek();if(h!=null&&typeof h.retain=="number"&&h.attributes==null){for(var A=h.retain;d.peekType()==="insert"&&d.peekLength()<=A;)A-=d.peekLength(),I.push(d.next());h.retain-A>0&&m.next(h.retain-A)}for(var C=new u(I);d.hasNext()||m.hasNext();)if(m.peekType()==="insert")C.push(m.next());else if(d.peekType()==="delete")C.push(d.next());else{var p=Math.min(d.peekLength(),m.peekLength()),v=d.next(p),y=m.next(p);if(typeof y.retain=="number"){var x={};typeof v.retain=="number"?x.retain=p:x.insert=v.insert;var S=s.attributes.compose(v.attributes,y.attributes,typeof v.retain=="number");if(S&&(x.attributes=S),C.push(x),!m.hasNext()&&a(C.ops[C.ops.length-1],x)){var B=new u(d.rest());return C.concat(B).chop()}}else typeof y.delete=="number"&&typeof v.retain=="number"&&C.push(y)}return C.chop()},u.prototype.concat=function(g){var d=new u(this.ops.slice());return g.ops.length>0&&(d.push(g.ops[0]),d.ops=d.ops.concat(g.ops.slice(1))),d},u.prototype.diff=function(g,d){if(this.ops===g.ops)return new u;var m=[this,g].map(function(p){return p.map(function(v){if(v.insert!=null)return typeof v.insert=="string"?v.insert:c;var y=p===g?"on":"with";throw new Error("diff() called "+y+" non-document")}).join("")}),I=new u,h=i(m[0],m[1],d),A=s.iterator(this.ops),C=s.iterator(g.ops);return h.forEach(function(p){for(var v=p[1].length;v>0;){var y=0;switch(p[0]){case i.INSERT:y=Math.min(C.peekLength(),v),I.push(C.next(y));break;case i.DELETE:y=Math.min(v,A.peekLength()),A.next(y),I.delete(y);break;case i.EQUAL:y=Math.min(A.peekLength(),C.peekLength(),v);var x=A.next(y),S=C.next(y);a(x.insert,S.insert)?I.retain(y,s.attributes.diff(x.attributes,S.attributes)):I.push(S).delete(y);break}v-=y}}),I.chop()},u.prototype.eachLine=function(g,d){d=d||`
`;for(var m=s.iterator(this.ops),I=new u,h=0;m.hasNext();){if(m.peekType()!=="insert")return;var A=m.peek(),C=s.length(A)-m.peekLength(),p=typeof A.insert=="string"?A.insert.indexOf(d,C)-C:-1;if(p<0)I.push(m.next());else if(p>0)I.push(m.next(p));else{if(g(I,m.next(1).attributes||{},h)===!1)return;h+=1,I=new u}}I.length()>0&&g(I,{},h)},u.prototype.transform=function(g,d){if(d=!!d,typeof g=="number")return this.transformPosition(g,d);for(var m=s.iterator(this.ops),I=s.iterator(g.ops),h=new u;m.hasNext()||I.hasNext();)if(m.peekType()==="insert"&&(d||I.peekType()!=="insert"))h.retain(s.length(m.next()));else if(I.peekType()==="insert")h.push(I.next());else{var A=Math.min(m.peekLength(),I.peekLength()),C=m.next(A),p=I.next(A);if(C.delete)continue;p.delete?h.push(p):h.retain(A,s.attributes.transform(C.attributes,p.attributes,d))}return h.chop()},u.prototype.transformPosition=function(g,d){d=!!d;for(var m=s.iterator(this.ops),I=0;m.hasNext()&&I<=g;){var h=m.peekLength(),A=m.peekType();if(m.next(),A==="delete"){g-=Math.min(h,g-I);continue}else A==="insert"&&(I<g||!d)&&(g+=h);I+=h}return g},n.exports=u},function(n,r){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=Object.defineProperty,l=Object.getOwnPropertyDescriptor,s=function(m){return typeof Array.isArray=="function"?Array.isArray(m):i.call(m)==="[object Array]"},c=function(m){if(!m||i.call(m)!=="[object Object]")return!1;var I=o.call(m,"constructor"),h=m.constructor&&m.constructor.prototype&&o.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!I&&!h)return!1;var A;for(A in m);return typeof A>"u"||o.call(m,A)},u=function(m,I){a&&I.name==="__proto__"?a(m,I.name,{enumerable:!0,configurable:!0,value:I.newValue,writable:!0}):m[I.name]=I.newValue},g=function(m,I){if(I==="__proto__")if(o.call(m,I)){if(l)return l(m,I).value}else return;return m[I]};n.exports=function d(){var m,I,h,A,C,p,v=arguments[0],y=1,x=arguments.length,S=!1;for(typeof v=="boolean"&&(S=v,v=arguments[1]||{},y=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});y<x;++y)if(m=arguments[y],m!=null)for(I in m)h=g(v,I),A=g(m,I),v!==A&&(S&&A&&(c(A)||(C=s(A)))?(C?(C=!1,p=h&&s(h)?h:[]):p=h&&c(h)?h:{},u(v,{name:I,newValue:d(S,p,A)})):typeof A<"u"&&u(v,{name:I,newValue:A}));return v}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var i=function(){function k(V,W){for(var N=0;N<W.length;N++){var X=W[N];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(V,X.key,X)}}return function(V,W,N){return W&&k(V.prototype,W),N&&k(V,N),V}}(),a=function k(V,W,N){V===null&&(V=Function.prototype);var X=Object.getOwnPropertyDescriptor(V,W);if(X===void 0){var J=Object.getPrototypeOf(V);return J===null?void 0:k(J,W,N)}else{if("value"in X)return X.value;var E=X.get;return E===void 0?void 0:E.call(N)}},l=o(3),s=v(l),c=o(2),u=v(c),g=o(0),d=v(g),m=o(16),I=v(m),h=o(6),A=v(h),C=o(7),p=v(C);function v(k){return k&&k.__esModule?k:{default:k}}function y(k,V){if(!(k instanceof V))throw new TypeError("Cannot call a class as a function")}function x(k,V){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:k}function S(k,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);k.prototype=Object.create(V&&V.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(k,V):k.__proto__=V)}var B=1,Z=function(k){S(V,k);function V(){return y(this,V),x(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return i(V,[{key:"attach",value:function(){a(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new u.default().insert(this.value(),(0,s.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(N,X){var J=d.default.query(N,d.default.Scope.BLOCK_ATTRIBUTE);J!=null&&this.attributes.attribute(J,X)}},{key:"formatAt",value:function(N,X,J,E){this.format(J,E)}},{key:"insertAt",value:function(N,X,J){if(typeof X=="string"&&X.endsWith(`
`)){var E=d.default.create(R.blotName);this.parent.insertBefore(E,N===0?this:this.next),E.insertAt(0,X.slice(0,-1))}else a(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"insertAt",this).call(this,N,X,J)}}]),V}(d.default.Embed);Z.scope=d.default.Scope.BLOCK_BLOT;var R=function(k){S(V,k);function V(W){y(this,V);var N=x(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,W));return N.cache={},N}return i(V,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(N,X){return X.length()===0?N:N.insert(X.value(),w(X))},new u.default).insert(`
`,w(this))),this.cache.delta}},{key:"deleteAt",value:function(N,X){a(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"deleteAt",this).call(this,N,X),this.cache={}}},{key:"formatAt",value:function(N,X,J,E){X<=0||(d.default.query(J,d.default.Scope.BLOCK)?N+X===this.length()&&this.format(J,E):a(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"formatAt",this).call(this,N,Math.min(X,this.length()-N-1),J,E),this.cache={})}},{key:"insertAt",value:function(N,X,J){if(J!=null)return a(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"insertAt",this).call(this,N,X,J);if(X.length!==0){var E=X.split(`
`),F=E.shift();F.length>0&&(N<this.length()-1||this.children.tail==null?a(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"insertAt",this).call(this,Math.min(N,this.length()-1),F):this.children.tail.insertAt(this.children.tail.length(),F),this.cache={});var H=this;E.reduce(function(M,Y){return H=H.split(M,!0),H.insertAt(0,Y),Y.length},N+F.length)}}},{key:"insertBefore",value:function(N,X){var J=this.children.head;a(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"insertBefore",this).call(this,N,X),J instanceof I.default&&J.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=a(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"length",this).call(this)+B),this.cache.length}},{key:"moveChildren",value:function(N,X){a(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"moveChildren",this).call(this,N,X),this.cache={}}},{key:"optimize",value:function(N){a(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"optimize",this).call(this,N),this.cache={}}},{key:"path",value:function(N){return a(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"path",this).call(this,N,!0)}},{key:"removeChild",value:function(N){a(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"removeChild",this).call(this,N),this.cache={}}},{key:"split",value:function(N){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(X&&(N===0||N>=this.length()-B)){var J=this.clone();return N===0?(this.parent.insertBefore(J,this),this):(this.parent.insertBefore(J,this.next),J)}else{var E=a(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"split",this).call(this,N,X);return this.cache={},E}}}]),V}(d.default.Block);R.blotName="block",R.tagName="P",R.defaultChild="break",R.allowedChildren=[A.default,d.default.Embed,p.default];function w(k){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return k==null||(typeof k.formats=="function"&&(V=(0,s.default)(V,k.formats())),k.parent==null||k.parent.blotName=="scroll"||k.parent.statics.scope!==k.statics.scope)?V:w(k.parent,V)}r.bubbleFormats=w,r.BlockEmbed=Z,r.default=R},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},a=function(){function H(M,Y){var T=[],O=!0,P=!1,L=void 0;try{for(var j=M[Symbol.iterator](),D;!(O=(D=j.next()).done)&&(T.push(D.value),!(Y&&T.length===Y));O=!0);}catch($){P=!0,L=$}finally{try{!O&&j.return&&j.return()}finally{if(P)throw L}}return T}return function(M,Y){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return H(M,Y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function H(M,Y){for(var T=0;T<Y.length;T++){var O=Y[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(M,O.key,O)}}return function(M,Y,T){return Y&&H(M.prototype,Y),T&&H(M,T),M}}();o(50);var s=o(2),c=w(s),u=o(14),g=w(u),d=o(8),m=w(d),I=o(9),h=w(I),A=o(0),C=w(A),p=o(15),v=w(p),y=o(3),x=w(y),S=o(10),B=w(S),Z=o(34),R=w(Z);function w(H){return H&&H.__esModule?H:{default:H}}function k(H,M,Y){return M in H?Object.defineProperty(H,M,{value:Y,enumerable:!0,configurable:!0,writable:!0}):H[M]=Y,H}function V(H,M){if(!(H instanceof M))throw new TypeError("Cannot call a class as a function")}var W=(0,B.default)("quill"),N=function(){l(H,null,[{key:"debug",value:function(Y){Y===!0&&(Y="log"),B.default.level(Y)}},{key:"find",value:function(Y){return Y.__quill||C.default.find(Y)}},{key:"import",value:function(Y){return this.imports[Y]==null&&W.error("Cannot import "+Y+". Are you sure it was registered?"),this.imports[Y]}},{key:"register",value:function(Y,T){var O=this,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof Y!="string"){var L=Y.attrName||Y.blotName;typeof L=="string"?this.register("formats/"+L,Y,T):Object.keys(Y).forEach(function(j){O.register(j,Y[j],T)})}else this.imports[Y]!=null&&!P&&W.warn("Overwriting "+Y+" with",T),this.imports[Y]=T,(Y.startsWith("blots/")||Y.startsWith("formats/"))&&T.blotName!=="abstract"?C.default.register(T):Y.startsWith("modules")&&typeof T.register=="function"&&T.register()}}]);function H(M){var Y=this,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(V(this,H),this.options=X(M,T),this.container=this.options.container,this.container==null)return W.error("Invalid Quill container",M);this.options.debug&&H.debug(this.options.debug);var O=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new m.default,this.scroll=C.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new g.default(this.scroll),this.selection=new v.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(m.default.events.EDITOR_CHANGE,function(L){L===m.default.events.TEXT_CHANGE&&Y.root.classList.toggle("ql-blank",Y.editor.isBlank())}),this.emitter.on(m.default.events.SCROLL_UPDATE,function(L,j){var D=Y.selection.lastRange,$=D&&D.length===0?D.index:void 0;J.call(Y,function(){return Y.editor.update(null,j,$)},L)});var P=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+O+"<p><br></p></div>");this.setContents(P),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(H,[{key:"addContainer",value:function(Y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof Y=="string"){var O=Y;Y=document.createElement("div"),Y.classList.add(O)}return this.container.insertBefore(Y,T),Y}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(Y,T,O){var P=this,L=E(Y,T,O),j=a(L,4);return Y=j[0],T=j[1],O=j[3],J.call(this,function(){return P.editor.deleteText(Y,T)},O,Y,-1*T)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(Y),this.container.classList.toggle("ql-disabled",!Y)}},{key:"focus",value:function(){var Y=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=Y,this.scrollIntoView()}},{key:"format",value:function(Y,T){var O=this,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;return J.call(this,function(){var L=O.getSelection(!0),j=new c.default;if(L==null)return j;if(C.default.query(Y,C.default.Scope.BLOCK))j=O.editor.formatLine(L.index,L.length,k({},Y,T));else{if(L.length===0)return O.selection.format(Y,T),j;j=O.editor.formatText(L.index,L.length,k({},Y,T))}return O.setSelection(L,m.default.sources.SILENT),j},P)}},{key:"formatLine",value:function(Y,T,O,P,L){var j=this,D=void 0,$=E(Y,T,O,P,L),K=a($,4);return Y=K[0],T=K[1],D=K[2],L=K[3],J.call(this,function(){return j.editor.formatLine(Y,T,D)},L,Y,0)}},{key:"formatText",value:function(Y,T,O,P,L){var j=this,D=void 0,$=E(Y,T,O,P,L),K=a($,4);return Y=K[0],T=K[1],D=K[2],L=K[3],J.call(this,function(){return j.editor.formatText(Y,T,D)},L,Y,0)}},{key:"getBounds",value:function(Y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,O=void 0;typeof Y=="number"?O=this.selection.getBounds(Y,T):O=this.selection.getBounds(Y.index,Y.length);var P=this.container.getBoundingClientRect();return{bottom:O.bottom-P.top,height:O.height,left:O.left-P.left,right:O.right-P.left,top:O.top-P.top,width:O.width}}},{key:"getContents",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-Y,O=E(Y,T),P=a(O,2);return Y=P[0],T=P[1],this.editor.getContents(Y,T)}},{key:"getFormat",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof Y=="number"?this.editor.getFormat(Y,T):this.editor.getFormat(Y.index,Y.length)}},{key:"getIndex",value:function(Y){return Y.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(Y){return this.scroll.leaf(Y)}},{key:"getLine",value:function(Y){return this.scroll.line(Y)}},{key:"getLines",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof Y!="number"?this.scroll.lines(Y.index,Y.length):this.scroll.lines(Y,T)}},{key:"getModule",value:function(Y){return this.theme.modules[Y]}},{key:"getSelection",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Y&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-Y,O=E(Y,T),P=a(O,2);return Y=P[0],T=P[1],this.editor.getText(Y,T)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(Y,T,O){var P=this,L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:H.sources.API;return J.call(this,function(){return P.editor.insertEmbed(Y,T,O)},L,Y)}},{key:"insertText",value:function(Y,T,O,P,L){var j=this,D=void 0,$=E(Y,0,O,P,L),K=a($,4);return Y=K[0],D=K[2],L=K[3],J.call(this,function(){return j.editor.insertText(Y,T,D)},L,Y,T.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(Y,T,O){this.clipboard.dangerouslyPasteHTML(Y,T,O)}},{key:"removeFormat",value:function(Y,T,O){var P=this,L=E(Y,T,O),j=a(L,4);return Y=j[0],T=j[1],O=j[3],J.call(this,function(){return P.editor.removeFormat(Y,T)},O,Y)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(Y){var T=this,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return J.call(this,function(){Y=new c.default(Y);var P=T.getLength(),L=T.editor.deleteText(0,P),j=T.editor.applyDelta(Y),D=j.ops[j.ops.length-1];D!=null&&typeof D.insert=="string"&&D.insert[D.insert.length-1]===`
`&&(T.editor.deleteText(T.getLength()-1,1),j.delete(1));var $=L.compose(j);return $},O)}},{key:"setSelection",value:function(Y,T,O){if(Y==null)this.selection.setRange(null,T||H.sources.API);else{var P=E(Y,T,O),L=a(P,4);Y=L[0],T=L[1],O=L[3],this.selection.setRange(new p.Range(Y,T),O),O!==m.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(Y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API,O=new c.default().insert(Y);return this.setContents(O,T)}},{key:"update",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,T=this.scroll.update(Y);return this.selection.update(Y),T}},{key:"updateContents",value:function(Y){var T=this,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return J.call(this,function(){return Y=new c.default(Y),T.editor.applyDelta(Y,O)},O,!0)}}]),H}();N.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},N.events=m.default.events,N.sources=m.default.sources,N.version="1.3.7",N.imports={delta:c.default,parchment:C.default,"core/module":h.default,"core/theme":R.default};function X(H,M){if(M=(0,x.default)(!0,{container:H,modules:{clipboard:!0,keyboard:!0,history:!0}},M),!M.theme||M.theme===N.DEFAULTS.theme)M.theme=R.default;else if(M.theme=N.import("themes/"+M.theme),M.theme==null)throw new Error("Invalid theme "+M.theme+". Did you register it?");var Y=(0,x.default)(!0,{},M.theme.DEFAULTS);[Y,M].forEach(function(P){P.modules=P.modules||{},Object.keys(P.modules).forEach(function(L){P.modules[L]===!0&&(P.modules[L]={})})});var T=Object.keys(Y.modules).concat(Object.keys(M.modules)),O=T.reduce(function(P,L){var j=N.import("modules/"+L);return j==null?W.error("Cannot load "+L+" module. Are you sure you registered it?"):P[L]=j.DEFAULTS||{},P},{});return M.modules!=null&&M.modules.toolbar&&M.modules.toolbar.constructor!==Object&&(M.modules.toolbar={container:M.modules.toolbar}),M=(0,x.default)(!0,{},N.DEFAULTS,{modules:O},Y,M),["bounds","container","scrollingContainer"].forEach(function(P){typeof M[P]=="string"&&(M[P]=document.querySelector(M[P]))}),M.modules=Object.keys(M.modules).reduce(function(P,L){return M.modules[L]&&(P[L]=M.modules[L]),P},{}),M}function J(H,M,Y,T){if(this.options.strict&&!this.isEnabled()&&M===m.default.sources.USER)return new c.default;var O=Y==null?null:this.getSelection(),P=this.editor.delta,L=H();if(O!=null&&(Y===!0&&(Y=O.index),T==null?O=F(O,L,M):T!==0&&(O=F(O,Y,T,M)),this.setSelection(O,m.default.sources.SILENT)),L.length()>0){var j,D=[m.default.events.TEXT_CHANGE,L,P,M];if((j=this.emitter).emit.apply(j,[m.default.events.EDITOR_CHANGE].concat(D)),M!==m.default.sources.SILENT){var $;($=this.emitter).emit.apply($,D)}}return L}function E(H,M,Y,T,O){var P={};return typeof H.index=="number"&&typeof H.length=="number"?typeof M!="number"?(O=T,T=Y,Y=M,M=H.length,H=H.index):(M=H.length,H=H.index):typeof M!="number"&&(O=T,T=Y,Y=M,M=0),(typeof Y>"u"?"undefined":i(Y))==="object"?(P=Y,O=T):typeof Y=="string"&&(T!=null?P[Y]=T:O=Y),O=O||m.default.sources.API,[H,M,P,O]}function F(H,M,Y,T){if(H==null)return null;var O=void 0,P=void 0;if(M instanceof c.default){var L=[H.index,H.index+H.length].map(function(K){return M.transformPosition(K,T!==m.default.sources.USER)}),j=a(L,2);O=j[0],P=j[1]}else{var D=[H.index,H.index+H.length].map(function(K){return K<M||K===M&&T===m.default.sources.USER?K:Y>=0?K+Y:Math.max(M,K+Y)}),$=a(D,2);O=$[0],P=$[1]}return new p.Range(O,P-O)}r.expandConfig=X,r.overload=E,r.default=N},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function A(C,p){for(var v=0;v<p.length;v++){var y=p[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(C,y.key,y)}}return function(C,p,v){return p&&A(C.prototype,p),v&&A(C,v),C}}(),a=function A(C,p,v){C===null&&(C=Function.prototype);var y=Object.getOwnPropertyDescriptor(C,p);if(y===void 0){var x=Object.getPrototypeOf(C);return x===null?void 0:A(x,p,v)}else{if("value"in y)return y.value;var S=y.get;return S===void 0?void 0:S.call(v)}},l=o(7),s=g(l),c=o(0),u=g(c);function g(A){return A&&A.__esModule?A:{default:A}}function d(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function m(A,C){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:A}function I(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}var h=function(A){I(C,A);function C(){return d(this,C),m(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return i(C,[{key:"formatAt",value:function(v,y,x,S){if(C.compare(this.statics.blotName,x)<0&&u.default.query(x,u.default.Scope.BLOT)){var B=this.isolate(v,y);S&&B.wrap(x,S)}else a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"formatAt",this).call(this,v,y,x,S)}},{key:"optimize",value:function(v){if(a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,v),this.parent instanceof C&&C.compare(this.statics.blotName,this.parent.statics.blotName)>0){var y=this.parent.isolate(this.offset(),this.length());this.moveChildren(y),y.wrap(this)}}}],[{key:"compare",value:function(v,y){var x=C.order.indexOf(v),S=C.order.indexOf(y);return x>=0||S>=0?x-S:v===y?0:v<y?-1:1}}]),C}(u.default.Inline);h.allowedChildren=[h,u.default.Embed,s.default],h.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=h},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(0),a=l(i);function l(d){return d&&d.__esModule?d:{default:d}}function s(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function c(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function u(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var g=function(d){u(m,d);function m(){return s(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(a.default.Text);r.default=g},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function p(v,y){for(var x=0;x<y.length;x++){var S=y[x];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}return function(v,y,x){return y&&p(v.prototype,y),x&&p(v,x),v}}(),a=function p(v,y,x){v===null&&(v=Function.prototype);var S=Object.getOwnPropertyDescriptor(v,y);if(S===void 0){var B=Object.getPrototypeOf(v);return B===null?void 0:p(B,y,x)}else{if("value"in S)return S.value;var Z=S.get;return Z===void 0?void 0:Z.call(x)}},l=o(54),s=g(l),c=o(10),u=g(c);function g(p){return p&&p.__esModule?p:{default:p}}function d(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function m(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function I(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var h=(0,u.default)("quill:events"),A=["selectionchange","mousedown","mouseup","click"];A.forEach(function(p){document.addEventListener(p,function(){for(var v=arguments.length,y=Array(v),x=0;x<v;x++)y[x]=arguments[x];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(S){if(S.__quill&&S.__quill.emitter){var B;(B=S.__quill.emitter).handleDOM.apply(B,y)}})})});var C=function(p){I(v,p);function v(){d(this,v);var y=m(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return y.listeners={},y.on("error",h.error),y}return i(v,[{key:"emit",value:function(){h.log.apply(h,arguments),a(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(x){for(var S=arguments.length,B=Array(S>1?S-1:0),Z=1;Z<S;Z++)B[Z-1]=arguments[Z];(this.listeners[x.type]||[]).forEach(function(R){var w=R.node,k=R.handler;(x.target===w||w.contains(x.target))&&k.apply(void 0,[x].concat(B))})}},{key:"listenDOM",value:function(x,S,B){this.listeners[x]||(this.listeners[x]=[]),this.listeners[x].push({node:S,handler:B})}}]),v}(s.default);C.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},C.sources={API:"api",SILENT:"silent",USER:"user"},r.default=C},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});function i(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}var a=function l(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,l),this.quill=s,this.options=c};a.DEFAULTS={},r.default=a},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=["error","warn","log","info"],a="warn";function l(c){if(i.indexOf(c)<=i.indexOf(a)){for(var u,g=arguments.length,d=Array(g>1?g-1:0),m=1;m<g;m++)d[m-1]=arguments[m];(u=console)[c].apply(u,d)}}function s(c){return i.reduce(function(u,g){return u[g]=l.bind(console,g,c),u},{})}l.level=s.level=function(c){a=c},r.default=s},function(n,r,o){var i=Array.prototype.slice,a=o(52),l=o(53),s=n.exports=function(d,m,I){return I||(I={}),d===m?!0:d instanceof Date&&m instanceof Date?d.getTime()===m.getTime():!d||!m||typeof d!="object"&&typeof m!="object"?I.strict?d===m:d==m:g(d,m,I)};function c(d){return d==null}function u(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function g(d,m,I){var h,A;if(c(d)||c(m)||d.prototype!==m.prototype)return!1;if(l(d))return l(m)?(d=i.call(d),m=i.call(m),s(d,m,I)):!1;if(u(d)){if(!u(m)||d.length!==m.length)return!1;for(h=0;h<d.length;h++)if(d[h]!==m[h])return!1;return!0}try{var C=a(d),p=a(m)}catch{return!1}if(C.length!=p.length)return!1;for(C.sort(),p.sort(),h=C.length-1;h>=0;h--)if(C[h]!=p[h])return!1;for(h=C.length-1;h>=0;h--)if(A=C[h],!s(d[A],m[A],I))return!1;return typeof d==typeof m}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(1),a=function(){function l(s,c,u){u===void 0&&(u={}),this.attrName=s,this.keyName=c;var g=i.Scope.TYPE&i.Scope.ATTRIBUTE;u.scope!=null?this.scope=u.scope&i.Scope.LEVEL|g:this.scope=i.Scope.ATTRIBUTE,u.whitelist!=null&&(this.whitelist=u.whitelist)}return l.keys=function(s){return[].map.call(s.attributes,function(c){return c.name})},l.prototype.add=function(s,c){return this.canAdd(s,c)?(s.setAttribute(this.keyName,c),!0):!1},l.prototype.canAdd=function(s,c){var u=i.query(s,i.Scope.BLOT&(this.scope|i.Scope.TYPE));return u==null?!1:this.whitelist==null?!0:typeof c=="string"?this.whitelist.indexOf(c.replace(/["']/g,""))>-1:this.whitelist.indexOf(c)>-1},l.prototype.remove=function(s){s.removeAttribute(this.keyName)},l.prototype.value=function(s){var c=s.getAttribute(this.keyName);return this.canAdd(s,c)&&c?c:""},l}();r.default=a},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var i=function(){function Z(R,w){var k=[],V=!0,W=!1,N=void 0;try{for(var X=R[Symbol.iterator](),J;!(V=(J=X.next()).done)&&(k.push(J.value),!(w&&k.length===w));V=!0);}catch(E){W=!0,N=E}finally{try{!V&&X.return&&X.return()}finally{if(W)throw N}}return k}return function(R,w){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return Z(R,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function Z(R,w){for(var k=0;k<w.length;k++){var V=w[k];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}}return function(R,w,k){return w&&Z(R.prototype,w),k&&Z(R,k),R}}(),l=function Z(R,w,k){R===null&&(R=Function.prototype);var V=Object.getOwnPropertyDescriptor(R,w);if(V===void 0){var W=Object.getPrototypeOf(R);return W===null?void 0:Z(W,w,k)}else{if("value"in V)return V.value;var N=V.get;return N===void 0?void 0:N.call(k)}},s=o(2),c=p(s),u=o(0),g=p(u),d=o(4),m=p(d),I=o(6),h=p(I),A=o(7),C=p(A);function p(Z){return Z&&Z.__esModule?Z:{default:Z}}function v(Z,R){if(!(Z instanceof R))throw new TypeError("Cannot call a class as a function")}function y(Z,R){if(!Z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:Z}function x(Z,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);Z.prototype=Object.create(R&&R.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,R):Z.__proto__=R)}var S=function(Z){x(R,Z);function R(){return v(this,R),y(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return R}(h.default);S.blotName="code",S.tagName="CODE";var B=function(Z){x(R,Z);function R(){return v(this,R),y(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return a(R,[{key:"delta",value:function(){var k=this,V=this.domNode.textContent;return V.endsWith(`
`)&&(V=V.slice(0,-1)),V.split(`
`).reduce(function(W,N){return W.insert(N).insert(`
`,k.formats())},new c.default)}},{key:"format",value:function(k,V){if(!(k===this.statics.blotName&&V)){var W=this.descendant(C.default,this.length()-1),N=i(W,1),X=N[0];X!=null&&X.deleteAt(X.length()-1,1),l(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"format",this).call(this,k,V)}}},{key:"formatAt",value:function(k,V,W,N){if(V!==0&&!(g.default.query(W,g.default.Scope.BLOCK)==null||W===this.statics.blotName&&N===this.statics.formats(this.domNode))){var X=this.newlineIndex(k);if(!(X<0||X>=k+V)){var J=this.newlineIndex(k,!0)+1,E=X-J+1,F=this.isolate(J,E),H=F.next;F.format(W,N),H instanceof R&&H.formatAt(0,k-J+V-E,W,N)}}}},{key:"insertAt",value:function(k,V,W){if(W==null){var N=this.descendant(C.default,k),X=i(N,2),J=X[0],E=X[1];J.insertAt(E,V)}}},{key:"length",value:function(){var k=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?k:k+1}},{key:"newlineIndex",value:function(k){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(V)return this.domNode.textContent.slice(0,k).lastIndexOf(`
`);var W=this.domNode.textContent.slice(k).indexOf(`
`);return W>-1?k+W:-1}},{key:"optimize",value:function(k){this.domNode.textContent.endsWith(`
`)||this.appendChild(g.default.create("text",`
`)),l(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,k);var V=this.next;V!=null&&V.prev===this&&V.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===V.statics.formats(V.domNode)&&(V.optimize(k),V.moveChildren(this),V.remove())}},{key:"replace",value:function(k){l(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"replace",this).call(this,k),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(V){var W=g.default.find(V);W==null?V.parentNode.removeChild(V):W instanceof g.default.Embed?W.remove():W.unwrap()})}}],[{key:"create",value:function(k){var V=l(R.__proto__||Object.getPrototypeOf(R),"create",this).call(this,k);return V.setAttribute("spellcheck",!1),V}},{key:"formats",value:function(){return!0}}]),R}(m.default);B.blotName="code-block",B.tagName="PRE",B.TAB="  ",r.Code=S,r.default=B},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},a=function(){function H(M,Y){var T=[],O=!0,P=!1,L=void 0;try{for(var j=M[Symbol.iterator](),D;!(O=(D=j.next()).done)&&(T.push(D.value),!(Y&&T.length===Y));O=!0);}catch($){P=!0,L=$}finally{try{!O&&j.return&&j.return()}finally{if(P)throw L}}return T}return function(M,Y){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return H(M,Y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function H(M,Y){for(var T=0;T<Y.length;T++){var O=Y[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(M,O.key,O)}}return function(M,Y,T){return Y&&H(M.prototype,Y),T&&H(M,T),M}}(),s=o(2),c=V(s),u=o(20),g=V(u),d=o(0),m=V(d),I=o(13),h=V(I),A=o(24),C=V(A),p=o(4),v=V(p),y=o(16),x=V(y),S=o(21),B=V(S),Z=o(11),R=V(Z),w=o(3),k=V(w);function V(H){return H&&H.__esModule?H:{default:H}}function W(H,M,Y){return M in H?Object.defineProperty(H,M,{value:Y,enumerable:!0,configurable:!0,writable:!0}):H[M]=Y,H}function N(H,M){if(!(H instanceof M))throw new TypeError("Cannot call a class as a function")}var X=/^[ -~]*$/,J=function(){function H(M){N(this,H),this.scroll=M,this.delta=this.getDelta()}return l(H,[{key:"applyDelta",value:function(Y){var T=this,O=!1;this.scroll.update();var P=this.scroll.length();return this.scroll.batchStart(),Y=F(Y),Y.reduce(function(L,j){var D=j.retain||j.delete||j.insert.length||1,$=j.attributes||{};if(j.insert!=null){if(typeof j.insert=="string"){var K=j.insert;K.endsWith(`
`)&&O&&(O=!1,K=K.slice(0,-1)),L>=P&&!K.endsWith(`
`)&&(O=!0),T.scroll.insertAt(L,K);var z=T.scroll.line(L),_=a(z,2),U=_[0],te=_[1],ie=(0,k.default)({},(0,p.bubbleFormats)(U));if(U instanceof v.default){var re=U.descendant(m.default.Leaf,te),se=a(re,1),ce=se[0];ie=(0,k.default)(ie,(0,p.bubbleFormats)(ce))}$=g.default.attributes.diff(ie,$)||{}}else if(i(j.insert)==="object"){var q=Object.keys(j.insert)[0];if(q==null)return L;T.scroll.insertAt(L,q,j.insert[q])}P+=D}return Object.keys($).forEach(function(ee){T.scroll.formatAt(L,D,ee,$[ee])}),L+D},0),Y.reduce(function(L,j){return typeof j.delete=="number"?(T.scroll.deleteAt(L,j.delete),L):L+(j.retain||j.insert.length||1)},0),this.scroll.batchEnd(),this.update(Y)}},{key:"deleteText",value:function(Y,T){return this.scroll.deleteAt(Y,T),this.update(new c.default().retain(Y).delete(T))}},{key:"formatLine",value:function(Y,T){var O=this,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(P).forEach(function(L){if(!(O.scroll.whitelist!=null&&!O.scroll.whitelist[L])){var j=O.scroll.lines(Y,Math.max(T,1)),D=T;j.forEach(function($){var K=$.length();if(!($ instanceof h.default))$.format(L,P[L]);else{var z=Y-$.offset(O.scroll),_=$.newlineIndex(z+D)-z+1;$.formatAt(z,_,L,P[L])}D-=K})}}),this.scroll.optimize(),this.update(new c.default().retain(Y).retain(T,(0,B.default)(P)))}},{key:"formatText",value:function(Y,T){var O=this,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(P).forEach(function(L){O.scroll.formatAt(Y,T,L,P[L])}),this.update(new c.default().retain(Y).retain(T,(0,B.default)(P)))}},{key:"getContents",value:function(Y,T){return this.delta.slice(Y,Y+T)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(Y,T){return Y.concat(T.delta())},new c.default)}},{key:"getFormat",value:function(Y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,O=[],P=[];T===0?this.scroll.path(Y).forEach(function(j){var D=a(j,1),$=D[0];$ instanceof v.default?O.push($):$ instanceof m.default.Leaf&&P.push($)}):(O=this.scroll.lines(Y,T),P=this.scroll.descendants(m.default.Leaf,Y,T));var L=[O,P].map(function(j){if(j.length===0)return{};for(var D=(0,p.bubbleFormats)(j.shift());Object.keys(D).length>0;){var $=j.shift();if($==null)return D;D=E((0,p.bubbleFormats)($),D)}return D});return k.default.apply(k.default,L)}},{key:"getText",value:function(Y,T){return this.getContents(Y,T).filter(function(O){return typeof O.insert=="string"}).map(function(O){return O.insert}).join("")}},{key:"insertEmbed",value:function(Y,T,O){return this.scroll.insertAt(Y,T,O),this.update(new c.default().retain(Y).insert(W({},T,O)))}},{key:"insertText",value:function(Y,T){var O=this,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return T=T.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(Y,T),Object.keys(P).forEach(function(L){O.scroll.formatAt(Y,T.length,L,P[L])}),this.update(new c.default().retain(Y).insert(T,(0,B.default)(P)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var Y=this.scroll.children.head;return Y.statics.blotName!==v.default.blotName||Y.children.length>1?!1:Y.children.head instanceof x.default}},{key:"removeFormat",value:function(Y,T){var O=this.getText(Y,T),P=this.scroll.line(Y+T),L=a(P,2),j=L[0],D=L[1],$=0,K=new c.default;j!=null&&(j instanceof h.default?$=j.newlineIndex(D)-D+1:$=j.length()-D,K=j.delta().slice(D,D+$-1).insert(`
`));var z=this.getContents(Y,T+$),_=z.diff(new c.default().insert(O).concat(K)),U=new c.default().retain(Y).concat(_);return this.applyDelta(U)}},{key:"update",value:function(Y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,P=this.delta;if(T.length===1&&T[0].type==="characterData"&&T[0].target.data.match(X)&&m.default.find(T[0].target)){var L=m.default.find(T[0].target),j=(0,p.bubbleFormats)(L),D=L.offset(this.scroll),$=T[0].oldValue.replace(C.default.CONTENTS,""),K=new c.default().insert($),z=new c.default().insert(L.value()),_=new c.default().retain(D).concat(K.diff(z,O));Y=_.reduce(function(U,te){return te.insert?U.insert(te.insert,j):U.push(te)},new c.default),this.delta=P.compose(Y)}else this.delta=this.getDelta(),(!Y||!(0,R.default)(P.compose(Y),this.delta))&&(Y=P.diff(this.delta,O));return Y}}]),H}();function E(H,M){return Object.keys(M).reduce(function(Y,T){return H[T]==null||(M[T]===H[T]?Y[T]=M[T]:Array.isArray(M[T])?M[T].indexOf(H[T])<0&&(Y[T]=M[T].concat([H[T]])):Y[T]=[M[T],H[T]]),Y},{})}function F(H){return H.reduce(function(M,Y){if(Y.insert===1){var T=(0,B.default)(Y.attributes);return delete T.image,M.insert({image:Y.attributes.image},T)}if(Y.attributes!=null&&(Y.attributes.list===!0||Y.attributes.bullet===!0)&&(Y=(0,B.default)(Y),Y.attributes.list?Y.attributes.list="ordered":(Y.attributes.list="bullet",delete Y.attributes.bullet)),typeof Y.insert=="string"){var O=Y.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return M.insert(O,Y.attributes)}return M.push(Y)},new c.default)}r.default=J},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var i=function(){function Z(R,w){var k=[],V=!0,W=!1,N=void 0;try{for(var X=R[Symbol.iterator](),J;!(V=(J=X.next()).done)&&(k.push(J.value),!(w&&k.length===w));V=!0);}catch(E){W=!0,N=E}finally{try{!V&&X.return&&X.return()}finally{if(W)throw N}}return k}return function(R,w){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return Z(R,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function Z(R,w){for(var k=0;k<w.length;k++){var V=w[k];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}}return function(R,w,k){return w&&Z(R.prototype,w),k&&Z(R,k),R}}(),l=o(0),s=C(l),c=o(21),u=C(c),g=o(11),d=C(g),m=o(8),I=C(m),h=o(10),A=C(h);function C(Z){return Z&&Z.__esModule?Z:{default:Z}}function p(Z){if(Array.isArray(Z)){for(var R=0,w=Array(Z.length);R<Z.length;R++)w[R]=Z[R];return w}else return Array.from(Z)}function v(Z,R){if(!(Z instanceof R))throw new TypeError("Cannot call a class as a function")}var y=(0,A.default)("quill:selection"),x=function Z(R){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;v(this,Z),this.index=R,this.length=w},S=function(){function Z(R,w){var k=this;v(this,Z),this.emitter=w,this.scroll=R,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=s.default.create("cursor",this),this.lastRange=this.savedRange=new x(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){k.mouseDown||setTimeout(k.update.bind(k,I.default.sources.USER),1)}),this.emitter.on(I.default.events.EDITOR_CHANGE,function(V,W){V===I.default.events.TEXT_CHANGE&&W.length()>0&&k.update(I.default.sources.SILENT)}),this.emitter.on(I.default.events.SCROLL_BEFORE_UPDATE,function(){if(k.hasFocus()){var V=k.getNativeRange();V!=null&&V.start.node!==k.cursor.textNode&&k.emitter.once(I.default.events.SCROLL_UPDATE,function(){try{k.setNativeRange(V.start.node,V.start.offset,V.end.node,V.end.offset)}catch{}})}}),this.emitter.on(I.default.events.SCROLL_OPTIMIZE,function(V,W){if(W.range){var N=W.range,X=N.startNode,J=N.startOffset,E=N.endNode,F=N.endOffset;k.setNativeRange(X,J,E,F)}}),this.update(I.default.sources.SILENT)}return a(Z,[{key:"handleComposition",value:function(){var w=this;this.root.addEventListener("compositionstart",function(){w.composing=!0}),this.root.addEventListener("compositionend",function(){if(w.composing=!1,w.cursor.parent){var k=w.cursor.restore();if(!k)return;setTimeout(function(){w.setNativeRange(k.startNode,k.startOffset,k.endNode,k.endOffset)},1)}})}},{key:"handleDragging",value:function(){var w=this;this.emitter.listenDOM("mousedown",document.body,function(){w.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){w.mouseDown=!1,w.update(I.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(w,k){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[w])){this.scroll.update();var V=this.getNativeRange();if(!(V==null||!V.native.collapsed||s.default.query(w,s.default.Scope.BLOCK))){if(V.start.node!==this.cursor.textNode){var W=s.default.find(V.start.node,!1);if(W==null)return;if(W instanceof s.default.Leaf){var N=W.split(V.start.offset);W.parent.insertBefore(this.cursor,N)}else W.insertBefore(this.cursor,V.start.node);this.cursor.attach()}this.cursor.format(w,k),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(w){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,V=this.scroll.length();w=Math.min(w,V-1),k=Math.min(w+k,V-1)-w;var W=void 0,N=this.scroll.leaf(w),X=i(N,2),J=X[0],E=X[1];if(J==null)return null;var F=J.position(E,!0),H=i(F,2);W=H[0],E=H[1];var M=document.createRange();if(k>0){M.setStart(W,E);var Y=this.scroll.leaf(w+k),T=i(Y,2);if(J=T[0],E=T[1],J==null)return null;var O=J.position(E,!0),P=i(O,2);return W=P[0],E=P[1],M.setEnd(W,E),M.getBoundingClientRect()}else{var L="left",j=void 0;return W instanceof Text?(E<W.data.length?(M.setStart(W,E),M.setEnd(W,E+1)):(M.setStart(W,E-1),M.setEnd(W,E),L="right"),j=M.getBoundingClientRect()):(j=J.domNode.getBoundingClientRect(),E>0&&(L="right")),{bottom:j.top+j.height,height:j.height,left:j[L],right:j[L],top:j.top,width:0}}}},{key:"getNativeRange",value:function(){var w=document.getSelection();if(w==null||w.rangeCount<=0)return null;var k=w.getRangeAt(0);if(k==null)return null;var V=this.normalizeNative(k);return y.info("getNativeRange",V),V}},{key:"getRange",value:function(){var w=this.getNativeRange();if(w==null)return[null,null];var k=this.normalizedToRange(w);return[k,w]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(w){var k=this,V=[[w.start.node,w.start.offset]];w.native.collapsed||V.push([w.end.node,w.end.offset]);var W=V.map(function(J){var E=i(J,2),F=E[0],H=E[1],M=s.default.find(F,!0),Y=M.offset(k.scroll);return H===0?Y:M instanceof s.default.Container?Y+M.length():Y+M.index(F,H)}),N=Math.min(Math.max.apply(Math,p(W)),this.scroll.length()-1),X=Math.min.apply(Math,[N].concat(p(W)));return new x(X,N-X)}},{key:"normalizeNative",value:function(w){if(!B(this.root,w.startContainer)||!w.collapsed&&!B(this.root,w.endContainer))return null;var k={start:{node:w.startContainer,offset:w.startOffset},end:{node:w.endContainer,offset:w.endOffset},native:w};return[k.start,k.end].forEach(function(V){for(var W=V.node,N=V.offset;!(W instanceof Text)&&W.childNodes.length>0;)if(W.childNodes.length>N)W=W.childNodes[N],N=0;else if(W.childNodes.length===N)W=W.lastChild,N=W instanceof Text?W.data.length:W.childNodes.length+1;else break;V.node=W,V.offset=N}),k}},{key:"rangeToNative",value:function(w){var k=this,V=w.collapsed?[w.index]:[w.index,w.index+w.length],W=[],N=this.scroll.length();return V.forEach(function(X,J){X=Math.min(N-1,X);var E=void 0,F=k.scroll.leaf(X),H=i(F,2),M=H[0],Y=H[1],T=M.position(Y,J!==0),O=i(T,2);E=O[0],Y=O[1],W.push(E,Y)}),W.length<2&&(W=W.concat(W)),W}},{key:"scrollIntoView",value:function(w){var k=this.lastRange;if(k!=null){var V=this.getBounds(k.index,k.length);if(V!=null){var W=this.scroll.length()-1,N=this.scroll.line(Math.min(k.index,W)),X=i(N,1),J=X[0],E=J;if(k.length>0){var F=this.scroll.line(Math.min(k.index+k.length,W)),H=i(F,1);E=H[0]}if(!(J==null||E==null)){var M=w.getBoundingClientRect();V.top<M.top?w.scrollTop-=M.top-V.top:V.bottom>M.bottom&&(w.scrollTop+=V.bottom-M.bottom)}}}}},{key:"setNativeRange",value:function(w,k){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w,W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k,N=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(y.info("setNativeRange",w,k,V,W),!(w!=null&&(this.root.parentNode==null||w.parentNode==null||V.parentNode==null))){var X=document.getSelection();if(X!=null)if(w!=null){this.hasFocus()||this.root.focus();var J=(this.getNativeRange()||{}).native;if(J==null||N||w!==J.startContainer||k!==J.startOffset||V!==J.endContainer||W!==J.endOffset){w.tagName=="BR"&&(k=[].indexOf.call(w.parentNode.childNodes,w),w=w.parentNode),V.tagName=="BR"&&(W=[].indexOf.call(V.parentNode.childNodes,V),V=V.parentNode);var E=document.createRange();E.setStart(w,k),E.setEnd(V,W),X.removeAllRanges(),X.addRange(E)}}else X.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(w){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I.default.sources.API;if(typeof k=="string"&&(V=k,k=!1),y.info("setRange",w),w!=null){var W=this.rangeToNative(w);this.setNativeRange.apply(this,p(W).concat([k]))}else this.setNativeRange(null);this.update(V)}},{key:"update",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:I.default.sources.USER,k=this.lastRange,V=this.getRange(),W=i(V,2),N=W[0],X=W[1];if(this.lastRange=N,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(k,this.lastRange)){var J;!this.composing&&X!=null&&X.native.collapsed&&X.start.node!==this.cursor.textNode&&this.cursor.restore();var E=[I.default.events.SELECTION_CHANGE,(0,u.default)(this.lastRange),(0,u.default)(k),w];if((J=this.emitter).emit.apply(J,[I.default.events.EDITOR_CHANGE].concat(E)),w!==I.default.sources.SILENT){var F;(F=this.emitter).emit.apply(F,E)}}}}]),Z}();function B(Z,R){try{R.parentNode}catch{return!1}return R instanceof Text&&(R=R.parentNode),Z.contains(R)}r.Range=x,r.default=S},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function I(h,A){for(var C=0;C<A.length;C++){var p=A[C];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,A,C){return A&&I(h.prototype,A),C&&I(h,C),h}}(),a=function I(h,A,C){h===null&&(h=Function.prototype);var p=Object.getOwnPropertyDescriptor(h,A);if(p===void 0){var v=Object.getPrototypeOf(h);return v===null?void 0:I(v,A,C)}else{if("value"in p)return p.value;var y=p.get;return y===void 0?void 0:y.call(C)}},l=o(0),s=c(l);function c(I){return I&&I.__esModule?I:{default:I}}function u(I,h){if(!(I instanceof h))throw new TypeError("Cannot call a class as a function")}function g(I,h){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:I}function d(I,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);I.prototype=Object.create(h&&h.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(I,h):I.__proto__=h)}var m=function(I){d(h,I);function h(){return u(this,h),g(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return i(h,[{key:"insertInto",value:function(C,p){C.children.length===0?a(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertInto",this).call(this,C,p):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),h}(s.default.Embed);m.blotName="break",m.tagName="BR",r.default=m},function(n,r,o){var i=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var I in m)m.hasOwnProperty(I)&&(d[I]=m[I])};return function(d,m){g(d,m);function I(){this.constructor=d}d.prototype=m===null?Object.create(m):(I.prototype=m.prototype,new I)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=o(44),l=o(30),s=o(1),c=function(g){i(d,g);function d(m){var I=g.call(this,m)||this;return I.build(),I}return d.prototype.appendChild=function(m){this.insertBefore(m)},d.prototype.attach=function(){g.prototype.attach.call(this),this.children.forEach(function(m){m.attach()})},d.prototype.build=function(){var m=this;this.children=new a.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(I){try{var h=u(I);m.insertBefore(h,m.children.head||void 0)}catch(A){if(A instanceof s.ParchmentError)return;throw A}})},d.prototype.deleteAt=function(m,I){if(m===0&&I===this.length())return this.remove();this.children.forEachAt(m,I,function(h,A,C){h.deleteAt(A,C)})},d.prototype.descendant=function(m,I){var h=this.children.find(I),A=h[0],C=h[1];return m.blotName==null&&m(A)||m.blotName!=null&&A instanceof m?[A,C]:A instanceof d?A.descendant(m,C):[null,-1]},d.prototype.descendants=function(m,I,h){I===void 0&&(I=0),h===void 0&&(h=Number.MAX_VALUE);var A=[],C=h;return this.children.forEachAt(I,h,function(p,v,y){(m.blotName==null&&m(p)||m.blotName!=null&&p instanceof m)&&A.push(p),p instanceof d&&(A=A.concat(p.descendants(m,v,C))),C-=y}),A},d.prototype.detach=function(){this.children.forEach(function(m){m.detach()}),g.prototype.detach.call(this)},d.prototype.formatAt=function(m,I,h,A){this.children.forEachAt(m,I,function(C,p,v){C.formatAt(p,v,h,A)})},d.prototype.insertAt=function(m,I,h){var A=this.children.find(m),C=A[0],p=A[1];if(C)C.insertAt(p,I,h);else{var v=h==null?s.create("text",I):s.create(I,h);this.appendChild(v)}},d.prototype.insertBefore=function(m,I){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(h){return m instanceof h}))throw new s.ParchmentError("Cannot insert "+m.statics.blotName+" into "+this.statics.blotName);m.insertInto(this,I)},d.prototype.length=function(){return this.children.reduce(function(m,I){return m+I.length()},0)},d.prototype.moveChildren=function(m,I){this.children.forEach(function(h){m.insertBefore(h,I)})},d.prototype.optimize=function(m){if(g.prototype.optimize.call(this,m),this.children.length===0)if(this.statics.defaultChild!=null){var I=s.create(this.statics.defaultChild);this.appendChild(I),I.optimize(m)}else this.remove()},d.prototype.path=function(m,I){I===void 0&&(I=!1);var h=this.children.find(m,I),A=h[0],C=h[1],p=[[this,m]];return A instanceof d?p.concat(A.path(C,I)):(A!=null&&p.push([A,C]),p)},d.prototype.removeChild=function(m){this.children.remove(m)},d.prototype.replace=function(m){m instanceof d&&m.moveChildren(this),g.prototype.replace.call(this,m)},d.prototype.split=function(m,I){if(I===void 0&&(I=!1),!I){if(m===0)return this;if(m===this.length())return this.next}var h=this.clone();return this.parent.insertBefore(h,this.next),this.children.forEachAt(m,this.length(),function(A,C,p){A=A.split(C,I),h.appendChild(A)}),h},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(m,I){var h=this,A=[],C=[];m.forEach(function(p){p.target===h.domNode&&p.type==="childList"&&(A.push.apply(A,p.addedNodes),C.push.apply(C,p.removedNodes))}),C.forEach(function(p){if(!(p.parentNode!=null&&p.tagName!=="IFRAME"&&document.body.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var v=s.find(p);v!=null&&(v.domNode.parentNode==null||v.domNode.parentNode===h.domNode)&&v.detach()}}),A.filter(function(p){return p.parentNode==h.domNode}).sort(function(p,v){return p===v?0:p.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(p){var v=null;p.nextSibling!=null&&(v=s.find(p.nextSibling));var y=u(p);(y.next!=v||y.next==null)&&(y.parent!=null&&y.parent.removeChild(h),h.insertBefore(y,v||void 0))})},d}(l.default);function u(g){var d=s.find(g);if(d==null)try{d=s.create(g)}catch{d=s.create(s.Scope.INLINE),[].slice.call(g.childNodes).forEach(function(I){d.domNode.appendChild(I)}),g.parentNode&&g.parentNode.replaceChild(d.domNode,g),d.attach()}return d}r.default=c},function(n,r,o){var i=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var I in m)m.hasOwnProperty(I)&&(d[I]=m[I])};return function(d,m){g(d,m);function I(){this.constructor=d}d.prototype=m===null?Object.create(m):(I.prototype=m.prototype,new I)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=o(12),l=o(31),s=o(17),c=o(1),u=function(g){i(d,g);function d(m){var I=g.call(this,m)||this;return I.attributes=new l.default(I.domNode),I}return d.formats=function(m){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return m.tagName.toLowerCase()},d.prototype.format=function(m,I){var h=c.query(m);h instanceof a.default?this.attributes.attribute(h,I):I&&h!=null&&(m!==this.statics.blotName||this.formats()[m]!==I)&&this.replaceWith(m,I)},d.prototype.formats=function(){var m=this.attributes.values(),I=this.statics.formats(this.domNode);return I!=null&&(m[this.statics.blotName]=I),m},d.prototype.replaceWith=function(m,I){var h=g.prototype.replaceWith.call(this,m,I);return this.attributes.copy(h),h},d.prototype.update=function(m,I){var h=this;g.prototype.update.call(this,m,I),m.some(function(A){return A.target===h.domNode&&A.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(m,I){var h=g.prototype.wrap.call(this,m,I);return h instanceof d&&h.statics.scope===this.statics.scope&&this.attributes.move(h),h},d}(s.default);r.default=u},function(n,r,o){var i=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var d in g)g.hasOwnProperty(d)&&(u[d]=g[d])};return function(u,g){c(u,g);function d(){this.constructor=u}u.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=o(30),l=o(1),s=function(c){i(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.value=function(g){return!0},u.prototype.index=function(g,d){return this.domNode===g||this.domNode.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},u.prototype.position=function(g,d){var m=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return g>0&&(m+=1),[this.parent.domNode,m]},u.prototype.value=function(){var g;return g={},g[this.statics.blotName]=this.statics.value(this.domNode)||!0,g},u.scope=l.Scope.INLINE_BLOT,u}(a.default);r.default=s},function(n,r,o){var i=o(11),a=o(3),l={attributes:{compose:function(c,u,g){typeof c!="object"&&(c={}),typeof u!="object"&&(u={});var d=a(!0,{},u);g||(d=Object.keys(d).reduce(function(I,h){return d[h]!=null&&(I[h]=d[h]),I},{}));for(var m in c)c[m]!==void 0&&u[m]===void 0&&(d[m]=c[m]);return Object.keys(d).length>0?d:void 0},diff:function(c,u){typeof c!="object"&&(c={}),typeof u!="object"&&(u={});var g=Object.keys(c).concat(Object.keys(u)).reduce(function(d,m){return i(c[m],u[m])||(d[m]=u[m]===void 0?null:u[m]),d},{});return Object.keys(g).length>0?g:void 0},transform:function(c,u,g){if(typeof c!="object")return u;if(typeof u=="object"){if(!g)return u;var d=Object.keys(u).reduce(function(m,I){return c[I]===void 0&&(m[I]=u[I]),m},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(c){return new s(c)},length:function(c){return typeof c.delete=="number"?c.delete:typeof c.retain=="number"?c.retain:typeof c.insert=="string"?c.insert.length:1}};function s(c){this.ops=c,this.index=0,this.offset=0}s.prototype.hasNext=function(){return this.peekLength()<1/0},s.prototype.next=function(c){c||(c=1/0);var u=this.ops[this.index];if(u){var g=this.offset,d=l.length(u);if(c>=d-g?(c=d-g,this.index+=1,this.offset=0):this.offset+=c,typeof u.delete=="number")return{delete:c};var m={};return u.attributes&&(m.attributes=u.attributes),typeof u.retain=="number"?m.retain=c:typeof u.insert=="string"?m.insert=u.insert.substr(g,c):m.insert=u.insert,m}else return{retain:1/0}},s.prototype.peek=function(){return this.ops[this.index]},s.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},s.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},s.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var c=this.offset,u=this.index,g=this.next(),d=this.ops.slice(this.index);return this.offset=c,this.index=u,[g].concat(d)}else return[]},n.exports=l},function(n,r){var o=function(){function i(h,A){return A!=null&&h instanceof A}var a;try{a=Map}catch{a=function(){}}var l;try{l=Set}catch{l=function(){}}var s;try{s=Promise}catch{s=function(){}}function c(h,A,C,p,v){typeof A=="object"&&(C=A.depth,p=A.prototype,v=A.includeNonEnumerable,A=A.circular);var y=[],x=[],S=typeof Buffer<"u";typeof A>"u"&&(A=!0),typeof C>"u"&&(C=1/0);function B(Z,R){if(Z===null)return null;if(R===0)return Z;var w,k;if(typeof Z!="object")return Z;if(i(Z,a))w=new a;else if(i(Z,l))w=new l;else if(i(Z,s))w=new s(function(M,Y){Z.then(function(T){M(B(T,R-1))},function(T){Y(B(T,R-1))})});else if(c.__isArray(Z))w=[];else if(c.__isRegExp(Z))w=new RegExp(Z.source,I(Z)),Z.lastIndex&&(w.lastIndex=Z.lastIndex);else if(c.__isDate(Z))w=new Date(Z.getTime());else{if(S&&Buffer.isBuffer(Z))return Buffer.allocUnsafe?w=Buffer.allocUnsafe(Z.length):w=new Buffer(Z.length),Z.copy(w),w;i(Z,Error)?w=Object.create(Z):typeof p>"u"?(k=Object.getPrototypeOf(Z),w=Object.create(k)):(w=Object.create(p),k=p)}if(A){var V=y.indexOf(Z);if(V!=-1)return x[V];y.push(Z),x.push(w)}i(Z,a)&&Z.forEach(function(M,Y){var T=B(Y,R-1),O=B(M,R-1);w.set(T,O)}),i(Z,l)&&Z.forEach(function(M){var Y=B(M,R-1);w.add(Y)});for(var W in Z){var N;k&&(N=Object.getOwnPropertyDescriptor(k,W)),!(N&&N.set==null)&&(w[W]=B(Z[W],R-1))}if(Object.getOwnPropertySymbols)for(var X=Object.getOwnPropertySymbols(Z),W=0;W<X.length;W++){var J=X[W],E=Object.getOwnPropertyDescriptor(Z,J);E&&!E.enumerable&&!v||(w[J]=B(Z[J],R-1),E.enumerable||Object.defineProperty(w,J,{enumerable:!1}))}if(v)for(var F=Object.getOwnPropertyNames(Z),W=0;W<F.length;W++){var H=F[W],E=Object.getOwnPropertyDescriptor(Z,H);E&&E.enumerable||(w[H]=B(Z[H],R-1),Object.defineProperty(w,H,{enumerable:!1}))}return w}return B(h,C)}c.clonePrototype=function(A){if(A===null)return null;var C=function(){};return C.prototype=A,new C};function u(h){return Object.prototype.toString.call(h)}c.__objToStr=u;function g(h){return typeof h=="object"&&u(h)==="[object Date]"}c.__isDate=g;function d(h){return typeof h=="object"&&u(h)==="[object Array]"}c.__isArray=d;function m(h){return typeof h=="object"&&u(h)==="[object RegExp]"}c.__isRegExp=m;function I(h){var A="";return h.global&&(A+="g"),h.ignoreCase&&(A+="i"),h.multiline&&(A+="m"),A}return c.__getRegExpFlags=I,c}();typeof n=="object"&&n.exports&&(n.exports=o)},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function w(k,V){var W=[],N=!0,X=!1,J=void 0;try{for(var E=k[Symbol.iterator](),F;!(N=(F=E.next()).done)&&(W.push(F.value),!(V&&W.length===V));N=!0);}catch(H){X=!0,J=H}finally{try{!N&&E.return&&E.return()}finally{if(X)throw J}}return W}return function(k,V){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return w(k,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function w(k,V){for(var W=0;W<V.length;W++){var N=V[W];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(k,N.key,N)}}return function(k,V,W){return V&&w(k.prototype,V),W&&w(k,W),k}}(),l=function w(k,V,W){k===null&&(k=Function.prototype);var N=Object.getOwnPropertyDescriptor(k,V);if(N===void 0){var X=Object.getPrototypeOf(k);return X===null?void 0:w(X,V,W)}else{if("value"in N)return N.value;var J=N.get;return J===void 0?void 0:J.call(W)}},s=o(0),c=y(s),u=o(8),g=y(u),d=o(4),m=y(d),I=o(16),h=y(I),A=o(13),C=y(A),p=o(25),v=y(p);function y(w){return w&&w.__esModule?w:{default:w}}function x(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}function S(w,k){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:w}function B(w,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);w.prototype=Object.create(k&&k.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(w,k):w.__proto__=k)}function Z(w){return w instanceof m.default||w instanceof d.BlockEmbed}var R=function(w){B(k,w);function k(V,W){x(this,k);var N=S(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,V));return N.emitter=W.emitter,Array.isArray(W.whitelist)&&(N.whitelist=W.whitelist.reduce(function(X,J){return X[J]=!0,X},{})),N.domNode.addEventListener("DOMNodeInserted",function(){}),N.optimize(),N.enable(),N}return a(k,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(W,N){var X=this.line(W),J=i(X,2),E=J[0],F=J[1],H=this.line(W+N),M=i(H,1),Y=M[0];if(l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,W,N),Y!=null&&E!==Y&&F>0){if(E instanceof d.BlockEmbed||Y instanceof d.BlockEmbed){this.optimize();return}if(E instanceof C.default){var T=E.newlineIndex(E.length(),!0);if(T>-1&&(E=E.split(T+1),E===Y)){this.optimize();return}}else if(Y instanceof C.default){var O=Y.newlineIndex(0);O>-1&&Y.split(O+1)}var P=Y.children.head instanceof h.default?null:Y.children.head;E.moveChildren(Y,P),E.remove()}this.optimize()}},{key:"enable",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",W)}},{key:"formatAt",value:function(W,N,X,J){this.whitelist!=null&&!this.whitelist[X]||(l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,W,N,X,J),this.optimize())}},{key:"insertAt",value:function(W,N,X){if(!(X!=null&&this.whitelist!=null&&!this.whitelist[N])){if(W>=this.length())if(X==null||c.default.query(N,c.default.Scope.BLOCK)==null){var J=c.default.create(this.statics.defaultChild);this.appendChild(J),X==null&&N.endsWith(`
`)&&(N=N.slice(0,-1)),J.insertAt(0,N,X)}else{var E=c.default.create(N,X);this.appendChild(E)}else l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,W,N,X);this.optimize()}}},{key:"insertBefore",value:function(W,N){if(W.statics.scope===c.default.Scope.INLINE_BLOT){var X=c.default.create(this.statics.defaultChild);X.appendChild(W),W=X}l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,W,N)}},{key:"leaf",value:function(W){return this.path(W).pop()||[null,-1]}},{key:"line",value:function(W){return W===this.length()?this.line(W-1):this.descendant(Z,W)}},{key:"lines",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,X=function J(E,F,H){var M=[],Y=H;return E.children.forEachAt(F,H,function(T,O,P){Z(T)?M.push(T):T instanceof c.default.Container&&(M=M.concat(J(T,O,Y))),Y-=P}),M};return X(this,W,N)}},{key:"optimize",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,W,N),W.length>0&&this.emitter.emit(g.default.events.SCROLL_OPTIMIZE,W,N))}},{key:"path",value:function(W){return l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,W).slice(1)}},{key:"update",value:function(W){if(this.batch!==!0){var N=g.default.sources.USER;typeof W=="string"&&(N=W),Array.isArray(W)||(W=this.observer.takeRecords()),W.length>0&&this.emitter.emit(g.default.events.SCROLL_BEFORE_UPDATE,N,W),l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"update",this).call(this,W.concat([])),W.length>0&&this.emitter.emit(g.default.events.SCROLL_UPDATE,N,W)}}}]),k}(c.default.Scroll);R.blotName="scroll",R.className="ql-editor",R.tagName="DIV",R.defaultChild="block",R.allowedChildren=[m.default,d.BlockEmbed,v.default],r.default=R},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},a=function(){function j(D,$){var K=[],z=!0,_=!1,U=void 0;try{for(var te=D[Symbol.iterator](),ie;!(z=(ie=te.next()).done)&&(K.push(ie.value),!($&&K.length===$));z=!0);}catch(re){_=!0,U=re}finally{try{!z&&te.return&&te.return()}finally{if(_)throw U}}return K}return function(D,$){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return j(D,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function j(D,$){for(var K=0;K<$.length;K++){var z=$[K];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(D,z.key,z)}}return function(D,$,K){return $&&j(D.prototype,$),K&&j(D,K),D}}(),s=o(21),c=w(s),u=o(11),g=w(u),d=o(3),m=w(d),I=o(2),h=w(I),A=o(20),C=w(A),p=o(0),v=w(p),y=o(5),x=w(y),S=o(10),B=w(S),Z=o(9),R=w(Z);function w(j){return j&&j.__esModule?j:{default:j}}function k(j,D,$){return D in j?Object.defineProperty(j,D,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[D]=$,j}function V(j,D){if(!(j instanceof D))throw new TypeError("Cannot call a class as a function")}function W(j,D){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:j}function N(j,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);j.prototype=Object.create(D&&D.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(j,D):j.__proto__=D)}var X=(0,B.default)("quill:keyboard"),J=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",E=function(j){N(D,j),l(D,null,[{key:"match",value:function(K,z){return z=L(z),["altKey","ctrlKey","metaKey","shiftKey"].some(function(_){return!!z[_]!==K[_]&&z[_]!==null})?!1:z.key===(K.which||K.keyCode)}}]);function D($,K){V(this,D);var z=W(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,$,K));return z.bindings={},Object.keys(z.options.bindings).forEach(function(_){_==="list autofill"&&$.scroll.whitelist!=null&&!$.scroll.whitelist.list||z.options.bindings[_]&&z.addBinding(z.options.bindings[_])}),z.addBinding({key:D.keys.ENTER,shiftKey:null},T),z.addBinding({key:D.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(z.addBinding({key:D.keys.BACKSPACE},{collapsed:!0},H),z.addBinding({key:D.keys.DELETE},{collapsed:!0},M)):(z.addBinding({key:D.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},H),z.addBinding({key:D.keys.DELETE},{collapsed:!0,suffix:/^.?$/},M)),z.addBinding({key:D.keys.BACKSPACE},{collapsed:!1},Y),z.addBinding({key:D.keys.DELETE},{collapsed:!1},Y),z.addBinding({key:D.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},H),z.listen(),z}return l(D,[{key:"addBinding",value:function(K){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},U=L(K);if(U==null||U.key==null)return X.warn("Attempted to add invalid keyboard binding",U);typeof z=="function"&&(z={handler:z}),typeof _=="function"&&(_={handler:_}),U=(0,m.default)(U,z,_),this.bindings[U.key]=this.bindings[U.key]||[],this.bindings[U.key].push(U)}},{key:"listen",value:function(){var K=this;this.quill.root.addEventListener("keydown",function(z){if(!z.defaultPrevented){var _=z.which||z.keyCode,U=(K.bindings[_]||[]).filter(function(ke){return D.match(z,ke)});if(U.length!==0){var te=K.quill.getSelection();if(!(te==null||!K.quill.hasFocus())){var ie=K.quill.getLine(te.index),re=a(ie,2),se=re[0],ce=re[1],q=K.quill.getLeaf(te.index),ee=a(q,2),oe=ee[0],ae=ee[1],ne=te.length===0?[oe,ae]:K.quill.getLeaf(te.index+te.length),fe=a(ne,2),le=fe[0],be=fe[1],ye=oe instanceof v.default.Text?oe.value().slice(0,ae):"",Fe=le instanceof v.default.Text?le.value().slice(be):"",ue={collapsed:te.length===0,empty:te.length===0&&se.length()<=1,format:K.quill.getFormat(te),offset:ce,prefix:ye,suffix:Fe},Se=U.some(function(ke){if(ke.collapsed!=null&&ke.collapsed!==ue.collapsed||ke.empty!=null&&ke.empty!==ue.empty||ke.offset!=null&&ke.offset!==ue.offset)return!1;if(Array.isArray(ke.format)){if(ke.format.every(function(Oe){return ue.format[Oe]==null}))return!1}else if(i(ke.format)==="object"&&!Object.keys(ke.format).every(function(Oe){return ke.format[Oe]===!0?ue.format[Oe]!=null:ke.format[Oe]===!1?ue.format[Oe]==null:(0,g.default)(ke.format[Oe],ue.format[Oe])}))return!1;return ke.prefix!=null&&!ke.prefix.test(ue.prefix)||ke.suffix!=null&&!ke.suffix.test(ue.suffix)?!1:ke.handler.call(K,te,ue)!==!0});Se&&z.preventDefault()}}}})}}]),D}(R.default);E.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},E.DEFAULTS={bindings:{bold:P("bold"),italic:P("italic"),underline:P("underline"),indent:{key:E.keys.TAB,format:["blockquote","indent","list"],handler:function(D,$){if($.collapsed&&$.offset!==0)return!0;this.quill.format("indent","+1",x.default.sources.USER)}},outdent:{key:E.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(D,$){if($.collapsed&&$.offset!==0)return!0;this.quill.format("indent","-1",x.default.sources.USER)}},"outdent backspace":{key:E.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(D,$){$.format.indent!=null?this.quill.format("indent","-1",x.default.sources.USER):$.format.list!=null&&this.quill.format("list",!1,x.default.sources.USER)}},"indent code-block":O(!0),"outdent code-block":O(!1),"remove tab":{key:E.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(D){this.quill.deleteText(D.index-1,1,x.default.sources.USER)}},tab:{key:E.keys.TAB,handler:function(D){this.quill.history.cutoff();var $=new h.default().retain(D.index).delete(D.length).insert("	");this.quill.updateContents($,x.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(D.index+1,x.default.sources.SILENT)}},"list empty enter":{key:E.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(D,$){this.quill.format("list",!1,x.default.sources.USER),$.format.indent&&this.quill.format("indent",!1,x.default.sources.USER)}},"checklist enter":{key:E.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(D){var $=this.quill.getLine(D.index),K=a($,2),z=K[0],_=K[1],U=(0,m.default)({},z.formats(),{list:"checked"}),te=new h.default().retain(D.index).insert(`
`,U).retain(z.length()-_-1).retain(1,{list:"unchecked"});this.quill.updateContents(te,x.default.sources.USER),this.quill.setSelection(D.index+1,x.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:E.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(D,$){var K=this.quill.getLine(D.index),z=a(K,2),_=z[0],U=z[1],te=new h.default().retain(D.index).insert(`
`,$.format).retain(_.length()-U-1).retain(1,{header:null});this.quill.updateContents(te,x.default.sources.USER),this.quill.setSelection(D.index+1,x.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(D,$){var K=$.prefix.length,z=this.quill.getLine(D.index),_=a(z,2),U=_[0],te=_[1];if(te>K)return!0;var ie=void 0;switch($.prefix.trim()){case"[]":case"[ ]":ie="unchecked";break;case"[x]":ie="checked";break;case"-":case"*":ie="bullet";break;default:ie="ordered"}this.quill.insertText(D.index," ",x.default.sources.USER),this.quill.history.cutoff();var re=new h.default().retain(D.index-te).delete(K+1).retain(U.length()-2-te).retain(1,{list:ie});this.quill.updateContents(re,x.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(D.index-K,x.default.sources.SILENT)}},"code exit":{key:E.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(D){var $=this.quill.getLine(D.index),K=a($,2),z=K[0],_=K[1],U=new h.default().retain(D.index+z.length()-_-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(U,x.default.sources.USER)}},"embed left":F(E.keys.LEFT,!1),"embed left shift":F(E.keys.LEFT,!0),"embed right":F(E.keys.RIGHT,!1),"embed right shift":F(E.keys.RIGHT,!0)}};function F(j,D){var $,K=j===E.keys.LEFT?"prefix":"suffix";return $={key:j,shiftKey:D,altKey:null},k($,K,/^$/),k($,"handler",function(_){var U=_.index;j===E.keys.RIGHT&&(U+=_.length+1);var te=this.quill.getLeaf(U),ie=a(te,1),re=ie[0];return re instanceof v.default.Embed?(j===E.keys.LEFT?D?this.quill.setSelection(_.index-1,_.length+1,x.default.sources.USER):this.quill.setSelection(_.index-1,x.default.sources.USER):D?this.quill.setSelection(_.index,_.length+1,x.default.sources.USER):this.quill.setSelection(_.index+_.length+1,x.default.sources.USER),!1):!0}),$}function H(j,D){if(!(j.index===0||this.quill.getLength()<=1)){var $=this.quill.getLine(j.index),K=a($,1),z=K[0],_={};if(D.offset===0){var U=this.quill.getLine(j.index-1),te=a(U,1),ie=te[0];if(ie!=null&&ie.length()>1){var re=z.formats(),se=this.quill.getFormat(j.index-1,1);_=C.default.attributes.diff(re,se)||{}}}var ce=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(D.prefix)?2:1;this.quill.deleteText(j.index-ce,ce,x.default.sources.USER),Object.keys(_).length>0&&this.quill.formatLine(j.index-ce,ce,_,x.default.sources.USER),this.quill.focus()}}function M(j,D){var $=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(D.suffix)?2:1;if(!(j.index>=this.quill.getLength()-$)){var K={},z=0,_=this.quill.getLine(j.index),U=a(_,1),te=U[0];if(D.offset>=te.length()-1){var ie=this.quill.getLine(j.index+1),re=a(ie,1),se=re[0];if(se){var ce=te.formats(),q=this.quill.getFormat(j.index,1);K=C.default.attributes.diff(ce,q)||{},z=se.length()}}this.quill.deleteText(j.index,$,x.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(j.index+z-1,$,K,x.default.sources.USER)}}function Y(j){var D=this.quill.getLines(j),$={};if(D.length>1){var K=D[0].formats(),z=D[D.length-1].formats();$=C.default.attributes.diff(z,K)||{}}this.quill.deleteText(j,x.default.sources.USER),Object.keys($).length>0&&this.quill.formatLine(j.index,1,$,x.default.sources.USER),this.quill.setSelection(j.index,x.default.sources.SILENT),this.quill.focus()}function T(j,D){var $=this;j.length>0&&this.quill.scroll.deleteAt(j.index,j.length);var K=Object.keys(D.format).reduce(function(z,_){return v.default.query(_,v.default.Scope.BLOCK)&&!Array.isArray(D.format[_])&&(z[_]=D.format[_]),z},{});this.quill.insertText(j.index,`
`,K,x.default.sources.USER),this.quill.setSelection(j.index+1,x.default.sources.SILENT),this.quill.focus(),Object.keys(D.format).forEach(function(z){K[z]==null&&(Array.isArray(D.format[z])||z!=="link"&&$.quill.format(z,D.format[z],x.default.sources.USER))})}function O(j){return{key:E.keys.TAB,shiftKey:!j,format:{"code-block":!0},handler:function($){var K=v.default.query("code-block"),z=$.index,_=$.length,U=this.quill.scroll.descendant(K,z),te=a(U,2),ie=te[0],re=te[1];if(ie!=null){var se=this.quill.getIndex(ie),ce=ie.newlineIndex(re,!0)+1,q=ie.newlineIndex(se+re+_),ee=ie.domNode.textContent.slice(ce,q).split(`
`);re=0,ee.forEach(function(oe,ae){j?(ie.insertAt(ce+re,K.TAB),re+=K.TAB.length,ae===0?z+=K.TAB.length:_+=K.TAB.length):oe.startsWith(K.TAB)&&(ie.deleteAt(ce+re,K.TAB.length),re-=K.TAB.length,ae===0?z-=K.TAB.length:_-=K.TAB.length),re+=oe.length+1}),this.quill.update(x.default.sources.USER),this.quill.setSelection(z,_,x.default.sources.SILENT)}}}}function P(j){return{key:j[0].toUpperCase(),shortKey:!0,handler:function($,K){this.quill.format(j,!K.format[j],x.default.sources.USER)}}}function L(j){if(typeof j=="string"||typeof j=="number")return L({key:j});if((typeof j>"u"?"undefined":i(j))==="object"&&(j=(0,c.default)(j,!1)),typeof j.key=="string")if(E.keys[j.key.toUpperCase()]!=null)j.key=E.keys[j.key.toUpperCase()];else if(j.key.length===1)j.key=j.key.toUpperCase().charCodeAt(0);else return null;return j.shortKey&&(j[J]=j.shortKey,delete j.shortKey),j}r.default=E,r.SHORTKEY=J},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function C(p,v){var y=[],x=!0,S=!1,B=void 0;try{for(var Z=p[Symbol.iterator](),R;!(x=(R=Z.next()).done)&&(y.push(R.value),!(v&&y.length===v));x=!0);}catch(w){S=!0,B=w}finally{try{!x&&Z.return&&Z.return()}finally{if(S)throw B}}return y}return function(p,v){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return C(p,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function C(p,v,y){p===null&&(p=Function.prototype);var x=Object.getOwnPropertyDescriptor(p,v);if(x===void 0){var S=Object.getPrototypeOf(p);return S===null?void 0:C(S,v,y)}else{if("value"in x)return x.value;var B=x.get;return B===void 0?void 0:B.call(y)}},l=function(){function C(p,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}return function(p,v,y){return v&&C(p.prototype,v),y&&C(p,y),p}}(),s=o(0),c=d(s),u=o(7),g=d(u);function d(C){return C&&C.__esModule?C:{default:C}}function m(C,p){if(!(C instanceof p))throw new TypeError("Cannot call a class as a function")}function I(C,p){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:C}function h(C,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);C.prototype=Object.create(p&&p.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(C,p):C.__proto__=p)}var A=function(C){h(p,C),l(p,null,[{key:"value",value:function(){}}]);function p(v,y){m(this,p);var x=I(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,v));return x.selection=y,x.textNode=document.createTextNode(p.CONTENTS),x.domNode.appendChild(x.textNode),x._length=0,x}return l(p,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(y,x){if(this._length!==0)return a(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,y,x);for(var S=this,B=0;S!=null&&S.statics.scope!==c.default.Scope.BLOCK_BLOT;)B+=S.offset(S.parent),S=S.parent;S!=null&&(this._length=p.CONTENTS.length,S.optimize(),S.formatAt(B,p.CONTENTS.length,y,x),this._length=0)}},{key:"index",value:function(y,x){return y===this.textNode?0:a(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,y,x)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){a(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var y=this.textNode,x=this.selection.getNativeRange(),S=void 0,B=void 0,Z=void 0;if(x!=null&&x.start.node===y&&x.end.node===y){var R=[y,x.start.offset,x.end.offset];S=R[0],B=R[1],Z=R[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==p.CONTENTS){var w=this.textNode.data.split(p.CONTENTS).join("");this.next instanceof g.default?(S=this.next.domNode,this.next.insertAt(0,w),this.textNode.data=p.CONTENTS):(this.textNode.data=w,this.parent.insertBefore(c.default.create(this.textNode),this),this.textNode=document.createTextNode(p.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),B!=null){var k=[B,Z].map(function(W){return Math.max(0,Math.min(S.data.length,W-1))}),V=i(k,2);return B=V[0],Z=V[1],{startNode:S,startOffset:B,endNode:S,endOffset:Z}}}}},{key:"update",value:function(y,x){var S=this;if(y.some(function(Z){return Z.type==="characterData"&&Z.target===S.textNode})){var B=this.restore();B&&(x.range=B)}}},{key:"value",value:function(){return""}}]),p}(c.default.Embed);A.blotName="cursor",A.className="ql-cursor",A.tagName="span",A.CONTENTS="\uFEFF",r.default=A},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(0),a=c(i),l=o(4),s=c(l);function c(I){return I&&I.__esModule?I:{default:I}}function u(I,h){if(!(I instanceof h))throw new TypeError("Cannot call a class as a function")}function g(I,h){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:I}function d(I,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);I.prototype=Object.create(h&&h.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(I,h):I.__proto__=h)}var m=function(I){d(h,I);function h(){return u(this,h),g(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(a.default.Container);m.allowedChildren=[s.default,l.BlockEmbed,m],r.default=m},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var i=function(){function A(C,p){for(var v=0;v<p.length;v++){var y=p[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(C,y.key,y)}}return function(C,p,v){return p&&A(C.prototype,p),v&&A(C,v),C}}(),a=function A(C,p,v){C===null&&(C=Function.prototype);var y=Object.getOwnPropertyDescriptor(C,p);if(y===void 0){var x=Object.getPrototypeOf(C);return x===null?void 0:A(x,p,v)}else{if("value"in y)return y.value;var S=y.get;return S===void 0?void 0:S.call(v)}},l=o(0),s=c(l);function c(A){return A&&A.__esModule?A:{default:A}}function u(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function g(A,C){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:A}function d(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}var m=function(A){d(C,A);function C(){return u(this,C),g(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return i(C,[{key:"value",value:function(v){var y=a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"value",this).call(this,v);return y.startsWith("rgb(")?(y=y.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+y.split(",").map(function(x){return("00"+parseInt(x).toString(16)).slice(-2)}).join("")):y}}]),C}(s.default.Attributor.Style),I=new s.default.Attributor.Class("color","ql-color",{scope:s.default.Scope.INLINE}),h=new m("color","color",{scope:s.default.Scope.INLINE});r.ColorAttributor=m,r.ColorClass=I,r.ColorStyle=h},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var i=function(){function h(A,C){for(var p=0;p<C.length;p++){var v=C[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(A,v.key,v)}}return function(A,C,p){return C&&h(A.prototype,C),p&&h(A,p),A}}(),a=function h(A,C,p){A===null&&(A=Function.prototype);var v=Object.getOwnPropertyDescriptor(A,C);if(v===void 0){var y=Object.getPrototypeOf(A);return y===null?void 0:h(y,C,p)}else{if("value"in v)return v.value;var x=v.get;return x===void 0?void 0:x.call(p)}},l=o(6),s=c(l);function c(h){return h&&h.__esModule?h:{default:h}}function u(h,A){if(!(h instanceof A))throw new TypeError("Cannot call a class as a function")}function g(h,A){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:h}function d(h,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);h.prototype=Object.create(A&&A.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(h,A):h.__proto__=A)}var m=function(h){d(A,h);function A(){return u(this,A),g(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return i(A,[{key:"format",value:function(p,v){if(p!==this.statics.blotName||!v)return a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,p,v);v=this.constructor.sanitize(v),this.domNode.setAttribute("href",v)}}],[{key:"create",value:function(p){var v=a(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,p);return p=this.sanitize(p),v.setAttribute("href",p),v.setAttribute("rel","noopener noreferrer"),v.setAttribute("target","_blank"),v}},{key:"formats",value:function(p){return p.getAttribute("href")}},{key:"sanitize",value:function(p){return I(p,this.PROTOCOL_WHITELIST)?p:this.SANITIZED_URL}}]),A}(s.default);m.blotName="link",m.tagName="A",m.SANITIZED_URL="about:blank",m.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function I(h,A){var C=document.createElement("a");C.href=h;var p=C.href.slice(0,C.href.indexOf(":"));return A.indexOf(p)>-1}r.default=m,r.sanitize=I},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},a=function(){function A(C,p){for(var v=0;v<p.length;v++){var y=p[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(C,y.key,y)}}return function(C,p,v){return p&&A(C.prototype,p),v&&A(C,v),C}}(),l=o(23),s=g(l),c=o(107),u=g(c);function g(A){return A&&A.__esModule?A:{default:A}}function d(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}var m=0;function I(A,C){A.setAttribute(C,A.getAttribute(C)!=="true")}var h=function(){function A(C){var p=this;d(this,A),this.select=C,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){p.togglePicker()}),this.label.addEventListener("keydown",function(v){switch(v.keyCode){case s.default.keys.ENTER:p.togglePicker();break;case s.default.keys.ESCAPE:p.escape(),v.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return a(A,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),I(this.label,"aria-expanded"),I(this.options,"aria-hidden")}},{key:"buildItem",value:function(p){var v=this,y=document.createElement("span");return y.tabIndex="0",y.setAttribute("role","button"),y.classList.add("ql-picker-item"),p.hasAttribute("value")&&y.setAttribute("data-value",p.getAttribute("value")),p.textContent&&y.setAttribute("data-label",p.textContent),y.addEventListener("click",function(){v.selectItem(y,!0)}),y.addEventListener("keydown",function(x){switch(x.keyCode){case s.default.keys.ENTER:v.selectItem(y,!0),x.preventDefault();break;case s.default.keys.ESCAPE:v.escape(),x.preventDefault();break}}),y}},{key:"buildLabel",value:function(){var p=document.createElement("span");return p.classList.add("ql-picker-label"),p.innerHTML=u.default,p.tabIndex="0",p.setAttribute("role","button"),p.setAttribute("aria-expanded","false"),this.container.appendChild(p),p}},{key:"buildOptions",value:function(){var p=this,v=document.createElement("span");v.classList.add("ql-picker-options"),v.setAttribute("aria-hidden","true"),v.tabIndex="-1",v.id="ql-picker-options-"+m,m+=1,this.label.setAttribute("aria-controls",v.id),this.options=v,[].slice.call(this.select.options).forEach(function(y){var x=p.buildItem(y);v.appendChild(x),y.selected===!0&&p.selectItem(x)}),this.container.appendChild(v)}},{key:"buildPicker",value:function(){var p=this;[].slice.call(this.select.attributes).forEach(function(v){p.container.setAttribute(v.name,v.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var p=this;this.close(),setTimeout(function(){return p.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(p){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=this.container.querySelector(".ql-selected");if(p!==y&&(y!=null&&y.classList.remove("ql-selected"),p!=null&&(p.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(p.parentNode.children,p),p.hasAttribute("data-value")?this.label.setAttribute("data-value",p.getAttribute("data-value")):this.label.removeAttribute("data-value"),p.hasAttribute("data-label")?this.label.setAttribute("data-label",p.getAttribute("data-label")):this.label.removeAttribute("data-label"),v))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":i(Event))==="object"){var x=document.createEvent("Event");x.initEvent("change",!0,!0),this.select.dispatchEvent(x)}this.close()}}},{key:"update",value:function(){var p=void 0;if(this.select.selectedIndex>-1){var v=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];p=this.select.options[this.select.selectedIndex],this.selectItem(v)}else this.selectItem(null);var y=p!=null&&p!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",y)}}]),A}();r.default=h},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(0),a=X(i),l=o(5),s=X(l),c=o(4),u=X(c),g=o(16),d=X(g),m=o(25),I=X(m),h=o(24),A=X(h),C=o(35),p=X(C),v=o(6),y=X(v),x=o(22),S=X(x),B=o(7),Z=X(B),R=o(55),w=X(R),k=o(42),V=X(k),W=o(23),N=X(W);function X(J){return J&&J.__esModule?J:{default:J}}s.default.register({"blots/block":u.default,"blots/block/embed":c.BlockEmbed,"blots/break":d.default,"blots/container":I.default,"blots/cursor":A.default,"blots/embed":p.default,"blots/inline":y.default,"blots/scroll":S.default,"blots/text":Z.default,"modules/clipboard":w.default,"modules/history":V.default,"modules/keyboard":N.default}),a.default.register(u.default,d.default,A.default,y.default,S.default,Z.default),r.default=s.default},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(1),a=function(){function l(s){this.domNode=s,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(s){if(this.tagName==null)throw new i.ParchmentError("Blot definition missing tagName");var c;return Array.isArray(this.tagName)?(typeof s=="string"&&(s=s.toUpperCase(),parseInt(s).toString()===s&&(s=parseInt(s))),typeof s=="number"?c=document.createElement(this.tagName[s-1]):this.tagName.indexOf(s)>-1?c=document.createElement(s):c=document.createElement(this.tagName[0])):c=document.createElement(this.tagName),this.className&&c.classList.add(this.className),c},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var s=this.domNode.cloneNode(!1);return i.create(s)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},l.prototype.deleteAt=function(s,c){var u=this.isolate(s,c);u.remove()},l.prototype.formatAt=function(s,c,u,g){var d=this.isolate(s,c);if(i.query(u,i.Scope.BLOT)!=null&&g)d.wrap(u,g);else if(i.query(u,i.Scope.ATTRIBUTE)!=null){var m=i.create(this.statics.scope);d.wrap(m),m.format(u,g)}},l.prototype.insertAt=function(s,c,u){var g=u==null?i.create("text",c):i.create(c,u),d=this.split(s);this.parent.insertBefore(g,d)},l.prototype.insertInto=function(s,c){c===void 0&&(c=null),this.parent!=null&&this.parent.children.remove(this);var u=null;s.children.insertBefore(this,c),c!=null&&(u=c.domNode),(this.domNode.parentNode!=s.domNode||this.domNode.nextSibling!=u)&&s.domNode.insertBefore(this.domNode,u),this.parent=s,this.attach()},l.prototype.isolate=function(s,c){var u=this.split(s);return u.split(c),u},l.prototype.length=function(){return 1},l.prototype.offset=function(s){return s===void 0&&(s=this.parent),this.parent==null||this==s?0:this.parent.children.offset(this)+this.parent.offset(s)},l.prototype.optimize=function(s){this.domNode[i.DATA_KEY]!=null&&delete this.domNode[i.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(s){s.parent!=null&&(s.parent.insertBefore(this,s.next),s.remove())},l.prototype.replaceWith=function(s,c){var u=typeof s=="string"?i.create(s,c):s;return u.replace(this),u},l.prototype.split=function(s,c){return s===0?this:this.next},l.prototype.update=function(s,c){},l.prototype.wrap=function(s,c){var u=typeof s=="string"?i.create(s,c):s;return this.parent!=null&&this.parent.insertBefore(u,this.next),u.appendChild(this),u},l.blotName="abstract",l}();r.default=a},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(12),a=o(32),l=o(33),s=o(1),c=function(){function u(g){this.attributes={},this.domNode=g,this.build()}return u.prototype.attribute=function(g,d){d?g.add(this.domNode,d)&&(g.value(this.domNode)!=null?this.attributes[g.attrName]=g:delete this.attributes[g.attrName]):(g.remove(this.domNode),delete this.attributes[g.attrName])},u.prototype.build=function(){var g=this;this.attributes={};var d=i.default.keys(this.domNode),m=a.default.keys(this.domNode),I=l.default.keys(this.domNode);d.concat(m).concat(I).forEach(function(h){var A=s.query(h,s.Scope.ATTRIBUTE);A instanceof i.default&&(g.attributes[A.attrName]=A)})},u.prototype.copy=function(g){var d=this;Object.keys(this.attributes).forEach(function(m){var I=d.attributes[m].value(d.domNode);g.format(m,I)})},u.prototype.move=function(g){var d=this;this.copy(g),Object.keys(this.attributes).forEach(function(m){d.attributes[m].remove(d.domNode)}),this.attributes={}},u.prototype.values=function(){var g=this;return Object.keys(this.attributes).reduce(function(d,m){return d[m]=g.attributes[m].value(g.domNode),d},{})},u}();r.default=c},function(n,r,o){var i=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var d in g)g.hasOwnProperty(d)&&(u[d]=g[d])};return function(u,g){c(u,g);function d(){this.constructor=u}u.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=o(12);function l(c,u){var g=c.getAttribute("class")||"";return g.split(/\s+/).filter(function(d){return d.indexOf(u+"-")===0})}var s=function(c){i(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.keys=function(g){return(g.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},u.prototype.add=function(g,d){return this.canAdd(g,d)?(this.remove(g),g.classList.add(this.keyName+"-"+d),!0):!1},u.prototype.remove=function(g){var d=l(g,this.keyName);d.forEach(function(m){g.classList.remove(m)}),g.classList.length===0&&g.removeAttribute("class")},u.prototype.value=function(g){var d=l(g,this.keyName)[0]||"",m=d.slice(this.keyName.length+1);return this.canAdd(g,m)?m:""},u}(a.default);r.default=s},function(n,r,o){var i=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var d in g)g.hasOwnProperty(d)&&(u[d]=g[d])};return function(u,g){c(u,g);function d(){this.constructor=u}u.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=o(12);function l(c){var u=c.split("-"),g=u.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return u[0]+g}var s=function(c){i(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.keys=function(g){return(g.getAttribute("style")||"").split(";").map(function(d){var m=d.split(":");return m[0].trim()})},u.prototype.add=function(g,d){return this.canAdd(g,d)?(g.style[l(this.keyName)]=d,!0):!1},u.prototype.remove=function(g){g.style[l(this.keyName)]="",g.getAttribute("style")||g.removeAttribute("style")},u.prototype.value=function(g){var d=g.style[l(this.keyName)];return this.canAdd(g,d)?d:""},u}(a.default);r.default=s},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function s(c,u){for(var g=0;g<u.length;g++){var d=u[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,u,g){return u&&s(c.prototype,u),g&&s(c,g),c}}();function a(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}var l=function(){function s(c,u){a(this,s),this.quill=c,this.options=u,this.modules={}}return i(s,[{key:"init",value:function(){var u=this;Object.keys(this.options.modules).forEach(function(g){u.modules[g]==null&&u.addModule(g)})}},{key:"addModule",value:function(u){var g=this.quill.constructor.import("modules/"+u);return this.modules[u]=new g(this.quill,this.options.modules[u]||{}),this.modules[u]}}]),s}();l.DEFAULTS={modules:{}},l.themes={default:l},r.default=l},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function C(p,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}return function(p,v,y){return v&&C(p.prototype,v),y&&C(p,y),p}}(),a=function C(p,v,y){p===null&&(p=Function.prototype);var x=Object.getOwnPropertyDescriptor(p,v);if(x===void 0){var S=Object.getPrototypeOf(p);return S===null?void 0:C(S,v,y)}else{if("value"in x)return x.value;var B=x.get;return B===void 0?void 0:B.call(y)}},l=o(0),s=g(l),c=o(7),u=g(c);function g(C){return C&&C.__esModule?C:{default:C}}function d(C,p){if(!(C instanceof p))throw new TypeError("Cannot call a class as a function")}function m(C,p){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:C}function I(C,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);C.prototype=Object.create(p&&p.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(C,p):C.__proto__=p)}var h="\uFEFF",A=function(C){I(p,C);function p(v){d(this,p);var y=m(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,v));return y.contentNode=document.createElement("span"),y.contentNode.setAttribute("contenteditable",!1),[].slice.call(y.domNode.childNodes).forEach(function(x){y.contentNode.appendChild(x)}),y.leftGuard=document.createTextNode(h),y.rightGuard=document.createTextNode(h),y.domNode.appendChild(y.leftGuard),y.domNode.appendChild(y.contentNode),y.domNode.appendChild(y.rightGuard),y}return i(p,[{key:"index",value:function(y,x){return y===this.leftGuard?0:y===this.rightGuard?1:a(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,y,x)}},{key:"restore",value:function(y){var x=void 0,S=void 0,B=y.data.split(h).join("");if(y===this.leftGuard)if(this.prev instanceof u.default){var Z=this.prev.length();this.prev.insertAt(Z,B),x={startNode:this.prev.domNode,startOffset:Z+B.length}}else S=document.createTextNode(B),this.parent.insertBefore(s.default.create(S),this),x={startNode:S,startOffset:B.length};else y===this.rightGuard&&(this.next instanceof u.default?(this.next.insertAt(0,B),x={startNode:this.next.domNode,startOffset:B.length}):(S=document.createTextNode(B),this.parent.insertBefore(s.default.create(S),this.next),x={startNode:S,startOffset:B.length}));return y.data=h,x}},{key:"update",value:function(y,x){var S=this;y.forEach(function(B){if(B.type==="characterData"&&(B.target===S.leftGuard||B.target===S.rightGuard)){var Z=S.restore(B.target);Z&&(x.range=Z)}})}}]),p}(s.default.Embed);r.default=A},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var i=o(0),a=l(i);function l(d){return d&&d.__esModule?d:{default:d}}var s={scope:a.default.Scope.BLOCK,whitelist:["right","center","justify"]},c=new a.default.Attributor.Attribute("align","align",s),u=new a.default.Attributor.Class("align","ql-align",s),g=new a.default.Attributor.Style("align","text-align",s);r.AlignAttribute=c,r.AlignClass=u,r.AlignStyle=g},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var i=o(0),a=s(i),l=o(26);function s(g){return g&&g.__esModule?g:{default:g}}var c=new a.default.Attributor.Class("background","ql-bg",{scope:a.default.Scope.INLINE}),u=new l.ColorAttributor("background","background-color",{scope:a.default.Scope.INLINE});r.BackgroundClass=c,r.BackgroundStyle=u},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var i=o(0),a=l(i);function l(d){return d&&d.__esModule?d:{default:d}}var s={scope:a.default.Scope.BLOCK,whitelist:["rtl"]},c=new a.default.Attributor.Attribute("direction","dir",s),u=new a.default.Attributor.Class("direction","ql-direction",s),g=new a.default.Attributor.Style("direction","direction",s);r.DirectionAttribute=c,r.DirectionClass=u,r.DirectionStyle=g},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var i=function(){function C(p,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}return function(p,v,y){return v&&C(p.prototype,v),y&&C(p,y),p}}(),a=function C(p,v,y){p===null&&(p=Function.prototype);var x=Object.getOwnPropertyDescriptor(p,v);if(x===void 0){var S=Object.getPrototypeOf(p);return S===null?void 0:C(S,v,y)}else{if("value"in x)return x.value;var B=x.get;return B===void 0?void 0:B.call(y)}},l=o(0),s=c(l);function c(C){return C&&C.__esModule?C:{default:C}}function u(C,p){if(!(C instanceof p))throw new TypeError("Cannot call a class as a function")}function g(C,p){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:C}function d(C,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);C.prototype=Object.create(p&&p.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(C,p):C.__proto__=p)}var m={scope:s.default.Scope.INLINE,whitelist:["serif","monospace"]},I=new s.default.Attributor.Class("font","ql-font",m),h=function(C){d(p,C);function p(){return u(this,p),g(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return i(p,[{key:"value",value:function(y){return a(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,y).replace(/["']/g,"")}}]),p}(s.default.Attributor.Style),A=new h("font","font-family",m);r.FontStyle=A,r.FontClass=I},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var i=o(0),a=l(i);function l(u){return u&&u.__esModule?u:{default:u}}var s=new a.default.Attributor.Class("size","ql-size",{scope:a.default.Scope.INLINE,whitelist:["small","large","huge"]}),c=new a.default.Attributor.Style("size","font-size",{scope:a.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=s,r.SizeStyle=c},function(n,r,o){n.exports={align:{"":o(76),center:o(77),right:o(78),justify:o(79)},background:o(80),blockquote:o(81),bold:o(82),clean:o(83),code:o(58),"code-block":o(58),color:o(84),direction:{"":o(85),rtl:o(86)},float:{center:o(87),full:o(88),left:o(89),right:o(90)},formula:o(91),header:{1:o(92),2:o(93)},italic:o(94),image:o(95),indent:{"+1":o(96),"-1":o(97)},link:o(98),list:{ordered:o(99),bullet:o(100),check:o(101)},script:{sub:o(102),super:o(103)},strike:o(104),underline:o(105),video:o(106)}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var i=function(){function v(y,x){for(var S=0;S<x.length;S++){var B=x[S];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(y,B.key,B)}}return function(y,x,S){return x&&v(y.prototype,x),S&&v(y,S),y}}(),a=o(0),l=d(a),s=o(5),c=d(s),u=o(9),g=d(u);function d(v){return v&&v.__esModule?v:{default:v}}function m(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function I(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function h(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var A=function(v){h(y,v);function y(x,S){m(this,y);var B=I(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,x,S));return B.lastRecorded=0,B.ignoreChange=!1,B.clear(),B.quill.on(c.default.events.EDITOR_CHANGE,function(Z,R,w,k){Z!==c.default.events.TEXT_CHANGE||B.ignoreChange||(!B.options.userOnly||k===c.default.sources.USER?B.record(R,w):B.transform(R))}),B.quill.keyboard.addBinding({key:"Z",shortKey:!0},B.undo.bind(B)),B.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},B.redo.bind(B)),/Win/i.test(navigator.platform)&&B.quill.keyboard.addBinding({key:"Y",shortKey:!0},B.redo.bind(B)),B}return i(y,[{key:"change",value:function(S,B){if(this.stack[S].length!==0){var Z=this.stack[S].pop();this.stack[B].push(Z),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(Z[S],c.default.sources.USER),this.ignoreChange=!1;var R=p(Z[S]);this.quill.setSelection(R)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(S,B){if(S.ops.length!==0){this.stack.redo=[];var Z=this.quill.getContents().diff(B),R=Date.now();if(this.lastRecorded+this.options.delay>R&&this.stack.undo.length>0){var w=this.stack.undo.pop();Z=Z.compose(w.undo),S=w.redo.compose(S)}else this.lastRecorded=R;this.stack.undo.push({redo:S,undo:Z}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(S){this.stack.undo.forEach(function(B){B.undo=S.transform(B.undo,!0),B.redo=S.transform(B.redo,!0)}),this.stack.redo.forEach(function(B){B.undo=S.transform(B.undo,!0),B.redo=S.transform(B.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),y}(g.default);A.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function C(v){var y=v.ops[v.ops.length-1];return y==null?!1:y.insert!=null?typeof y.insert=="string"&&y.insert.endsWith(`
`):y.attributes!=null?Object.keys(y.attributes).some(function(x){return l.default.query(x,l.default.Scope.BLOCK)!=null}):!1}function p(v){var y=v.reduce(function(S,B){return S+=B.delete||0,S},0),x=v.length()-y;return C(v)&&(x-=1),x}r.default=A,r.getLastChangeIndex=p},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var i=function(){function T(O,P){for(var L=0;L<P.length;L++){var j=P[L];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(O,j.key,j)}}return function(O,P,L){return P&&T(O.prototype,P),L&&T(O,L),O}}(),a=function T(O,P,L){O===null&&(O=Function.prototype);var j=Object.getOwnPropertyDescriptor(O,P);if(j===void 0){var D=Object.getPrototypeOf(O);return D===null?void 0:T(D,P,L)}else{if("value"in j)return j.value;var $=j.get;return $===void 0?void 0:$.call(L)}},l=o(3),s=R(l),c=o(2),u=R(c),g=o(8),d=R(g),m=o(23),I=R(m),h=o(34),A=R(h),C=o(59),p=R(C),v=o(60),y=R(v),x=o(28),S=R(x),B=o(61),Z=R(B);function R(T){return T&&T.__esModule?T:{default:T}}function w(T,O){if(!(T instanceof O))throw new TypeError("Cannot call a class as a function")}function k(T,O){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:T}function V(T,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);T.prototype=Object.create(O&&O.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(T,O):T.__proto__=O)}var W=[!1,"center","right","justify"],N=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],X=[!1,"serif","monospace"],J=["1","2","3",!1],E=["small",!1,"large","huge"],F=function(T){V(O,T);function O(P,L){w(this,O);var j=k(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,P,L)),D=function $(K){if(!document.body.contains(P.root))return document.body.removeEventListener("click",$);j.tooltip!=null&&!j.tooltip.root.contains(K.target)&&document.activeElement!==j.tooltip.textbox&&!j.quill.hasFocus()&&j.tooltip.hide(),j.pickers!=null&&j.pickers.forEach(function(z){z.container.contains(K.target)||z.close()})};return P.emitter.listenDOM("click",document.body,D),j}return i(O,[{key:"addModule",value:function(L){var j=a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"addModule",this).call(this,L);return L==="toolbar"&&this.extendToolbar(j),j}},{key:"buildButtons",value:function(L,j){L.forEach(function(D){var $=D.getAttribute("class")||"";$.split(/\s+/).forEach(function(K){if(K.startsWith("ql-")&&(K=K.slice(3),j[K]!=null))if(K==="direction")D.innerHTML=j[K][""]+j[K].rtl;else if(typeof j[K]=="string")D.innerHTML=j[K];else{var z=D.value||"";z!=null&&j[K][z]&&(D.innerHTML=j[K][z])}})})}},{key:"buildPickers",value:function(L,j){var D=this;this.pickers=L.map(function(K){if(K.classList.contains("ql-align"))return K.querySelector("option")==null&&Y(K,W),new y.default(K,j.align);if(K.classList.contains("ql-background")||K.classList.contains("ql-color")){var z=K.classList.contains("ql-background")?"background":"color";return K.querySelector("option")==null&&Y(K,N,z==="background"?"#ffffff":"#000000"),new p.default(K,j[z])}else return K.querySelector("option")==null&&(K.classList.contains("ql-font")?Y(K,X):K.classList.contains("ql-header")?Y(K,J):K.classList.contains("ql-size")&&Y(K,E)),new S.default(K)});var $=function(){D.pickers.forEach(function(z){z.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,$)}}]),O}(A.default);F.DEFAULTS=(0,s.default)(!0,{},A.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var O=this,P=this.container.querySelector("input.ql-image[type=file]");P==null&&(P=document.createElement("input"),P.setAttribute("type","file"),P.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),P.classList.add("ql-image"),P.addEventListener("change",function(){if(P.files!=null&&P.files[0]!=null){var L=new FileReader;L.onload=function(j){var D=O.quill.getSelection(!0);O.quill.updateContents(new u.default().retain(D.index).delete(D.length).insert({image:j.target.result}),d.default.sources.USER),O.quill.setSelection(D.index+1,d.default.sources.SILENT),P.value=""},L.readAsDataURL(P.files[0])}}),this.container.appendChild(P)),P.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var H=function(T){V(O,T);function O(P,L){w(this,O);var j=k(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,P,L));return j.textbox=j.root.querySelector('input[type="text"]'),j.listen(),j}return i(O,[{key:"listen",value:function(){var L=this;this.textbox.addEventListener("keydown",function(j){I.default.match(j,"enter")?(L.save(),j.preventDefault()):I.default.match(j,"escape")&&(L.cancel(),j.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),j!=null?this.textbox.value=j:L!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+L)||""),this.root.setAttribute("data-mode",L)}},{key:"restoreFocus",value:function(){var L=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=L}},{key:"save",value:function(){var L=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var j=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",L,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",L,d.default.sources.USER)),this.quill.root.scrollTop=j;break}case"video":L=M(L);case"formula":{if(!L)break;var D=this.quill.getSelection(!0);if(D!=null){var $=D.index+D.length;this.quill.insertEmbed($,this.root.getAttribute("data-mode"),L,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText($+1," ",d.default.sources.USER),this.quill.setSelection($+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),O}(Z.default);function M(T){var O=T.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||T.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return O?(O[1]||"https")+"://www.youtube.com/embed/"+O[2]+"?showinfo=0":(O=T.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(O[1]||"https")+"://player.vimeo.com/video/"+O[2]+"/":T}function Y(T,O){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;O.forEach(function(L){var j=document.createElement("option");L===P?j.setAttribute("selected","selected"):j.setAttribute("value",L),T.appendChild(j)})}r.BaseTooltip=H,r.default=F},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function a(){this.head=this.tail=null,this.length=0}return a.prototype.append=function(){for(var l=[],s=0;s<arguments.length;s++)l[s]=arguments[s];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},a.prototype.contains=function(l){for(var s,c=this.iterator();s=c();)if(s===l)return!0;return!1},a.prototype.insertBefore=function(l,s){l&&(l.next=s,s!=null?(l.prev=s.prev,s.prev!=null&&(s.prev.next=l),s.prev=l,s===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},a.prototype.offset=function(l){for(var s=0,c=this.head;c!=null;){if(c===l)return s;s+=c.length(),c=c.next}return-1},a.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},a.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var s=l;return l!=null&&(l=l.next),s}},a.prototype.find=function(l,s){s===void 0&&(s=!1);for(var c,u=this.iterator();c=u();){var g=c.length();if(l<g||s&&l===g&&(c.next==null||c.next.length()!==0))return[c,l];l-=g}return[null,0]},a.prototype.forEach=function(l){for(var s,c=this.iterator();s=c();)l(s)},a.prototype.forEachAt=function(l,s,c){if(!(s<=0))for(var u=this.find(l),g=u[0],d=u[1],m,I=l-d,h=this.iterator(g);(m=h())&&I<l+s;){var A=m.length();l>I?c(m,l-I,Math.min(s,I+A-l)):c(m,0,Math.min(A,l+s-I)),I+=A}},a.prototype.map=function(l){return this.reduce(function(s,c){return s.push(l(c)),s},[])},a.prototype.reduce=function(l,s){for(var c,u=this.iterator();c=u();)s=l(s,c);return s},a}();r.default=i},function(n,r,o){var i=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var I in m)m.hasOwnProperty(I)&&(d[I]=m[I])};return function(d,m){g(d,m);function I(){this.constructor=d}d.prototype=m===null?Object.create(m):(I.prototype=m.prototype,new I)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=o(17),l=o(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=100,u=function(g){i(d,g);function d(m){var I=g.call(this,m)||this;return I.scroll=I,I.observer=new MutationObserver(function(h){I.update(h)}),I.observer.observe(I.domNode,s),I.attach(),I}return d.prototype.detach=function(){g.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(m,I){this.update(),m===0&&I===this.length()?this.children.forEach(function(h){h.remove()}):g.prototype.deleteAt.call(this,m,I)},d.prototype.formatAt=function(m,I,h,A){this.update(),g.prototype.formatAt.call(this,m,I,h,A)},d.prototype.insertAt=function(m,I,h){this.update(),g.prototype.insertAt.call(this,m,I,h)},d.prototype.optimize=function(m,I){var h=this;m===void 0&&(m=[]),I===void 0&&(I={}),g.prototype.optimize.call(this,I);for(var A=[].slice.call(this.observer.takeRecords());A.length>0;)m.push(A.pop());for(var C=function(x,S){S===void 0&&(S=!0),!(x==null||x===h)&&x.domNode.parentNode!=null&&(x.domNode[l.DATA_KEY].mutations==null&&(x.domNode[l.DATA_KEY].mutations=[]),S&&C(x.parent))},p=function(x){x.domNode[l.DATA_KEY]==null||x.domNode[l.DATA_KEY].mutations==null||(x instanceof a.default&&x.children.forEach(p),x.optimize(I))},v=m,y=0;v.length>0;y+=1){if(y>=c)throw new Error("[Parchment] Maximum optimize iterations reached");for(v.forEach(function(x){var S=l.find(x.target,!0);S!=null&&(S.domNode===x.target&&(x.type==="childList"?(C(l.find(x.previousSibling,!1)),[].forEach.call(x.addedNodes,function(B){var Z=l.find(B,!1);C(Z,!1),Z instanceof a.default&&Z.children.forEach(function(R){C(R,!1)})})):x.type==="attributes"&&C(S.prev)),C(S))}),this.children.forEach(p),v=[].slice.call(this.observer.takeRecords()),A=v.slice();A.length>0;)m.push(A.pop())}},d.prototype.update=function(m,I){var h=this;I===void 0&&(I={}),m=m||this.observer.takeRecords(),m.map(function(A){var C=l.find(A.target,!0);return C==null?null:C.domNode[l.DATA_KEY].mutations==null?(C.domNode[l.DATA_KEY].mutations=[A],C):(C.domNode[l.DATA_KEY].mutations.push(A),null)}).forEach(function(A){A==null||A===h||A.domNode[l.DATA_KEY]==null||A.update(A.domNode[l.DATA_KEY].mutations||[],I)}),this.domNode[l.DATA_KEY].mutations!=null&&g.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,I),this.optimize(m,I)},d.blotName="scroll",d.defaultChild="block",d.scope=l.Scope.BLOCK_BLOT,d.tagName="DIV",d}(a.default);r.default=u},function(n,r,o){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var m in d)d.hasOwnProperty(m)&&(g[m]=d[m])};return function(g,d){u(g,d);function m(){this.constructor=g}g.prototype=d===null?Object.create(d):(m.prototype=d.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=o(18),l=o(1);function s(u,g){if(Object.keys(u).length!==Object.keys(g).length)return!1;for(var d in u)if(u[d]!==g[d])return!1;return!0}var c=function(u){i(g,u);function g(){return u!==null&&u.apply(this,arguments)||this}return g.formats=function(d){if(d.tagName!==g.tagName)return u.formats.call(this,d)},g.prototype.format=function(d,m){var I=this;d===this.statics.blotName&&!m?(this.children.forEach(function(h){h instanceof a.default||(h=h.wrap(g.blotName,!0)),I.attributes.copy(h)}),this.unwrap()):u.prototype.format.call(this,d,m)},g.prototype.formatAt=function(d,m,I,h){if(this.formats()[I]!=null||l.query(I,l.Scope.ATTRIBUTE)){var A=this.isolate(d,m);A.format(I,h)}else u.prototype.formatAt.call(this,d,m,I,h)},g.prototype.optimize=function(d){u.prototype.optimize.call(this,d);var m=this.formats();if(Object.keys(m).length===0)return this.unwrap();var I=this.next;I instanceof g&&I.prev===this&&s(m,I.formats())&&(I.moveChildren(this),I.remove())},g.blotName="inline",g.scope=l.Scope.INLINE_BLOT,g.tagName="SPAN",g}(a.default);r.default=c},function(n,r,o){var i=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var d in g)g.hasOwnProperty(d)&&(u[d]=g[d])};return function(u,g){c(u,g);function d(){this.constructor=u}u.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=o(18),l=o(1),s=function(c){i(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(g){var d=l.query(u.blotName).tagName;if(g.tagName!==d)return c.formats.call(this,g)},u.prototype.format=function(g,d){l.query(g,l.Scope.BLOCK)!=null&&(g===this.statics.blotName&&!d?this.replaceWith(u.blotName):c.prototype.format.call(this,g,d))},u.prototype.formatAt=function(g,d,m,I){l.query(m,l.Scope.BLOCK)!=null?this.format(m,I):c.prototype.formatAt.call(this,g,d,m,I)},u.prototype.insertAt=function(g,d,m){if(m==null||l.query(d,l.Scope.INLINE)!=null)c.prototype.insertAt.call(this,g,d,m);else{var I=this.split(g),h=l.create(d,m);I.parent.insertBefore(h,I)}},u.prototype.update=function(g,d){navigator.userAgent.match(/Trident/)?this.build():c.prototype.update.call(this,g,d)},u.blotName="block",u.scope=l.Scope.BLOCK_BLOT,u.tagName="P",u}(a.default);r.default=s},function(n,r,o){var i=this&&this.__extends||function(){var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var g in u)u.hasOwnProperty(g)&&(c[g]=u[g])};return function(c,u){s(c,u);function g(){this.constructor=c}c.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=o(19),l=function(s){i(c,s);function c(){return s!==null&&s.apply(this,arguments)||this}return c.formats=function(u){},c.prototype.format=function(u,g){s.prototype.formatAt.call(this,0,this.length(),u,g)},c.prototype.formatAt=function(u,g,d,m){u===0&&g===this.length()?this.format(d,m):s.prototype.formatAt.call(this,u,g,d,m)},c.prototype.formats=function(){return this.statics.formats(this.domNode)},c}(a.default);r.default=l},function(n,r,o){var i=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var d in g)g.hasOwnProperty(d)&&(u[d]=g[d])};return function(u,g){c(u,g);function d(){this.constructor=u}u.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var a=o(19),l=o(1),s=function(c){i(u,c);function u(g){var d=c.call(this,g)||this;return d.text=d.statics.value(d.domNode),d}return u.create=function(g){return document.createTextNode(g)},u.value=function(g){var d=g.data;return d.normalize&&(d=d.normalize()),d},u.prototype.deleteAt=function(g,d){this.domNode.data=this.text=this.text.slice(0,g)+this.text.slice(g+d)},u.prototype.index=function(g,d){return this.domNode===g?d:-1},u.prototype.insertAt=function(g,d,m){m==null?(this.text=this.text.slice(0,g)+d+this.text.slice(g),this.domNode.data=this.text):c.prototype.insertAt.call(this,g,d,m)},u.prototype.length=function(){return this.text.length},u.prototype.optimize=function(g){c.prototype.optimize.call(this,g),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof u&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},u.prototype.position=function(g,d){return[this.domNode,g]},u.prototype.split=function(g,d){if(d===void 0&&(d=!1),!d){if(g===0)return this;if(g===this.length())return this.next}var m=l.create(this.domNode.splitText(g));return this.parent.insertBefore(m,this.next),this.text=this.statics.value(this.domNode),m},u.prototype.update=function(g,d){var m=this;g.some(function(I){return I.type==="characterData"&&I.target===m.domNode})&&(this.text=this.statics.value(this.domNode))},u.prototype.value=function(){return this.text},u.blotName="text",u.scope=l.Scope.INLINE_BLOT,u}(a.default);r.default=s},function(n,r,o){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,s){return arguments.length>1&&!this.contains(l)==!s?s:a.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,s){return s=s||0,this.substr(s,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,s){var c=this.toString();(typeof s!="number"||!isFinite(s)||Math.floor(s)!==s||s>c.length)&&(s=c.length),s-=l.length;var u=c.indexOf(l,s);return u!==-1&&u===s}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(s){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof s!="function")throw new TypeError("predicate must be a function");for(var c=Object(this),u=c.length>>>0,g=arguments[1],d,m=0;m<u;m++)if(d=c[m],s.call(g,d,m,c))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var o=-1,i=1,a=0;function l(y,x,S){if(y==x)return y?[[a,y]]:[];(S<0||y.length<S)&&(S=null);var B=g(y,x),Z=y.substring(0,B);y=y.substring(B),x=x.substring(B),B=d(y,x);var R=y.substring(y.length-B);y=y.substring(0,y.length-B),x=x.substring(0,x.length-B);var w=s(y,x);return Z&&w.unshift([a,Z]),R&&w.push([a,R]),I(w),S!=null&&(w=C(w,S)),w=p(w),w}function s(y,x){var S;if(!y)return[[i,x]];if(!x)return[[o,y]];var B=y.length>x.length?y:x,Z=y.length>x.length?x:y,R=B.indexOf(Z);if(R!=-1)return S=[[i,B.substring(0,R)],[a,Z],[i,B.substring(R+Z.length)]],y.length>x.length&&(S[0][0]=S[2][0]=o),S;if(Z.length==1)return[[o,y],[i,x]];var w=m(y,x);if(w){var k=w[0],V=w[1],W=w[2],N=w[3],X=w[4],J=l(k,W),E=l(V,N);return J.concat([[a,X]],E)}return c(y,x)}function c(y,x){for(var S=y.length,B=x.length,Z=Math.ceil((S+B)/2),R=Z,w=2*Z,k=new Array(w),V=new Array(w),W=0;W<w;W++)k[W]=-1,V[W]=-1;k[R+1]=0,V[R+1]=0;for(var N=S-B,X=N%2!=0,J=0,E=0,F=0,H=0,M=0;M<Z;M++){for(var Y=-M+J;Y<=M-E;Y+=2){var T=R+Y,O;Y==-M||Y!=M&&k[T-1]<k[T+1]?O=k[T+1]:O=k[T-1]+1;for(var P=O-Y;O<S&&P<B&&y.charAt(O)==x.charAt(P);)O++,P++;if(k[T]=O,O>S)E+=2;else if(P>B)J+=2;else if(X){var L=R+N-Y;if(L>=0&&L<w&&V[L]!=-1){var j=S-V[L];if(O>=j)return u(y,x,O,P)}}}for(var D=-M+F;D<=M-H;D+=2){var L=R+D,j;D==-M||D!=M&&V[L-1]<V[L+1]?j=V[L+1]:j=V[L-1]+1;for(var $=j-D;j<S&&$<B&&y.charAt(S-j-1)==x.charAt(B-$-1);)j++,$++;if(V[L]=j,j>S)H+=2;else if($>B)F+=2;else if(!X){var T=R+N-D;if(T>=0&&T<w&&k[T]!=-1){var O=k[T],P=R+O-T;if(j=S-j,O>=j)return u(y,x,O,P)}}}}return[[o,y],[i,x]]}function u(y,x,S,B){var Z=y.substring(0,S),R=x.substring(0,B),w=y.substring(S),k=x.substring(B),V=l(Z,R),W=l(w,k);return V.concat(W)}function g(y,x){if(!y||!x||y.charAt(0)!=x.charAt(0))return 0;for(var S=0,B=Math.min(y.length,x.length),Z=B,R=0;S<Z;)y.substring(R,Z)==x.substring(R,Z)?(S=Z,R=S):B=Z,Z=Math.floor((B-S)/2+S);return Z}function d(y,x){if(!y||!x||y.charAt(y.length-1)!=x.charAt(x.length-1))return 0;for(var S=0,B=Math.min(y.length,x.length),Z=B,R=0;S<Z;)y.substring(y.length-Z,y.length-R)==x.substring(x.length-Z,x.length-R)?(S=Z,R=S):B=Z,Z=Math.floor((B-S)/2+S);return Z}function m(y,x){var S=y.length>x.length?y:x,B=y.length>x.length?x:y;if(S.length<4||B.length*2<S.length)return null;function Z(E,F,H){for(var M=E.substring(H,H+Math.floor(E.length/4)),Y=-1,T="",O,P,L,j;(Y=F.indexOf(M,Y+1))!=-1;){var D=g(E.substring(H),F.substring(Y)),$=d(E.substring(0,H),F.substring(0,Y));T.length<$+D&&(T=F.substring(Y-$,Y)+F.substring(Y,Y+D),O=E.substring(0,H-$),P=E.substring(H+D),L=F.substring(0,Y-$),j=F.substring(Y+D))}return T.length*2>=E.length?[O,P,L,j,T]:null}var R=Z(S,B,Math.ceil(S.length/4)),w=Z(S,B,Math.ceil(S.length/2)),k;if(!R&&!w)return null;w?R?k=R[4].length>w[4].length?R:w:k=w:k=R;var V,W,N,X;y.length>x.length?(V=k[0],W=k[1],N=k[2],X=k[3]):(N=k[0],X=k[1],V=k[2],W=k[3]);var J=k[4];return[V,W,N,X,J]}function I(y){y.push([a,""]);for(var x=0,S=0,B=0,Z="",R="",w;x<y.length;)switch(y[x][0]){case i:B++,R+=y[x][1],x++;break;case o:S++,Z+=y[x][1],x++;break;case a:S+B>1?(S!==0&&B!==0&&(w=g(R,Z),w!==0&&(x-S-B>0&&y[x-S-B-1][0]==a?y[x-S-B-1][1]+=R.substring(0,w):(y.splice(0,0,[a,R.substring(0,w)]),x++),R=R.substring(w),Z=Z.substring(w)),w=d(R,Z),w!==0&&(y[x][1]=R.substring(R.length-w)+y[x][1],R=R.substring(0,R.length-w),Z=Z.substring(0,Z.length-w))),S===0?y.splice(x-B,S+B,[i,R]):B===0?y.splice(x-S,S+B,[o,Z]):y.splice(x-S-B,S+B,[o,Z],[i,R]),x=x-S-B+(S?1:0)+(B?1:0)+1):x!==0&&y[x-1][0]==a?(y[x-1][1]+=y[x][1],y.splice(x,1)):x++,B=0,S=0,Z="",R="";break}y[y.length-1][1]===""&&y.pop();var k=!1;for(x=1;x<y.length-1;)y[x-1][0]==a&&y[x+1][0]==a&&(y[x][1].substring(y[x][1].length-y[x-1][1].length)==y[x-1][1]?(y[x][1]=y[x-1][1]+y[x][1].substring(0,y[x][1].length-y[x-1][1].length),y[x+1][1]=y[x-1][1]+y[x+1][1],y.splice(x-1,1),k=!0):y[x][1].substring(0,y[x+1][1].length)==y[x+1][1]&&(y[x-1][1]+=y[x+1][1],y[x][1]=y[x][1].substring(y[x+1][1].length)+y[x+1][1],y.splice(x+1,1),k=!0)),x++;k&&I(y)}var h=l;h.INSERT=i,h.DELETE=o,h.EQUAL=a,n.exports=h;function A(y,x){if(x===0)return[a,y];for(var S=0,B=0;B<y.length;B++){var Z=y[B];if(Z[0]===o||Z[0]===a){var R=S+Z[1].length;if(x===R)return[B+1,y];if(x<R){y=y.slice();var w=x-S,k=[Z[0],Z[1].slice(0,w)],V=[Z[0],Z[1].slice(w)];return y.splice(B,1,k,V),[B+1,y]}else S=R}}throw new Error("cursor_pos is out of bounds!")}function C(y,x){var S=A(y,x),B=S[1],Z=S[0],R=B[Z],w=B[Z+1];if(R==null)return y;if(R[0]!==a)return y;if(w!=null&&R[1]+w[1]===w[1]+R[1])return B.splice(Z,2,w,R),v(B,Z,2);if(w!=null&&w[1].indexOf(R[1])===0){B.splice(Z,2,[w[0],R[1]],[0,R[1]]);var k=w[1].slice(R[1].length);return k.length>0&&B.splice(Z+2,0,[w[0],k]),v(B,Z,3)}else return y}function p(y){for(var x=!1,S=function(w){return w.charCodeAt(0)>=56320&&w.charCodeAt(0)<=57343},B=function(w){return w.charCodeAt(w.length-1)>=55296&&w.charCodeAt(w.length-1)<=56319},Z=2;Z<y.length;Z+=1)y[Z-2][0]===a&&B(y[Z-2][1])&&y[Z-1][0]===o&&S(y[Z-1][1])&&y[Z][0]===i&&S(y[Z][1])&&(x=!0,y[Z-1][1]=y[Z-2][1].slice(-1)+y[Z-1][1],y[Z][1]=y[Z-2][1].slice(-1)+y[Z][1],y[Z-2][1]=y[Z-2][1].slice(0,-1));if(!x)return y;for(var R=[],Z=0;Z<y.length;Z+=1)y[Z][1].length>0&&R.push(y[Z]);return R}function v(y,x,S){for(var B=x+S-1;B>=0&&B>=x-1;B--)if(B+1<y.length){var Z=y[B],R=y[B+1];Z[0]===R[1]&&y.splice(B,2,[Z[0],Z[1]+R[1]])}return y}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:o,r.shim=o;function o(i){var a=[];for(var l in i)a.push(l);return a}},function(n,r){var o=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=o?i:a,r.supported=i;function i(l){return Object.prototype.toString.call(l)=="[object Arguments]"}r.unsupported=a;function a(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(n,r){var o=Object.prototype.hasOwnProperty,i="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(i=!1));function l(c,u,g){this.fn=c,this.context=u,this.once=g||!1}function s(){this._events=new a,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],g,d;if(this._eventsCount===0)return u;for(d in g=this._events)o.call(g,d)&&u.push(i?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(g)):u},s.prototype.listeners=function(u,g){var d=i?i+u:u,m=this._events[d];if(g)return!!m;if(!m)return[];if(m.fn)return[m.fn];for(var I=0,h=m.length,A=new Array(h);I<h;I++)A[I]=m[I].fn;return A},s.prototype.emit=function(u,g,d,m,I,h){var A=i?i+u:u;if(!this._events[A])return!1;var C=this._events[A],p=arguments.length,v,y;if(C.fn){switch(C.once&&this.removeListener(u,C.fn,void 0,!0),p){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,g),!0;case 3:return C.fn.call(C.context,g,d),!0;case 4:return C.fn.call(C.context,g,d,m),!0;case 5:return C.fn.call(C.context,g,d,m,I),!0;case 6:return C.fn.call(C.context,g,d,m,I,h),!0}for(y=1,v=new Array(p-1);y<p;y++)v[y-1]=arguments[y];C.fn.apply(C.context,v)}else{var x=C.length,S;for(y=0;y<x;y++)switch(C[y].once&&this.removeListener(u,C[y].fn,void 0,!0),p){case 1:C[y].fn.call(C[y].context);break;case 2:C[y].fn.call(C[y].context,g);break;case 3:C[y].fn.call(C[y].context,g,d);break;case 4:C[y].fn.call(C[y].context,g,d,m);break;default:if(!v)for(S=1,v=new Array(p-1);S<p;S++)v[S-1]=arguments[S];C[y].fn.apply(C[y].context,v)}}return!0},s.prototype.on=function(u,g,d){var m=new l(g,d||this),I=i?i+u:u;return this._events[I]?this._events[I].fn?this._events[I]=[this._events[I],m]:this._events[I].push(m):(this._events[I]=m,this._eventsCount++),this},s.prototype.once=function(u,g,d){var m=new l(g,d||this,!0),I=i?i+u:u;return this._events[I]?this._events[I].fn?this._events[I]=[this._events[I],m]:this._events[I].push(m):(this._events[I]=m,this._eventsCount++),this},s.prototype.removeListener=function(u,g,d,m){var I=i?i+u:u;if(!this._events[I])return this;if(!g)return--this._eventsCount===0?this._events=new a:delete this._events[I],this;var h=this._events[I];if(h.fn)h.fn===g&&(!m||h.once)&&(!d||h.context===d)&&(--this._eventsCount===0?this._events=new a:delete this._events[I]);else{for(var A=0,C=[],p=h.length;A<p;A++)(h[A].fn!==g||m&&!h[A].once||d&&h[A].context!==d)&&C.push(h[A]);C.length?this._events[I]=C.length===1?C[0]:C:--this._eventsCount===0?this._events=new a:delete this._events[I]}return this},s.prototype.removeAllListeners=function(u){var g;return u?(g=i?i+u:u,this._events[g]&&(--this._eventsCount===0?this._events=new a:delete this._events[g])):(this._events=new a,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=i,s.EventEmitter=s,typeof n<"u"&&(n.exports=s)},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},a=function(){function q(ee,oe){var ae=[],ne=!0,fe=!1,le=void 0;try{for(var be=ee[Symbol.iterator](),ye;!(ne=(ye=be.next()).done)&&(ae.push(ye.value),!(oe&&ae.length===oe));ne=!0);}catch(Fe){fe=!0,le=Fe}finally{try{!ne&&be.return&&be.return()}finally{if(fe)throw le}}return ae}return function(ee,oe){if(Array.isArray(ee))return ee;if(Symbol.iterator in Object(ee))return q(ee,oe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function q(ee,oe){for(var ae=0;ae<oe.length;ae++){var ne=oe[ae];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(ee,ne.key,ne)}}return function(ee,oe,ae){return oe&&q(ee.prototype,oe),ae&&q(ee,ae),ee}}(),s=o(3),c=V(s),u=o(2),g=V(u),d=o(0),m=V(d),I=o(5),h=V(I),A=o(10),C=V(A),p=o(9),v=V(p),y=o(36),x=o(37),S=o(13),B=V(S),Z=o(26),R=o(38),w=o(39),k=o(40);function V(q){return q&&q.__esModule?q:{default:q}}function W(q,ee,oe){return ee in q?Object.defineProperty(q,ee,{value:oe,enumerable:!0,configurable:!0,writable:!0}):q[ee]=oe,q}function N(q,ee){if(!(q instanceof ee))throw new TypeError("Cannot call a class as a function")}function X(q,ee){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee&&(typeof ee=="object"||typeof ee=="function")?ee:q}function J(q,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);q.prototype=Object.create(ee&&ee.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(q,ee):q.__proto__=ee)}var E=(0,C.default)("quill:clipboard"),F="__ql-matcher",H=[[Node.TEXT_NODE,ce],[Node.TEXT_NODE,ie],["br",_],[Node.ELEMENT_NODE,ie],[Node.ELEMENT_NODE,z],[Node.ELEMENT_NODE,re],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,se],["li",te],["b",$.bind($,"bold")],["i",$.bind($,"italic")],["style",U]],M=[y.AlignAttribute,R.DirectionAttribute].reduce(function(q,ee){return q[ee.keyName]=ee,q},{}),Y=[y.AlignStyle,x.BackgroundStyle,Z.ColorStyle,R.DirectionStyle,w.FontStyle,k.SizeStyle].reduce(function(q,ee){return q[ee.keyName]=ee,q},{}),T=function(q){J(ee,q);function ee(oe,ae){N(this,ee);var ne=X(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,oe,ae));return ne.quill.root.addEventListener("paste",ne.onPaste.bind(ne)),ne.container=ne.quill.addContainer("ql-clipboard"),ne.container.setAttribute("contenteditable",!0),ne.container.setAttribute("tabindex",-1),ne.matchers=[],H.concat(ne.options.matchers).forEach(function(fe){var le=a(fe,2),be=le[0],ye=le[1];!ae.matchVisual&&ye===re||ne.addMatcher(be,ye)}),ne}return l(ee,[{key:"addMatcher",value:function(ae,ne){this.matchers.push([ae,ne])}},{key:"convert",value:function(ae){if(typeof ae=="string")return this.container.innerHTML=ae.replace(/\>\r?\n +\</g,"><"),this.convert();var ne=this.quill.getFormat(this.quill.selection.savedRange.index);if(ne[B.default.blotName]){var fe=this.container.innerText;return this.container.innerHTML="",new g.default().insert(fe,W({},B.default.blotName,ne[B.default.blotName]))}var le=this.prepareMatching(),be=a(le,2),ye=be[0],Fe=be[1],ue=D(this.container,ye,Fe);return L(ue,`
`)&&ue.ops[ue.ops.length-1].attributes==null&&(ue=ue.compose(new g.default().retain(ue.length()-1).delete(1))),E.log("convert",this.container.innerHTML,ue),this.container.innerHTML="",ue}},{key:"dangerouslyPasteHTML",value:function(ae,ne){var fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;if(typeof ae=="string")this.quill.setContents(this.convert(ae),ne),this.quill.setSelection(0,h.default.sources.SILENT);else{var le=this.convert(ne);this.quill.updateContents(new g.default().retain(ae).concat(le),fe),this.quill.setSelection(ae+le.length(),h.default.sources.SILENT)}}},{key:"onPaste",value:function(ae){var ne=this;if(!(ae.defaultPrevented||!this.quill.isEnabled())){var fe=this.quill.getSelection(),le=new g.default().retain(fe.index),be=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(h.default.sources.SILENT),setTimeout(function(){le=le.concat(ne.convert()).delete(fe.length),ne.quill.updateContents(le,h.default.sources.USER),ne.quill.setSelection(le.length()-fe.length,h.default.sources.SILENT),ne.quill.scrollingContainer.scrollTop=be,ne.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ae=this,ne=[],fe=[];return this.matchers.forEach(function(le){var be=a(le,2),ye=be[0],Fe=be[1];switch(ye){case Node.TEXT_NODE:fe.push(Fe);break;case Node.ELEMENT_NODE:ne.push(Fe);break;default:[].forEach.call(ae.container.querySelectorAll(ye),function(ue){ue[F]=ue[F]||[],ue[F].push(Fe)});break}}),[ne,fe]}}]),ee}(v.default);T.DEFAULTS={matchers:[],matchVisual:!0};function O(q,ee,oe){return(typeof ee>"u"?"undefined":i(ee))==="object"?Object.keys(ee).reduce(function(ae,ne){return O(ae,ne,ee[ne])},q):q.reduce(function(ae,ne){return ne.attributes&&ne.attributes[ee]?ae.push(ne):ae.insert(ne.insert,(0,c.default)({},W({},ee,oe),ne.attributes))},new g.default)}function P(q){if(q.nodeType!==Node.ELEMENT_NODE)return{};var ee="__ql-computed-style";return q[ee]||(q[ee]=window.getComputedStyle(q))}function L(q,ee){for(var oe="",ae=q.ops.length-1;ae>=0&&oe.length<ee.length;--ae){var ne=q.ops[ae];if(typeof ne.insert!="string")break;oe=ne.insert+oe}return oe.slice(-1*ee.length)===ee}function j(q){if(q.childNodes.length===0)return!1;var ee=P(q);return["block","list-item"].indexOf(ee.display)>-1}function D(q,ee,oe){return q.nodeType===q.TEXT_NODE?oe.reduce(function(ae,ne){return ne(q,ae)},new g.default):q.nodeType===q.ELEMENT_NODE?[].reduce.call(q.childNodes||[],function(ae,ne){var fe=D(ne,ee,oe);return ne.nodeType===q.ELEMENT_NODE&&(fe=ee.reduce(function(le,be){return be(ne,le)},fe),fe=(ne[F]||[]).reduce(function(le,be){return be(ne,le)},fe)),ae.concat(fe)},new g.default):new g.default}function $(q,ee,oe){return O(oe,q,!0)}function K(q,ee){var oe=m.default.Attributor.Attribute.keys(q),ae=m.default.Attributor.Class.keys(q),ne=m.default.Attributor.Style.keys(q),fe={};return oe.concat(ae).concat(ne).forEach(function(le){var be=m.default.query(le,m.default.Scope.ATTRIBUTE);be!=null&&(fe[be.attrName]=be.value(q),fe[be.attrName])||(be=M[le],be!=null&&(be.attrName===le||be.keyName===le)&&(fe[be.attrName]=be.value(q)||void 0),be=Y[le],be!=null&&(be.attrName===le||be.keyName===le)&&(be=Y[le],fe[be.attrName]=be.value(q)||void 0))}),Object.keys(fe).length>0&&(ee=O(ee,fe)),ee}function z(q,ee){var oe=m.default.query(q);if(oe==null)return ee;if(oe.prototype instanceof m.default.Embed){var ae={},ne=oe.value(q);ne!=null&&(ae[oe.blotName]=ne,ee=new g.default().insert(ae,oe.formats(q)))}else typeof oe.formats=="function"&&(ee=O(ee,oe.blotName,oe.formats(q)));return ee}function _(q,ee){return L(ee,`
`)||ee.insert(`
`),ee}function U(){return new g.default}function te(q,ee){var oe=m.default.query(q);if(oe==null||oe.blotName!=="list-item"||!L(ee,`
`))return ee;for(var ae=-1,ne=q.parentNode;!ne.classList.contains("ql-clipboard");)(m.default.query(ne)||{}).blotName==="list"&&(ae+=1),ne=ne.parentNode;return ae<=0?ee:ee.compose(new g.default().retain(ee.length()-1).retain(1,{indent:ae}))}function ie(q,ee){return L(ee,`
`)||(j(q)||ee.length()>0&&q.nextSibling&&j(q.nextSibling))&&ee.insert(`
`),ee}function re(q,ee){if(j(q)&&q.nextElementSibling!=null&&!L(ee,`

`)){var oe=q.offsetHeight+parseFloat(P(q).marginTop)+parseFloat(P(q).marginBottom);q.nextElementSibling.offsetTop>q.offsetTop+oe*1.5&&ee.insert(`
`)}return ee}function se(q,ee){var oe={},ae=q.style||{};return ae.fontStyle&&P(q).fontStyle==="italic"&&(oe.italic=!0),ae.fontWeight&&(P(q).fontWeight.startsWith("bold")||parseInt(P(q).fontWeight)>=700)&&(oe.bold=!0),Object.keys(oe).length>0&&(ee=O(ee,oe)),parseFloat(ae.textIndent||0)>0&&(ee=new g.default().insert("	").concat(ee)),ee}function ce(q,ee){var oe=q.data;if(q.parentNode.tagName==="O:P")return ee.insert(oe.trim());if(oe.trim().length===0&&q.parentNode.classList.contains("ql-clipboard"))return ee;if(!P(q.parentNode).whiteSpace.startsWith("pre")){var ae=function(fe,le){return le=le.replace(/[^\u00a0]/g,""),le.length<1&&fe?" ":le};oe=oe.replace(/\r\n/g," ").replace(/\n/g," "),oe=oe.replace(/\s\s+/g,ae.bind(ae,!0)),(q.previousSibling==null&&j(q.parentNode)||q.previousSibling!=null&&j(q.previousSibling))&&(oe=oe.replace(/^\s+/,ae.bind(ae,!1))),(q.nextSibling==null&&j(q.parentNode)||q.nextSibling!=null&&j(q.nextSibling))&&(oe=oe.replace(/\s+$/,ae.bind(ae,!1)))}return ee.insert(oe)}r.default=T,r.matchAttributor=K,r.matchBlot=z,r.matchNewline=ie,r.matchSpacing=re,r.matchText=ce},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function I(h,A){for(var C=0;C<A.length;C++){var p=A[C];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,A,C){return A&&I(h.prototype,A),C&&I(h,C),h}}(),a=function I(h,A,C){h===null&&(h=Function.prototype);var p=Object.getOwnPropertyDescriptor(h,A);if(p===void 0){var v=Object.getPrototypeOf(h);return v===null?void 0:I(v,A,C)}else{if("value"in p)return p.value;var y=p.get;return y===void 0?void 0:y.call(C)}},l=o(6),s=c(l);function c(I){return I&&I.__esModule?I:{default:I}}function u(I,h){if(!(I instanceof h))throw new TypeError("Cannot call a class as a function")}function g(I,h){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:I}function d(I,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);I.prototype=Object.create(h&&h.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(I,h):I.__proto__=h)}var m=function(I){d(h,I);function h(){return u(this,h),g(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return i(h,[{key:"optimize",value:function(C){a(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"optimize",this).call(this,C),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return a(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),h}(s.default);m.blotName="bold",m.tagName=["STRONG","B"],r.default=m},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var i=function(){function k(V,W){var N=[],X=!0,J=!1,E=void 0;try{for(var F=V[Symbol.iterator](),H;!(X=(H=F.next()).done)&&(N.push(H.value),!(W&&N.length===W));X=!0);}catch(M){J=!0,E=M}finally{try{!X&&F.return&&F.return()}finally{if(J)throw E}}return N}return function(V,W){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return k(V,W);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function k(V,W){for(var N=0;N<W.length;N++){var X=W[N];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(V,X.key,X)}}return function(V,W,N){return W&&k(V.prototype,W),N&&k(V,N),V}}(),l=o(2),s=C(l),c=o(0),u=C(c),g=o(5),d=C(g),m=o(10),I=C(m),h=o(9),A=C(h);function C(k){return k&&k.__esModule?k:{default:k}}function p(k,V,W){return V in k?Object.defineProperty(k,V,{value:W,enumerable:!0,configurable:!0,writable:!0}):k[V]=W,k}function v(k,V){if(!(k instanceof V))throw new TypeError("Cannot call a class as a function")}function y(k,V){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:k}function x(k,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);k.prototype=Object.create(V&&V.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(k,V):k.__proto__=V)}var S=(0,I.default)("quill:toolbar"),B=function(k){x(V,k);function V(W,N){v(this,V);var X=y(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,W,N));if(Array.isArray(X.options.container)){var J=document.createElement("div");R(J,X.options.container),W.container.parentNode.insertBefore(J,W.container),X.container=J}else typeof X.options.container=="string"?X.container=document.querySelector(X.options.container):X.container=X.options.container;if(!(X.container instanceof HTMLElement)){var E;return E=S.error("Container required for toolbar",X.options),y(X,E)}return X.container.classList.add("ql-toolbar"),X.controls=[],X.handlers={},Object.keys(X.options.handlers).forEach(function(F){X.addHandler(F,X.options.handlers[F])}),[].forEach.call(X.container.querySelectorAll("button, select"),function(F){X.attach(F)}),X.quill.on(d.default.events.EDITOR_CHANGE,function(F,H){F===d.default.events.SELECTION_CHANGE&&X.update(H)}),X.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var F=X.quill.selection.getRange(),H=i(F,1),M=H[0];X.update(M)}),X}return a(V,[{key:"addHandler",value:function(N,X){this.handlers[N]=X}},{key:"attach",value:function(N){var X=this,J=[].find.call(N.classList,function(F){return F.indexOf("ql-")===0});if(J){if(J=J.slice(3),N.tagName==="BUTTON"&&N.setAttribute("type","button"),this.handlers[J]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[J]==null){S.warn("ignoring attaching to disabled format",J,N);return}if(u.default.query(J)==null){S.warn("ignoring attaching to nonexistent format",J,N);return}}var E=N.tagName==="SELECT"?"change":"click";N.addEventListener(E,function(F){var H=void 0;if(N.tagName==="SELECT"){if(N.selectedIndex<0)return;var M=N.options[N.selectedIndex];M.hasAttribute("selected")?H=!1:H=M.value||!1}else N.classList.contains("ql-active")?H=!1:H=N.value||!N.hasAttribute("value"),F.preventDefault();X.quill.focus();var Y=X.quill.selection.getRange(),T=i(Y,1),O=T[0];if(X.handlers[J]!=null)X.handlers[J].call(X,H);else if(u.default.query(J).prototype instanceof u.default.Embed){if(H=prompt("Enter "+J),!H)return;X.quill.updateContents(new s.default().retain(O.index).delete(O.length).insert(p({},J,H)),d.default.sources.USER)}else X.quill.format(J,H,d.default.sources.USER);X.update(O)}),this.controls.push([J,N])}}},{key:"update",value:function(N){var X=N==null?{}:this.quill.getFormat(N);this.controls.forEach(function(J){var E=i(J,2),F=E[0],H=E[1];if(H.tagName==="SELECT"){var M=void 0;if(N==null)M=null;else if(X[F]==null)M=H.querySelector("option[selected]");else if(!Array.isArray(X[F])){var Y=X[F];typeof Y=="string"&&(Y=Y.replace(/\"/g,'\\"')),M=H.querySelector('option[value="'+Y+'"]')}M==null?(H.value="",H.selectedIndex=-1):M.selected=!0}else if(N==null)H.classList.remove("ql-active");else if(H.hasAttribute("value")){var T=X[F]===H.getAttribute("value")||X[F]!=null&&X[F].toString()===H.getAttribute("value")||X[F]==null&&!H.getAttribute("value");H.classList.toggle("ql-active",T)}else H.classList.toggle("ql-active",X[F]!=null)})}}]),V}(A.default);B.DEFAULTS={};function Z(k,V,W){var N=document.createElement("button");N.setAttribute("type","button"),N.classList.add("ql-"+V),W!=null&&(N.value=W),k.appendChild(N)}function R(k,V){Array.isArray(V[0])||(V=[V]),V.forEach(function(W){var N=document.createElement("span");N.classList.add("ql-formats"),W.forEach(function(X){if(typeof X=="string")Z(N,X);else{var J=Object.keys(X)[0],E=X[J];Array.isArray(E)?w(N,J,E):Z(N,J,E)}}),k.appendChild(N)})}function w(k,V,W){var N=document.createElement("select");N.classList.add("ql-"+V),W.forEach(function(X){var J=document.createElement("option");X!==!1?J.setAttribute("value",X):J.setAttribute("selected","selected"),N.appendChild(J)}),k.appendChild(N)}B.DEFAULTS={container:null,handlers:{clean:function(){var V=this,W=this.quill.getSelection();if(W!=null)if(W.length==0){var N=this.quill.getFormat();Object.keys(N).forEach(function(X){u.default.query(X,u.default.Scope.INLINE)!=null&&V.quill.format(X,!1)})}else this.quill.removeFormat(W,d.default.sources.USER)},direction:function(V){var W=this.quill.getFormat().align;V==="rtl"&&W==null?this.quill.format("align","right",d.default.sources.USER):!V&&W==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",V,d.default.sources.USER)},indent:function(V){var W=this.quill.getSelection(),N=this.quill.getFormat(W),X=parseInt(N.indent||0);if(V==="+1"||V==="-1"){var J=V==="+1"?1:-1;N.direction==="rtl"&&(J*=-1),this.quill.format("indent",X+J,d.default.sources.USER)}},link:function(V){V===!0&&(V=prompt("Enter link URL:")),this.quill.format("link",V,d.default.sources.USER)},list:function(V){var W=this.quill.getSelection(),N=this.quill.getFormat(W);V==="check"?N.list==="checked"||N.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",V,d.default.sources.USER)}}},r.default=B,r.addControls=R},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function I(h,A){for(var C=0;C<A.length;C++){var p=A[C];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,A,C){return A&&I(h.prototype,A),C&&I(h,C),h}}(),a=function I(h,A,C){h===null&&(h=Function.prototype);var p=Object.getOwnPropertyDescriptor(h,A);if(p===void 0){var v=Object.getPrototypeOf(h);return v===null?void 0:I(v,A,C)}else{if("value"in p)return p.value;var y=p.get;return y===void 0?void 0:y.call(C)}},l=o(28),s=c(l);function c(I){return I&&I.__esModule?I:{default:I}}function u(I,h){if(!(I instanceof h))throw new TypeError("Cannot call a class as a function")}function g(I,h){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:I}function d(I,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);I.prototype=Object.create(h&&h.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(I,h):I.__proto__=h)}var m=function(I){d(h,I);function h(A,C){u(this,h);var p=g(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,A));return p.label.innerHTML=C,p.container.classList.add("ql-color-picker"),[].slice.call(p.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(v){v.classList.add("ql-primary")}),p}return i(h,[{key:"buildItem",value:function(C){var p=a(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"buildItem",this).call(this,C);return p.style.backgroundColor=C.getAttribute("value")||"",p}},{key:"selectItem",value:function(C,p){a(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"selectItem",this).call(this,C,p);var v=this.label.querySelector(".ql-color-label"),y=C&&C.getAttribute("data-value")||"";v&&(v.tagName==="line"?v.style.stroke=y:v.style.fill=y)}}]),h}(s.default);r.default=m},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function I(h,A){for(var C=0;C<A.length;C++){var p=A[C];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,A,C){return A&&I(h.prototype,A),C&&I(h,C),h}}(),a=function I(h,A,C){h===null&&(h=Function.prototype);var p=Object.getOwnPropertyDescriptor(h,A);if(p===void 0){var v=Object.getPrototypeOf(h);return v===null?void 0:I(v,A,C)}else{if("value"in p)return p.value;var y=p.get;return y===void 0?void 0:y.call(C)}},l=o(28),s=c(l);function c(I){return I&&I.__esModule?I:{default:I}}function u(I,h){if(!(I instanceof h))throw new TypeError("Cannot call a class as a function")}function g(I,h){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:I}function d(I,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);I.prototype=Object.create(h&&h.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(I,h):I.__proto__=h)}var m=function(I){d(h,I);function h(A,C){u(this,h);var p=g(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,A));return p.container.classList.add("ql-icon-picker"),[].forEach.call(p.container.querySelectorAll(".ql-picker-item"),function(v){v.innerHTML=C[v.getAttribute("data-value")||""]}),p.defaultItem=p.container.querySelector(".ql-selected"),p.selectItem(p.defaultItem),p}return i(h,[{key:"selectItem",value:function(C,p){a(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"selectItem",this).call(this,C,p),C=C||this.defaultItem,this.label.innerHTML=C.innerHTML}}]),h}(s.default);r.default=m},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function s(c,u){for(var g=0;g<u.length;g++){var d=u[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,u,g){return u&&s(c.prototype,u),g&&s(c,g),c}}();function a(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}var l=function(){function s(c,u){var g=this;a(this,s),this.quill=c,this.boundsContainer=u||document.body,this.root=c.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){g.root.style.marginTop=-1*g.quill.root.scrollTop+"px"}),this.hide()}return i(s,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(u){var g=u.left+u.width/2-this.root.offsetWidth/2,d=u.bottom+this.quill.root.scrollTop;this.root.style.left=g+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var m=this.boundsContainer.getBoundingClientRect(),I=this.root.getBoundingClientRect(),h=0;if(I.right>m.right&&(h=m.right-I.right,this.root.style.left=g+h+"px"),I.left<m.left&&(h=m.left-I.left,this.root.style.left=g+h+"px"),I.bottom>m.bottom){var A=I.bottom-I.top,C=u.bottom-u.top+A;this.root.style.top=d-C+"px",this.root.classList.add("ql-flip")}return h}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),s}();r.default=l},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function w(k,V){var W=[],N=!0,X=!1,J=void 0;try{for(var E=k[Symbol.iterator](),F;!(N=(F=E.next()).done)&&(W.push(F.value),!(V&&W.length===V));N=!0);}catch(H){X=!0,J=H}finally{try{!N&&E.return&&E.return()}finally{if(X)throw J}}return W}return function(k,V){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return w(k,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function w(k,V,W){k===null&&(k=Function.prototype);var N=Object.getOwnPropertyDescriptor(k,V);if(N===void 0){var X=Object.getPrototypeOf(k);return X===null?void 0:w(X,V,W)}else{if("value"in N)return N.value;var J=N.get;return J===void 0?void 0:J.call(W)}},l=function(){function w(k,V){for(var W=0;W<V.length;W++){var N=V[W];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(k,N.key,N)}}return function(k,V,W){return V&&w(k.prototype,V),W&&w(k,W),k}}(),s=o(3),c=v(s),u=o(8),g=v(u),d=o(43),m=v(d),I=o(27),h=v(I),A=o(15),C=o(41),p=v(C);function v(w){return w&&w.__esModule?w:{default:w}}function y(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}function x(w,k){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:w}function S(w,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);w.prototype=Object.create(k&&k.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(w,k):w.__proto__=k)}var B=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],Z=function(w){S(k,w);function k(V,W){y(this,k),W.modules.toolbar!=null&&W.modules.toolbar.container==null&&(W.modules.toolbar.container=B);var N=x(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,V,W));return N.quill.container.classList.add("ql-snow"),N}return l(k,[{key:"extendToolbar",value:function(W){W.container.classList.add("ql-snow"),this.buildButtons([].slice.call(W.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(W.container.querySelectorAll("select")),p.default),this.tooltip=new R(this.quill,this.options.bounds),W.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(N,X){W.handlers.link.call(W,!X.format.link)})}}]),k}(m.default);Z.DEFAULTS=(0,c.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){if(k){var V=this.quill.getSelection();if(V==null||V.length==0)return;var W=this.quill.getText(V);/^\S+@\S+\.\S+$/.test(W)&&W.indexOf("mailto:")!==0&&(W="mailto:"+W);var N=this.quill.theme.tooltip;N.edit("link",W)}else this.quill.format("link",!1)}}}}});var R=function(w){S(k,w);function k(V,W){y(this,k);var N=x(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,V,W));return N.preview=N.root.querySelector("a.ql-preview"),N}return l(k,[{key:"listen",value:function(){var W=this;a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(N){W.root.classList.contains("ql-editing")?W.save():W.edit("link",W.preview.textContent),N.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(N){if(W.linkRange!=null){var X=W.linkRange;W.restoreFocus(),W.quill.formatText(X,"link",!1,g.default.sources.USER),delete W.linkRange}N.preventDefault(),W.hide()}),this.quill.on(g.default.events.SELECTION_CHANGE,function(N,X,J){if(N!=null){if(N.length===0&&J===g.default.sources.USER){var E=W.quill.scroll.descendant(h.default,N.index),F=i(E,2),H=F[0],M=F[1];if(H!=null){W.linkRange=new A.Range(N.index-M,H.length());var Y=h.default.formats(H.domNode);W.preview.textContent=Y,W.preview.setAttribute("href",Y),W.show(),W.position(W.quill.getBounds(W.linkRange));return}}else delete W.linkRange;W.hide()}})}},{key:"show",value:function(){a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),k}(d.BaseTooltip);R.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=Z},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(29),a=ne(i),l=o(36),s=o(38),c=o(64),u=o(65),g=ne(u),d=o(66),m=ne(d),I=o(67),h=ne(I),A=o(37),C=o(26),p=o(39),v=o(40),y=o(56),x=ne(y),S=o(68),B=ne(S),Z=o(27),R=ne(Z),w=o(69),k=ne(w),V=o(70),W=ne(V),N=o(71),X=ne(N),J=o(72),E=ne(J),F=o(73),H=ne(F),M=o(13),Y=ne(M),T=o(74),O=ne(T),P=o(75),L=ne(P),j=o(57),D=ne(j),$=o(41),K=ne($),z=o(28),_=ne(z),U=o(59),te=ne(U),ie=o(60),re=ne(ie),se=o(61),ce=ne(se),q=o(108),ee=ne(q),oe=o(62),ae=ne(oe);function ne(fe){return fe&&fe.__esModule?fe:{default:fe}}a.default.register({"attributors/attribute/direction":s.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":A.BackgroundClass,"attributors/class/color":C.ColorClass,"attributors/class/direction":s.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":v.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":A.BackgroundStyle,"attributors/style/color":C.ColorStyle,"attributors/style/direction":s.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":v.SizeStyle},!0),a.default.register({"formats/align":l.AlignClass,"formats/direction":s.DirectionClass,"formats/indent":c.IndentClass,"formats/background":A.BackgroundStyle,"formats/color":C.ColorStyle,"formats/font":p.FontClass,"formats/size":v.SizeClass,"formats/blockquote":g.default,"formats/code-block":Y.default,"formats/header":m.default,"formats/list":h.default,"formats/bold":x.default,"formats/code":M.Code,"formats/italic":B.default,"formats/link":R.default,"formats/script":k.default,"formats/strike":W.default,"formats/underline":X.default,"formats/image":E.default,"formats/video":H.default,"formats/list/item":I.ListItem,"modules/formula":O.default,"modules/syntax":L.default,"modules/toolbar":D.default,"themes/bubble":ee.default,"themes/snow":ae.default,"ui/icons":K.default,"ui/picker":_.default,"ui/icon-picker":re.default,"ui/color-picker":te.default,"ui/tooltip":ce.default},!0),r.default=a.default},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var i=function(){function h(A,C){for(var p=0;p<C.length;p++){var v=C[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(A,v.key,v)}}return function(A,C,p){return C&&h(A.prototype,C),p&&h(A,p),A}}(),a=function h(A,C,p){A===null&&(A=Function.prototype);var v=Object.getOwnPropertyDescriptor(A,C);if(v===void 0){var y=Object.getPrototypeOf(A);return y===null?void 0:h(y,C,p)}else{if("value"in v)return v.value;var x=v.get;return x===void 0?void 0:x.call(p)}},l=o(0),s=c(l);function c(h){return h&&h.__esModule?h:{default:h}}function u(h,A){if(!(h instanceof A))throw new TypeError("Cannot call a class as a function")}function g(h,A){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:h}function d(h,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);h.prototype=Object.create(A&&A.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(h,A):h.__proto__=A)}var m=function(h){d(A,h);function A(){return u(this,A),g(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return i(A,[{key:"add",value:function(p,v){if(v==="+1"||v==="-1"){var y=this.value(p)||0;v=v==="+1"?y+1:y-1}return v===0?(this.remove(p),!0):a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"add",this).call(this,p,v)}},{key:"canAdd",value:function(p,v){return a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"canAdd",this).call(this,p,v)||a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"canAdd",this).call(this,p,parseInt(v))}},{key:"value",value:function(p){return parseInt(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"value",this).call(this,p))||void 0}}]),A}(s.default.Attributor.Class),I=new m("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=I},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(4),a=l(i);function l(d){return d&&d.__esModule?d:{default:d}}function s(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function c(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function u(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var g=function(d){u(m,d);function m(){return s(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(a.default);g.blotName="blockquote",g.tagName="blockquote",r.default=g},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function m(I,h){for(var A=0;A<h.length;A++){var C=h[A];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(I,C.key,C)}}return function(I,h,A){return h&&m(I.prototype,h),A&&m(I,A),I}}(),a=o(4),l=s(a);function s(m){return m&&m.__esModule?m:{default:m}}function c(m,I){if(!(m instanceof I))throw new TypeError("Cannot call a class as a function")}function u(m,I){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:m}function g(m,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);m.prototype=Object.create(I&&I.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(m,I):m.__proto__=I)}var d=function(m){g(I,m);function I(){return c(this,I),u(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return i(I,null,[{key:"formats",value:function(A){return this.tagName.indexOf(A.tagName)+1}}]),I}(l.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var i=function(){function y(x,S){for(var B=0;B<S.length;B++){var Z=S[B];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(x,Z.key,Z)}}return function(x,S,B){return S&&y(x.prototype,S),B&&y(x,B),x}}(),a=function y(x,S,B){x===null&&(x=Function.prototype);var Z=Object.getOwnPropertyDescriptor(x,S);if(Z===void 0){var R=Object.getPrototypeOf(x);return R===null?void 0:y(R,S,B)}else{if("value"in Z)return Z.value;var w=Z.get;return w===void 0?void 0:w.call(B)}},l=o(0),s=m(l),c=o(4),u=m(c),g=o(25),d=m(g);function m(y){return y&&y.__esModule?y:{default:y}}function I(y,x,S){return x in y?Object.defineProperty(y,x,{value:S,enumerable:!0,configurable:!0,writable:!0}):y[x]=S,y}function h(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function A(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function C(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var p=function(y){C(x,y);function x(){return h(this,x),A(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return i(x,[{key:"format",value:function(B,Z){B===v.blotName&&!Z?this.replaceWith(s.default.create(this.statics.scope)):a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,B,Z)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(B,Z){return this.parent.isolate(this.offset(this.parent),this.length()),B===this.parent.statics.blotName?(this.parent.replaceWith(B,Z),this):(this.parent.unwrap(),a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replaceWith",this).call(this,B,Z))}}],[{key:"formats",value:function(B){return B.tagName===this.tagName?void 0:a(x.__proto__||Object.getPrototypeOf(x),"formats",this).call(this,B)}}]),x}(u.default);p.blotName="list-item",p.tagName="LI";var v=function(y){C(x,y),i(x,null,[{key:"create",value:function(B){var Z=B==="ordered"?"OL":"UL",R=a(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,Z);return(B==="checked"||B==="unchecked")&&R.setAttribute("data-checked",B==="checked"),R}},{key:"formats",value:function(B){if(B.tagName==="OL")return"ordered";if(B.tagName==="UL")return B.hasAttribute("data-checked")?B.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function x(S){h(this,x);var B=A(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,S)),Z=function(w){if(w.target.parentNode===S){var k=B.statics.formats(S),V=s.default.find(w.target);k==="checked"?V.format("list","unchecked"):k==="unchecked"&&V.format("list","checked")}};return S.addEventListener("touchstart",Z),S.addEventListener("mousedown",Z),B}return i(x,[{key:"format",value:function(B,Z){this.children.length>0&&this.children.tail.format(B,Z)}},{key:"formats",value:function(){return I({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(B,Z){if(B instanceof p)a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertBefore",this).call(this,B,Z);else{var R=Z==null?this.length():Z.offset(this),w=this.split(R);w.parent.insertBefore(B,w)}}},{key:"optimize",value:function(B){a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,B);var Z=this.next;Z!=null&&Z.prev===this&&Z.statics.blotName===this.statics.blotName&&Z.domNode.tagName===this.domNode.tagName&&Z.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(Z.moveChildren(this),Z.remove())}},{key:"replace",value:function(B){if(B.statics.blotName!==this.statics.blotName){var Z=s.default.create(this.statics.defaultChild);B.moveChildren(Z),this.appendChild(Z)}a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replace",this).call(this,B)}}]),x}(d.default);v.blotName="list",v.scope=s.default.Scope.BLOCK_BLOT,v.tagName=["OL","UL"],v.defaultChild="list-item",v.allowedChildren=[p],r.ListItem=p,r.default=v},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(56),a=l(i);function l(d){return d&&d.__esModule?d:{default:d}}function s(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function c(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function u(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var g=function(d){u(m,d);function m(){return s(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(a.default);g.blotName="italic",g.tagName=["EM","I"],r.default=g},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function I(h,A){for(var C=0;C<A.length;C++){var p=A[C];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,A,C){return A&&I(h.prototype,A),C&&I(h,C),h}}(),a=function I(h,A,C){h===null&&(h=Function.prototype);var p=Object.getOwnPropertyDescriptor(h,A);if(p===void 0){var v=Object.getPrototypeOf(h);return v===null?void 0:I(v,A,C)}else{if("value"in p)return p.value;var y=p.get;return y===void 0?void 0:y.call(C)}},l=o(6),s=c(l);function c(I){return I&&I.__esModule?I:{default:I}}function u(I,h){if(!(I instanceof h))throw new TypeError("Cannot call a class as a function")}function g(I,h){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:I}function d(I,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);I.prototype=Object.create(h&&h.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(I,h):I.__proto__=h)}var m=function(I){d(h,I);function h(){return u(this,h),g(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return i(h,null,[{key:"create",value:function(C){return C==="super"?document.createElement("sup"):C==="sub"?document.createElement("sub"):a(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this,C)}},{key:"formats",value:function(C){if(C.tagName==="SUB")return"sub";if(C.tagName==="SUP")return"super"}}]),h}(s.default);m.blotName="script",m.tagName=["SUB","SUP"],r.default=m},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(6),a=l(i);function l(d){return d&&d.__esModule?d:{default:d}}function s(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function c(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function u(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var g=function(d){u(m,d);function m(){return s(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(a.default);g.blotName="strike",g.tagName="S",r.default=g},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(6),a=l(i);function l(d){return d&&d.__esModule?d:{default:d}}function s(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function c(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function u(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var g=function(d){u(m,d);function m(){return s(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(a.default);g.blotName="underline",g.tagName="U",r.default=g},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function A(C,p){for(var v=0;v<p.length;v++){var y=p[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(C,y.key,y)}}return function(C,p,v){return p&&A(C.prototype,p),v&&A(C,v),C}}(),a=function A(C,p,v){C===null&&(C=Function.prototype);var y=Object.getOwnPropertyDescriptor(C,p);if(y===void 0){var x=Object.getPrototypeOf(C);return x===null?void 0:A(x,p,v)}else{if("value"in y)return y.value;var S=y.get;return S===void 0?void 0:S.call(v)}},l=o(0),s=u(l),c=o(27);function u(A){return A&&A.__esModule?A:{default:A}}function g(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function d(A,C){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:A}function m(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}var I=["alt","height","width"],h=function(A){m(C,A);function C(){return g(this,C),d(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return i(C,[{key:"format",value:function(v,y){I.indexOf(v)>-1?y?this.domNode.setAttribute(v,y):this.domNode.removeAttribute(v):a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,v,y)}}],[{key:"create",value:function(v){var y=a(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,v);return typeof v=="string"&&y.setAttribute("src",this.sanitize(v)),y}},{key:"formats",value:function(v){return I.reduce(function(y,x){return v.hasAttribute(x)&&(y[x]=v.getAttribute(x)),y},{})}},{key:"match",value:function(v){return/\.(jpe?g|gif|png)$/.test(v)||/^data:image\/.+;base64/.test(v)}},{key:"sanitize",value:function(v){return(0,c.sanitize)(v,["http","https","data"])?v:"//:0"}},{key:"value",value:function(v){return v.getAttribute("src")}}]),C}(s.default.Embed);h.blotName="image",h.tagName="IMG",r.default=h},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function A(C,p){for(var v=0;v<p.length;v++){var y=p[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(C,y.key,y)}}return function(C,p,v){return p&&A(C.prototype,p),v&&A(C,v),C}}(),a=function A(C,p,v){C===null&&(C=Function.prototype);var y=Object.getOwnPropertyDescriptor(C,p);if(y===void 0){var x=Object.getPrototypeOf(C);return x===null?void 0:A(x,p,v)}else{if("value"in y)return y.value;var S=y.get;return S===void 0?void 0:S.call(v)}},l=o(4),s=o(27),c=u(s);function u(A){return A&&A.__esModule?A:{default:A}}function g(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function d(A,C){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:A}function m(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}var I=["height","width"],h=function(A){m(C,A);function C(){return g(this,C),d(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return i(C,[{key:"format",value:function(v,y){I.indexOf(v)>-1?y?this.domNode.setAttribute(v,y):this.domNode.removeAttribute(v):a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,v,y)}}],[{key:"create",value:function(v){var y=a(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,v);return y.setAttribute("frameborder","0"),y.setAttribute("allowfullscreen",!0),y.setAttribute("src",this.sanitize(v)),y}},{key:"formats",value:function(v){return I.reduce(function(y,x){return v.hasAttribute(x)&&(y[x]=v.getAttribute(x)),y},{})}},{key:"sanitize",value:function(v){return c.default.sanitize(v)}},{key:"value",value:function(v){return v.getAttribute("src")}}]),C}(l.BlockEmbed);h.blotName="video",h.className="ql-video",h.tagName="IFRAME",r.default=h},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var i=function(){function v(y,x){for(var S=0;S<x.length;S++){var B=x[S];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(y,B.key,B)}}return function(y,x,S){return x&&v(y.prototype,x),S&&v(y,S),y}}(),a=function v(y,x,S){y===null&&(y=Function.prototype);var B=Object.getOwnPropertyDescriptor(y,x);if(B===void 0){var Z=Object.getPrototypeOf(y);return Z===null?void 0:v(Z,x,S)}else{if("value"in B)return B.value;var R=B.get;return R===void 0?void 0:R.call(S)}},l=o(35),s=m(l),c=o(5),u=m(c),g=o(9),d=m(g);function m(v){return v&&v.__esModule?v:{default:v}}function I(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function h(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function A(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var C=function(v){A(y,v);function y(){return I(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,null,[{key:"create",value:function(S){var B=a(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,S);return typeof S=="string"&&(window.katex.render(S,B,{throwOnError:!1,errorColor:"#f00"}),B.setAttribute("data-value",S)),B}},{key:"value",value:function(S){return S.getAttribute("data-value")}}]),y}(s.default);C.blotName="formula",C.className="ql-formula",C.tagName="SPAN";var p=function(v){A(y,v),i(y,null,[{key:"register",value:function(){u.default.register(C,!0)}}]);function y(){I(this,y);var x=h(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return x}return y}(d.default);r.FormulaBlot=C,r.default=p},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var i=function(){function S(B,Z){for(var R=0;R<Z.length;R++){var w=Z[R];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(B,w.key,w)}}return function(B,Z,R){return Z&&S(B.prototype,Z),R&&S(B,R),B}}(),a=function S(B,Z,R){B===null&&(B=Function.prototype);var w=Object.getOwnPropertyDescriptor(B,Z);if(w===void 0){var k=Object.getPrototypeOf(B);return k===null?void 0:S(k,Z,R)}else{if("value"in w)return w.value;var V=w.get;return V===void 0?void 0:V.call(R)}},l=o(0),s=h(l),c=o(5),u=h(c),g=o(9),d=h(g),m=o(13),I=h(m);function h(S){return S&&S.__esModule?S:{default:S}}function A(S,B){if(!(S instanceof B))throw new TypeError("Cannot call a class as a function")}function C(S,B){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:S}function p(S,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);S.prototype=Object.create(B&&B.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(S,B):S.__proto__=B)}var v=function(S){p(B,S);function B(){return A(this,B),C(this,(B.__proto__||Object.getPrototypeOf(B)).apply(this,arguments))}return i(B,[{key:"replaceWith",value:function(R){this.domNode.textContent=this.domNode.textContent,this.attach(),a(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"replaceWith",this).call(this,R)}},{key:"highlight",value:function(R){var w=this.domNode.textContent;this.cachedText!==w&&((w.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=R(w),this.domNode.normalize(),this.attach()),this.cachedText=w)}}]),B}(I.default);v.className="ql-syntax";var y=new s.default.Attributor.Class("token","hljs",{scope:s.default.Scope.INLINE}),x=function(S){p(B,S),i(B,null,[{key:"register",value:function(){u.default.register(y,!0),u.default.register(v,!0)}}]);function B(Z,R){A(this,B);var w=C(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,Z,R));if(typeof w.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var k=null;return w.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(k),k=setTimeout(function(){w.highlight(),k=null},w.options.interval)}),w.highlight(),w}return i(B,[{key:"highlight",value:function(){var R=this;if(!this.quill.selection.composing){this.quill.update(u.default.sources.USER);var w=this.quill.getSelection();this.quill.scroll.descendants(v).forEach(function(k){k.highlight(R.options.highlight)}),this.quill.update(u.default.sources.SILENT),w!=null&&this.quill.setSelection(w,u.default.sources.SILENT)}}}]),B}(d.default);x.DEFAULTS={highlight:function(){return window.hljs==null?null:function(S){var B=window.hljs.highlightAuto(S);return B.value}}(),interval:1e3},r.CodeBlock=v,r.CodeToken=y,r.default=x},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var i=function B(Z,R,w){Z===null&&(Z=Function.prototype);var k=Object.getOwnPropertyDescriptor(Z,R);if(k===void 0){var V=Object.getPrototypeOf(Z);return V===null?void 0:B(V,R,w)}else{if("value"in k)return k.value;var W=k.get;return W===void 0?void 0:W.call(w)}},a=function(){function B(Z,R){for(var w=0;w<R.length;w++){var k=R[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(Z,k.key,k)}}return function(Z,R,w){return R&&B(Z.prototype,R),w&&B(Z,w),Z}}(),l=o(3),s=A(l),c=o(8),u=A(c),g=o(43),d=A(g),m=o(15),I=o(41),h=A(I);function A(B){return B&&B.__esModule?B:{default:B}}function C(B,Z){if(!(B instanceof Z))throw new TypeError("Cannot call a class as a function")}function p(B,Z){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z&&(typeof Z=="object"||typeof Z=="function")?Z:B}function v(B,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);B.prototype=Object.create(Z&&Z.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(B,Z):B.__proto__=Z)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],x=function(B){v(Z,B);function Z(R,w){C(this,Z),w.modules.toolbar!=null&&w.modules.toolbar.container==null&&(w.modules.toolbar.container=y);var k=p(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,R,w));return k.quill.container.classList.add("ql-bubble"),k}return a(Z,[{key:"extendToolbar",value:function(w){this.tooltip=new S(this.quill,this.options.bounds),this.tooltip.root.appendChild(w.container),this.buildButtons([].slice.call(w.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(w.container.querySelectorAll("select")),h.default)}}]),Z}(d.default);x.DEFAULTS=(0,s.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(Z){Z?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var S=function(B){v(Z,B);function Z(R,w){C(this,Z);var k=p(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,R,w));return k.quill.on(u.default.events.EDITOR_CHANGE,function(V,W,N,X){if(V===u.default.events.SELECTION_CHANGE)if(W!=null&&W.length>0&&X===u.default.sources.USER){k.show(),k.root.style.left="0px",k.root.style.width="",k.root.style.width=k.root.offsetWidth+"px";var J=k.quill.getLines(W.index,W.length);if(J.length===1)k.position(k.quill.getBounds(W));else{var E=J[J.length-1],F=k.quill.getIndex(E),H=Math.min(E.length()-1,W.index+W.length-F),M=k.quill.getBounds(new m.Range(F,H));k.position(M)}}else document.activeElement!==k.textbox&&k.quill.hasFocus()&&k.hide()}),k}return a(Z,[{key:"listen",value:function(){var w=this;i(Z.prototype.__proto__||Object.getPrototypeOf(Z.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){w.root.classList.remove("ql-editing")}),this.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!w.root.classList.contains("ql-hidden")){var k=w.quill.getSelection();k!=null&&w.position(w.quill.getBounds(k))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(w){var k=i(Z.prototype.__proto__||Object.getPrototypeOf(Z.prototype),"position",this).call(this,w),V=this.root.querySelector(".ql-tooltip-arrow");if(V.style.marginLeft="",k===0)return k;V.style.marginLeft=-1*k-V.offsetWidth/2+"px"}}]),Z}(g.BaseTooltip);S.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=S,r.default=x},function(n,r,o){n.exports=o(63)}]).default})})(GT);var ide=GT.exports,ade=en&&en.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bp=en&&en.__assign||function(){return bp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},bp.apply(this,arguments)},lde=en&&en.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,l=i.length;a<l;a++,o++)r[o]=i[a];return r},YA=en&&en.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},bi=YA(b),sde=YA(Bn),Gd=YA(wT),TW=YA(ide),cde=function(e){ade(t,e);function t(n){var r=e.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(i,a,l,s){var c,u,g,d;i==="text-change"?(u=(c=r).onEditorChangeText)===null||u===void 0||u.call(c,r.editor.root.innerHTML,a,s,r.unprivilegedEditor):i==="selection-change"&&((d=(g=r).onEditorChangeSelection)===null||d===void 0||d.call(g,a,s,r.unprivilegedEditor))};var o=r.isControlled()?n.value:n.defaultValue;return r.value=o??"",r}return t.prototype.validateProps=function(n){var r;if(bi.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(bi.default.Children.count(n.children)){var o=bi.default.Children.only(n.children);if(((r=o)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(n,r){var o=this,i;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var a=this.getEditorContents(),l=(i=n.value,i??"");this.isEqualValue(l,a)||this.setEditorContents(this.editor,l)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),lde(this.cleanProps,this.dirtyProps).some(function(s){return!Gd.default(n[s],o.props[s])})},t.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(o){return!Gd.default(n[o],r.props[o])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(n,r){var o=this;if(this.editor&&this.shouldComponentRegenerate(n)){var i=this.editor.getContents(),a=this.editor.getSelection();this.regenerationSnapshot={delta:i,selection:a},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var l=this.regenerationSnapshot,i=l.delta,s=l.selection;delete this.regenerationSnapshot,this.instantiateEditor();var c=this.editor;c.setContents(i),LW(function(){return o.setEditorSelection(c,s)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(n,r){var o=new TW.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(o,r.tabIndex),this.hookEditor(o),o},t.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(n){return n&&n.ops},t.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?Gd.default(n.ops,r.ops):Gd.default(n,r)},t.prototype.setEditorContents=function(n,r){var o=this;this.value=r;var i=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),LW(function(){return o.setEditorSelection(n,i)})},t.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var o=n.getLength();r.index=Math.max(0,Math.min(r.index,o-1)),r.length=Math.max(0,Math.min(r.length,o-1-r.index)),n.setSelection(r)}},t.prototype.setEditorTabIndex=function(n,r){var o,i;!((i=(o=n)===null||o===void 0?void 0:o.scroll)===null||i===void 0)&&i.domNode&&(n.scroll.domNode.tabIndex=r)},t.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},t.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=sde.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},t.prototype.renderEditingArea=function(){var n=this,r=this.props,o=r.children,i=r.preserveWhitespace,a=this.state.generation,l={key:a,ref:function(s){n.editingArea=s}};return bi.default.Children.count(o)?bi.default.cloneElement(bi.default.Children.only(o),l):i?bi.default.createElement("pre",bp({},l)):bi.default.createElement("div",bp({},l))},t.prototype.render=function(){var n;return bi.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(n,r,o,i){var a,l;if(this.editor){var s=this.isDelta(this.value)?i.getContents():i.getHTML();s!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=s,(l=(a=this.props).onChange)===null||l===void 0||l.call(a,n,r,o,i))}},t.prototype.onEditorChangeSelection=function(n,r,o){var i,a,l,s,c,u;if(this.editor){var g=this.getEditorSelection(),d=!g&&n,m=g&&!n;Gd.default(n,g)||(this.selection=n,(a=(i=this.props).onChangeSelection)===null||a===void 0||a.call(i,n,r,o),d?(s=(l=this.props).onFocus)===null||s===void 0||s.call(l,n,r,o):m&&((u=(c=this.props).onBlur)===null||u===void 0||u.call(c,g,r,o)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=TW.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(bi.default.Component);function LW(e){Promise.resolve().then(e)}var ude=cde;const gde=ot(ude),WG=e=>({Facebook:f.jsx(iG,{onClick:()=>{Tr(`https://www.facebook.com/${e}`)}},"Facebook"),Twitter:f.jsx(cie,{onClick:()=>{Tr(`https://x.com/${e}`)}},"Twitter"),TikTok:f.jsx(xA,{onClick:()=>{Tr(`https://www.tiktok.com/@${e}`)}},"TikTok"),Youtube:f.jsx(r4,{onClick:()=>{Tr(`https://www.youtube.com/@${e}`)}},"Youtube"),Telegram:f.jsx(n4,{onClick:()=>{Tr(`https://t.me/+52${e}`)}},"Telegram"),Messenger:f.jsx(tee,{onClick:()=>{Tr(`https://www.facebook.com/${e}`)}},"Messenger"),Google:f.jsx(qj,{onClick:()=>{Tr(e)}},"Google"),Spotify:f.jsx(t4,{onClick:()=>{Tr(`https://open.spotify.com/user/${e}`)}},"Spotify"),Pinterest:f.jsx(e4,{onClick:()=>{Tr(`https://www.pinterest.com.mx/${e}`)}},"Pinterest"),Instagram:f.jsx(aG,{onClick:()=>{Tr(`https://www.instagram.com/${e}`)}},"Instagram"),LinkedIn:f.jsx(lG,{onClick:()=>{e.includes("company")||e.includes("in")||e.includes("showcase")?Tr(`https://www.linkedin.com/${e}`):Tr(`https://www.linkedin.com/in/${e}`)}},"LinkedIn"),Custom:f.jsx(sG,{onClick:()=>{Tr(`${e}`)}},"Custom")}),Tr=e=>{window.open(e.includes("https://")?e:`https://${e}`,"_blank","noreferrer")},xs=[{code:"+52",name:"México"},{code:"+57",name:"Colombia"},{code:"+55",name:"Brasil"},{code:"+593",name:"Ecuador"},{code:"+1",name:"Estados Unidos"},{code:"+34",name:"España"}],KW=({name:e,onChange:t,value:n,initialLada:r})=>{const[o,i]=b.useState(!1),[a,l]=b.useState(xs.find(g=>g.code===r)||xs[0]);b.useEffect(()=>{if(r){const g=xs.find(d=>d.code===r);l(g||xs[0])}else l(xs[0]),t({target:{name:e==="secondary_phone"?"lada_2":"lada",value:xs[0].code}})},[r,t,e]);const s=()=>{i(!o)},c=g=>{l(g),i(!1),t({target:{name:e==="secondary_phone"?"lada_2":"lada",value:g.code}})},u=g=>{/^\d*$/.test(g.target.value)&&(g.target.value.length<=10?t({target:{name:e,value:g.target.value}}):alert("El número de teléfono no puede exceder los 10 dígitos."))};return f.jsx("div",{className:"col-span-full",children:f.jsxs("div",{className:"mt-2 relative",children:[f.jsxs("div",{className:"absolute top-0 left-0 flex items-center pl-3 h-full",children:[f.jsxs("button",{type:"button",id:"dropdownButton",className:"h-full text-sm flex justify-center items-center bg-transparent text-white focus:outline-none",onClick:s,children:[f.jsx("span",{id:"dropdownSpan",children:a.code}),f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"h-4 w-4 ml-1",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})]}),o&&f.jsx("div",{id:"dropdownMenu",className:"min-w-[150px] overflow-hidden absolute left-0 w-full mt-10 bg-white border border-slate-200 rounded-md shadow-lg z-10",children:f.jsx("ul",{id:"dropdownOptions",children:xs.map(g=>f.jsxs("li",{className:"px-4 py-2 text-slate-800 hover:bg-slate-100 text-sm cursor-pointer",onClick:()=>c(g),children:[g.name," (",g.code,")"]},g.code))})})]}),f.jsx("input",{type:"text",value:n,required:e!=="secondary_phone",placeholder:e==="secondary_phone"?"777-777-7777":"Obligatorio*",onChange:u,className:"block w-full rounded-md border-0 bg-white/5 py-1.5 pl-20 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"})]})})},BT=typeof document<"u"?G.useLayoutEffect:()=>{};function dde(e){const t=b.useRef(null);return BT(()=>{t.current=e},[e]),b.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const sI=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},Qs=e=>e&&"window"in e&&e.window===e?e:sI(e).defaultView||window;function kT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=kT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ve(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=kT(e))&&(r&&(r+=" "),r+=t);return r}function fde(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function mde(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Ide(){return mde(/^Mac/i)}function hde(){return fde(/Android/i)}function Cde(e){return e.mozInputSource===0&&e.isTrusted?!0:hde()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class pde{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function RT(e){let t=b.useRef({isFocused:!1,observer:null});BT(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=dde(r=>{e==null||e(r)});return b.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=r.target,i=a=>{t.current.isFocused=!1,o.disabled&&n(new pde("blur",a)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",i,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var a;(a=t.current.observer)===null||a===void 0||a.disconnect();let l=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function Ade(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:o}=e;const i=b.useCallback(s=>{if(s.target===s.currentTarget)return r&&r(s),o&&o(!1),!0},[r,o]),a=RT(i),l=b.useCallback(s=>{const c=sI(s.target);s.target===s.currentTarget&&c.activeElement===s.target&&(n&&n(s),o&&o(!0),a(s))},[o,n,a]);return{focusProps:{onFocus:!t&&(n||o||r)?l:void 0,onBlur:!t&&(r||o)?i:void 0}}}let cI=null,Ex=new Set,Af=new Map,Sc=!1,Xx=!1;const bde={Tab:!0,Escape:!0};function NG(e,t){for(let n of Ex)n(e,t)}function vde(e){return!(e.metaKey||!Ide()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function vp(e){Sc=!0,vde(e)&&(cI="keyboard",NG("keyboard",e))}function Bo(e){cI="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Sc=!0,NG("pointer",e))}function VT(e){Cde(e)&&(Sc=!0,cI="virtual")}function WT(e){e.target===window||e.target===document||(!Sc&&!Xx&&(cI="virtual",NG("virtual",e)),Sc=!1,Xx=!1)}function NT(){Sc=!1,Xx=!0}function Jx(e){if(typeof window>"u"||Af.get(Qs(e)))return;const t=Qs(e),n=sI(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Sc=!0,r.apply(this,arguments)},n.addEventListener("keydown",vp,!0),n.addEventListener("keyup",vp,!0),n.addEventListener("click",VT,!0),t.addEventListener("focus",WT,!0),t.addEventListener("blur",NT,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",Bo,!0),n.addEventListener("pointermove",Bo,!0),n.addEventListener("pointerup",Bo,!0)):(n.addEventListener("mousedown",Bo,!0),n.addEventListener("mousemove",Bo,!0),n.addEventListener("mouseup",Bo,!0)),t.addEventListener("beforeunload",()=>{ET(e)},{once:!0}),Af.set(t,{focus:r})}const ET=(e,t)=>{const n=Qs(e),r=sI(e);t&&r.removeEventListener("DOMContentLoaded",t),Af.has(n)&&(n.HTMLElement.prototype.focus=Af.get(n).focus,r.removeEventListener("keydown",vp,!0),r.removeEventListener("keyup",vp,!0),r.removeEventListener("click",VT,!0),n.removeEventListener("focus",WT,!0),n.removeEventListener("blur",NT,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",Bo,!0),r.removeEventListener("pointermove",Bo,!0),r.removeEventListener("pointerup",Bo,!0)):(r.removeEventListener("mousedown",Bo,!0),r.removeEventListener("mousemove",Bo,!0),r.removeEventListener("mouseup",Bo,!0)),Af.delete(n))};function yde(e){const t=sI(e);let n;return t.readyState!=="loading"?Jx(e):(n=()=>{Jx(e)},t.addEventListener("DOMContentLoaded",n)),()=>ET(e,n)}typeof document<"u"&&yde();function XT(){return cI!=="pointer"}const xde=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Sde(e,t,n){var r;const o=typeof window<"u"?Qs(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?Qs(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,a=typeof window<"u"?Qs(n==null?void 0:n.target).HTMLElement:HTMLElement,l=typeof window<"u"?Qs(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||(n==null?void 0:n.target)instanceof o&&!xde.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof i||(n==null?void 0:n.target)instanceof a&&(n==null?void 0:n.target.isContentEditable),!(e&&t==="keyboard"&&n instanceof l&&!bde[n.key])}function Zde(e,t,n){Jx(),b.useEffect(()=>{let r=(o,i)=>{Sde(!!(n!=null&&n.isTextInput),o,i)&&e(XT())};return Ex.add(r),()=>{Ex.delete(r)}},t)}function wde(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:o}=e,i=b.useRef({isFocusWithin:!1}),a=b.useCallback(c=>{i.current.isFocusWithin&&!c.currentTarget.contains(c.relatedTarget)&&(i.current.isFocusWithin=!1,n&&n(c),o&&o(!1))},[n,o,i]),l=RT(a),s=b.useCallback(c=>{!i.current.isFocusWithin&&document.activeElement===c.target&&(r&&r(c),o&&o(!0),i.current.isFocusWithin=!0,l(c))},[r,o,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:s,onBlur:a}}}let yp=!1,wy=0;function Yx(){yp=!0,setTimeout(()=>{yp=!1},50)}function OW(e){e.pointerType==="touch"&&Yx()}function Gde(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",OW):document.addEventListener("touchend",Yx),wy++,()=>{wy--,!(wy>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",OW):document.removeEventListener("touchend",Yx))}}function EG(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:o}=e,[i,a]=b.useState(!1),l=b.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;b.useEffect(Gde,[]);let{hoverProps:s,triggerHoverEnd:c}=b.useMemo(()=>{let u=(m,I)=>{if(l.pointerType=I,o||I==="touch"||l.isHovered||!m.currentTarget.contains(m.target))return;l.isHovered=!0;let h=m.currentTarget;l.target=h,t&&t({type:"hoverstart",target:h,pointerType:I}),n&&n(!0),a(!0)},g=(m,I)=>{if(l.pointerType="",l.target=null,I==="touch"||!l.isHovered)return;l.isHovered=!1;let h=m.currentTarget;r&&r({type:"hoverend",target:h,pointerType:I}),n&&n(!1),a(!1)},d={};return typeof PointerEvent<"u"?(d.onPointerEnter=m=>{yp&&m.pointerType==="mouse"||u(m,m.pointerType)},d.onPointerLeave=m=>{!o&&m.currentTarget.contains(m.target)&&g(m,m.pointerType)}):(d.onTouchStart=()=>{l.ignoreEmulatedMouseEvents=!0},d.onMouseEnter=m=>{!l.ignoreEmulatedMouseEvents&&!yp&&u(m,"mouse"),l.ignoreEmulatedMouseEvents=!1},d.onMouseLeave=m=>{!o&&m.currentTarget.contains(m.target)&&g(m,"mouse")}),{hoverProps:d,triggerHoverEnd:g}},[t,n,r,o,l]);return b.useEffect(()=>{o&&c({currentTarget:l.target},l.pointerType)},[o]),{hoverProps:s,isHovered:i}}function HA(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,o=b.useRef({isFocused:!1,isFocusVisible:t||XT()}),[i,a]=b.useState(!1),[l,s]=b.useState(()=>o.current.isFocused&&o.current.isFocusVisible),c=b.useCallback(()=>s(o.current.isFocused&&o.current.isFocusVisible),[]),u=b.useCallback(m=>{o.current.isFocused=m,a(m),c()},[c]);Zde(m=>{o.current.isFocusVisible=m,c()},[],{isTextInput:n});let{focusProps:g}=Ade({isDisabled:r,onFocusChange:u}),{focusWithinProps:d}=wde({isDisabled:!r,onFocusWithinChange:u});return{isFocused:i,isFocusVisible:l,focusProps:r?d:g}}var Bde=Object.defineProperty,kde=(e,t,n)=>t in e?Bde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gy=(e,t,n)=>(kde(e,typeof t!="symbol"?t+"":t,n),n);let Rde=class{constructor(){Gy(this,"current",this.detect()),Gy(this,"handoffState","pending"),Gy(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},gc=new Rde;function Jc(e){return gc.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function uI(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function gs(){let e=[],t={addEventListener(n,r,o,i){return n.addEventListener(r,o,i),t.add(()=>n.removeEventListener(r,o,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return uI(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,o){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:o}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=gs();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let o of e.splice(r,1))o()}},dispose(){for(let n of e.splice(0))n()}};return t}function Yc(){let[e]=b.useState(gs);return b.useEffect(()=>()=>e.dispose(),[e]),e}let St=(e,t)=>{gc.isServer?b.useEffect(e,t):b.useLayoutEffect(e,t)};function eo(e){let t=b.useRef(e);return St(()=>{t.current=e},[e]),t}let Ne=function(e){let t=eo(e);return G.useCallback((...n)=>t.current(...n),[t])};function Vde(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function Wde(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function XG({disabled:e=!1}={}){let t=b.useRef(null),[n,r]=b.useState(!1),o=Yc(),i=Ne(()=>{t.current=null,r(!1),o.dispose()}),a=Ne(l=>{if(o.dispose(),t.current===null){t.current=l.currentTarget,r(!0);{let s=Jc(l.currentTarget);o.addEventListener(s,"pointerup",i,!1),o.addEventListener(s,"pointermove",c=>{if(t.current){let u=Vde(c);r(Wde(u,t.current.getBoundingClientRect()))}},!1),o.addEventListener(s,"pointercancel",i,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:a,onPointerUp:i,onClick:i}}}let Nde=b.createContext(void 0);function JG(){return b.useContext(Nde)}function Hx(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function An(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,An),r}var ji=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ji||{}),bl=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(bl||{});function Dt({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:i=!0,name:a,mergeRefs:l}){l=l??Xde;let s=JT(t,e);if(i)return vh(s,n,r,a,l);let c=o??0;if(c&2){let{static:u=!1,...g}=s;if(u)return vh(g,n,r,a,l)}if(c&1){let{unmount:u=!0,...g}=s;return An(u?0:1,{0(){return null},1(){return vh({...g,hidden:!0,style:{display:"none"}},n,r,a,l)}})}return vh(s,n,r,a,l)}function vh(e,t={},n,r,o){let{as:i=n,children:a,refName:l="ref",...s}=By(e,["unmount","static"]),c=e.ref!==void 0?{[l]:e.ref}:{},u=typeof a=="function"?a(t):a;"className"in s&&s.className&&typeof s.className=="function"&&(s.className=s.className(t)),s["aria-labelledby"]&&s["aria-labelledby"]===s.id&&(s["aria-labelledby"]=void 0);let g={};if(t){let d=!1,m=[];for(let[I,h]of Object.entries(t))typeof h=="boolean"&&(d=!0),h===!0&&m.push(I.replace(/([A-Z])/g,A=>`-${A.toLowerCase()}`));if(d){g["data-headlessui-state"]=m.join(" ");for(let I of m)g[`data-${I}`]=""}}if(i===b.Fragment&&(Object.keys(al(s)).length>0||Object.keys(al(g)).length>0))if(!b.isValidElement(u)||Array.isArray(u)&&u.length>1){if(Object.keys(al(s)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(al(s)).concat(Object.keys(al(g))).map(d=>`  - ${d}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(d=>`  - ${d}`).join(`
`)].join(`
`))}else{let d=u.props,m=d==null?void 0:d.className,I=typeof m=="function"?(...C)=>Hx(m(...C),s.className):Hx(m,s.className),h=I?{className:I}:{},A=JT(u.props,al(By(s,["ref"])));for(let C in g)C in A&&delete g[C];return b.cloneElement(u,Object.assign({},A,g,c,{ref:o(u.ref,c.ref)},h))}return b.createElement(i,Object.assign({},By(s,["ref"]),i!==b.Fragment&&c,i!==b.Fragment&&g),u)}function Ede(){let e=b.useRef([]),t=b.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function Xde(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function JT(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[o=>{var i;return(i=o==null?void 0:o.preventDefault)==null?void 0:i.call(o)}]);for(let r in n)Object.assign(t,{[r](o,...i){let a=n[r];for(let l of a){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;l(o,...i)}}});return t}function tg(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];for(let r in n)Object.assign(t,{[r](...o){let i=n[r];for(let a of i)a==null||a(...o)}});return t}function Wt(e){var t;return Object.assign(b.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function al(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function By(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function Jde(e,t,n){let[r,o]=b.useState(n),i=e!==void 0,a=b.useRef(i),l=b.useRef(!1),s=b.useRef(!1);return i&&!a.current&&!l.current?(l.current=!0,a.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&a.current&&!s.current&&(s.current=!0,a.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?e:r,Ne(c=>(i||o(c),t==null?void 0:t(c)))]}function Yde(e){let[t]=b.useState(e);return t}function YT(e={},t=null,n=[]){for(let[r,o]of Object.entries(e))FT(n,HT(t,r),o);return n}function HT(e,t){return e?e+"["+t+"]":t}function FT(e,t,n){if(Array.isArray(n))for(let[r,o]of n.entries())FT(e,HT(t,r.toString()),o);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):YT(n,t,e)}function Hde(e){var t,n;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let o of r.elements)if(o!==e&&(o.tagName==="INPUT"&&o.type==="submit"||o.tagName==="BUTTON"&&o.type==="submit"||o.nodeName==="INPUT"&&o.type==="image")){o.click();return}(n=r.requestSubmit)==null||n.call(r)}}let Fde="span";var Ti=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ti||{});function Mde(e,t){var n;let{features:r=1,...o}=e,i={ref:t,"aria-hidden":(r&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Dt({ourProps:i,theirProps:o,slot:{},defaultTag:Fde,name:"Hidden"})}let Li=Wt(Mde),jde=b.createContext(null);function Tde({children:e}){let t=b.useContext(jde);if(!t)return G.createElement(G.Fragment,null,e);let{target:n}=t;return n?Bn.createPortal(G.createElement(G.Fragment,null,e),n):null}function Lde({data:e,form:t,disabled:n,onReset:r,overrides:o}){let[i,a]=b.useState(null),l=Yc();return b.useEffect(()=>{if(r&&i)return l.addEventListener(i,"reset",r)},[i,t,r]),G.createElement(Tde,null,G.createElement(Kde,{setForm:a,formId:t}),YT(e).map(([s,c])=>G.createElement(Li,{features:Ti.Hidden,...al({key:s,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:n,name:s,value:c,...o})})))}function Kde({setForm:e,formId:t}){return b.useEffect(()=>{if(t){let n=document.getElementById(t);n&&e(n)}},[e,t]),t?null:G.createElement(Li,{features:Ti.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&e(r)}})}let Ode=b.createContext(void 0);function MT(){return b.useContext(Ode)}function YG(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&Pde(n)?!1:r}function Pde(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let jT=Symbol();function TT(e,t=!0){return Object.assign(e,{[jT]:t})}function on(...e){let t=b.useRef(e);b.useEffect(()=>{t.current=e},[e]);let n=Ne(r=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return e.every(r=>r==null||(r==null?void 0:r[jT]))?void 0:n}let FA=b.createContext(null);FA.displayName="DescriptionContext";function LT(){let e=b.useContext(FA);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,LT),t}return e}function Dde(){var e,t;return(t=(e=b.useContext(FA))==null?void 0:e.value)!=null?t:void 0}function KT(){let[e,t]=b.useState([]);return[e.length>0?e.join(" "):void 0,b.useMemo(()=>function(n){let r=Ne(i=>(t(a=>[...a,i]),()=>t(a=>{let l=a.slice(),s=l.indexOf(i);return s!==-1&&l.splice(s,1),l}))),o=b.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return G.createElement(FA.Provider,{value:o},n.children)},[t])]}let zde="p";function Ude(e,t){let n=b.useId(),r=JG(),{id:o=`headlessui-description-${n}`,...i}=e,a=LT(),l=on(t);St(()=>a.register(o),[o,a.register]);let s=r||!1,c=b.useMemo(()=>({...a.slot,disabled:s}),[a.slot,s]),u={ref:l,...a.props,id:o};return Dt({ourProps:u,theirProps:i,slot:c,defaultTag:zde,name:a.name||"Description"})}let _de=Wt(Ude),OT=Object.assign(_de,{});var fn=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(fn||{});let MA=b.createContext(null);MA.displayName="LabelContext";function PT(){let e=b.useContext(MA);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,PT),t}return e}function DT(e){var t,n,r;let o=(n=(t=b.useContext(MA))==null?void 0:t.value)!=null?n:void 0;return((r=e==null?void 0:e.length)!=null?r:0)>0?[o,...e].filter(Boolean).join(" "):o}function Qde({inherit:e=!1}={}){let t=DT(),[n,r]=b.useState([]),o=e?[t,...n].filter(Boolean):n;return[o.length>0?o.join(" "):void 0,b.useMemo(()=>function(i){let a=Ne(s=>(r(c=>[...c,s]),()=>r(c=>{let u=c.slice(),g=u.indexOf(s);return g!==-1&&u.splice(g,1),u}))),l=b.useMemo(()=>({register:a,slot:i.slot,name:i.name,props:i.props,value:i.value}),[a,i.slot,i.name,i.props,i.value]);return G.createElement(MA.Provider,{value:l},i.children)},[r])]}let $de="label";function qde(e,t){var n;let r=b.useId(),o=PT(),i=MT(),a=JG(),{id:l=`headlessui-label-${r}`,htmlFor:s=i??((n=o.props)==null?void 0:n.htmlFor),passive:c=!1,...u}=e,g=on(t);St(()=>o.register(l),[l,o.register]);let d=Ne(A=>{let C=A.currentTarget;if(C instanceof HTMLLabelElement&&A.preventDefault(),o.props&&"onClick"in o.props&&typeof o.props.onClick=="function"&&o.props.onClick(A),C instanceof HTMLLabelElement){let p=document.getElementById(C.htmlFor);if(p){let v=p.getAttribute("disabled");if(v==="true"||v==="")return;let y=p.getAttribute("aria-disabled");if(y==="true"||y==="")return;(p instanceof HTMLInputElement&&(p.type==="radio"||p.type==="checkbox")||p.role==="radio"||p.role==="checkbox"||p.role==="switch")&&p.click(),p.focus({preventScroll:!0})}}}),m=a||!1,I=b.useMemo(()=>({...o.slot,disabled:m}),[o.slot,m]),h={ref:g,...o.props,id:l,htmlFor:s,onClick:d};return c&&("onClick"in h&&(delete h.htmlFor,delete h.onClick),"onClick"in u&&delete u.onClick),Dt({ourProps:h,theirProps:u,slot:I,defaultTag:s?$de:"div",name:o.name||"Label"})}let efe=Wt(qde),tfe=Object.assign(efe,{}),nfe=b.createContext(()=>{});function zT({value:e,children:t}){return G.createElement(nfe.Provider,{value:e},t)}function Bd(e,t,n){let r=n.initialDeps??[],o;return()=>{var i,a,l,s;let c;n.key&&((i=n.debug)!=null&&i.call(n))&&(c=Date.now());const u=e();if(!(u.length!==r.length||u.some((m,I)=>r[I]!==m)))return o;r=u;let d;if(n.key&&((a=n.debug)!=null&&a.call(n))&&(d=Date.now()),o=t(...u),n.key&&((l=n.debug)!=null&&l.call(n))){const m=Math.round((Date.now()-c)*100)/100,I=Math.round((Date.now()-d)*100)/100,h=I/16,A=(C,p)=>{for(C=String(C);C.length<p;)C=" "+C;return C};console.info(`%c⏱ ${A(I,5)} /${A(m,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*h,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(s=n==null?void 0:n.onChange)==null||s.call(n,o),o}}function ky(e,t){if(e===void 0)throw new Error(`Unexpected undefined${t?`: ${t}`:""}`);return e}const rfe=(e,t)=>Math.abs(e-t)<1,ofe=(e,t,n)=>{let r;return function(...o){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,o),n)}},ife=e=>e,afe=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let o=t;o<=n;o++)r.push(o);return r},lfe=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const o=a=>{const{width:l,height:s}=a;t({width:Math.round(l),height:Math.round(s)})};if(o(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(a=>{const l=a[0];if(l!=null&&l.borderBoxSize){const s=l.borderBoxSize[0];if(s){o({width:s.inlineSize,height:s.blockSize});return}}o(n.getBoundingClientRect())});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},PW={passive:!0},sfe=typeof window>"u"?!0:"onscrollend"in window,cfe=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let o=0;const i=sfe?()=>{}:ofe(r,()=>{t(o,!1)},e.options.isScrollingResetDelay),a=c=>()=>{o=n[e.options.horizontal?"scrollLeft":"scrollTop"],i(),t(o,c)},l=a(!0),s=a(!1);return s(),n.addEventListener("scroll",l,PW),n.addEventListener("scrollend",s,PW),()=>{n.removeEventListener("scroll",l),n.removeEventListener("scrollend",s)}},ufe=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},gfe=(e,{adjustments:t=0,behavior:n},r)=>{var o,i;const a=e+t;(i=(o=r.scrollElement)==null?void 0:o.scrollTo)==null||i.call(o,{[r.options.horizontal?"left":"top"]:a,behavior:n})};class dfe{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(o=>{o.forEach(i=>{this._measureElement(i.target,i)})}));return{disconnect:()=>{var o;return(o=r())==null?void 0:o.disconnect()},observe:o=>{var i;return(i=r())==null?void 0:i.observe(o,{box:"border-box"})},unobserve:o=>{var i;return(i=r())==null?void 0:i.unobserve(o)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,o])=>{typeof o>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:ife,rangeExtractor:afe,onChange:()=>{},measureElement:ufe,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,...n}},this.notify=(n,r)=>{var o,i;const{startIndex:a,endIndex:l}=this.range??{startIndex:void 0,endIndex:void 0},s=this.calculateRange();(n||a!==(s==null?void 0:s.startIndex)||l!==(s==null?void 0:s.endIndex))&&((i=(o=this.options).onChange)==null||i.call(o,this,r))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.observer.disconnect(),this.elementsCache.clear()},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.notify(!1,!1);return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(o,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o;const a=this.isScrolling;this.isScrolling=i,this.notify(a!==i,i)}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const o=new Map,i=new Map;for(let a=r-1;a>=0;a--){const l=n[a];if(o.has(l.lane))continue;const s=i.get(l.lane);if(s==null||l.end>s.end?i.set(l.lane,l):l.end<s.end&&o.set(l.lane,!0),o.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((a,l)=>a.end===l.end?a.index-l.index:a.end-l.end)[0]:void 0},this.getMeasurementOptions=Bd(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,o,i,a)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:o,getItemKey:i,enabled:a}),{key:!1}),this.getMeasurements=Bd(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:o,getItemKey:i,enabled:a},l)=>{var s;if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(g=>{this.itemSizeCache.set(g.key,g.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let g=c;g<n;g++){let d=(s=this.measurementsCache[g])==null?void 0:s.measureElement;d||(d=y=>{const x=i(g),S=this.elementsCache.get(x);if(!y){S&&(this.observer.unobserve(S),this.elementsCache.delete(x));return}S!==y&&(S&&this.observer.unobserve(S),this.observer.observe(y),this.elementsCache.set(x,y)),y.isConnected&&this.resizeItem(g,this.options.measureElement(y,void 0,this))});const m=i(g),I=this.options.lanes===1?u[g-1]:this.getFurthestMeasurement(u,g),h=I?I.end+this.options.gap:r+o,A=l.get(m),C=typeof A=="number"?A:this.options.estimateSize(g),p=h+C,v=I?I.lane:g%this.options.lanes;u[g]={index:g,start:h,size:C,end:p,key:m,lane:v,measureElement:d}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Bd(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,r,o)=>this.range=n.length>0&&r>0?ffe({measurements:n,outerSize:r,scrollOffset:o}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=Bd(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,r,o,i)=>r===null?[]:n({startIndex:r.startIndex,endIndex:r.endIndex,overscan:o,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,o=n.getAttribute(r);return o?parseInt(o,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const o=this.indexFromElement(n),i=this.getMeasurements()[o];if(!i||!n.isConnected){this.elementsCache.forEach((l,s)=>{l===n&&(this.observer.unobserve(n),this.elementsCache.delete(s))});return}const a=this.elementsCache.get(i.key);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(i.key,n)),this.resizeItem(o,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const o=this.getMeasurements()[n];if(!o)return;const i=this.itemSizeCache.get(o.key)??o.size,a=r-i;a!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,a,this):o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=a,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,r)),this.notify(!0,!1))},this.measureElement=n=>{n&&this._measureElement(n,void 0)},this.getVirtualItems=Bd(()=>[this.getIndexes(),this.getMeasurements()],(n,r)=>{const o=[];for(let i=0,a=n.length;i<a;i++){const l=n[i],s=r[l];o.push(s)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return ky(r[UT(0,r.length-1,o=>ky(r[o]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const o=this.getSize(),i=this.getScrollOffset();r==="auto"&&(n<=i?r="start":n>=i+o?r="end":r="start"),r==="start"?n=n:r==="end"?n=n-o:r==="center"&&(n=n-o/2);const a=this.options.horizontal?"scrollWidth":"scrollHeight",s=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[a]:this.scrollElement[a]:0)-o;return Math.max(Math.min(s,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const o=this.getMeasurements()[n];if(!o)return;const i=this.getSize(),a=this.getScrollOffset();if(r==="auto")if(o.end>=a+i-this.options.scrollPaddingEnd)r="end";else if(o.start<=a+this.options.scrollPaddingStart)r="start";else return[a,r];const l=r==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,r),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:o})},this.scrollToIndex=(n,{align:r="auto",behavior:o}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const i=this.getOffsetForIndex(n,r);if(!i)return;const[a,l]=i;this._scrollToOffset(a,{adjustments:void 0,behavior:o}),o!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[c]=ky(this.getOffsetForIndex(n,l));rfe(c,this.getScrollOffset())||this.scrollToIndex(n,{align:l,behavior:o})}else this.scrollToIndex(n,{align:l,behavior:o})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let o;return r.length===0?o=this.options.paddingStart:o=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(i=>i.end)),o-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(n,{adjustments:r,behavior:o})=>{this.options.scrollToFn(n,{behavior:o,adjustments:r},this)},this.measure=()=>{var n,r;this.itemSizeCache=new Map,(r=(n=this.options).onChange)==null||r.call(n,this,!1)},this.setOptions(t)}}const UT=(e,t,n,r)=>{for(;e<=t;){const o=(e+t)/2|0,i=n(o);if(i<r)e=o+1;else if(i>r)t=o-1;else return o}return e>0?e-1:0};function ffe({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,i=UT(0,r,l=>e[l].start,n);let a=i;for(;a<r&&e[a].end<n+t;)a++;return{startIndex:i,endIndex:a}}const mfe=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Ife(e){const t=b.useReducer(()=>({}),{})[1],n={...e,onChange:(o,i)=>{var a;i?Bn.flushSync(t):t(),(a=e.onChange)==null||a.call(e,o,i)}},[r]=b.useState(()=>new dfe(n));return r.setOptions(n),b.useEffect(()=>r._didMount(),[]),mfe(()=>r._willUpdate()),r}function hfe(e){return Ife({observeElementRect:lfe,observeElementOffset:cfe,scrollToFn:gfe,...e})}function Cfe(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function pfe(e,t=!1){let n=e===null?null:"current"in e?e.current:e,[r,o]=b.useReducer(()=>({}),{}),i=b.useMemo(()=>Cfe(n),[n,r]);return St(()=>{if(!n)return;let a=new ResizeObserver(o);return a.observe(n),()=>{a.disconnect()}},[n]),t?{width:`${i.width}px`,height:`${i.height}px`}:i}let Afe=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function _T(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(o){return r.add(o),()=>r.delete(o)},dispatch(o,...i){let a=t[o].call(n,...i);a&&(n=a,r.forEach(l=>l()))}}}function QT(e){return b.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let bfe=new Afe(()=>_T(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function _g(e,t){let n=bfe.get(t),r=b.useId(),o=QT(n);if(St(()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,e]),!e)return!1;let i=o.indexOf(r),a=o.length;return i===-1&&(i=a,a+=1),i===a-1}let Fx=new Map,bf=new Map;function DW(e){var t;let n=(t=bf.get(e))!=null?t:0;return bf.set(e,n+1),n!==0?()=>zW(e):(Fx.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>zW(e))}function zW(e){var t;let n=(t=bf.get(e))!=null?t:1;if(n===1?bf.delete(e):bf.set(e,n-1),n!==1)return;let r=Fx.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,Fx.delete(e))}function vfe(e,{allowed:t,disallowed:n}={}){let r=_g(e,"inert-others");St(()=>{var o,i;if(!r)return;let a=gs();for(let s of(o=n==null?void 0:n())!=null?o:[])s&&a.add(DW(s));let l=(i=t==null?void 0:t())!=null?i:[];for(let s of l){if(!s)continue;let c=Jc(s);if(!c)continue;let u=s.parentElement;for(;u&&u!==c.body;){for(let g of u.children)l.some(d=>g.contains(d))||a.add(DW(g));u=u.parentElement}}return a.dispose},[r,t,n])}function HG(e,t,n){let r=eo(o=>{let i=o.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&n()});b.useEffect(()=>{if(!e)return;let o=t===null?null:t instanceof HTMLElement?t:t.current;if(!o)return;let i=gs();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(o));a.observe(o),i.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(o));a.observe(o),i.add(()=>a.disconnect())}return()=>i.dispose()},[t,r,e])}let xp=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),yfe=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Bt=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Bt||{}),Bi=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Bi||{}),xfe=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(xfe||{});function jA(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(xp)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Sfe(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(yfe)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var FG=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(FG||{});function $T(e,t=0){var n;return e===((n=Jc(e))==null?void 0:n.body)?!1:An(t,{0(){return e.matches(xp)},1(){let r=e;for(;r!==null;){if(r.matches(xp))return!0;r=r.parentElement}return!1}})}var Zfe=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Zfe||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function pa(e){e==null||e.focus({preventScroll:!0})}let wfe=["textarea","input"].join(",");function Gfe(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,wfe))!=null?n:!1}function Cu(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),i=t(r);if(o===null||i===null)return 0;let a=o.compareDocumentPosition(i);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Xn(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?n?Cu(e):e:t&64?Sfe(e):jA(e);o.length>0&&a.length>1&&(a=a.filter(m=>!o.some(I=>I!=null&&"current"in I?(I==null?void 0:I.current)===m:I===m))),r=r??i.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),s=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=t&32?{preventScroll:!0}:{},u=0,g=a.length,d;do{if(u>=g||u+g<=0)return 0;let m=s+u;if(t&16)m=(m+g)%g;else{if(m<0)return 3;if(m>=g)return 1}d=a[m],d==null||d.focus(c),u+=l}while(d!==i.activeElement);return t&6&&Gfe(d)&&d.select(),2}function qT(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Bfe(){return/Android/gi.test(window.navigator.userAgent)}function kfe(){return qT()||Bfe()}function kd(e,t,n,r){let o=eo(n);b.useEffect(()=>{if(!e)return;function i(a){o.current(a)}return document.addEventListener(t,i,r),()=>document.removeEventListener(t,i,r)},[e,t,r])}function eL(e,t,n,r){let o=eo(n);b.useEffect(()=>{if(!e)return;function i(a){o.current(a)}return window.addEventListener(t,i,r),()=>window.removeEventListener(t,i,r)},[e,t,r])}const UW=30;function tL(e,t,n){let r=_g(e,"outside-click"),o=eo(n),i=b.useCallback(function(s,c){if(s.defaultPrevented)return;let u=c(s);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let g=function d(m){return typeof m=="function"?d(m()):Array.isArray(m)||m instanceof Set?m:[m]}(t);for(let d of g){if(d===null)continue;let m=d instanceof HTMLElement?d:d.current;if(m!=null&&m.contains(u)||s.composed&&s.composedPath().includes(m))return}return!$T(u,FG.Loose)&&u.tabIndex!==-1&&s.preventDefault(),o.current(s,u)},[o]),a=b.useRef(null);kd(r,"pointerdown",s=>{var c,u;a.current=((u=(c=s.composedPath)==null?void 0:c.call(s))==null?void 0:u[0])||s.target},!0),kd(r,"mousedown",s=>{var c,u;a.current=((u=(c=s.composedPath)==null?void 0:c.call(s))==null?void 0:u[0])||s.target},!0),kd(r,"click",s=>{kfe()||a.current&&(i(s,()=>a.current),a.current=null)},!0);let l=b.useRef({x:0,y:0});kd(r,"touchstart",s=>{l.current.x=s.touches[0].clientX,l.current.y=s.touches[0].clientY},!0),kd(r,"touchend",s=>{let c={x:s.changedTouches[0].clientX,y:s.changedTouches[0].clientY};if(!(Math.abs(c.x-l.current.x)>=UW||Math.abs(c.y-l.current.y)>=UW))return i(s,()=>s.target instanceof HTMLElement?s.target:null)},!0),eL(r,"blur",s=>i(s,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function ds(...e){return b.useMemo(()=>Jc(...e),[...e])}function MG(e,t,n,r){let o=eo(n);b.useEffect(()=>{e=e??window;function i(a){o.current(a)}return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)},[e,t,r])}function _W(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function jG(e,t){let[n,r]=b.useState(()=>_W(e));return St(()=>{r(_W(e))},[e.type,e.as]),St(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}function Rfe(){let e;return{before({doc:t}){var n;let r=t.documentElement,o=(n=t.defaultView)!=null?n:window;e=Math.max(0,o.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,o=Math.max(0,r.clientWidth-r.offsetWidth),i=Math.max(0,e-o);n.style(r,"paddingRight",`${i}px`)}}}function Vfe(){return qT()?{before({doc:e,d:t,meta:n}){function r(o){return n.containers.flatMap(i=>i()).some(i=>i.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=gs();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let i=(o=window.scrollY)!=null?o:window.pageYOffset,a=null;t.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let s=l.target.closest("a");if(!s)return;let{hash:c}=new URL(s.href),u=e.querySelector(c);u&&!r(u)&&(a=u)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let s=l.target;for(;s.parentElement&&r(s.parentElement);)s=s.parentElement;t.style(s,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(l.target instanceof HTMLElement){if(l.target.tagName==="INPUT")return;if(r(l.target)){let s=l.target;for(;s.parentElement&&s.dataset.headlessuiPortal!==""&&!(s.scrollHeight>s.clientHeight||s.scrollWidth>s.clientWidth);)s=s.parentElement;s.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),t.add(()=>{var l;let s=(l=window.scrollY)!=null?l:window.pageYOffset;i!==s&&window.scrollTo(0,i),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function Wfe(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Nfe(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let $s=_T(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:gs(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Nfe(n)},o=[Vfe(),Rfe(),Wfe()];o.forEach(({before:i})=>i==null?void 0:i(r)),o.forEach(({after:i})=>i==null?void 0:i(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});$s.subscribe(()=>{let e=$s.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!r||!o&&r)&&$s.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&$s.dispatch("TEARDOWN",n)}});function Efe(e,t,n=()=>({containers:[]})){let r=QT($s),o=t?r.get(t):void 0,i=o?o.count>0:!1;return St(()=>{if(!(!t||!e))return $s.dispatch("PUSH",t,n),()=>$s.dispatch("POP",t,n)},[e,t]),i}function nL(e,t,n=()=>[document.body]){let r=_g(e,"scroll-lock");Efe(r,t,o=>{var i;return{containers:[...(i=o.containers)!=null?i:[],n]}})}function Xfe(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function Jfe(e=0){let[t,n]=b.useState(e),r=b.useCallback(s=>n(s),[t]),o=b.useCallback(s=>n(c=>c|s),[t]),i=b.useCallback(s=>(t&s)===s,[t]),a=b.useCallback(s=>n(c=>c&~s),[n]),l=b.useCallback(s=>n(c=>c^s),[n]);return{flags:t,setFlag:r,addFlag:o,hasFlag:i,removeFlag:a,toggleFlag:l}}var Yfe=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Yfe||{});function TG(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function LG(e,t,n,r){let[o,i]=b.useState(n),{hasFlag:a,addFlag:l,removeFlag:s}=Jfe(e&&o?3:0),c=b.useRef(!1),u=b.useRef(!1),g=Yc();return St(function d(){var m;if(!e)return;n&&i(!0);let I=t.current;return I?((m=r==null?void 0:r.start)==null||m.call(r,n),Hfe(I,{inFlight:c,prepare(){u.current?u.current=!1:u.current=c.current,c.current=!0,!u.current&&(n?(l(3),s(4)):(l(4),s(2)))},run(){u.current?n?(s(3),l(4)):(s(4),l(3)):n?s(1):l(1)},done(){var h;u.current&&typeof I.getAnimations=="function"&&I.getAnimations().length>0||(c.current=!1,s(7),n||i(!1),(h=r==null?void 0:r.end)==null||h.call(r,n))}})):n?(l(3),g.nextFrame(()=>d())):void 0},[e,n,t,g]),e?[o,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Hfe(e,{prepare:t,run:n,done:r,inFlight:o}){let i=gs();return Mfe(e,{prepare:t,inFlight:o}),i.nextFrame(()=>{i.add(Ffe(e,r)),n()}),i.dispose}function Ffe(e,t){let n=Xfe(t),r=gs();if(!e)return r.dispose;let{transitionDuration:o,transitionDelay:i}=getComputedStyle(e),[a,l]=[o,i].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(g=>g.includes("ms")?parseFloat(g):parseFloat(g)*1e3).sort((g,d)=>d-g);return u}),s=a+l;if(s!==0){let c=r.group(u=>{let g=u.setTimeout(()=>{n(),u.dispose()},s);u.addEventListener(e,"transitionrun",d=>{d.target===d.currentTarget&&(g(),u.addEventListener(e,"transitioncancel",m=>{m.target===m.currentTarget&&(n(),c())}))})});r.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(n(),r.dispose())})}else n();return r.dispose}function Mfe(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function KG(e,t){let n=b.useRef([]),r=Ne(e);b.useEffect(()=>{let o=[...n.current];for(let[i,a]of t.entries())if(n.current[i]!==a){let l=r(t,o);return n.current=t,l}},[r,...t])}function Qg(e){return rL(e)?(e.nodeName||"").toLowerCase():"#document"}function oo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ma(e){var t;return(t=(rL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function rL(e){return e instanceof Node||e instanceof oo(e).Node}function Rr(e){return e instanceof Element||e instanceof oo(e).Element}function Ki(e){return e instanceof HTMLElement||e instanceof oo(e).HTMLElement}function QW(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof oo(e).ShadowRoot}function gI(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=di(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function jfe(e){return["table","td","th"].includes(Qg(e))}function TA(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function OG(e){const t=PG(),n=di(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Tfe(e){let t=Pl(e);for(;Ki(t)&&!ng(t);){if(TA(t))return null;if(OG(t))return t;t=Pl(t)}return null}function PG(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ng(e){return["html","body","#document"].includes(Qg(e))}function di(e){return oo(e).getComputedStyle(e)}function LA(e){return Rr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Pl(e){if(Qg(e)==="html")return e;const t=e.assignedSlot||e.parentNode||QW(e)&&e.host||Ma(e);return QW(t)?t.host:t}function oL(e){const t=Pl(e);return ng(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ki(t)&&gI(t)?t:oL(t)}function Hl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=oL(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),a=oo(o);return i?t.concat(a,a.visualViewport||[],gI(o)?o:[],a.frameElement&&n?Hl(a.frameElement):[]):t.concat(o,Hl(o,[],n))}function Lfe(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}const vl=Math.min,_r=Math.max,Sp=Math.round,yh=Math.floor,Dl=e=>({x:e,y:e}),Kfe={left:"right",right:"left",bottom:"top",top:"bottom"},Ofe={start:"end",end:"start"};function $W(e,t,n){return _r(e,vl(t,n))}function $g(e,t){return typeof e=="function"?e(t):e}function zl(e){return e.split("-")[0]}function dI(e){return e.split("-")[1]}function iL(e){return e==="x"?"y":"x"}function aL(e){return e==="y"?"height":"width"}function Zc(e){return["top","bottom"].includes(zl(e))?"y":"x"}function lL(e){return iL(Zc(e))}function Pfe(e,t,n){n===void 0&&(n=!1);const r=dI(e),o=lL(e),i=aL(o);let a=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Zp(a)),[a,Zp(a)]}function Dfe(e){const t=Zp(e);return[Mx(e),t,Mx(t)]}function Mx(e){return e.replace(/start|end/g,t=>Ofe[t])}function zfe(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:a;default:return[]}}function Ufe(e,t,n,r){const o=dI(e);let i=zfe(zl(e),n==="start",r);return o&&(i=i.map(a=>a+"-"+o),t&&(i=i.concat(i.map(Mx)))),i}function Zp(e){return e.replace(/left|right|bottom|top/g,t=>Kfe[t])}function _fe(e){return{top:0,right:0,bottom:0,left:0,...e}}function Qfe(e){return typeof e!="number"?_fe(e):{top:e,right:e,bottom:e,left:e}}function wp(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function qW(e,t,n){let{reference:r,floating:o}=e;const i=Zc(t),a=lL(t),l=aL(a),s=zl(t),c=i==="y",u=r.x+r.width/2-o.width/2,g=r.y+r.height/2-o.height/2,d=r[l]/2-o[l]/2;let m;switch(s){case"top":m={x:u,y:r.y-o.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:g};break;case"left":m={x:r.x-o.width,y:g};break;default:m={x:r.x,y:r.y}}switch(dI(t)){case"start":m[a]-=d*(n&&c?-1:1);break;case"end":m[a]+=d*(n&&c?-1:1);break}return m}const $fe=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),s=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:g}=qW(c,r,s),d=r,m={},I=0;for(let h=0;h<l.length;h++){const{name:A,fn:C}=l[h],{x:p,y:v,data:y,reset:x}=await C({x:u,y:g,initialPlacement:r,placement:d,strategy:o,middlewareData:m,rects:c,platform:a,elements:{reference:e,floating:t}});u=p??u,g=v??g,m={...m,[A]:{...m[A],...y}},x&&I<=50&&(I++,typeof x=="object"&&(x.placement&&(d=x.placement),x.rects&&(c=x.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):x.rects),{x:u,y:g}=qW(c,d,s)),h=-1)}return{x:u,y:g,placement:d,strategy:o,middlewareData:m}};async function KA(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:a,elements:l,strategy:s}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:g="floating",altBoundary:d=!1,padding:m=0}=$g(t,e),I=Qfe(m),A=l[d?g==="floating"?"reference":"floating":g],C=wp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(A)))==null||n?A:A.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:c,rootBoundary:u,strategy:s})),p=g==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),y=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},x=wp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:v,strategy:s}):p);return{top:(C.top-x.top+I.top)/y.y,bottom:(x.bottom-C.bottom+I.bottom)/y.y,left:(C.left-x.left+I.left)/y.x,right:(x.right-C.right+I.right)/y.x}}const qfe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:l,platform:s,elements:c}=t,{mainAxis:u=!0,crossAxis:g=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:h=!0,...A}=$g(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const C=zl(o),p=Zc(l),v=zl(l)===l,y=await(s.isRTL==null?void 0:s.isRTL(c.floating)),x=d||(v||!h?[Zp(l)]:Dfe(l)),S=I!=="none";!d&&S&&x.push(...Ufe(l,h,I,y));const B=[l,...x],Z=await KA(t,A),R=[];let w=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&R.push(Z[C]),g){const N=Pfe(o,a,y);R.push(Z[N[0]],Z[N[1]])}if(w=[...w,{placement:o,overflows:R}],!R.every(N=>N<=0)){var k,V;const N=(((k=i.flip)==null?void 0:k.index)||0)+1,X=B[N];if(X)return{data:{index:N,overflows:w},reset:{placement:X}};let J=(V=w.filter(E=>E.overflows[0]<=0).sort((E,F)=>E.overflows[1]-F.overflows[1])[0])==null?void 0:V.placement;if(!J)switch(m){case"bestFit":{var W;const E=(W=w.filter(F=>{if(S){const H=Zc(F.placement);return H===p||H==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(H=>H>0).reduce((H,M)=>H+M,0)]).sort((F,H)=>F[1]-H[1])[0])==null?void 0:W[0];E&&(J=E);break}case"initialPlacement":J=l;break}if(o!==J)return{reset:{placement:J}}}return{}}}};async function eme(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=zl(n),l=dI(n),s=Zc(n)==="y",c=["left","top"].includes(a)?-1:1,u=i&&s?-1:1,g=$g(t,e);let{mainAxis:d,crossAxis:m,alignmentAxis:I}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...g};return l&&typeof I=="number"&&(m=l==="end"?I*-1:I),s?{x:m*u,y:d*c}:{x:d*c,y:m*u}}const tme=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:a,middlewareData:l}=t,s=await eme(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:o+s.x,y:i+s.y,data:{...s,placement:a}}}}},nme=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:A=>{let{x:C,y:p}=A;return{x:C,y:p}}},...s}=$g(e,t),c={x:n,y:r},u=await KA(t,s),g=Zc(zl(o)),d=iL(g);let m=c[d],I=c[g];if(i){const A=d==="y"?"top":"left",C=d==="y"?"bottom":"right",p=m+u[A],v=m-u[C];m=$W(p,m,v)}if(a){const A=g==="y"?"top":"left",C=g==="y"?"bottom":"right",p=I+u[A],v=I-u[C];I=$W(p,I,v)}const h=l.fn({...t,[d]:m,[g]:I});return{...h,data:{x:h.x-n,y:h.y-r}}}}},rme=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:i}=t,{apply:a=()=>{},...l}=$g(e,t),s=await KA(t,l),c=zl(n),u=dI(n),g=Zc(n)==="y",{width:d,height:m}=r.floating;let I,h;c==="top"||c==="bottom"?(I=c,h=u===(await(o.isRTL==null?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(h=c,I=u==="end"?"top":"bottom");const A=m-s.top-s.bottom,C=d-s.left-s.right,p=vl(m-s[I],A),v=vl(d-s[h],C),y=!t.middlewareData.shift;let x=p,S=v;if(g?S=u||y?vl(v,C):C:x=u||y?vl(p,A):A,y&&!u){const Z=_r(s.left,0),R=_r(s.right,0),w=_r(s.top,0),k=_r(s.bottom,0);g?S=d-2*(Z!==0||R!==0?Z+R:_r(s.left,s.right)):x=m-2*(w!==0||k!==0?w+k:_r(s.top,s.bottom))}await a({...t,availableWidth:S,availableHeight:x});const B=await o.getDimensions(i.floating);return d!==B.width||m!==B.height?{reset:{rects:!0}}:{}}}};function sL(e){const t=di(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Ki(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,l=Sp(n)!==i||Sp(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function DG(e){return Rr(e)?e:e.contextElement}function Eu(e){const t=DG(e);if(!Ki(t))return Dl(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=sL(t);let a=(i?Sp(n.width):n.width)/r,l=(i?Sp(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const ome=Dl(0);function cL(e){const t=oo(e);return!PG()||!t.visualViewport?ome:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ime(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==oo(e)?!1:t}function wc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=DG(e);let a=Dl(1);t&&(r?Rr(r)&&(a=Eu(r)):a=Eu(e));const l=ime(i,n,r)?cL(i):Dl(0);let s=(o.left+l.x)/a.x,c=(o.top+l.y)/a.y,u=o.width/a.x,g=o.height/a.y;if(i){const d=oo(i),m=r&&Rr(r)?oo(r):r;let I=d,h=I.frameElement;for(;h&&r&&m!==I;){const A=Eu(h),C=h.getBoundingClientRect(),p=di(h),v=C.left+(h.clientLeft+parseFloat(p.paddingLeft))*A.x,y=C.top+(h.clientTop+parseFloat(p.paddingTop))*A.y;s*=A.x,c*=A.y,u*=A.x,g*=A.y,s+=v,c+=y,I=oo(h),h=I.frameElement}}return wp({width:u,height:g,x:s,y:c})}function ame(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",a=Ma(r),l=t?TA(t.floating):!1;if(r===a||l&&i)return n;let s={scrollLeft:0,scrollTop:0},c=Dl(1);const u=Dl(0),g=Ki(r);if((g||!g&&!i)&&((Qg(r)!=="body"||gI(a))&&(s=LA(r)),Ki(r))){const d=wc(r);c=Eu(r),u.x=d.x+r.clientLeft,u.y=d.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-s.scrollLeft*c.x+u.x,y:n.y*c.y-s.scrollTop*c.y+u.y}}function lme(e){return Array.from(e.getClientRects())}function uL(e){return wc(Ma(e)).left+LA(e).scrollLeft}function sme(e){const t=Ma(e),n=LA(e),r=e.ownerDocument.body,o=_r(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=_r(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+uL(e);const l=-n.scrollTop;return di(r).direction==="rtl"&&(a+=_r(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:l}}function cme(e,t){const n=oo(e),r=Ma(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,s=0;if(o){i=o.width,a=o.height;const c=PG();(!c||c&&t==="fixed")&&(l=o.offsetLeft,s=o.offsetTop)}return{width:i,height:a,x:l,y:s}}function ume(e,t){const n=wc(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Ki(e)?Eu(e):Dl(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,s=o*i.x,c=r*i.y;return{width:a,height:l,x:s,y:c}}function eN(e,t,n){let r;if(t==="viewport")r=cme(e,n);else if(t==="document")r=sme(Ma(e));else if(Rr(t))r=ume(t,n);else{const o=cL(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return wp(r)}function gL(e,t){const n=Pl(e);return n===t||!Rr(n)||ng(n)?!1:di(n).position==="fixed"||gL(n,t)}function gme(e,t){const n=t.get(e);if(n)return n;let r=Hl(e,[],!1).filter(l=>Rr(l)&&Qg(l)!=="body"),o=null;const i=di(e).position==="fixed";let a=i?Pl(e):e;for(;Rr(a)&&!ng(a);){const l=di(a),s=OG(a);!s&&l.position==="fixed"&&(o=null),(i?!s&&!o:!s&&l.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||gI(a)&&!s&&gL(e,a))?r=r.filter(u=>u!==a):o=l,a=Pl(a)}return t.set(e,r),r}function dme(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const a=[...n==="clippingAncestors"?TA(t)?[]:gme(t,this._c):[].concat(n),r],l=a[0],s=a.reduce((c,u)=>{const g=eN(t,u,o);return c.top=_r(g.top,c.top),c.right=vl(g.right,c.right),c.bottom=vl(g.bottom,c.bottom),c.left=_r(g.left,c.left),c},eN(t,l,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function fme(e){const{width:t,height:n}=sL(e);return{width:t,height:n}}function mme(e,t,n){const r=Ki(t),o=Ma(t),i=n==="fixed",a=wc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const s=Dl(0);if(r||!r&&!i)if((Qg(t)!=="body"||gI(o))&&(l=LA(t)),r){const g=wc(t,!0,i,t);s.x=g.x+t.clientLeft,s.y=g.y+t.clientTop}else o&&(s.x=uL(o));const c=a.left+l.scrollLeft-s.x,u=a.top+l.scrollTop-s.y;return{x:c,y:u,width:a.width,height:a.height}}function Ry(e){return di(e).position==="static"}function tN(e,t){return!Ki(e)||di(e).position==="fixed"?null:t?t(e):e.offsetParent}function dL(e,t){const n=oo(e);if(TA(e))return n;if(!Ki(e)){let o=Pl(e);for(;o&&!ng(o);){if(Rr(o)&&!Ry(o))return o;o=Pl(o)}return n}let r=tN(e,t);for(;r&&jfe(r)&&Ry(r);)r=tN(r,t);return r&&ng(r)&&Ry(r)&&!OG(r)?n:r||Tfe(e)||n}const Ime=async function(e){const t=this.getOffsetParent||dL,n=this.getDimensions,r=await n(e.floating);return{reference:mme(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function hme(e){return di(e).direction==="rtl"}const Cme={convertOffsetParentRelativeRectToViewportRelativeRect:ame,getDocumentElement:Ma,getClippingRect:dme,getOffsetParent:dL,getElementRects:Ime,getClientRects:lme,getDimensions:fme,getScale:Eu,isElement:Rr,isRTL:hme};function pme(e,t){let n=null,r;const o=Ma(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,s){l===void 0&&(l=!1),s===void 0&&(s=1),i();const{left:c,top:u,width:g,height:d}=e.getBoundingClientRect();if(l||t(),!g||!d)return;const m=yh(u),I=yh(o.clientWidth-(c+g)),h=yh(o.clientHeight-(u+d)),A=yh(c),p={rootMargin:-m+"px "+-I+"px "+-h+"px "+-A+"px",threshold:_r(0,vl(1,s))||1};let v=!0;function y(x){const S=x[0].intersectionRatio;if(S!==s){if(!v)return a();S?a(!1,S):r=setTimeout(()=>{a(!1,1e-7)},1e3)}v=!1}try{n=new IntersectionObserver(y,{...p,root:o.ownerDocument})}catch{n=new IntersectionObserver(y,p)}n.observe(e)}return a(!0),i}function fL(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:s=!1}=r,c=DG(e),u=o||i?[...c?Hl(c):[],...Hl(t)]:[];u.forEach(C=>{o&&C.addEventListener("scroll",n,{passive:!0}),i&&C.addEventListener("resize",n)});const g=c&&l?pme(c,n):null;let d=-1,m=null;a&&(m=new ResizeObserver(C=>{let[p]=C;p&&p.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var v;(v=m)==null||v.observe(t)})),n()}),c&&!s&&m.observe(c),m.observe(t));let I,h=s?wc(e):null;s&&A();function A(){const C=wc(e);h&&(C.x!==h.x||C.y!==h.y||C.width!==h.width||C.height!==h.height)&&n(),h=C,I=requestAnimationFrame(A)}return n(),()=>{var C;u.forEach(p=>{o&&p.removeEventListener("scroll",n),i&&p.removeEventListener("resize",n)}),g==null||g(),(C=m)==null||C.disconnect(),m=null,s&&cancelAnimationFrame(I)}}const Vy=KA,mL=tme,IL=nme,hL=qfe,Ame=rme,CL=(e,t,n)=>{const r=new Map,o={platform:Cme,...n},i={...o.platform,_c:r};return $fe(e,t,{...o,platform:i})};var AC=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Gp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Gp(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Gp(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function pL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function nN(e,t){const n=pL(e);return Math.round(t*n)/n}function rN(e){const t=b.useRef(e);return AC(()=>{t.current=e}),t}function bme(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:s,open:c}=e,[u,g]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,m]=b.useState(r);Gp(d,r)||m(r);const[I,h]=b.useState(null),[A,C]=b.useState(null),p=b.useCallback(E=>{E!==S.current&&(S.current=E,h(E))},[]),v=b.useCallback(E=>{E!==B.current&&(B.current=E,C(E))},[]),y=i||I,x=a||A,S=b.useRef(null),B=b.useRef(null),Z=b.useRef(u),R=s!=null,w=rN(s),k=rN(o),V=b.useCallback(()=>{if(!S.current||!B.current)return;const E={placement:t,strategy:n,middleware:d};k.current&&(E.platform=k.current),CL(S.current,B.current,E).then(F=>{const H={...F,isPositioned:!0};W.current&&!Gp(Z.current,H)&&(Z.current=H,Bn.flushSync(()=>{g(H)}))})},[d,t,n,k]);AC(()=>{c===!1&&Z.current.isPositioned&&(Z.current.isPositioned=!1,g(E=>({...E,isPositioned:!1})))},[c]);const W=b.useRef(!1);AC(()=>(W.current=!0,()=>{W.current=!1}),[]),AC(()=>{if(y&&(S.current=y),x&&(B.current=x),y&&x){if(w.current)return w.current(y,x,V);V()}},[y,x,V,w,R]);const N=b.useMemo(()=>({reference:S,floating:B,setReference:p,setFloating:v}),[p,v]),X=b.useMemo(()=>({reference:y,floating:x}),[y,x]),J=b.useMemo(()=>{const E={position:n,left:0,top:0};if(!X.floating)return E;const F=nN(X.floating,u.x),H=nN(X.floating,u.y);return l?{...E,transform:"translate("+F+"px, "+H+"px)",...pL(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:H}},[n,l,X.floating,u.x,u.y]);return b.useMemo(()=>({...u,update:V,refs:N,elements:X,floatingStyles:J}),[u,V,N,X,J])}const AL=(e,t)=>({...mL(e),options:[e,t]}),vme=(e,t)=>({...IL(e),options:[e,t]}),yme=(e,t)=>({...hL(e),options:[e,t]}),xme=(e,t)=>({...Ame(e),options:[e,t]}),bL={...ui},Sme=bL.useInsertionEffect,Zme=Sme||(e=>e());function vL(e){const t=b.useRef(()=>{});return Zme(()=>{t.current=e}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var jx=typeof document<"u"?b.useLayoutEffect:b.useEffect;let oN=!1,wme=0;const iN=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+wme++;function Gme(){const[e,t]=b.useState(()=>oN?iN():void 0);return jx(()=>{e==null&&t(iN())},[]),b.useEffect(()=>{oN=!0},[]),e}const Bme=bL.useId,kme=Bme||Gme;function Rme(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const Vme=b.createContext(null),Wme=b.createContext(null),Nme=()=>{var e;return((e=b.useContext(Vme))==null?void 0:e.id)||null},Eme=()=>b.useContext(Wme);function Xme(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=kme(),i=b.useRef({}),[a]=b.useState(()=>Rme()),l=Nme()!=null,[s,c]=b.useState(r.reference),u=vL((m,I,h)=>{i.current.openEvent=m?I:void 0,a.emit("openchange",{open:m,event:I,reason:h,nested:l}),n==null||n(m,I,h)}),g=b.useMemo(()=>({setPositionReference:c}),[]),d=b.useMemo(()=>({reference:s||r.reference||null,floating:r.floating||null,domReference:r.reference}),[s,r.reference,r.floating]);return b.useMemo(()=>({dataRef:i,open:t,onOpenChange:u,elements:d,events:a,floatingId:o,refs:g}),[t,u,d,a,o,g])}function Jme(e){e===void 0&&(e={});const{nodeId:t}=e,n=Xme({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[i,a]=b.useState(null),[l,s]=b.useState(null),u=(o==null?void 0:o.reference)||i,g=b.useRef(null),d=Eme();jx(()=>{u&&(g.current=u)},[u]);const m=bme({...e,elements:{...o,...l&&{reference:l}}}),I=b.useCallback(v=>{const y=Rr(v)?{getBoundingClientRect:()=>v.getBoundingClientRect(),contextElement:v}:v;s(y),m.refs.setReference(y)},[m.refs]),h=b.useCallback(v=>{(Rr(v)||v===null)&&(g.current=v,a(v)),(Rr(m.refs.reference.current)||m.refs.reference.current===null||v!==null&&!Rr(v))&&m.refs.setReference(v)},[m.refs]),A=b.useMemo(()=>({...m.refs,setReference:h,setPositionReference:I,domReference:g}),[m.refs,h,I]),C=b.useMemo(()=>({...m.elements,domReference:u}),[m.elements,u]),p=b.useMemo(()=>({...m,...r,refs:A,elements:C,nodeId:t}),[m,A,C,t,r]);return jx(()=>{r.dataRef.current.floatingContext=p;const v=d==null?void 0:d.nodesRef.current.find(y=>y.id===t);v&&(v.context=p)}),b.useMemo(()=>({...m,context:p,refs:A,elements:C}),[m,A,C,p])}const aN="active",lN="selected";function Wy(e,t,n){const r=new Map,o=n==="item";let i=e;if(o&&e){const{[aN]:a,[lN]:l,...s}=e;i=s}return{...n==="floating"&&{tabIndex:-1},...i,...t.map(a=>{const l=a?a[n]:null;return typeof l=="function"?e?l(e):null:l}).concat(e).reduce((a,l)=>(l&&Object.entries(l).forEach(s=>{let[c,u]=s;if(!(o&&[aN,lN].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof u=="function"){var g;(g=r.get(c))==null||g.push(u),a[c]=function(){for(var d,m=arguments.length,I=new Array(m),h=0;h<m;h++)I[h]=arguments[h];return(d=r.get(c))==null?void 0:d.map(A=>A(...I)).find(A=>A!==void 0)}}}else a[c]=u}),a),{})}}function Yme(e){e===void 0&&(e=[]);const t=e.map(l=>l==null?void 0:l.reference),n=e.map(l=>l==null?void 0:l.floating),r=e.map(l=>l==null?void 0:l.item),o=b.useCallback(l=>Wy(l,e,"reference"),t),i=b.useCallback(l=>Wy(l,e,"floating"),n),a=b.useCallback(l=>Wy(l,e,"item"),r);return b.useMemo(()=>({getReferenceProps:o,getFloatingProps:i,getItemProps:a}),[o,i,a])}function sN(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const Hme=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:o,offset:i=0,index:a=0,minItemsVisible:l=4,referenceOverflowThreshold:s=0,scrollRef:c,...u}=$g(e,t),{rects:g,elements:{floating:d}}=t,m=n.current[a];if(!m)return{};const I={...t,...await AL(-m.offsetTop-d.clientTop-g.reference.height/2-m.offsetHeight/2-i).fn(t)},h=(c==null?void 0:c.current)||d,A=await Vy(sN(I,h.scrollHeight),u),C=await Vy(I,{...u,elementContext:"reference"}),p=Math.max(0,A.top),v=I.y+p,y=Math.max(0,h.scrollHeight-p-Math.max(0,A.bottom));return h.style.maxHeight=y+"px",h.scrollTop=p,o&&(h.offsetHeight<m.offsetHeight*Math.min(l,n.current.length-1)-1||C.top>=-s||C.bottom>=-s?Bn.flushSync(()=>o(!0)):Bn.flushSync(()=>o(!1))),r&&(r.current=await Vy(sN({...I,y:v},h.offsetHeight),u)),{y:v}}});function Fme(e,t){const{open:n,elements:r}=e,{enabled:o=!0,overflowRef:i,scrollRef:a,onChange:l}=t,s=vL(l),c=b.useRef(!1),u=b.useRef(null),g=b.useRef(null);b.useEffect(()=>{if(!o)return;function m(h){if(h.ctrlKey||!I||i.current==null)return;const A=h.deltaY,C=i.current.top>=-.5,p=i.current.bottom>=-.5,v=I.scrollHeight-I.clientHeight,y=A<0?-1:1,x=A<0?"max":"min";I.scrollHeight<=I.clientHeight||(!C&&A>0||!p&&A<0?(h.preventDefault(),Bn.flushSync(()=>{s(S=>S+Math[x](A,v*y))})):/firefox/i.test(Lfe())&&(I.scrollTop+=A))}const I=(a==null?void 0:a.current)||r.floating;if(n&&I)return I.addEventListener("wheel",m),requestAnimationFrame(()=>{u.current=I.scrollTop,i.current!=null&&(g.current={...i.current})}),()=>{u.current=null,g.current=null,I.removeEventListener("wheel",m)}},[o,n,r.floating,i,a,s]);const d=b.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const m=(a==null?void 0:a.current)||r.floating;if(!(!i.current||!m||!c.current)){if(u.current!==null){const I=m.scrollTop-u.current;(i.current.bottom<-.5&&I<-1||i.current.top<-.5&&I>1)&&Bn.flushSync(()=>s(h=>h+I))}requestAnimationFrame(()=>{u.current=m.scrollTop})}}}),[r.floating,s,i,a]);return b.useMemo(()=>o?{floating:d}:{},[o,d])}let fI=b.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});fI.displayName="FloatingContext";let zG=b.createContext(null);zG.displayName="PlacementContext";function Mme(e){return b.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function jme(){return b.useContext(fI).setReference}function Tme(){let{getFloatingProps:e,slot:t}=b.useContext(fI);return b.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function Lme(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=b.useContext(zG),n=b.useMemo(()=>e,[JSON.stringify(e,typeof HTMLElement<"u"?(o,i)=>i instanceof HTMLElement?i.outerHTML:i:void 0)]);St(()=>{t==null||t(n??null)},[t,n]);let r=b.useContext(fI);return b.useMemo(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let cN=4;function Kme({children:e,enabled:t=!0}){let[n,r]=b.useState(null),[o,i]=b.useState(0),a=b.useRef(null),[l,s]=b.useState(null);Ome(l);let c=t&&n!==null&&l!==null,{to:u="bottom",gap:g=0,offset:d=0,padding:m=0,inner:I}=Pme(n,l),[h,A="center"]=u.split(" ");St(()=>{c&&i(0)},[c]);let{refs:C,floatingStyles:p,context:v}=Jme({open:c,placement:h==="selection"?A==="center"?"bottom":`bottom-${A}`:A==="center"?`${h}`:`${h}-${A}`,strategy:"absolute",transform:!1,middleware:[AL({mainAxis:h==="selection"?0:g,crossAxis:d}),vme({padding:m}),h!=="selection"&&yme({padding:m}),h==="selection"&&I?Hme({...I,padding:m,overflowRef:a,offset:o,minItemsVisible:cN,referenceOverflowThreshold:m,onFallbackChange(k){var V,W;if(!k)return;let N=v.elements.floating;if(!N)return;let X=parseFloat(getComputedStyle(N).scrollPaddingBottom)||0,J=Math.min(cN,N.childElementCount),E=0,F=0;for(let H of(W=(V=v.elements.floating)==null?void 0:V.childNodes)!=null?W:[])if(H instanceof HTMLElement){let M=H.offsetTop,Y=M+H.clientHeight+X,T=N.scrollTop,O=T+N.clientHeight;if(M>=T&&Y<=O)J--;else{F=Math.max(0,Math.min(Y,O)-Math.max(M,T)),E=H.clientHeight;break}}J>=1&&i(H=>{let M=E*J-F+X;return H>=M?H:M})}}):null,xme({padding:m,apply({availableWidth:k,availableHeight:V,elements:W}){Object.assign(W.floating.style,{overflow:"auto",maxWidth:`${k}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${V}px)`})}})].filter(Boolean),whileElementsMounted:fL}),[y=h,x=A]=v.placement.split("-");h==="selection"&&(y="selection");let S=b.useMemo(()=>({anchor:[y,x].filter(Boolean).join(" ")}),[y,x]),B=Fme(v,{overflowRef:a,onChange:i}),{getReferenceProps:Z,getFloatingProps:R}=Yme([B]),w=Ne(k=>{s(k),C.setFloating(k)});return b.createElement(zG.Provider,{value:r},b.createElement(fI.Provider,{value:{setFloating:w,setReference:C.setReference,styles:p,getReferenceProps:Z,getFloatingProps:R,slot:S}},e))}function Ome(e){St(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let o=parseInt(n);isNaN(o)||r!==o&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function Pme(e,t){var n,r,o;let i=Ny((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),a=Ny((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),l=Ny((o=e==null?void 0:e.padding)!=null?o:"var(--anchor-padding, 0)",t);return{...e,gap:i,offset:a,padding:l}}function Ny(e,t,n=void 0){let r=Yc(),o=Ne((s,c)=>{if(s==null)return[n,null];if(typeof s=="number")return[s,null];if(typeof s=="string"){if(!c)return[n,null];let u=uN(s,c);return[u,g=>{let d=yL(s);{let m=d.map(I=>window.getComputedStyle(c).getPropertyValue(I));r.requestAnimationFrame(function I(){r.nextFrame(I);let h=!1;for(let[C,p]of d.entries()){let v=window.getComputedStyle(c).getPropertyValue(p);if(m[C]!==v){m[C]=v,h=!0;break}}if(!h)return;let A=uN(s,c);u!==A&&(g(A),u=A)})}return r.dispose}]}return[n,null]}),i=b.useMemo(()=>o(e,t)[0],[e,t]),[a=i,l]=b.useState();return St(()=>{let[s,c]=o(e,t);if(l(s),!!c)return c(l)},[e,t]),a}function yL(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),o=t[1].slice(n+1).trim();return o?[r,...yL(o)]:[r]}return[]}function uN(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}let OA=b.createContext(null);OA.displayName="OpenClosedContext";var Un=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Un||{});function qg(){return b.useContext(OA)}function xL({value:e,children:t}){return G.createElement(OA.Provider,{value:e},t)}function SL({children:e}){return G.createElement(OA.Provider,{value:null},e)}function Dme(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let fl=[];Dme(()=>{function e(t){if(!(t.target instanceof HTMLElement)||t.target===document.body||fl[0]===t.target)return;let n=t.target;n=n.closest(xp),fl.unshift(n??t.target),fl=fl.filter(r=>r!=null&&r.isConnected),fl.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function ZL(e){let t=Ne(e),n=b.useRef(!1);b.useEffect(()=>(n.current=!1,()=>{n.current=!0,uI(()=>{n.current&&t()})}),[t])}function zme(){let e=typeof document>"u";return"useSyncExternalStore"in ui?(t=>t.useSyncExternalStore)(ui)(()=>()=>{},()=>!1,()=>!e):!1}function mI(){let e=zme(),[t,n]=b.useState(gc.isHandoffComplete);return t&&gc.isHandoffComplete===!1&&n(!1),b.useEffect(()=>{t!==!0&&n(!0)},[t]),b.useEffect(()=>gc.handoff(),[]),e?!1:t}let wL=b.createContext(!1);function Ume(){return b.useContext(wL)}function gN(e){return G.createElement(wL.Provider,{value:e.force},e.children)}function _me(e){let t=Ume(),n=b.useContext(BL),r=ds(e),[o,i]=b.useState(()=>{var a;if(!t&&n!==null)return(a=n.current)!=null?a:null;if(gc.isServer)return null;let l=r==null?void 0:r.getElementById("headlessui-portal-root");if(l)return l;if(r===null)return null;let s=r.createElement("div");return s.setAttribute("id","headlessui-portal-root"),r.body.appendChild(s)});return b.useEffect(()=>{o!==null&&(r!=null&&r.body.contains(o)||r==null||r.body.appendChild(o))},[o,r]),b.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),o}let GL=b.Fragment,Qme=Wt(function(e,t){let n=e,r=b.useRef(null),o=on(TT(u=>{r.current=u}),t),i=ds(r),a=_me(r),[l]=b.useState(()=>{var u;return gc.isServer?null:(u=i==null?void 0:i.createElement("div"))!=null?u:null}),s=b.useContext(Tx),c=mI();return St(()=>{!a||!l||a.contains(l)||(l.setAttribute("data-headlessui-portal",""),a.appendChild(l))},[a,l]),St(()=>{if(l&&s)return s.register(l)},[s,l]),ZL(()=>{var u;!a||!l||(l instanceof Node&&a.contains(l)&&a.removeChild(l),a.childNodes.length<=0&&((u=a.parentElement)==null||u.removeChild(a)))}),c?!a||!l?null:Bn.createPortal(Dt({ourProps:{ref:o},theirProps:n,slot:{},defaultTag:GL,name:"Portal"}),l):null});function $me(e,t){let n=on(t),{enabled:r=!0,...o}=e;return r?G.createElement(Qme,{...o,ref:n}):Dt({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:GL,name:"Portal"})}let qme=b.Fragment,BL=b.createContext(null);function eIe(e,t){let{target:n,...r}=e,o={ref:on(t)};return G.createElement(BL.Provider,{value:n},Dt({ourProps:o,theirProps:r,defaultTag:qme,name:"Popover.Group"}))}let Tx=b.createContext(null);function kL(){let e=b.useContext(Tx),t=b.useRef([]),n=Ne(i=>(t.current.push(i),e&&e.register(i),()=>r(i))),r=Ne(i=>{let a=t.current.indexOf(i);a!==-1&&t.current.splice(a,1),e&&e.unregister(i)}),o=b.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,b.useMemo(()=>function({children:i}){return G.createElement(Tx.Provider,{value:o},i)},[o])]}let tIe=Wt($me),RL=Wt(eIe),VL=Object.assign(tIe,{Group:RL});function nIe(e,t=typeof document<"u"?document.defaultView:null,n){let r=_g(e,"escape");MG(t,"keydown",o=>{r&&(o.defaultPrevented||o.key===fn.Escape&&n(o))})}function rIe(){var e;let[t]=b.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=b.useState((e=t==null?void 0:t.matches)!=null?e:!1);return St(()=>{if(!t)return;function o(i){r(i.matches)}return t.addEventListener("change",o),()=>t.removeEventListener("change",o)},[t]),n}function WL({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=ds(n),o=Ne(()=>{var i,a;let l=[];for(let s of e)s!==null&&(s instanceof HTMLElement?l.push(s):"current"in s&&s.current instanceof HTMLElement&&l.push(s.current));if(t!=null&&t.current)for(let s of t.current)l.push(s);for(let s of(i=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?i:[])s!==document.body&&s!==document.head&&s instanceof HTMLElement&&s.id!=="headlessui-portal-root"&&(n&&(s.contains(n)||s.contains((a=n==null?void 0:n.getRootNode())==null?void 0:a.host))||l.some(c=>s.contains(c))||l.push(s));return l});return{resolveContainers:o,contains:Ne(i=>o().some(a=>a.contains(i)))}}let NL=b.createContext(null);function Bp({children:e,node:t}){let[n,r]=b.useState(null),o=UG(t??n);return G.createElement(NL.Provider,{value:o},e,o===null&&G.createElement(Li,{features:Ti.Hidden,ref:i=>{var a,l;if(i){for(let s of(l=(a=Jc(i))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?l:[])if(s!==document.body&&s!==document.head&&s instanceof HTMLElement&&s!=null&&s.contains(i)){r(s);break}}}}))}function UG(e=null){var t;return(t=b.useContext(NL))!=null?t:e}function PA(){let e=b.useRef(!1);return St(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var to=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(to||{});function _G(){let e=b.useRef(0);return eL(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function EL(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let oIe="div";var Os=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Os||{});function iIe(e,t){let n=b.useRef(null),r=on(n,t),{initialFocus:o,initialFocusFallback:i,containers:a,features:l=15,...s}=e;mI()||(l=0);let c=ds(n);cIe(l,{ownerDocument:c});let u=uIe(l,{ownerDocument:c,container:n,initialFocus:o,initialFocusFallback:i});gIe(l,{ownerDocument:c,container:n,containers:a,previousActiveElement:u});let g=_G(),d=Ne(C=>{let p=n.current;p&&(v=>v())(()=>{An(g.current,{[to.Forwards]:()=>{Xn(p,Bt.First,{skipElements:[C.relatedTarget,i]})},[to.Backwards]:()=>{Xn(p,Bt.Last,{skipElements:[C.relatedTarget,i]})}})})}),m=_g(!!(l&2),"focus-trap#tab-lock"),I=Yc(),h=b.useRef(!1),A={ref:r,onKeyDown(C){C.key=="Tab"&&(h.current=!0,I.requestAnimationFrame(()=>{h.current=!1}))},onBlur(C){if(!(l&4))return;let p=EL(a);n.current instanceof HTMLElement&&p.add(n.current);let v=C.relatedTarget;v instanceof HTMLElement&&v.dataset.headlessuiFocusGuard!=="true"&&(XL(p,v)||(h.current?Xn(n.current,An(g.current,{[to.Forwards]:()=>Bt.Next,[to.Backwards]:()=>Bt.Previous})|Bt.WrapAround,{relativeTo:C.target}):C.target instanceof HTMLElement&&pa(C.target)))}};return G.createElement(G.Fragment,null,m&&G.createElement(Li,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:Ti.Focusable}),Dt({ourProps:A,theirProps:s,defaultTag:oIe,name:"FocusTrap"}),m&&G.createElement(Li,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:Ti.Focusable}))}let aIe=Wt(iIe),lIe=Object.assign(aIe,{features:Os});function sIe(e=!0){let t=b.useRef(fl.slice());return KG(([n],[r])=>{r===!0&&n===!1&&uI(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=fl.slice())},[e,fl,t]),Ne(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function cIe(e,{ownerDocument:t}){let n=!!(e&8),r=sIe(n);KG(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&pa(r())},[n]),ZL(()=>{n&&pa(r())})}function uIe(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:o}){let i=b.useRef(null),a=_g(!!(e&1),"focus-trap#initial-focus"),l=PA();return KG(()=>{if(e===0)return;if(!a){o!=null&&o.current&&pa(o.current);return}let s=n.current;s&&uI(()=>{if(!l.current)return;let c=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===c){i.current=c;return}}else if(s.contains(c)){i.current=c;return}if(r!=null&&r.current)pa(r.current);else{if(e&16){if(Xn(s,Bt.First|Bt.AutoFocus)!==Bi.Error)return}else if(Xn(s,Bt.First)!==Bi.Error)return;if(o!=null&&o.current&&(pa(o.current),(t==null?void 0:t.activeElement)===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=t==null?void 0:t.activeElement})},[o,a,e]),i}function gIe(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:o}){let i=PA(),a=!!(e&4);MG(t==null?void 0:t.defaultView,"focus",l=>{if(!a||!i.current)return;let s=EL(r);n.current instanceof HTMLElement&&s.add(n.current);let c=o.current;if(!c)return;let u=l.target;u&&u instanceof HTMLElement?XL(s,u)?(o.current=u,pa(u)):(l.preventDefault(),l.stopPropagation(),pa(c)):pa(o.current)},!0)}function XL(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function JL(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:HL)!==b.Fragment||G.Children.count(e.children)===1}let DA=b.createContext(null);DA.displayName="TransitionContext";var dIe=(e=>(e.Visible="visible",e.Hidden="hidden",e))(dIe||{});function fIe(){let e=b.useContext(DA);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function mIe(){let e=b.useContext(zA);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let zA=b.createContext(null);zA.displayName="NestingContext";function UA(e){return"children"in e?UA(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function YL(e,t){let n=eo(e),r=b.useRef([]),o=PA(),i=Yc(),a=Ne((m,I=bl.Hidden)=>{let h=r.current.findIndex(({el:A})=>A===m);h!==-1&&(An(I,{[bl.Unmount](){r.current.splice(h,1)},[bl.Hidden](){r.current[h].state="hidden"}}),i.microTask(()=>{var A;!UA(r)&&o.current&&((A=n.current)==null||A.call(n))}))}),l=Ne(m=>{let I=r.current.find(({el:h})=>h===m);return I?I.state!=="visible"&&(I.state="visible"):r.current.push({el:m,state:"visible"}),()=>a(m,bl.Unmount)}),s=b.useRef([]),c=b.useRef(Promise.resolve()),u=b.useRef({enter:[],leave:[]}),g=Ne((m,I,h)=>{s.current.splice(0),t&&(t.chains.current[I]=t.chains.current[I].filter(([A])=>A!==m)),t==null||t.chains.current[I].push([m,new Promise(A=>{s.current.push(A)})]),t==null||t.chains.current[I].push([m,new Promise(A=>{Promise.all(u.current[I].map(([C,p])=>p)).then(()=>A())})]),I==="enter"?c.current=c.current.then(()=>t==null?void 0:t.wait.current).then(()=>h(I)):h(I)}),d=Ne((m,I,h)=>{Promise.all(u.current[I].splice(0).map(([A,C])=>C)).then(()=>{var A;(A=s.current.shift())==null||A()}).then(()=>h(I))});return b.useMemo(()=>({children:r,register:l,unregister:a,onStart:g,onStop:d,wait:c,chains:u}),[l,a,r,g,d,u,c])}let HL=b.Fragment,FL=ji.RenderStrategy;function IIe(e,t){var n,r;let{transition:o=!0,beforeEnter:i,afterEnter:a,beforeLeave:l,afterLeave:s,enter:c,enterFrom:u,enterTo:g,entered:d,leave:m,leaveFrom:I,leaveTo:h,...A}=e,C=b.useRef(null),p=JL(e),v=on(...p?[C,t]:t===null?[]:[t]),y=(n=A.unmount)==null||n?bl.Unmount:bl.Hidden,{show:x,appear:S,initial:B}=fIe(),[Z,R]=b.useState(x?"visible":"hidden"),w=mIe(),{register:k,unregister:V}=w;St(()=>k(C),[k,C]),St(()=>{if(y===bl.Hidden&&C.current){if(x&&Z!=="visible"){R("visible");return}return An(Z,{hidden:()=>V(C),visible:()=>k(C)})}},[Z,C,k,V,x,y]);let W=mI();St(()=>{if(p&&W&&Z==="visible"&&C.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[C,Z,W,p]);let N=B&&!S,X=S&&x&&B,J=b.useRef(!1),E=YL(()=>{J.current||(R("hidden"),V(C))},w),F=Ne(P=>{J.current=!0;let L=P?"enter":"leave";E.onStart(C,L,j=>{j==="enter"?i==null||i():j==="leave"&&(l==null||l())})}),H=Ne(P=>{let L=P?"enter":"leave";J.current=!1,E.onStop(C,L,j=>{j==="enter"?a==null||a():j==="leave"&&(s==null||s())}),L==="leave"&&!UA(E)&&(R("hidden"),V(C))});b.useEffect(()=>{p&&o||(F(x),H(x))},[x,p,o]);let M=(()=>!(!o||!p||!W||N))(),[,Y]=LG(M,C,x,{start:F,end:H}),T=al({ref:v,className:((r=Hx(A.className,X&&c,X&&u,Y.enter&&c,Y.enter&&Y.closed&&u,Y.enter&&!Y.closed&&g,Y.leave&&m,Y.leave&&!Y.closed&&I,Y.leave&&Y.closed&&h,!Y.transition&&x&&d))==null?void 0:r.trim())||void 0,...TG(Y)}),O=0;return Z==="visible"&&(O|=Un.Open),Z==="hidden"&&(O|=Un.Closed),Y.enter&&(O|=Un.Opening),Y.leave&&(O|=Un.Closing),G.createElement(zA.Provider,{value:E},G.createElement(xL,{value:O},Dt({ourProps:T,theirProps:A,defaultTag:HL,features:FL,visible:Z==="visible",name:"Transition.Child"})))}function hIe(e,t){let{show:n,appear:r=!1,unmount:o=!0,...i}=e,a=b.useRef(null),l=JL(e),s=on(...l?[a,t]:t===null?[]:[t]);mI();let c=qg();if(n===void 0&&c!==null&&(n=(c&Un.Open)===Un.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,g]=b.useState(n?"visible":"hidden"),d=YL(()=>{n||g("hidden")}),[m,I]=b.useState(!0),h=b.useRef([n]);St(()=>{m!==!1&&h.current[h.current.length-1]!==n&&(h.current.push(n),I(!1))},[h,n]);let A=b.useMemo(()=>({show:n,appear:r,initial:m}),[n,r,m]);HG(n,a,()=>g("hidden")),St(()=>{n?g("visible"):!UA(d)&&a.current!==null&&g("hidden")},[n,d]);let C={unmount:o},p=Ne(()=>{var y;m&&I(!1),(y=e.beforeEnter)==null||y.call(e)}),v=Ne(()=>{var y;m&&I(!1),(y=e.beforeLeave)==null||y.call(e)});return G.createElement(zA.Provider,{value:d},G.createElement(DA.Provider,{value:A},Dt({ourProps:{...C,as:b.Fragment,children:G.createElement(ML,{ref:s,...C,...i,beforeEnter:p,beforeLeave:v})},theirProps:{},defaultTag:b.Fragment,features:FL,visible:u==="visible",name:"Transition"})))}function CIe(e,t){let n=b.useContext(DA)!==null,r=qg()!==null;return G.createElement(G.Fragment,null,!n&&r?G.createElement(Lx,{ref:t,...e}):G.createElement(ML,{ref:t,...e}))}let Lx=Wt(hIe),ML=Wt(IIe),QG=Wt(CIe),un=Object.assign(Lx,{Child:QG,Root:Lx});var pIe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(pIe||{}),AIe=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(AIe||{});let bIe={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},$G=b.createContext(null);$G.displayName="DialogContext";function _A(e){let t=b.useContext($G);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,_A),n}return t}function vIe(e,t){return An(t.type,bIe,e,t)}let dN=Wt(function(e,t){let n=b.useId(),{id:r=`headlessui-dialog-${n}`,open:o,onClose:i,initialFocus:a,role:l="dialog",autoFocus:s=!0,__demoMode:c=!1,unmount:u=!1,...g}=e,d=b.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(d.current||(d.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let m=qg();o===void 0&&m!==null&&(o=(m&Un.Open)===Un.Open);let I=b.useRef(null),h=on(I,t),A=ds(I),C=o?0:1,[p,v]=b.useReducer(vIe,{titleId:null,descriptionId:null,panelRef:b.createRef()}),y=Ne(()=>i(!1)),x=Ne(M=>v({type:0,id:M})),S=mI()?C===0:!1,[B,Z]=kL(),R={get current(){var M;return(M=p.panelRef.current)!=null?M:I.current}},w=UG(),{resolveContainers:k}=WL({mainTreeNode:w,portals:B,defaultContainers:[R]}),V=m!==null?(m&Un.Closing)===Un.Closing:!1;vfe(c||V?!1:S,{allowed:Ne(()=>{var M,Y;return[(Y=(M=I.current)==null?void 0:M.closest("[data-headlessui-portal]"))!=null?Y:null]}),disallowed:Ne(()=>{var M;return[(M=w==null?void 0:w.closest("body > *:not(#headlessui-portal-root)"))!=null?M:null]})}),tL(S,k,M=>{M.preventDefault(),y()}),nIe(S,A==null?void 0:A.defaultView,M=>{M.preventDefault(),M.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),y()}),nL(c||V?!1:S,A,k),HG(S,I,y);let[W,N]=KT(),X=b.useMemo(()=>[{dialogState:C,close:y,setTitleId:x,unmount:u},p],[C,p,y,x,u]),J=b.useMemo(()=>({open:C===0}),[C]),E={ref:h,id:r,role:l,tabIndex:-1,"aria-modal":c?void 0:C===0?!0:void 0,"aria-labelledby":p.titleId,"aria-describedby":W,unmount:u},F=!rIe(),H=Os.None;return S&&!c&&(H|=Os.RestoreFocus,H|=Os.TabLock,s&&(H|=Os.AutoFocus),F&&(H|=Os.InitialFocus)),G.createElement(SL,null,G.createElement(gN,{force:!0},G.createElement(VL,null,G.createElement($G.Provider,{value:X},G.createElement(RL,{target:I},G.createElement(gN,{force:!1},G.createElement(N,{slot:J},G.createElement(Z,null,G.createElement(lIe,{initialFocus:a,initialFocusFallback:I,containers:k,features:H},G.createElement(zT,{value:y},Dt({ourProps:E,theirProps:g,slot:J,defaultTag:yIe,features:xIe,visible:C===0,name:"Dialog"})))))))))))}),yIe="div",xIe=ji.RenderStrategy|ji.Static;function SIe(e,t){let{transition:n=!1,open:r,...o}=e,i=qg(),a=e.hasOwnProperty("open")||i!==null,l=e.hasOwnProperty("onClose");if(!a&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!o.static?G.createElement(Bp,null,G.createElement(un,{show:r,transition:n,unmount:o.unmount},G.createElement(dN,{ref:t,...o}))):G.createElement(Bp,null,G.createElement(dN,{ref:t,open:r,...o}))}let ZIe="div";function wIe(e,t){let n=b.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:o=!1,...i}=e,[{dialogState:a,unmount:l},s]=_A("Dialog.Panel"),c=on(t,s.panelRef),u=b.useMemo(()=>({open:a===0}),[a]),g=Ne(m=>{m.stopPropagation()}),d={ref:c,id:r,onClick:g};return G.createElement(o?QG:b.Fragment,{...o?{unmount:l}:{}},Dt({ourProps:d,theirProps:i,slot:u,defaultTag:ZIe,name:"Dialog.Panel"}))}let GIe="div";function BIe(e,t){let{transition:n=!1,...r}=e,[{dialogState:o,unmount:i}]=_A("Dialog.Backdrop"),a=b.useMemo(()=>({open:o===0}),[o]),l={ref:t,"aria-hidden":!0};return G.createElement(n?QG:b.Fragment,{...n?{unmount:i}:{}},Dt({ourProps:l,theirProps:r,slot:a,defaultTag:GIe,name:"Dialog.Backdrop"}))}let kIe="h2";function RIe(e,t){let n=b.useId(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:i,setTitleId:a}]=_A("Dialog.Title"),l=on(t);b.useEffect(()=>(a(r),()=>a(null)),[r,a]);let s=b.useMemo(()=>({open:i===0}),[i]);return Dt({ourProps:{ref:l,id:r},theirProps:o,slot:s,defaultTag:kIe,name:"Dialog.Title"})}let VIe=Wt(SIe),QA=Wt(wIe),qG=Wt(BIe),WIe=Wt(RIe),Hn=Object.assign(VIe,{Panel:QA,Title:WIe,Description:OT});var NIe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(NIe||{}),EIe=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(EIe||{});let XIe={0:e=>({...e,popoverState:An(e.popoverState,{0:1,1:0}),__demoMode:!1}),1(e){return e.popoverState===1?e:{...e,popoverState:1,__demoMode:!1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},eB=b.createContext(null);eB.displayName="PopoverContext";function $A(e){let t=b.useContext(eB);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,$A),n}return t}let qA=b.createContext(null);qA.displayName="PopoverAPIContext";function tB(e){let t=b.useContext(qA);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,tB),n}return t}let nB=b.createContext(null);nB.displayName="PopoverGroupContext";function jL(){return b.useContext(nB)}let eb=b.createContext(null);eb.displayName="PopoverPanelContext";function JIe(){return b.useContext(eb)}function YIe(e,t){return An(t.type,XIe,e,t)}let HIe="div";function FIe(e,t){var n;let{__demoMode:r=!1,...o}=e,i=b.useRef(null),a=on(t,TT(F=>{i.current=F})),l=b.useRef([]),s=b.useReducer(YIe,{__demoMode:r,popoverState:r?0:1,buttons:l,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:b.createRef(),afterPanelSentinel:b.createRef(),afterButtonSentinel:b.createRef()}),[{popoverState:c,button:u,buttonId:g,panel:d,panelId:m,beforePanelSentinel:I,afterPanelSentinel:h,afterButtonSentinel:A},C]=s,p=ds((n=i.current)!=null?n:u),v=b.useMemo(()=>{if(!u||!d)return!1;for(let P of document.querySelectorAll("body > *"))if(Number(P==null?void 0:P.contains(u))^Number(P==null?void 0:P.contains(d)))return!0;let F=jA(),H=F.indexOf(u),M=(H+F.length-1)%F.length,Y=(H+1)%F.length,T=F[M],O=F[Y];return!d.contains(T)&&!d.contains(O)},[u,d]),y=eo(g),x=eo(m),S=b.useMemo(()=>({buttonId:y,panelId:x,close:()=>C({type:1})}),[y,x,C]),B=jL(),Z=B==null?void 0:B.registerPopover,R=Ne(()=>{var F;return(F=B==null?void 0:B.isFocusWithinPopoverGroup())!=null?F:(p==null?void 0:p.activeElement)&&((u==null?void 0:u.contains(p.activeElement))||(d==null?void 0:d.contains(p.activeElement)))});b.useEffect(()=>Z==null?void 0:Z(S),[Z,S]);let[w,k]=kL(),V=UG(u),W=WL({mainTreeNode:V,portals:w,defaultContainers:[u,d]});MG(p==null?void 0:p.defaultView,"focus",F=>{var H,M,Y,T,O,P;F.target!==window&&F.target instanceof HTMLElement&&c===0&&(R()||u&&d&&(W.contains(F.target)||(M=(H=I.current)==null?void 0:H.contains)!=null&&M.call(H,F.target)||(T=(Y=h.current)==null?void 0:Y.contains)!=null&&T.call(Y,F.target)||(P=(O=A.current)==null?void 0:O.contains)!=null&&P.call(O,F.target)||C({type:1})))},!0),tL(c===0,W.resolveContainers,(F,H)=>{C({type:1}),$T(H,FG.Loose)||(F.preventDefault(),u==null||u.focus())});let N=Ne(F=>{C({type:1});let H=(()=>F?F instanceof HTMLElement?F:"current"in F&&F.current instanceof HTMLElement?F.current:u:u)();H==null||H.focus()}),X=b.useMemo(()=>({close:N,isPortalled:v}),[N,v]),J=b.useMemo(()=>({open:c===0,close:N}),[c,N]),E={ref:a};return G.createElement(Bp,{node:V},G.createElement(Kme,null,G.createElement(eb.Provider,{value:null},G.createElement(eB.Provider,{value:s},G.createElement(qA.Provider,{value:X},G.createElement(zT,{value:N},G.createElement(xL,{value:An(c,{0:Un.Open,1:Un.Closed})},G.createElement(k,null,Dt({ourProps:E,theirProps:o,slot:J,defaultTag:HIe,name:"Popover"})))))))))}let MIe="button";function jIe(e,t){let n=b.useId(),{id:r=`headlessui-popover-button-${n}`,disabled:o=!1,autoFocus:i=!1,...a}=e,[l,s]=$A("Popover.Button"),{isPortalled:c}=tB("Popover.Button"),u=b.useRef(null),g=`headlessui-focus-sentinel-${b.useId()}`,d=jL(),m=d==null?void 0:d.closeOthers,I=JIe()!==null;b.useEffect(()=>{if(!I)return s({type:3,buttonId:r}),()=>{s({type:3,buttonId:null})}},[I,r,s]);let[h]=b.useState(()=>Symbol()),A=on(u,t,jme(),I?null:H=>{if(H)l.buttons.current.push(h);else{let M=l.buttons.current.indexOf(h);M!==-1&&l.buttons.current.splice(M,1)}l.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),H&&s({type:2,button:H})}),C=on(u,t),p=ds(u),v=Ne(H=>{var M,Y,T;if(I){if(l.popoverState===1)return;switch(H.key){case fn.Space:case fn.Enter:H.preventDefault(),(Y=(M=H.target).click)==null||Y.call(M),s({type:1}),(T=l.button)==null||T.focus();break}}else switch(H.key){case fn.Space:case fn.Enter:H.preventDefault(),H.stopPropagation(),l.popoverState===1&&(m==null||m(l.buttonId)),s({type:0});break;case fn.Escape:if(l.popoverState!==0)return m==null?void 0:m(l.buttonId);if(!u.current||p!=null&&p.activeElement&&!u.current.contains(p.activeElement))return;H.preventDefault(),H.stopPropagation(),s({type:1});break}}),y=Ne(H=>{I||H.key===fn.Space&&H.preventDefault()}),x=Ne(H=>{var M,Y;YG(H.currentTarget)||o||(I?(s({type:1}),(M=l.button)==null||M.focus()):(H.preventDefault(),H.stopPropagation(),l.popoverState===1&&(m==null||m(l.buttonId)),s({type:0}),(Y=l.button)==null||Y.focus()))}),S=Ne(H=>{H.preventDefault(),H.stopPropagation()}),{isFocusVisible:B,focusProps:Z}=HA({autoFocus:i}),{isHovered:R,hoverProps:w}=EG({isDisabled:o}),{pressed:k,pressProps:V}=XG({disabled:o}),W=l.popoverState===0,N=b.useMemo(()=>({open:W,active:k||W,disabled:o,hover:R,focus:B,autofocus:i}),[W,R,B,k,o,i]),X=jG(e,u),J=tg(I?{ref:C,type:X,onKeyDown:v,onClick:x,disabled:o||void 0,autoFocus:i}:{ref:A,id:l.buttonId,type:X,"aria-expanded":l.popoverState===0,"aria-controls":l.panel?l.panelId:void 0,disabled:o||void 0,autoFocus:i,onKeyDown:v,onKeyUp:y,onClick:x,onMouseDown:S},Z,w,V),E=_G(),F=Ne(()=>{let H=l.panel;if(!H)return;function M(){An(E.current,{[to.Forwards]:()=>Xn(H,Bt.First),[to.Backwards]:()=>Xn(H,Bt.Last)})===Bi.Error&&Xn(jA().filter(Y=>Y.dataset.headlessuiFocusGuard!=="true"),An(E.current,{[to.Forwards]:Bt.Next,[to.Backwards]:Bt.Previous}),{relativeTo:l.button})}M()});return G.createElement(G.Fragment,null,Dt({ourProps:J,theirProps:a,slot:N,defaultTag:MIe,name:"Popover.Button"}),W&&!I&&c&&G.createElement(Li,{id:g,ref:l.afterButtonSentinel,features:Ti.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:F}))}let TIe="div",LIe=ji.RenderStrategy|ji.Static;function TL(e,t){let n=b.useId(),{id:r=`headlessui-popover-backdrop-${n}`,transition:o=!1,...i}=e,[{popoverState:a},l]=$A("Popover.Backdrop"),s=b.useRef(null),c=on(t,s),u=qg(),[g,d]=LG(o,s,u!==null?(u&Un.Open)===Un.Open:a===0),m=Ne(A=>{if(YG(A.currentTarget))return A.preventDefault();l({type:1})}),I=b.useMemo(()=>({open:a===0}),[a]),h={ref:c,id:r,"aria-hidden":!0,onClick:m,...TG(d)};return Dt({ourProps:h,theirProps:i,slot:I,defaultTag:TIe,features:LIe,visible:g,name:"Popover.Backdrop"})}let KIe="div",OIe=ji.RenderStrategy|ji.Static;function PIe(e,t){let n=b.useId(),{id:r=`headlessui-popover-panel-${n}`,focus:o=!1,anchor:i,portal:a=!1,modal:l=!1,transition:s=!1,...c}=e,[u,g]=$A("Popover.Panel"),{close:d,isPortalled:m}=tB("Popover.Panel"),I=`headlessui-focus-sentinel-before-${n}`,h=`headlessui-focus-sentinel-after-${n}`,A=b.useRef(null),C=Mme(i),[p,v]=Lme(C),y=Tme();C&&(a=!0);let x=on(A,t,C?p:null,F=>{g({type:4,panel:F})}),S=ds(A),B=Ede();St(()=>(g({type:5,panelId:r}),()=>{g({type:5,panelId:null})}),[r,g]);let Z=qg(),[R,w]=LG(s,A,Z!==null?(Z&Un.Open)===Un.Open:u.popoverState===0);HG(R,u.button,()=>{g({type:1})});let k=u.__demoMode?!1:l&&R;nL(k,S);let V=Ne(F=>{var H;switch(F.key){case fn.Escape:if(u.popoverState!==0||!A.current||S!=null&&S.activeElement&&!A.current.contains(S.activeElement))return;F.preventDefault(),F.stopPropagation(),g({type:1}),(H=u.button)==null||H.focus();break}});b.useEffect(()=>{var F;e.static||u.popoverState===1&&((F=e.unmount)==null||F)&&g({type:4,panel:null})},[u.popoverState,e.unmount,e.static,g]),b.useEffect(()=>{if(u.__demoMode||!o||u.popoverState!==0||!A.current)return;let F=S==null?void 0:S.activeElement;A.current.contains(F)||Xn(A.current,Bt.First)},[u.__demoMode,o,A.current,u.popoverState]);let W=b.useMemo(()=>({open:u.popoverState===0,close:d}),[u.popoverState,d]),N=tg(C?y():{},{ref:x,id:r,onKeyDown:V,onBlur:o&&u.popoverState===0?F=>{var H,M,Y,T,O;let P=F.relatedTarget;P&&A.current&&((H=A.current)!=null&&H.contains(P)||(g({type:1}),((Y=(M=u.beforePanelSentinel.current)==null?void 0:M.contains)!=null&&Y.call(M,P)||(O=(T=u.afterPanelSentinel.current)==null?void 0:T.contains)!=null&&O.call(T,P))&&P.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...c.style,...v,"--button-width":pfe(u.button,!0).width},...TG(w)}),X=_G(),J=Ne(()=>{let F=A.current;if(!F)return;function H(){An(X.current,{[to.Forwards]:()=>{var M;Xn(F,Bt.First)===Bi.Error&&((M=u.afterPanelSentinel.current)==null||M.focus())},[to.Backwards]:()=>{var M;(M=u.button)==null||M.focus({preventScroll:!0})}})}H()}),E=Ne(()=>{let F=A.current;if(!F)return;function H(){An(X.current,{[to.Forwards]:()=>{var M;if(!u.button)return;let Y=jA(),T=Y.indexOf(u.button),O=Y.slice(0,T+1),P=[...Y.slice(T+1),...O];for(let L of P.slice())if(L.dataset.headlessuiFocusGuard==="true"||(M=u.panel)!=null&&M.contains(L)){let j=P.indexOf(L);j!==-1&&P.splice(j,1)}Xn(P,Bt.First,{sorted:!1})},[to.Backwards]:()=>{var M;Xn(F,Bt.Previous)===Bi.Error&&((M=u.button)==null||M.focus())}})}H()});return G.createElement(SL,null,G.createElement(eb.Provider,{value:r},G.createElement(qA.Provider,{value:{close:d,isPortalled:m}},G.createElement(VL,{enabled:a?e.static||R:!1},R&&m&&G.createElement(Li,{id:I,ref:u.beforePanelSentinel,features:Ti.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:J}),Dt({mergeRefs:B,ourProps:N,theirProps:c,slot:W,defaultTag:KIe,features:OIe,visible:R,name:"Popover.Panel"}),R&&m&&G.createElement(Li,{id:h,ref:u.afterPanelSentinel,features:Ti.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:E})))))}let DIe="div";function zIe(e,t){let n=b.useRef(null),r=on(n,t),[o,i]=b.useState([]),a=Ne(I=>{i(h=>{let A=h.indexOf(I);if(A!==-1){let C=h.slice();return C.splice(A,1),C}return h})}),l=Ne(I=>(i(h=>[...h,I]),()=>a(I))),s=Ne(()=>{var I;let h=Jc(n);if(!h)return!1;let A=h.activeElement;return(I=n.current)!=null&&I.contains(A)?!0:o.some(C=>{var p,v;return((p=h.getElementById(C.buttonId.current))==null?void 0:p.contains(A))||((v=h.getElementById(C.panelId.current))==null?void 0:v.contains(A))})}),c=Ne(I=>{for(let h of o)h.buttonId.current!==I&&h.close()}),u=b.useMemo(()=>({registerPopover:l,unregisterPopover:a,isFocusWithinPopoverGroup:s,closeOthers:c}),[l,a,s,c]),g=b.useMemo(()=>({}),[]),d=e,m={ref:r};return G.createElement(Bp,null,G.createElement(nB.Provider,{value:u},Dt({ourProps:m,theirProps:d,slot:g,defaultTag:DIe,name:"Popover.Group"})))}let UIe=Wt(FIe),rB=Wt(jIe),_Ie=Wt(TL),LL=Wt(TL),KL=Wt(PIe),QIe=Wt(zIe),$Ie=Object.assign(UIe,{Button:rB,Backdrop:LL,Overlay:_Ie,Panel:KL,Group:QIe}),oB=b.createContext(null);oB.displayName="GroupContext";let qIe=b.Fragment;function ehe(e){var t;let[n,r]=b.useState(null),[o,i]=Qde(),[a,l]=KT(),s=b.useMemo(()=>({switch:n,setSwitch:r}),[n,r]),c={},u=e;return G.createElement(l,{name:"Switch.Description",value:a},G.createElement(i,{name:"Switch.Label",value:o,props:{htmlFor:(t=s.switch)==null?void 0:t.id,onClick(g){n&&(g.currentTarget instanceof HTMLLabelElement&&g.preventDefault(),n.click(),n.focus({preventScroll:!0}))}}},G.createElement(oB.Provider,{value:s},Dt({ourProps:c,theirProps:u,slot:{},defaultTag:qIe,name:"Switch.Group"}))))}let the="button";function nhe(e,t){var n;let r=b.useId(),o=MT(),i=JG(),{id:a=o||`headlessui-switch-${r}`,disabled:l=i||!1,checked:s,defaultChecked:c,onChange:u,name:g,value:d,form:m,autoFocus:I=!1,...h}=e,A=b.useContext(oB),C=b.useRef(null),p=on(C,t,A===null?null:A.setSwitch),v=Yde(c),[y,x]=Jde(s,u,v??!1),S=Yc(),[B,Z]=b.useState(!1),R=Ne(()=>{Z(!0),x==null||x(!y),S.nextFrame(()=>{Z(!1)})}),w=Ne(P=>{if(YG(P.currentTarget))return P.preventDefault();P.preventDefault(),R()}),k=Ne(P=>{P.key===fn.Space?(P.preventDefault(),R()):P.key===fn.Enter&&Hde(P.currentTarget)}),V=Ne(P=>P.preventDefault()),W=DT(),N=Dde(),{isFocusVisible:X,focusProps:J}=HA({autoFocus:I}),{isHovered:E,hoverProps:F}=EG({isDisabled:l}),{pressed:H,pressProps:M}=XG({disabled:l}),Y=b.useMemo(()=>({checked:y,disabled:l,hover:E,focus:X,active:H,autofocus:I,changing:B}),[y,E,X,H,l,B,I]),T=tg({id:a,ref:p,role:"switch",type:jG(e,C),tabIndex:e.tabIndex===-1?0:(n=e.tabIndex)!=null?n:0,"aria-checked":y,"aria-labelledby":W,"aria-describedby":N,disabled:l||void 0,autoFocus:I,onClick:w,onKeyUp:k,onKeyPress:V},J,F,M),O=b.useCallback(()=>{if(v!==void 0)return x==null?void 0:x(v)},[x,v]);return G.createElement(G.Fragment,null,g!=null&&G.createElement(Lde,{disabled:l,data:{[g]:d||"on"},overrides:{type:"checkbox",checked:y},form:m,onReset:O}),Dt({ourProps:T,theirProps:h,slot:Y,defaultTag:the,name:"Switch"}))}let rhe=Wt(nhe),ohe=ehe,ihe=tfe,ahe=OT,lhe=Object.assign(rhe,{Group:ohe,Label:ihe,Description:ahe});function she({onFocus:e}){let[t,n]=b.useState(!0),r=PA();return t?G.createElement(Li,{as:"button",type:"button",features:Ti.Focusable,onFocus:o=>{o.preventDefault();let i,a=50;function l(){if(a--<=0){i&&cancelAnimationFrame(i);return}if(e()){if(cancelAnimationFrame(i),!r.current)return;n(!1);return}i=requestAnimationFrame(l)}i=requestAnimationFrame(l)}}):null}const OL=b.createContext(null);function che(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let o=(n=r.get(t))!=null?n:0;r.set(t,o+1);let i=Array.from(r.keys()).indexOf(t);function a(){let l=r.get(t);l>1?r.set(t,l-1):r.delete(t)}return[i,a]}}}function uhe({children:e}){let t=b.useRef(che());return b.createElement(OL.Provider,{value:t},e)}function PL(e){let t=b.useContext(OL);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=b.useId(),[r,o]=t.current.get(e,n);return b.useEffect(()=>o,[]),r}var ghe=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ghe||{}),dhe=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(dhe||{}),fhe=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(fhe||{});let mhe={0(e,t){var n;let r=Cu(e.tabs,u=>u.current),o=Cu(e.panels,u=>u.current),i=r.filter(u=>{var g;return!((g=u.current)!=null&&g.hasAttribute("disabled"))}),a={...e,tabs:r,panels:o};if(t.index<0||t.index>r.length-1){let u=An(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>An(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(i.length===0)return a;let g=An(u,{0:()=>r.indexOf(i[0]),1:()=>r.indexOf(i[i.length-1])});return{...a,selectedIndex:g===-1?e.selectedIndex:g}}let l=r.slice(0,t.index),s=[...r.slice(t.index),...l].find(u=>i.includes(u));if(!s)return a;let c=(n=r.indexOf(s))!=null?n:e.selectedIndex;return c===-1&&(c=e.selectedIndex),{...a,selectedIndex:c}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=Cu([...e.tabs,t.tab],i=>i.current),o=e.selectedIndex;return e.info.current.isControlled||(o=r.indexOf(n),o===-1&&(o=e.selectedIndex)),{...e,tabs:r,selectedIndex:o}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:Cu([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},iB=b.createContext(null);iB.displayName="TabsDataContext";function rg(e){let t=b.useContext(iB);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,rg),n}return t}let aB=b.createContext(null);aB.displayName="TabsActionsContext";function lB(e){let t=b.useContext(aB);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,lB),n}return t}function Ihe(e,t){return An(t.type,mhe,e,t)}let hhe="div";function Che(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:o=!1,onChange:i,selectedIndex:a=null,...l}=e;const s=r?"vertical":"horizontal",c=o?"manual":"auto";let u=a!==null,g=eo({isControlled:u}),d=on(t),[m,I]=b.useReducer(Ihe,{info:g,selectedIndex:a??n,tabs:[],panels:[]}),h=b.useMemo(()=>({selectedIndex:m.selectedIndex}),[m.selectedIndex]),A=eo(i||(()=>{})),C=eo(m.tabs),p=b.useMemo(()=>({orientation:s,activation:c,...m}),[s,c,m]),v=Ne(R=>(I({type:1,tab:R}),()=>I({type:2,tab:R}))),y=Ne(R=>(I({type:3,panel:R}),()=>I({type:4,panel:R}))),x=Ne(R=>{S.current!==R&&A.current(R),u||I({type:0,index:R})}),S=eo(u?e.selectedIndex:m.selectedIndex),B=b.useMemo(()=>({registerTab:v,registerPanel:y,change:x}),[]);St(()=>{I({type:0,index:a??n})},[a]),St(()=>{if(S.current===void 0||m.tabs.length<=0)return;let R=Cu(m.tabs,w=>w.current);R.some((w,k)=>m.tabs[k]!==w)&&x(R.indexOf(m.tabs[S.current]))});let Z={ref:d};return G.createElement(uhe,null,G.createElement(aB.Provider,{value:B},G.createElement(iB.Provider,{value:p},p.tabs.length<=0&&G.createElement(she,{onFocus:()=>{var R,w;for(let k of C.current)if(((R=k.current)==null?void 0:R.tabIndex)===0)return(w=k.current)==null||w.focus(),!0;return!1}}),Dt({ourProps:Z,theirProps:l,slot:h,defaultTag:hhe,name:"Tabs"}))))}let phe="div";function Ahe(e,t){let{orientation:n,selectedIndex:r}=rg("Tab.List"),o=on(t),i=b.useMemo(()=>({selectedIndex:r}),[r]);return Dt({ourProps:{ref:o,role:"tablist","aria-orientation":n},theirProps:e,slot:i,defaultTag:phe,name:"Tabs.List"})}let bhe="button";function vhe(e,t){var n,r;let o=b.useId(),{id:i=`headlessui-tabs-tab-${o}`,disabled:a=!1,autoFocus:l=!1,...s}=e,{orientation:c,activation:u,selectedIndex:g,tabs:d,panels:m}=rg("Tab"),I=lB("Tab"),h=rg("Tab"),A=b.useRef(null),C=on(A,t);St(()=>I.registerTab(A),[I,A]);let p=PL("tabs"),v=d.indexOf(A);v===-1&&(v=p);let y=v===g,x=Ne(F=>{var H;let M=F();if(M===Bi.Success&&u==="auto"){let Y=(H=Jc(A))==null?void 0:H.activeElement,T=h.tabs.findIndex(O=>O.current===Y);T!==-1&&I.change(T)}return M}),S=Ne(F=>{let H=d.map(M=>M.current).filter(Boolean);if(F.key===fn.Space||F.key===fn.Enter){F.preventDefault(),F.stopPropagation(),I.change(v);return}switch(F.key){case fn.Home:case fn.PageUp:return F.preventDefault(),F.stopPropagation(),x(()=>Xn(H,Bt.First));case fn.End:case fn.PageDown:return F.preventDefault(),F.stopPropagation(),x(()=>Xn(H,Bt.Last))}if(x(()=>An(c,{vertical(){return F.key===fn.ArrowUp?Xn(H,Bt.Previous|Bt.WrapAround):F.key===fn.ArrowDown?Xn(H,Bt.Next|Bt.WrapAround):Bi.Error},horizontal(){return F.key===fn.ArrowLeft?Xn(H,Bt.Previous|Bt.WrapAround):F.key===fn.ArrowRight?Xn(H,Bt.Next|Bt.WrapAround):Bi.Error}}))===Bi.Success)return F.preventDefault()}),B=b.useRef(!1),Z=Ne(()=>{var F;B.current||(B.current=!0,(F=A.current)==null||F.focus({preventScroll:!0}),I.change(v),uI(()=>{B.current=!1}))}),R=Ne(F=>{F.preventDefault()}),{isFocusVisible:w,focusProps:k}=HA({autoFocus:l}),{isHovered:V,hoverProps:W}=EG({isDisabled:a}),{pressed:N,pressProps:X}=XG({disabled:a}),J=b.useMemo(()=>({selected:y,hover:V,active:N,focus:w,autofocus:l,disabled:a}),[y,V,w,N,l,a]),E=tg({ref:C,onKeyDown:S,onMouseDown:R,onClick:Z,id:i,role:"tab",type:jG(e,A),"aria-controls":(r=(n=m[v])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":y,tabIndex:y?0:-1,disabled:a||void 0,autoFocus:l},k,W,X);return Dt({ourProps:E,theirProps:s,slot:J,defaultTag:bhe,name:"Tabs.Tab"})}let yhe="div";function xhe(e,t){let{selectedIndex:n}=rg("Tab.Panels"),r=on(t),o=b.useMemo(()=>({selectedIndex:n}),[n]);return Dt({ourProps:{ref:r},theirProps:e,slot:o,defaultTag:yhe,name:"Tabs.Panels"})}let She="div",Zhe=ji.RenderStrategy|ji.Static;function whe(e,t){var n,r,o,i;let a=b.useId(),{id:l=`headlessui-tabs-panel-${a}`,tabIndex:s=0,...c}=e,{selectedIndex:u,tabs:g,panels:d}=rg("Tab.Panel"),m=lB("Tab.Panel"),I=b.useRef(null),h=on(I,t);St(()=>m.registerPanel(I),[m,I]);let A=PL("panels"),C=d.indexOf(I);C===-1&&(C=A);let p=C===u,{isFocusVisible:v,focusProps:y}=HA(),x=b.useMemo(()=>({selected:p,focus:v}),[p,v]),S=tg({ref:h,id:l,role:"tabpanel","aria-labelledby":(r=(n=g[C])==null?void 0:n.current)==null?void 0:r.id,tabIndex:p?s:-1},y);return!p&&((o=c.unmount)==null||o)&&!((i=c.static)!=null&&i)?G.createElement(Li,{"aria-hidden":"true",...S}):Dt({ourProps:S,theirProps:c,slot:x,defaultTag:She,features:Zhe,visible:p,name:"Tabs.Panel"})}let Ghe=Wt(vhe),II=Wt(Che),hI=Wt(Ahe),tb=Wt(xhe),nb=Wt(whe),rb=Object.assign(Ghe,{Group:II,List:hI,Panels:tb,Panel:nb});const Bhe=()=>{const e="https://api.knowmeapp.com",[t,n]=b.useState([]),[r,o]=b.useState(null);b.useEffect(()=>{(async()=>{try{const s=localStorage.getItem("token"),c=localStorage.getItem("id"),u=await ve.get(`${e}/api/gallery/search/${c}`,{headers:{"x-token":s}});if(u.data.ok){const g=u.data.gallery.map(d=>({id:d.id_gallery,src:d.image_url,alt:`Image ${d.id_gallery}`}));n(g)}}catch(s){console.error("Error al obtener las imágenes:",s)}})()},[]);const i=async l=>{const s=l.target.files[0];if(o(s),s)try{const c=new FormData;c.append("recfile",s),c.append("id_profile",localStorage.getItem("id"));const u=localStorage.getItem("token"),g=await ve.post(`${e}/api/gallery`,c,{headers:{"x-token":u,"Content-Type":"multipart/form-data"}});if(g.data.ok){const d={id:g.data.id,src:URL.createObjectURL(s),alt:s.name},m=[...t,d];n(m)}}catch(c){console.error("Error al subir la imagen:",c)}},a=async l=>{try{const s=localStorage.getItem("token"),c=await ve.delete(`${e}/api/gallery/${l}`,{headers:{"x-token":s}});if(c.data.ok){const u=t.filter(g=>g.id!==l);n(u)}else console.error("Error al eliminar la imagen:",c.data.msg)}catch(s){console.error("Error al eliminar la imagen:",s)}};return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"px-auto col-span-full w-full",children:[f.jsx("h1",{className:"font-bold",children:"Galería"}),f.jsxs(II,{className:"flex flex-col-reverse",children:[f.jsx("div",{className:"lg:mx-3 mt-6 w-full max-w-md sm:block lg:max-w-none lg:px-5",children:f.jsxs(hI,{className:"grid grid-cols-4 gap-4",children:[t.map(l=>f.jsx(rb,{className:"relative h-24 sm:w-24 cursor-pointer items-center justify-center ring-4 ring-transparent rounded-md bg-white text-sm font-medium uppercase text-gray-900 hover:bg-orange-50 focus:outline-none focus:ring-4 focus:ring-orange-500 focus:ring-offset-4",children:({selected:s})=>f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"sr-only",children:l.alt}),f.jsx("span",{className:"absolute inset-0 overflow-hidden rounded-md",children:f.jsx("img",{src:l.src,alt:l.alt,className:"h-full w-full object-cover object-center"})}),f.jsx("button",{type:"button",className:"absolute top-1 right-1 text-white bg-red-500 h-8 w-8 rounded-full p-1",onClick:c=>{c.stopPropagation(),a(l.id)},children:"×"})]})},l.id)),f.jsxs("label",{htmlFor:"image-upload",className:"relative flex h-24 sm:w-24 cursor-pointer items-center justify-center rounded-md bg-white text-sm font-medium uppercase text-gray-900 hover:bg-orange-50 focus:outline-none focus:ring focus:ring-opacity-50 focus:ring-offset-4",children:[f.jsx(D4,{className:"h-6 w-6 text-gray-500"}),f.jsx("input",{id:"image-upload",type:"file",accept:"image/*",className:"sr-only",onChange:i})]})]})}),f.jsx(tb,{className:"w-full max-h-96 flex justify-center m-2",children:t.map(l=>f.jsx(nb,{children:f.jsx("img",{src:l.src,alt:l.alt,className:"h-96 max-w-full object-cover object-center sm:rounded-lg"})},l.id))})]})]})})},khe=()=>{const e="https://api.knowmeapp.com",[t,n]=b.useState([]),[r,o]=b.useState(!1),[i,a]=b.useState(null),[l,s]=b.useState(""),[c,u]=b.useState(!1),[g,d]=b.useState({title:"",description:"",phoneNumber:"",product_url:"",countryCode:"+52",price:""}),[m,I]=b.useState(!1),[h,A]=b.useState(null),[C,p]=b.useState(!1);b.useEffect(()=>{(async()=>{try{const k=localStorage.getItem("token"),V=localStorage.getItem("id"),W=await ve.get(`${e}/api/products_services/search/${V}`,{headers:{"x-token":k}});W.data.ok&&Array.isArray(W.data.productsServices)?n(W.data.productsServices):n([])}catch(k){console.error("Error al obtener los productos y servicios:",k),n([])}})()},[]);const v=w=>{const{name:k,value:V}=w.target;if(k==="price"){const W=V.replace(/[^0-9.]/g,"");(/^\d*\.?\d{0,2}$/.test(W)||W==="")&&d(X=>({...X,[k]:W}))}else if(k==="phoneNumber"){const W=V.replace(/\s/g,"");d(N=>({...N,[k]:W}))}else d(W=>({...W,[k]:V}))},y=async()=>{if(!i){s("La imagen es obligatoria");return}p(!0);const w={title:g.title,description:g.description,phoneNumber:g.phoneNumber,countryCode:g.countryCode,product_url:g.product_url,price:g.price||""},k=new FormData;k.append("recfile",i),k.append("id_profile",localStorage.getItem("id")),k.append("title",w.title),k.append("description",w.description),k.append("product_url",w.product_url),k.append("contact_number",`${w.countryCode}${w.phoneNumber}`),k.append("price",w.price);const V=localStorage.getItem("token");try{m?await ve.post(`${e}/api/products_services/update/${h}`,k,{headers:{"x-token":V,"Content-Type":"multipart/form-data"}}):await ve.post(`${e}/api/products_services`,k,{headers:{"x-token":V,"Content-Type":"multipart/form-data"}});const W=await ve.get(`${e}/api/products_services/search/${localStorage.getItem("id")}`,{headers:{"x-token":V}});n(W.data.productsServices),Z()}catch(W){console.error("Error al guardar el producto o servicio:",W)}finally{p(!1)}},x=w=>{const k=w.target.files[0];if(k){if(!["image/png","image/jpeg","image/jpg"].includes(k.type)){s("Solo se permiten archivos PNG o JPG"),a(null),u(!1);return}s(""),a(k)}},S=async w=>{const k=localStorage.getItem("token");try{await ve.delete(`${e}/api/products_services/${w}`,{headers:{"x-token":k}}),n(t.filter(V=>V.id_product!==w))}catch(V){console.error("Error al eliminar el producto o servicio:",V)}},B=w=>{const k=t.find(V=>V.id_product===w);d({title:k.title,description:k.description,product_url:k.product_url,phoneNumber:k.contact_number.replace(k.countryCode,""),countryCode:k.countryCode,price:k.price}),a(k.image_url),I(!0),A(w),o(!0)},Z=()=>{o(!1),a(null),d({title:"",description:"",phoneNumber:"",countryCode:"+52",price:""}),s(""),I(!1),A(null)},R=w=>{const k=`${w.countryCode}${w.contact_number}`;let V=`Hola, estoy interesado en el producto "${w.title}" que vi en Know Me. Descripción: ${w.description}.`;return w.price&&w.price!=="0.00"&&(V+=` Precio: ${new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(w.price)}.`),`https://api.whatsapp.com/send?phone=${encodeURIComponent(k)}&text=${encodeURIComponent(V)}&type=phone_number&app_absent=0`};return b.useEffect(()=>{const{title:w,description:k,phoneNumber:V}=g;u(!!(w&&k&&V&&i))},[g,i]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"px-auto col-span-full w-full",children:[f.jsx("h1",{className:"font-bold text-lg",children:"Productos y Servicios"}),f.jsxs(II,{className:"flex flex-col-reverse",children:[f.jsx("div",{className:" mt-10 w-full max-w-md sm:block lg:max-w-none",children:f.jsxs(hI,{className:"grid grid-cols-4 gap-4",children:[t.map(w=>f.jsx(rb,{className:"relative h-24 sm:w-24 cursor-pointer items-center justify-center ring-4 ring-transparent rounded-md bg-white text-sm font-medium uppercase text-white hover:bg-orange-50 focus:outline-none focus:ring-4 focus:ring-orange-500 focus:ring-offset-4",children:({selected:k})=>f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"sr-only",children:w.title}),f.jsx("span",{className:"absolute inset-0 overflow-hidden rounded-md",children:f.jsx("div",{className:"flex flex-col items-center justify-center h-full  w-full",children:w.image_url&&f.jsx("img",{src:w.image_url,alt:w.title,className:"h-full w-full object-cover"})})}),f.jsx("span",{className:Ve(k?"ring-orange-500":"ring-transparent","pointer-events-none absolute inset-0 rounded-md ring-2 ring-offset-2"),"aria-hidden":"true"}),f.jsx("button",{type:"button",className:"absolute top-1 left-1 text-white bg-blue-500 h-8 w-8 flex justify-center items-center rounded-full p-1",onClick:()=>B(w.id_product),children:f.jsx(Mq,{})}),f.jsx("button",{type:"button",className:"absolute top-1 right-1 text-white bg-red-500 h-8 w-8 rounded-full p-1",onClick:V=>{V.stopPropagation(),S(w.id_product)},children:"×"})]})},w.id_product)),f.jsx("div",{className:"relative flex h-24 sm:w-24 cursor-pointer items-center justify-center rounded-md bg-white text-sm font-medium uppercase text-white hover:bg-orange-50 focus:outline-none focus:ring focus:ring-opacity-50 focus:ring-offset-4",onClick:()=>o(!0),children:f.jsx(D4,{className:"h-6 w-6 text-gray-500"})})]})}),f.jsx(tb,{className:"w-full bg-black max-h-96 flex justify-start my-2",children:t.map(w=>f.jsx(nb,{className:"w-full",children:f.jsxs("div",{className:"w-full flex bg-white border border-gray-200 rounded-lg shadow p-2",children:[f.jsx("a",{href:"#",children:w.image_url&&f.jsx("img",{className:"rounded-lg w-full max-h-96 object-cover",src:w.image_url,alt:w.title})}),f.jsxs("div",{className:"p-2 flex flex-col justify-between w-full",children:[f.jsxs("div",{className:"",children:[f.jsx("a",{href:"#",children:f.jsx("h5",{className:"mb-2 text-right text-xl font-bold tracking-tight text-gray-900 dark:text-white",children:w.title})}),f.jsx("p",{className:"mb-2 text-xs text-right font-normal text-gray-700",children:w.description}),w.price&&w.price!=="0.00"&&f.jsx("p",{className:"text-lg text-right font-semibold text-black",children:`${new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(w.price)}`})]}),f.jsxs("div",{className:"mt-2 flex",children:[f.jsxs("a",{href:R(w),target:"_blank",rel:"noopener noreferrer",className:"relative flex items-center w-full justify-center rounded-md border border-transparent bg-gray-100 px-6 py-2 text-sm font-medium text-gray-900 hover:bg-gray-200",children:["Contactar",f.jsxs("span",{className:"sr-only",children:[", ",w.title]})]}),w.product_url&&f.jsxs("a",{href:w.product_url,target:"_blank",rel:"noopener noreferrer",className:"relative flex items-center justify-center ml-1 rounded-md border border-transparent bg-gray-100 px-2 py-2 text-sm font-medium text-gray-900 hover:bg-gray-200",children:[f.jsx(q4,{className:"text-black"}),f.jsxs("span",{className:"sr-only",children:[", ",w.product_url]})]})]})]})]})},w.id_product))})]})]}),r&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white p-6 rounded-md max-w-lg w-full",children:[f.jsx("h2",{className:"text-lg font-bold mb-4 text-gray-700",children:m?"Editar Producto/Servicio":"Agregar Producto/Servicio"}),f.jsxs("div",{children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700",children:"Imagen (PNG o JPG)"}),f.jsx("input",{id:"image",name:"image",type:"file",accept:"image/png, image/jpeg",onChange:x,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"}),l&&f.jsx("p",{className:"text-red-500 text-sm mt-2",children:l})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Título"}),f.jsx("input",{id:"title",name:"title",type:"text",required:!0,onChange:v,value:g.title,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm bg-white p-2"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Descripción"}),f.jsx("textarea",{id:"description",name:"description",required:!0,rows:3,onChange:v,value:g.description,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm bg-white p-2"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Url producto (opcional)"}),f.jsx("input",{id:"product_url",name:"product_url",onChange:v,value:g.product_url,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm bg-white p-2"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700",children:"Número de contacto (WhatsApp)"}),f.jsxs("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-orange-500 sm:max-w-md",children:[f.jsxs("select",{id:"countryCode",name:"countryCode",onChange:v,value:g.countryCode,className:"block flex-shrink-0 py-1.5 pl-3 pr-1 bg-gray-50 border-gray-300 focus:ring-0 sm:text-sm",children:[f.jsx("option",{value:"+52",children:"México (+52)"}),f.jsx("option",{value:"+34",children:"España (+34)"}),f.jsx("option",{value:"+506",children:"Costa Rica (+506)"}),f.jsx("option",{value:"+57",children:"Colombia (+57)"}),f.jsx("option",{value:"+1",children:"Estados Unidos / Canadá (+1)"})]}),f.jsx("input",{id:"phoneNumber",name:"phoneNumber",type:"tel",required:!0,onChange:v,value:g.phoneNumber,placeholder:"5512345678",className:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Precio (opcional)"}),f.jsx("input",{id:"price",name:"price",type:"text",placeholder:"Precio (opcional)",onChange:v,value:g.price,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm bg-white p-2"})]}),f.jsxs("div",{className:"flex justify-end space-x-4",children:[f.jsx("button",{type:"button",onClick:Z,className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Cancelar"}),f.jsx("button",{type:"button",onClick:y,disabled:!c||C,className:`px-4 py-2 ${c&&!C?"bg-orange-600 hover:bg-orange-700":"bg-gray-300 cursor-not-allowed"} text-white rounded-md`,children:C?f.jsxs("div",{className:"flex items-center",children:[f.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Procesando..."]}):m?"Guardar":"Agregar"})]})]})]})})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Kx=function(e,t){return Kx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Kx(e,t)};function Nt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Kx(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ee=function(){return Ee=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ee.apply(this,arguments)};function sB(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function Rhe(e,t,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(u){try{c(r.next(u))}catch(g){a(g)}}function s(u){try{c(r.throw(u))}catch(g){a(g)}}function c(u){u.done?i(u.value):o(u.value).then(l,s)}c((r=r.apply(e,t||[])).next())})}function Vhe(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(u){return s([c,u])}}function s(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],o=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function DL(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Whe=function(e,t,n,r,o,i,a,l){if(!e){var s;if(t===void 0)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,l],u=0;s=new Error(t.replace(/%s/g,function(){return c[u++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}},Nhe=Whe,In=DL(Nhe),$e=b.createContext(null);function Ehe(){In(!!b.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=b.useContext($e);return In(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}function Xhe(e,t,n){return Object.keys(e).reduce(function(o,i){return t(o,e[i],i)},n)}function Jhe(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function Yhe(e,t,n,r){var o={},i=function(a,l){var s=n[l];s!==t[l]&&(o[l]=s,a(r,s))};return Jhe(e,i),o}function Hhe(e,t,n){var r=Xhe(n,function(i,a,l){return typeof e[l]=="function"&&i.push(google.maps.event.addListener(t,a,e[l])),i},[]);return r}function Fhe(e){google.maps.event.removeListener(e)}function nt(e){e===void 0&&(e=[]),e.forEach(Fhe)}function tt(e){var t=e.updaterMap,n=e.eventMap,r=e.prevProps,o=e.nextProps,i=e.instance,a=Hhe(o,i,n);return Yhe(t,r,o,i),a}var fN={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},mN={extraMapTypes:function(e,t){t.forEach(function(r,o){e.mapTypes.set(String(o),r)})},center:function(e,t){e.setCenter(t)},clickableIcons:function(e,t){e.setClickableIcons(t)},heading:function(e,t){e.setHeading(t)},mapTypeId:function(e,t){e.setMapTypeId(t)},options:function(e,t){e.setOptions(t)},streetView:function(e,t){e.setStreetView(t)},tilt:function(e,t){e.setTilt(t)},zoom:function(e,t){e.setZoom(t)}};function Mhe(e){var t=e.children,n=e.options,r=e.id,o=e.mapContainerStyle,i=e.mapContainerClassName,a=e.center,l=e.onClick,s=e.onDblClick,c=e.onDrag,u=e.onDragEnd,g=e.onDragStart,d=e.onMouseMove,m=e.onMouseOut,I=e.onMouseOver,h=e.onMouseDown,A=e.onMouseUp,C=e.onRightClick,p=e.onCenterChanged,v=e.onLoad,y=e.onUnmount,x=b.useState(null),S=x[0],B=x[1],Z=b.useRef(null),R=b.useState(null),w=R[0],k=R[1],V=b.useState(null),W=V[0],N=V[1],X=b.useState(null),J=X[0],E=X[1],F=b.useState(null),H=F[0],M=F[1],Y=b.useState(null),T=Y[0],O=Y[1],P=b.useState(null),L=P[0],j=P[1],D=b.useState(null),$=D[0],K=D[1],z=b.useState(null),_=z[0],U=z[1],te=b.useState(null),ie=te[0],re=te[1],se=b.useState(null),ce=se[0],q=se[1],ee=b.useState(null),oe=ee[0],ae=ee[1],ne=b.useState(null),fe=ne[0],le=ne[1];return b.useEffect(function(){n&&S!==null&&S.setOptions(n)},[S,n]),b.useEffect(function(){S!==null&&typeof a<"u"&&S.setCenter(a)},[S,a]),b.useEffect(function(){S&&s&&(W!==null&&google.maps.event.removeListener(W),N(google.maps.event.addListener(S,"dblclick",s)))},[s]),b.useEffect(function(){S&&u&&(J!==null&&google.maps.event.removeListener(J),E(google.maps.event.addListener(S,"dragend",u)))},[u]),b.useEffect(function(){S&&g&&(H!==null&&google.maps.event.removeListener(H),M(google.maps.event.addListener(S,"dragstart",g)))},[g]),b.useEffect(function(){S&&h&&(T!==null&&google.maps.event.removeListener(T),O(google.maps.event.addListener(S,"mousedown",h)))},[h]),b.useEffect(function(){S&&d&&(L!==null&&google.maps.event.removeListener(L),j(google.maps.event.addListener(S,"mousemove",d)))},[d]),b.useEffect(function(){S&&m&&($!==null&&google.maps.event.removeListener($),K(google.maps.event.addListener(S,"mouseout",m)))},[m]),b.useEffect(function(){S&&I&&(_!==null&&google.maps.event.removeListener(_),U(google.maps.event.addListener(S,"mouseover",I)))},[I]),b.useEffect(function(){S&&A&&(ie!==null&&google.maps.event.removeListener(ie),re(google.maps.event.addListener(S,"mouseup",A)))},[A]),b.useEffect(function(){S&&C&&(ce!==null&&google.maps.event.removeListener(ce),q(google.maps.event.addListener(S,"rightclick",C)))},[C]),b.useEffect(function(){S&&l&&(oe!==null&&google.maps.event.removeListener(oe),ae(google.maps.event.addListener(S,"click",l)))},[l]),b.useEffect(function(){S&&c&&(fe!==null&&google.maps.event.removeListener(fe),le(google.maps.event.addListener(S,"drag",c)))},[c]),b.useEffect(function(){S&&p&&(w!==null&&google.maps.event.removeListener(w),k(google.maps.event.addListener(S,"center_changed",p)))},[l]),b.useEffect(function(){var be=Z.current===null?null:new google.maps.Map(Z.current,n);return B(be),be!==null&&v&&v(be),function(){be!==null&&y&&y(be)}},[]),f.jsx("div",{id:r,ref:Z,style:o,className:i,children:f.jsx($e.Provider,{value:S,children:S!==null?t:null})})}b.memo(Mhe);var zL=function(e){Nt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={map:null},n.registeredEvents=[],n.mapRef=null,n.getInstance=function(){return n.mapRef===null?null:new google.maps.Map(n.mapRef,n.props.options)},n.panTo=function(r){var o=n.getInstance();o&&o.panTo(r)},n.setMapCallback=function(){n.state.map!==null&&n.props.onLoad&&n.props.onLoad(n.state.map)},n.getRef=function(r){n.mapRef=r},n}return t.prototype.componentDidMount=function(){var n=this.getInstance();this.registeredEvents=tt({updaterMap:mN,eventMap:fN,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{map:n}},this.setMapCallback)},t.prototype.componentDidUpdate=function(n){this.state.map!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:mN,eventMap:fN,prevProps:n,nextProps:this.props,instance:this.state.map}))},t.prototype.componentWillUnmount=function(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),nt(this.registeredEvents))},t.prototype.render=function(){return f.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:f.jsx($e.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})},t}(b.PureComponent),qs=typeof document<"u";function UL(e){var t=e.url,n=e.id,r=e.nonce;return qs?new Promise(function(i,a){var l=document.getElementById(n),s=window;if(l){var c=l.getAttribute("data-state");if(l.src===t&&c!=="error"){if(c==="ready")return i(n);var u=s.initMap,g=l.onerror;s.initMap=function(){u&&u(),i(n)},l.onerror=function(m){g&&g(m),a(m)};return}else l.remove()}var d=document.createElement("script");d.type="text/javascript",d.src=t,d.id=n,d.async=!0,d.nonce=r||"",d.onerror=function(I){d.setAttribute("data-state","error"),a(I)},s.initMap=function(){d.setAttribute("data-state","ready"),i(n)},document.head.appendChild(d)}).catch(function(o){throw console.error("injectScript error: ",o),o}):Promise.reject(new Error("document is undefined"))}function IN(e){var t=e.href;return t&&(t.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:e.tagName.toLowerCase()==="style"&&e.styleSheet&&e.styleSheet.cssText&&e.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(e.styleSheet.cssText="",!0):e.tagName.toLowerCase()==="style"&&e.innerHTML&&e.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(e.innerHTML="",!0):e.tagName.toLowerCase()==="style"&&!e.styleSheet&&!e.innerHTML}function _L(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(o,i){return IN(o)||Reflect.apply(t,e,[o,i]),o};var n=e.appendChild.bind(e);e.appendChild=function(o){return IN(o)||Reflect.apply(n,e,[o]),o}}}function QL(e){var t=e.googleMapsApiKey,n=e.googleMapsClientId,r=e.version,o=r===void 0?"weekly":r,i=e.language,a=e.region,l=e.libraries,s=e.channel,c=e.mapIds,u=e.authReferrerPolicy,g=[];return In(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?g.push("key=".concat(t)):n&&g.push("client=".concat(n)),o&&g.push("v=".concat(o)),i&&g.push("language=".concat(i)),a&&g.push("region=".concat(a)),l&&l.length&&g.push("libraries=".concat(l.sort().join(","))),s&&g.push("channel=".concat(s)),c&&c.length&&g.push("map_ids=".concat(c.join(","))),u&&g.push("auth_referrer_policy=".concat(u)),g.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(g.join("&"))}var Rd=!1;function $L(){return f.jsx("div",{children:"Loading..."})}var Ox={id:"script-loader",version:"weekly"};(function(e){Nt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.check=b.createRef(),n.state={loaded:!1},n.cleanupCallback=function(){delete window.google.maps,n.injectScript()},n.isCleaningUp=function(){return Rhe(n,void 0,void 0,function(){function r(o){if(!Rd)o();else if(qs)var i=window.setInterval(function(){Rd||(window.clearInterval(i),o())},1)}return Vhe(this,function(o){return[2,new Promise(r)]})})},n.cleanup=function(){Rd=!0;var r=document.getElementById(n.props.id);r&&r.parentNode&&r.parentNode.removeChild(r),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(i){return typeof i.src=="string"&&i.src.includes("maps.googleapis")}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(i){return i.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(i){return i.innerText!==void 0&&i.innerText.length>0&&i.innerText.includes(".gm-")}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)})},n.injectScript=function(){n.props.preventGoogleFontsLoading&&_L(),In(!!n.props.id,'LoadScript requires "id" prop to be a string: %s',n.props.id);var r={id:n.props.id,nonce:n.props.nonce,url:QL(n.props)};UL(r).then(function(){n.props.onLoad&&n.props.onLoad(),n.setState(function(){return{loaded:!0}})}).catch(function(o){n.props.onError&&n.props.onError(o),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(n.props.googleMapsApiKey||"-",") or Client ID (").concat(n.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})},n}return t.prototype.componentDidMount=function(){if(qs){if(window.google&&window.google.maps&&!Rd){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(r){console.error("Error at injecting script after cleaning up: ",r)})}},t.prototype.componentDidUpdate=function(n){this.props.libraries!==n.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),qs&&n.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))},t.prototype.componentWillUnmount=function(){var n=this;if(qs){this.cleanup();var r=function(){n.check.current||(delete window.google,Rd=!1)};window.setTimeout(r,1),this.props.onUnmount&&this.props.onUnmount()}},t.prototype.render=function(){return f.jsxs(f.Fragment,{children:[f.jsx("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||f.jsx($L,{})]})},t.defaultProps=Ox,t})(b.PureComponent);var hN;function cB(e){var t=e.id,n=t===void 0?Ox.id:t,r=e.version,o=r===void 0?Ox.version:r,i=e.nonce,a=e.googleMapsApiKey,l=e.googleMapsClientId,s=e.language,c=e.region,u=e.libraries,g=e.preventGoogleFontsLoading,d=e.channel,m=e.mapIds,I=e.authReferrerPolicy,h=b.useRef(!1),A=b.useState(!1),C=A[0],p=A[1],v=b.useState(void 0),y=v[0],x=v[1];b.useEffect(function(){return h.current=!0,function(){h.current=!1}},[]),b.useEffect(function(){qs&&g&&_L()},[g]),b.useEffect(function(){C&&In(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[C]);var S=QL({version:o,googleMapsApiKey:a,googleMapsClientId:l,language:s,region:c,libraries:u,channel:d,mapIds:m,authReferrerPolicy:I});b.useEffect(function(){if(!qs)return;function R(){h.current&&(p(!0),hN=S)}if(window.google&&window.google.maps&&hN===S){R();return}UL({id:n,url:S,nonce:i}).then(R).catch(function(k){h.current&&x(k),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(a||"-",") or Client ID (").concat(l||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(k)})},[n,S,i]);var B=b.useRef();return b.useEffect(function(){B.current&&u!==B.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),B.current=u},[u]),{isLoaded:C,loadError:y,url:S}}var jhe=f.jsx($L,{});function The(e){var t=e.loadingElement,n=e.onLoad,r=e.onError,o=e.onUnmount,i=e.children,a=sB(e,["loadingElement","onLoad","onError","onUnmount","children"]),l=cB(a),s=l.isLoaded,c=l.loadError;return b.useEffect(function(){s&&typeof n=="function"&&n()},[s,n]),b.useEffect(function(){c&&typeof r=="function"&&r(c)},[c,r]),b.useEffect(function(){return function(){o&&o()}},[o]),s?i:t||jhe}b.memo(The);var CN;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(CN||(CN={}));var pN={},AN={options:function(e,t){e.setOptions(t)}};function Lhe(e){var t=e.options,n=e.onLoad,r=e.onUnmount,o=b.useContext($e),i=b.useState(null),a=i[0],l=i[1];return b.useEffect(function(){a!==null&&a.setMap(o)},[o]),b.useEffect(function(){t&&a!==null&&a.setOptions(t)},[a,t]),b.useEffect(function(){var s=new google.maps.TrafficLayer(Ee(Ee({},t||{}),{map:o}));return l(s),n&&n(s),function(){a!==null&&(r&&r(a),a.setMap(null))}},[]),null}b.memo(Lhe);(function(e){Nt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={trafficLayer:null},n.setTrafficLayerCallback=function(){n.state.trafficLayer!==null&&n.props.onLoad&&n.props.onLoad(n.state.trafficLayer)},n.registeredEvents=[],n}return t.prototype.componentDidMount=function(){var n=new google.maps.TrafficLayer(Ee(Ee({},this.props.options||{}),{map:this.context}));this.registeredEvents=tt({updaterMap:AN,eventMap:pN,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{trafficLayer:n}},this.setTrafficLayerCallback)},t.prototype.componentDidUpdate=function(n){this.state.trafficLayer!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:AN,eventMap:pN,prevProps:n,nextProps:this.props,instance:this.state.trafficLayer}))},t.prototype.componentWillUnmount=function(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),nt(this.registeredEvents),this.state.trafficLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=$e,t})(b.PureComponent);function Khe(e){var t=e.onLoad,n=e.onUnmount,r=b.useContext($e),o=b.useState(null),i=o[0],a=o[1];return b.useEffect(function(){i!==null&&i.setMap(r)},[r]),b.useEffect(function(){var l=new google.maps.BicyclingLayer;return a(l),l.setMap(r),t&&t(l),function(){l!==null&&(n&&n(l),l.setMap(null))}},[]),null}b.memo(Khe);(function(e){Nt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={bicyclingLayer:null},n.setBicyclingLayerCallback=function(){n.state.bicyclingLayer!==null&&(n.state.bicyclingLayer.setMap(n.context),n.props.onLoad&&n.props.onLoad(n.state.bicyclingLayer))},n}return t.prototype.componentDidMount=function(){var n=new google.maps.BicyclingLayer;this.setState(function(){return{bicyclingLayer:n}},this.setBicyclingLayerCallback)},t.prototype.componentWillUnmount=function(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=$e,t})(b.PureComponent);function Ohe(e){var t=e.onLoad,n=e.onUnmount,r=b.useContext($e),o=b.useState(null),i=o[0],a=o[1];return b.useEffect(function(){i!==null&&i.setMap(r)},[r]),b.useEffect(function(){var l=new google.maps.TransitLayer;return a(l),l.setMap(r),t&&t(l),function(){i!==null&&(n&&n(i),i.setMap(null))}},[]),null}b.memo(Ohe);(function(e){Nt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={transitLayer:null},n.setTransitLayerCallback=function(){n.state.transitLayer!==null&&(n.state.transitLayer.setMap(n.context),n.props.onLoad&&n.props.onLoad(n.state.transitLayer))},n}return t.prototype.componentDidMount=function(){var n=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:n}},this.setTransitLayerCallback)},t.prototype.componentWillUnmount=function(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=$e,t})(b.PureComponent);var bN={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},vN={drawingMode:function(e,t){e.setDrawingMode(t)},options:function(e,t){e.setOptions(t)}};function Phe(e){var t=e.options,n=e.drawingMode,r=e.onCircleComplete,o=e.onMarkerComplete,i=e.onOverlayComplete,a=e.onPolygonComplete,l=e.onPolylineComplete,s=e.onRectangleComplete,c=e.onLoad,u=e.onUnmount,g=b.useContext($e),d=b.useState(null),m=d[0],I=d[1],h=b.useState(null),A=h[0],C=h[1],p=b.useState(null),v=p[0],y=p[1],x=b.useState(null),S=x[0],B=x[1],Z=b.useState(null),R=Z[0],w=Z[1],k=b.useState(null),V=k[0],W=k[1],N=b.useState(null),X=N[0],J=N[1];return b.useEffect(function(){m!==null&&m.setMap(g)},[g]),b.useEffect(function(){t&&m!==null&&m.setOptions(t)},[m,t]),b.useEffect(function(){m!==null&&m.setDrawingMode(n??null)},[m,n]),b.useEffect(function(){m&&r&&(A!==null&&google.maps.event.removeListener(A),C(google.maps.event.addListener(m,"circlecomplete",r)))},[m,r]),b.useEffect(function(){m&&o&&(v!==null&&google.maps.event.removeListener(v),y(google.maps.event.addListener(m,"markercomplete",o)))},[m,o]),b.useEffect(function(){m&&i&&(S!==null&&google.maps.event.removeListener(S),B(google.maps.event.addListener(m,"overlaycomplete",i)))},[m,i]),b.useEffect(function(){m&&a&&(R!==null&&google.maps.event.removeListener(R),w(google.maps.event.addListener(m,"polygoncomplete",a)))},[m,a]),b.useEffect(function(){m&&l&&(V!==null&&google.maps.event.removeListener(V),W(google.maps.event.addListener(m,"polylinecomplete",l)))},[m,l]),b.useEffect(function(){m&&s&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(m,"rectanglecomplete",s)))},[m,s]),b.useEffect(function(){In(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var E=new google.maps.drawing.DrawingManager(Ee(Ee({},t||{}),{map:g}));return n&&E.setDrawingMode(n),r&&C(google.maps.event.addListener(E,"circlecomplete",r)),o&&y(google.maps.event.addListener(E,"markercomplete",o)),i&&B(google.maps.event.addListener(E,"overlaycomplete",i)),a&&w(google.maps.event.addListener(E,"polygoncomplete",a)),l&&W(google.maps.event.addListener(E,"polylinecomplete",l)),s&&J(google.maps.event.addListener(E,"rectanglecomplete",s)),I(E),c&&c(E),function(){m!==null&&(A&&google.maps.event.removeListener(A),v&&google.maps.event.removeListener(v),S&&google.maps.event.removeListener(S),R&&google.maps.event.removeListener(R),V&&google.maps.event.removeListener(V),X&&google.maps.event.removeListener(X),u&&u(m),m.setMap(null))}},[]),null}b.memo(Phe);(function(e){Nt(t,e);function t(n){var r=e.call(this,n)||this;return r.registeredEvents=[],r.state={drawingManager:null},r.setDrawingManagerCallback=function(){r.state.drawingManager!==null&&r.props.onLoad&&r.props.onLoad(r.state.drawingManager)},In(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing),r}return t.prototype.componentDidMount=function(){var n=new google.maps.drawing.DrawingManager(Ee(Ee({},this.props.options||{}),{map:this.context}));this.registeredEvents=tt({updaterMap:vN,eventMap:bN,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{drawingManager:n}},this.setDrawingManagerCallback)},t.prototype.componentDidUpdate=function(n){this.state.drawingManager!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:vN,eventMap:bN,prevProps:n,nextProps:this.props,instance:this.state.drawingManager}))},t.prototype.componentWillUnmount=function(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),nt(this.registeredEvents),this.state.drawingManager.setMap(null))},t.prototype.render=function(){return null},t.contextType=$e,t})(b.PureComponent);var yN={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},xN={animation:function(e,t){e.setAnimation(t)},clickable:function(e,t){e.setClickable(t)},cursor:function(e,t){e.setCursor(t)},draggable:function(e,t){e.setDraggable(t)},icon:function(e,t){e.setIcon(t)},label:function(e,t){e.setLabel(t)},map:function(e,t){e.setMap(t)},opacity:function(e,t){e.setOpacity(t)},options:function(e,t){e.setOptions(t)},position:function(e,t){e.setPosition(t)},shape:function(e,t){e.setShape(t)},title:function(e,t){e.setTitle(t)},visible:function(e,t){e.setVisible(t)},zIndex:function(e,t){e.setZIndex(t)}},kp={};function Dhe(e){var t=e.position,n=e.options,r=e.clusterer,o=e.noClustererRedraw,i=e.children,a=e.draggable,l=e.visible,s=e.animation,c=e.clickable,u=e.cursor,g=e.icon,d=e.label,m=e.opacity,I=e.shape,h=e.title,A=e.zIndex,C=e.onClick,p=e.onDblClick,v=e.onDrag,y=e.onDragEnd,x=e.onDragStart,S=e.onMouseOut,B=e.onMouseOver,Z=e.onMouseUp,R=e.onMouseDown,w=e.onRightClick,k=e.onClickableChanged,V=e.onCursorChanged,W=e.onAnimationChanged,N=e.onDraggableChanged,X=e.onFlatChanged,J=e.onIconChanged,E=e.onPositionChanged,F=e.onShapeChanged,H=e.onTitleChanged,M=e.onVisibleChanged,Y=e.onZindexChanged,T=e.onLoad,O=e.onUnmount,P=b.useContext($e),L=b.useState(null),j=L[0],D=L[1],$=b.useState(null),K=$[0],z=$[1],_=b.useState(null),U=_[0],te=_[1],ie=b.useState(null),re=ie[0],se=ie[1],ce=b.useState(null),q=ce[0],ee=ce[1],oe=b.useState(null),ae=oe[0],ne=oe[1],fe=b.useState(null),le=fe[0],be=fe[1],ye=b.useState(null),Fe=ye[0],ue=ye[1],Se=b.useState(null),ke=Se[0],Oe=Se[1],Ct=b.useState(null),Gt=Ct[0],gn=Ct[1],xn=b.useState(null),dn=xn[0],It=xn[1],Be=b.useState(null),Ke=Be[0],Pe=Be[1],Ln=b.useState(null),zt=Ln[0],qn=Ln[1],zo=b.useState(null),hi=zo[0],md=zo[1],Ci=b.useState(null),Io=Ci[0],OR=Ci[1],PR=b.useState(null),TI=PR[0],DR=PR[1],zR=b.useState(null),LI=zR[0],UR=zR[1],_R=b.useState(null),KI=_R[0],QR=_R[1],$R=b.useState(null),qR=$R[0],e5=$R[1],t5=b.useState(null),OI=t5[0],n5=t5[1],r5=b.useState(null),PI=r5[0],o5=r5[1],i5=b.useState(null),DI=i5[0],a5=i5[1];b.useEffect(function(){j!==null&&j.setMap(P)},[P]),b.useEffect(function(){typeof n<"u"&&j!==null&&j.setOptions(n)},[j,n]),b.useEffect(function(){typeof a<"u"&&j!==null&&j.setDraggable(a)},[j,a]),b.useEffect(function(){t&&j!==null&&j.setPosition(t)},[j,t]),b.useEffect(function(){typeof l<"u"&&j!==null&&j.setVisible(l)},[j,l]),b.useEffect(function(){j==null||j.setAnimation(s)},[j,s]),b.useEffect(function(){j&&c!==void 0&&j.setClickable(c)},[j,c]),b.useEffect(function(){j&&u!==void 0&&j.setCursor(u)},[j,u]),b.useEffect(function(){j&&g!==void 0&&j.setIcon(g)},[j,g]),b.useEffect(function(){j&&d!==void 0&&j.setLabel(d)},[j,d]),b.useEffect(function(){j&&m!==void 0&&j.setOpacity(m)},[j,m]),b.useEffect(function(){j&&I!==void 0&&j.setShape(I)},[j,I]),b.useEffect(function(){j&&h!==void 0&&j.setTitle(h)},[j,h]),b.useEffect(function(){j&&A!==void 0&&j.setZIndex(A)},[j,A]),b.useEffect(function(){j&&p&&(K!==null&&google.maps.event.removeListener(K),z(google.maps.event.addListener(j,"dblclick",p)))},[p]),b.useEffect(function(){j&&y&&(U!==null&&google.maps.event.removeListener(U),te(google.maps.event.addListener(j,"dragend",y)))},[y]),b.useEffect(function(){j&&x&&(re!==null&&google.maps.event.removeListener(re),se(google.maps.event.addListener(j,"dragstart",x)))},[x]),b.useEffect(function(){j&&R&&(q!==null&&google.maps.event.removeListener(q),ee(google.maps.event.addListener(j,"mousedown",R)))},[R]),b.useEffect(function(){j&&S&&(ae!==null&&google.maps.event.removeListener(ae),ne(google.maps.event.addListener(j,"mouseout",S)))},[S]),b.useEffect(function(){j&&B&&(le!==null&&google.maps.event.removeListener(le),be(google.maps.event.addListener(j,"mouseover",B)))},[B]),b.useEffect(function(){j&&Z&&(Fe!==null&&google.maps.event.removeListener(Fe),ue(google.maps.event.addListener(j,"mouseup",Z)))},[Z]),b.useEffect(function(){j&&w&&(ke!==null&&google.maps.event.removeListener(ke),Oe(google.maps.event.addListener(j,"rightclick",w)))},[w]),b.useEffect(function(){j&&C&&(Gt!==null&&google.maps.event.removeListener(Gt),gn(google.maps.event.addListener(j,"click",C)))},[C]),b.useEffect(function(){j&&v&&(dn!==null&&google.maps.event.removeListener(dn),It(google.maps.event.addListener(j,"drag",v)))},[v]),b.useEffect(function(){j&&k&&(Ke!==null&&google.maps.event.removeListener(Ke),Pe(google.maps.event.addListener(j,"clickable_changed",k)))},[k]),b.useEffect(function(){j&&V&&(zt!==null&&google.maps.event.removeListener(zt),qn(google.maps.event.addListener(j,"cursor_changed",V)))},[V]),b.useEffect(function(){j&&W&&(hi!==null&&google.maps.event.removeListener(hi),md(google.maps.event.addListener(j,"animation_changed",W)))},[W]),b.useEffect(function(){j&&N&&(Io!==null&&google.maps.event.removeListener(Io),OR(google.maps.event.addListener(j,"draggable_changed",N)))},[N]),b.useEffect(function(){j&&X&&(TI!==null&&google.maps.event.removeListener(TI),DR(google.maps.event.addListener(j,"flat_changed",X)))},[X]),b.useEffect(function(){j&&J&&(LI!==null&&google.maps.event.removeListener(LI),UR(google.maps.event.addListener(j,"icon_changed",J)))},[J]),b.useEffect(function(){j&&E&&(KI!==null&&google.maps.event.removeListener(KI),QR(google.maps.event.addListener(j,"position_changed",E)))},[E]),b.useEffect(function(){j&&F&&(qR!==null&&google.maps.event.removeListener(qR),e5(google.maps.event.addListener(j,"shape_changed",F)))},[F]),b.useEffect(function(){j&&H&&(OI!==null&&google.maps.event.removeListener(OI),n5(google.maps.event.addListener(j,"title_changed",H)))},[H]),b.useEffect(function(){j&&M&&(PI!==null&&google.maps.event.removeListener(PI),o5(google.maps.event.addListener(j,"visible_changed",M)))},[M]),b.useEffect(function(){j&&Y&&(DI!==null&&google.maps.event.removeListener(DI),a5(google.maps.event.addListener(j,"zindex_changed",Y)))},[Y]),b.useEffect(function(){var Id=Ee(Ee(Ee({},n||kp),r?kp:{map:P}),{position:t}),Ue=new google.maps.Marker(Id);return r?r.addMarker(Ue,!!o):Ue.setMap(P),t&&Ue.setPosition(t),typeof l<"u"&&Ue.setVisible(l),typeof a<"u"&&Ue.setDraggable(a),typeof c<"u"&&Ue.setClickable(c),typeof u=="string"&&Ue.setCursor(u),g&&Ue.setIcon(g),typeof d<"u"&&Ue.setLabel(d),typeof m<"u"&&Ue.setOpacity(m),I&&Ue.setShape(I),typeof h=="string"&&Ue.setTitle(h),typeof A=="number"&&Ue.setZIndex(A),p&&z(google.maps.event.addListener(Ue,"dblclick",p)),y&&te(google.maps.event.addListener(Ue,"dragend",y)),x&&se(google.maps.event.addListener(Ue,"dragstart",x)),R&&ee(google.maps.event.addListener(Ue,"mousedown",R)),S&&ne(google.maps.event.addListener(Ue,"mouseout",S)),B&&be(google.maps.event.addListener(Ue,"mouseover",B)),Z&&ue(google.maps.event.addListener(Ue,"mouseup",Z)),w&&Oe(google.maps.event.addListener(Ue,"rightclick",w)),C&&gn(google.maps.event.addListener(Ue,"click",C)),v&&It(google.maps.event.addListener(Ue,"drag",v)),k&&Pe(google.maps.event.addListener(Ue,"clickable_changed",k)),V&&qn(google.maps.event.addListener(Ue,"cursor_changed",V)),W&&md(google.maps.event.addListener(Ue,"animation_changed",W)),N&&OR(google.maps.event.addListener(Ue,"draggable_changed",N)),X&&DR(google.maps.event.addListener(Ue,"flat_changed",X)),J&&UR(google.maps.event.addListener(Ue,"icon_changed",J)),E&&QR(google.maps.event.addListener(Ue,"position_changed",E)),F&&e5(google.maps.event.addListener(Ue,"shape_changed",F)),H&&n5(google.maps.event.addListener(Ue,"title_changed",H)),M&&o5(google.maps.event.addListener(Ue,"visible_changed",M)),Y&&a5(google.maps.event.addListener(Ue,"zindex_changed",Y)),D(Ue),T&&T(Ue),function(){K!==null&&google.maps.event.removeListener(K),U!==null&&google.maps.event.removeListener(U),re!==null&&google.maps.event.removeListener(re),q!==null&&google.maps.event.removeListener(q),ae!==null&&google.maps.event.removeListener(ae),le!==null&&google.maps.event.removeListener(le),Fe!==null&&google.maps.event.removeListener(Fe),ke!==null&&google.maps.event.removeListener(ke),Gt!==null&&google.maps.event.removeListener(Gt),Ke!==null&&google.maps.event.removeListener(Ke),zt!==null&&google.maps.event.removeListener(zt),hi!==null&&google.maps.event.removeListener(hi),Io!==null&&google.maps.event.removeListener(Io),TI!==null&&google.maps.event.removeListener(TI),LI!==null&&google.maps.event.removeListener(LI),KI!==null&&google.maps.event.removeListener(KI),OI!==null&&google.maps.event.removeListener(OI),PI!==null&&google.maps.event.removeListener(PI),DI!==null&&google.maps.event.removeListener(DI),O&&O(Ue),r?r.removeMarker(Ue,!!o):Ue&&Ue.setMap(null)}},[]);var I7=b.useMemo(function(){return i?b.Children.map(i,function(Id){if(!b.isValidElement(Id))return Id;var Ue=Id;return b.cloneElement(Ue,{anchor:j})}):null},[i,j]);return f.jsx(f.Fragment,{children:I7})||null}var qL=b.memo(Dhe);(function(e){Nt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.registeredEvents=[],n}return t.prototype.componentDidMount=function(){var n=Ee(Ee(Ee({},this.props.options||kp),this.props.clusterer?kp:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(n),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=tt({updaterMap:xN,eventMap:yN,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)},t.prototype.componentDidUpdate=function(n){this.marker&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:xN,eventMap:yN,prevProps:n,nextProps:this.props,instance:this.marker}))},t.prototype.componentWillUnmount=function(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),nt(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))},t.prototype.render=function(){var n=this,r=null;return this.props.children&&(r=b.Children.map(this.props.children,function(o){if(!b.isValidElement(o))return o;var i=o;return b.cloneElement(i,{anchor:n.marker})})),r||null},t.contextType=$e,t})(b.PureComponent);var zhe=function(){function e(t,n){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(t){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),o=this.cluster.getBounds(),i=n.getMap();i!==null&&"fitBounds"in i&&i.fitBounds(o),this.timeOut=window.setTimeout(function(){var a=n.getMap();if(a!==null){"fitBounds"in a&&a.fitBounds(o);var l=a.getZoom()||0;r!==null&&l>r&&a.setZoom(r+1)}},100)}t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var t;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(t=this.getPanes())===null||t===void 0||t.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var t=this.getPosFromLatLng(this.center);this.div.style.top=t!==null?"".concat(t.y,"px"):"0",this.div.style.left=t!==null?"".concat(t.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var t,n,r,o,i,a;if(this.div&&this.center){var l=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,s=this.backgroundPosition.split(" "),c=parseInt(((t=s[0])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),u=parseInt(((n=s[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),g=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(g!==null?"".concat(g.y,"px"):"0","; left: ").concat(g!==null?"".concat(g.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var d=document.createElement("img");d.alt=l,d.src=this.url,d.width=this.width,d.height=this.height,d.setAttribute("style","position: absolute; top: ".concat(u,"px; left: ").concat(c,"px")),this.cluster.getClusterer().enableRetinaIcons||(d.style.clip="rect(-".concat(u,"px, -").concat(c+this.width,"px, -").concat(u+this.height,", -").concat(c,")"));var m=document.createElement("div");m.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(m.innerText="".concat((o=this.sums)===null||o===void 0?void 0:o.text)),!((i=this.sums)===null||i===void 0)&&i.html&&(m.innerHTML="".concat((a=this.sums)===null||a===void 0?void 0:a.html)),this.div.innerHTML="",this.div.appendChild(d),this.div.appendChild(m),this.div.title=l,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(t){this.sums=t;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,t.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},e.prototype.setCenter=function(t){this.center=t},e.prototype.getPosFromLatLng=function(t){var n=this.getProjection().fromLatLngToDivPixel(t);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},e}(),Uhe=function(){function e(t){this.markerClusterer=t,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new zhe(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var t=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,o=n;r<o.length;r++){var i=o[r],a=i.getPosition();a&&t.extend(a)}return t},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(t){var n;if(this.isMarkerAlreadyAdded(t))return!1;if(this.center){if(this.averageCenter){var r=t.getPosition();if(r){var o=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(o-1)+r.lat())/o,(this.center.lng()*(o-1)+r.lng())/o),this.calculateBounds()}}}else{var r=t.getPosition();r&&(this.center=r,this.calculateBounds())}t.isAdded=!0,this.markers.push(t);var i=this.markers.length,a=this.markerClusterer.getMaxZoom(),l=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(a!==null&&typeof l<"u"&&l>a)t.getMap()!==this.map&&t.setMap(this.map);else if(i<this.minClusterSize)t.getMap()!==this.map&&t.setMap(this.map);else if(i===this.minClusterSize)for(var s=0,c=this.markers;s<c.length;s++){var u=c[s];u.setMap(null)}else t.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(t){if(this.bounds!==null){var n=t.getPosition();if(n)return this.bounds.contains(n)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var t,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),o=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(r!==null&&typeof o<"u"&&o>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},e.prototype.isMarkerAlreadyAdded=function(t){if(this.markers.includes)return this.markers.includes(t);for(var n=0;n<this.markers.length;n++)if(t===this.markers[n])return!0;return!1},e}();function _he(e,t){var n=e.length,r=n.toString().length,o=Math.min(r,t);return{text:n.toString(),index:o,title:""}}var Qhe=2e3,$he=500,qhe="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",eCe="png",tCe=[53,56,66,78,90],nCe="cluster",eK=function(){function e(t,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||qhe,this.imageExtension=r.imageExtension||eCe,this.imageSizes=r.imageSizes||tCe,this.calculator=r.calculator||_he,this.batchSize=r.batchSize||Qhe,this.batchSizeIE=r.batchSizeIE||$he,this.clusterClass=r.clusterClass||nCe,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var t,n;this.resetViewport(!1),(((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var t=this.getMap();this.activeMap=t,this.ready=!0,this.repaint(),t!==null&&(this.listeners=[google.maps.event.addListener(t,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(t,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var t=0,n=this.markers;t<n.length;t++){var r=n[t];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var o=0,i=this.clusters;o<i.length;o++){var a=i[o];a.remove()}this.clusters=[];for(var l=0,s=this.listeners;l<s.length;l++){var c=s[l];google.maps.event.removeListener(c)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var t=0;t<this.imageSizes.length;t++)this.styles.push({url:"".concat(this.imagePath+(t+1),".").concat(this.imageExtension),height:this.imageSizes[t]||0,width:this.imageSizes[t]||0})},e.prototype.fitMapToMarkers=function(){for(var t=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,o=t;r<o.length;r++){var i=o[r],a=i.getPosition();a&&n.extend(a)}var l=this.getMap();l!==null&&"fitBounds"in l&&l.fitBounds(n)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(t){this.gridSize=t},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(t){this.minClusterSize=t},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(t){this.maxZoom=t},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(t){this.styles=t},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(t){this.title=t},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(t){this.zoomOnClick=t},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(t){this.averageCenter=t},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(t){this.ignoreHidden=t},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(t){this.enableRetinaIcons=t},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(t){this.imageExtension=t},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(t){this.imagePath=t},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(t){this.imageSizes=t},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(t){this.calculator=t},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(t){this.batchSizeIE=t},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(t){this.clusterClass=t},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(t,n){this.pushMarkerTo(t),n||this.redraw()},e.prototype.addMarkers=function(t,n){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=t[r];o&&this.pushMarkerTo(o)}n||this.redraw()},e.prototype.pushMarkerTo=function(t){var n=this;t.getDraggable()&&google.maps.event.addListener(t,"dragend",function(){n.ready&&(t.isAdded=!1,n.repaint())}),t.isAdded=!1,this.markers.push(t)},e.prototype.removeMarker_=function(t){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(t);else for(var r=0;r<this.markers.length;r++)if(t===this.markers[r]){n=r;break}return n===-1?!1:(t.setMap(null),this.markers.splice(n,1),!0)},e.prototype.removeMarker=function(t,n){var r=this.removeMarker_(t);return!n&&r&&this.repaint(),r},e.prototype.removeMarkers=function(t,n){for(var r=!1,o=0,i=t;o<i.length;o++){var a=i[o];r=r||this.removeMarker_(a)}return!n&&r&&this.repaint(),r},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var t=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,o=t;r<o.length;r++){var i=o[r];i.remove()}},0)},e.prototype.getExtendedBounds=function(t){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var o=n.fromLatLngToDivPixel(new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()));if(o!==null&&(o.x-=this.gridSize,o.y+=this.gridSize),r!==null){var i=n.fromDivPixelToLatLng(r);i!==null&&t.extend(i)}if(o!==null){var a=n.fromDivPixelToLatLng(o);a!==null&&t.extend(a)}return t},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(t){for(var n=0,r=this.clusters;n<r.length;n++){var o=r[n];o.remove()}this.clusters=[];for(var i=0,a=this.markers;i<a.length;i++){var l=a[i];l.isAdded=!1,t&&l.setMap(null)}},e.prototype.distanceBetweenPoints=function(t,n){var r=6371,o=(n.lat()-t.lat())*Math.PI/180,i=(n.lng()-t.lng())*Math.PI/180,a=Math.sin(o/2)*Math.sin(o/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return r*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))},e.prototype.isMarkerInBounds=function(t,n){var r=t.getPosition();return r?n.contains(r):!1},e.prototype.addToClosestCluster=function(t){for(var n,r=4e4,o=null,i=0,a=this.clusters;i<a.length;i++){var l=a[i];n=l;var s=n.getCenter(),c=t.getPosition();if(s&&c){var u=this.distanceBetweenPoints(s,c);u<r&&(r=u,o=n)}}o&&o.isMarkerInClusterBounds(t)?o.addMarker(t):(n=new Uhe(this),n.addMarker(t),this.clusters.push(n))},e.prototype.createClusters=function(t){var n=this;if(this.ready){t===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),o=r!==null&&("getBounds"in r)?r.getBounds():null,i=(r==null?void 0:r.getZoom())||0,a=i>3?new google.maps.LatLngBounds(o==null?void 0:o.getSouthWest(),o==null?void 0:o.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),l=this.getExtendedBounds(a),s=Math.min(t+this.batchSize,this.markers.length),c=t;c<s;c++){var u=this.markers[c];u&&!u.isAdded&&this.isMarkerInBounds(u,l)&&(!this.ignoreHidden||this.ignoreHidden&&u.getVisible())&&this.addToClosestCluster(u)}if(s<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(s)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var g=0,d=this.clusters;g<d.length;g++){var m=d[g];m.updateIcon()}}}},e.prototype.extend=function(t,n){return(function(o){for(var i in o.prototype){var a=i;this.prototype[a]=o.prototype[a]}return this}).apply(t,[n])},e}(),xo={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},dt={averageCenter:function(e,t){e.setAverageCenter(t)},batchSizeIE:function(e,t){e.setBatchSizeIE(t)},calculator:function(e,t){e.setCalculator(t)},clusterClass:function(e,t){e.setClusterClass(t)},enableRetinaIcons:function(e,t){e.setEnableRetinaIcons(t)},gridSize:function(e,t){e.setGridSize(t)},ignoreHidden:function(e,t){e.setIgnoreHidden(t)},imageExtension:function(e,t){e.setImageExtension(t)},imagePath:function(e,t){e.setImagePath(t)},imageSizes:function(e,t){e.setImageSizes(t)},maxZoom:function(e,t){e.setMaxZoom(t)},minimumClusterSize:function(e,t){e.setMinimumClusterSize(t)},styles:function(e,t){e.setStyles(t)},title:function(e,t){e.setTitle(t)},zoomOnClick:function(e,t){e.setZoomOnClick(t)}},rCe={};function oCe(e){var t=e.children,n=e.options,r=e.averageCenter,o=e.batchSizeIE,i=e.calculator,a=e.clusterClass,l=e.enableRetinaIcons,s=e.gridSize,c=e.ignoreHidden,u=e.imageExtension,g=e.imagePath,d=e.imageSizes,m=e.maxZoom,I=e.minimumClusterSize,h=e.styles,A=e.title,C=e.zoomOnClick,p=e.onClick,v=e.onClusteringBegin,y=e.onClusteringEnd,x=e.onMouseOver,S=e.onMouseOut,B=e.onLoad,Z=e.onUnmount,R=b.useState(null),w=R[0],k=R[1],V=b.useContext($e),W=b.useState(null),N=W[0],X=W[1],J=b.useState(null),E=J[0],F=J[1],H=b.useState(null),M=H[0],Y=H[1],T=b.useState(null),O=T[0],P=T[1],L=b.useState(null),j=L[0],D=L[1];return b.useEffect(function(){w&&S&&(O!==null&&google.maps.event.removeListener(O),P(google.maps.event.addListener(w,xo.onMouseOut,S)))},[S]),b.useEffect(function(){w&&x&&(j!==null&&google.maps.event.removeListener(j),D(google.maps.event.addListener(w,xo.onMouseOver,x)))},[x]),b.useEffect(function(){w&&p&&(N!==null&&google.maps.event.removeListener(N),X(google.maps.event.addListener(w,xo.onClick,p)))},[p]),b.useEffect(function(){w&&v&&(E!==null&&google.maps.event.removeListener(E),F(google.maps.event.addListener(w,xo.onClusteringBegin,v)))},[v]),b.useEffect(function(){w&&y&&(M!==null&&google.maps.event.removeListener(M),F(google.maps.event.addListener(w,xo.onClusteringEnd,y)))},[y]),b.useEffect(function(){typeof r<"u"&&w!==null&&dt.averageCenter(w,r)},[w,r]),b.useEffect(function(){typeof o<"u"&&w!==null&&dt.batchSizeIE(w,o)},[w,o]),b.useEffect(function(){typeof i<"u"&&w!==null&&dt.calculator(w,i)},[w,i]),b.useEffect(function(){typeof a<"u"&&w!==null&&dt.clusterClass(w,a)},[w,a]),b.useEffect(function(){typeof l<"u"&&w!==null&&dt.enableRetinaIcons(w,l)},[w,l]),b.useEffect(function(){typeof s<"u"&&w!==null&&dt.gridSize(w,s)},[w,s]),b.useEffect(function(){typeof c<"u"&&w!==null&&dt.ignoreHidden(w,c)},[w,c]),b.useEffect(function(){typeof u<"u"&&w!==null&&dt.imageExtension(w,u)},[w,u]),b.useEffect(function(){typeof g<"u"&&w!==null&&dt.imagePath(w,g)},[w,g]),b.useEffect(function(){typeof d<"u"&&w!==null&&dt.imageSizes(w,d)},[w,d]),b.useEffect(function(){typeof m<"u"&&w!==null&&dt.maxZoom(w,m)},[w,m]),b.useEffect(function(){typeof I<"u"&&w!==null&&dt.minimumClusterSize(w,I)},[w,I]),b.useEffect(function(){typeof h<"u"&&w!==null&&dt.styles(w,h)},[w,h]),b.useEffect(function(){typeof A<"u"&&w!==null&&dt.title(w,A)},[w,A]),b.useEffect(function(){typeof C<"u"&&w!==null&&dt.zoomOnClick(w,C)},[w,C]),b.useEffect(function(){if(V){var $=Ee({},n||rCe),K=new eK(V,[],$);return r&&dt.averageCenter(K,r),o&&dt.batchSizeIE(K,o),i&&dt.calculator(K,i),a&&dt.clusterClass(K,a),l&&dt.enableRetinaIcons(K,l),s&&dt.gridSize(K,s),c&&dt.ignoreHidden(K,c),u&&dt.imageExtension(K,u),g&&dt.imagePath(K,g),d&&dt.imageSizes(K,d),m&&dt.maxZoom(K,m),I&&dt.minimumClusterSize(K,I),h&&dt.styles(K,h),A&&dt.title(K,A),C&&dt.zoomOnClick(K,C),S&&P(google.maps.event.addListener(K,xo.onMouseOut,S)),x&&D(google.maps.event.addListener(K,xo.onMouseOver,x)),p&&X(google.maps.event.addListener(K,xo.onClick,p)),v&&F(google.maps.event.addListener(K,xo.onClusteringBegin,v)),y&&Y(google.maps.event.addListener(K,xo.onClusteringEnd,y)),k(K),B&&B(K),function(){O!==null&&google.maps.event.removeListener(O),j!==null&&google.maps.event.removeListener(j),N!==null&&google.maps.event.removeListener(N),E!==null&&google.maps.event.removeListener(E),M!==null&&google.maps.event.removeListener(M),Z&&Z(K)}}},[]),w!==null&&t(w)||null}b.memo(oCe);(function(e){Nt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.registeredEvents=[],n.state={markerClusterer:null},n.setClustererCallback=function(){n.state.markerClusterer!==null&&n.props.onLoad&&n.props.onLoad(n.state.markerClusterer)},n}return t.prototype.componentDidMount=function(){if(this.context){var n=new eK(this.context,[],this.props.options);this.registeredEvents=tt({updaterMap:dt,eventMap:xo,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{markerClusterer:n}},this.setClustererCallback)}},t.prototype.componentDidUpdate=function(n){this.state.markerClusterer&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:dt,eventMap:xo,prevProps:n,nextProps:this.props,instance:this.state.markerClusterer}))},t.prototype.componentWillUnmount=function(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),nt(this.registeredEvents),this.state.markerClusterer.setMap(null))},t.prototype.render=function(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null},t.contextType=$e,t})(b.PureComponent);function SN(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}var tK=function(){function e(t){t===void 0&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",t.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),typeof t.visible>"u"&&(typeof t.isHidden>"u"?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var t=this,n=function(c){c.returnValue=!1,c.preventDefault&&c.preventDefault(),t.enableEventPropagation||SN(c)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var o=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-o.left-o.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],a=0,l=i;a<l.length;a++){var s=l[a];this.eventListeners.push(google.maps.event.addListener(this.div,s,SN))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){t.div&&(t.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var t="";return this.closeBoxURL!==""&&(t='<img alt=""',t+=' aria-hidden="true"',t+=" src='"+this.closeBoxURL+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin+";",t+="'>"),t},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(t){if(this.div&&!t){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,o=0,i=n.getBounds();i&&!i.contains(this.position)&&n.setCenter(this.position);var a=n.getDiv(),l=a.offsetWidth,s=a.offsetHeight,c=this.pixelOffset.width,u=this.pixelOffset.height,g=this.div.offsetWidth,d=this.div.offsetHeight,m=this.infoBoxClearance.width,I=this.infoBoxClearance.height,h=this.getProjection(),A=h.fromLatLngToContainerPixel(this.position);A!==null&&(A.x<-c+m?r=A.x+c-m:A.x+g+c+m>l&&(r=A.x+g+c+m-l),this.alignBottom?A.y<-u+I+d?o=A.y+u-I-d:A.y+u+I>s&&(o=A.y+u+I-s):A.y<-u+I?o=A.y+u-I:A.y+d+u+I>s&&(o=A.y+d+u+I-s)),r===0&&o===0||n.panBy(r,o)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var t=this.boxStyle;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(this.div.style[n]=t[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var t={top:0,bottom:0,left:0,right:0};if(!this.div)return t;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(t.top=parseInt(r.borderTopWidth||"",10)||0,t.bottom=parseInt(r.borderBottomWidth||"",10)||0,t.left=parseInt(r.borderLeftWidth||"",10)||0,t.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var o=this.div.currentStyle;o&&(t.top=parseInt(o.borderTopWidth||"",10)||0,t.bottom=parseInt(o.borderBottomWidth||"",10)||0,t.left=parseInt(o.borderLeftWidth||"",10)||0,t.right=parseInt(o.borderRightWidth||"",10)||0)}return t},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var t=this.getProjection(),n=t.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(t){t===void 0&&(t={}),typeof t.boxClass<"u"&&(this.boxClass=t.boxClass,this.setBoxStyle()),typeof t.boxStyle<"u"&&(this.boxStyle=t.boxStyle,this.setBoxStyle()),typeof t.content<"u"&&this.setContent(t.content),typeof t.disableAutoPan<"u"&&(this.disableAutoPan=t.disableAutoPan),typeof t.maxWidth<"u"&&(this.maxWidth=t.maxWidth),typeof t.pixelOffset<"u"&&(this.pixelOffset=t.pixelOffset),typeof t.alignBottom<"u"&&(this.alignBottom=t.alignBottom),typeof t.position<"u"&&this.setPosition(t.position),typeof t.zIndex<"u"&&this.setZIndex(t.zIndex),typeof t.closeBoxMargin<"u"&&(this.closeBoxMargin=t.closeBoxMargin),typeof t.closeBoxURL<"u"&&(this.closeBoxURL=t.closeBoxURL),typeof t.infoBoxClearance<"u"&&(this.infoBoxClearance=t.infoBoxClearance),typeof t.isHidden<"u"&&(this.isHidden=t.isHidden),typeof t.visible<"u"&&(this.isHidden=!t.visible),typeof t.enableEventPropagation<"u"&&(this.enableEventPropagation=t.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(t){this.content=t,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(t){this.position=t,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(t){this.isHidden=!t,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(t){this.zIndex=t,this.div&&(this.div.style.zIndex=t+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var t=this.getMap();return typeof t>"u"||t===null?!1:!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(t,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var o=n.getPosition();r.setPosition(o)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(t),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var t=0,n=this.eventListeners;t<n.length;t++){var r=n[t];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(t,n){return(function(o){for(var i in o.prototype)Object.prototype.hasOwnProperty.call(this,i)||(this.prototype[i]=o.prototype[i]);return this}).apply(t,[n])},e}(),ZN={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},wN={options:function(e,t){e.setOptions(t)},position:function(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible:function(e,t){e.setVisible(t)},zIndex:function(e,t){e.setZIndex(t)}},iCe={};function aCe(e){var t=e.children,n=e.anchor,r=e.options,o=e.position,i=e.zIndex,a=e.onCloseClick,l=e.onDomReady,s=e.onContentChanged,c=e.onPositionChanged,u=e.onZindexChanged,g=e.onLoad,d=e.onUnmount,m=b.useContext($e),I=b.useState(null),h=I[0],A=I[1],C=b.useState(null),p=C[0],v=C[1],y=b.useState(null),x=y[0],S=y[1],B=b.useState(null),Z=B[0],R=B[1],w=b.useState(null),k=w[0],V=w[1],W=b.useState(null),N=W[0],X=W[1],J=b.useRef(null);return b.useEffect(function(){m&&h!==null&&(h.close(),n?h.open(m,n):h.getPosition()&&h.open(m))},[m,h,n]),b.useEffect(function(){r&&h!==null&&h.setOptions(r)},[h,r]),b.useEffect(function(){if(o&&h!==null){var E=o instanceof google.maps.LatLng?o:new google.maps.LatLng(o.lat,o.lng);h.setPosition(E)}},[o]),b.useEffect(function(){typeof i=="number"&&h!==null&&h.setZIndex(i)},[i]),b.useEffect(function(){h&&a&&(p!==null&&google.maps.event.removeListener(p),v(google.maps.event.addListener(h,"closeclick",a)))},[a]),b.useEffect(function(){h&&l&&(x!==null&&google.maps.event.removeListener(x),S(google.maps.event.addListener(h,"domready",l)))},[l]),b.useEffect(function(){h&&s&&(Z!==null&&google.maps.event.removeListener(Z),R(google.maps.event.addListener(h,"content_changed",s)))},[s]),b.useEffect(function(){h&&c&&(k!==null&&google.maps.event.removeListener(k),V(google.maps.event.addListener(h,"position_changed",c)))},[c]),b.useEffect(function(){h&&u&&(N!==null&&google.maps.event.removeListener(N),X(google.maps.event.addListener(h,"zindex_changed",u)))},[u]),b.useEffect(function(){if(m){var E=r||iCe,F=E.position,H=sB(E,["position"]),M=void 0;F&&!(F instanceof google.maps.LatLng)&&(M=new google.maps.LatLng(F.lat,F.lng));var Y=new tK(Ee(Ee({},H),M?{position:M}:{}));J.current=document.createElement("div"),A(Y),a&&v(google.maps.event.addListener(Y,"closeclick",a)),l&&S(google.maps.event.addListener(Y,"domready",l)),s&&R(google.maps.event.addListener(Y,"content_changed",s)),c&&V(google.maps.event.addListener(Y,"position_changed",c)),u&&X(google.maps.event.addListener(Y,"zindex_changed",u)),Y.setContent(J.current),n?Y.open(m,n):Y.getPosition()?Y.open(m):In(!1,"You must provide either an anchor or a position prop for <InfoBox>."),g&&g(Y)}return function(){h!==null&&(p&&google.maps.event.removeListener(p),Z&&google.maps.event.removeListener(Z),x&&google.maps.event.removeListener(x),k&&google.maps.event.removeListener(k),N&&google.maps.event.removeListener(N),d&&d(h),h.close())}},[]),J.current?Bn.createPortal(b.Children.only(t),J.current):null}b.memo(aCe);(function(e){Nt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=null,n.state={infoBox:null},n.open=function(r,o){o?n.context!==null&&r.open(n.context,o):r.getPosition()?n.context!==null&&r.open(n.context):In(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},n.setInfoBoxCallback=function(){n.state.infoBox!==null&&n.containerElement!==null&&(n.state.infoBox.setContent(n.containerElement),n.open(n.state.infoBox,n.props.anchor),n.props.onLoad&&n.props.onLoad(n.state.infoBox))},n}return t.prototype.componentDidMount=function(){var n=this.props.options||{},r=n.position,o=sB(n,["position"]),i;r&&!(r instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(r.lat,r.lng));var a=new tK(Ee(Ee({},o),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=tt({updaterMap:wN,eventMap:ZN,prevProps:{},nextProps:this.props,instance:a}),this.setState({infoBox:a},this.setInfoBoxCallback)},t.prototype.componentDidUpdate=function(n){var r=this.state.infoBox;r!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:wN,eventMap:ZN,prevProps:n,nextProps:this.props,instance:r}))},t.prototype.componentWillUnmount=function(){var n=this.props.onUnmount,r=this.state.infoBox;r!==null&&(n&&n(r),nt(this.registeredEvents),r.close())},t.prototype.render=function(){return this.containerElement?Bn.createPortal(b.Children.only(this.props.children),this.containerElement):null},t.contextType=$e,t})(b.PureComponent);var lCe=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;o--!==0;){var a=i[o];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n},GN=DL(lCe);const BN=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Ey=1,Vd=8;class uB{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[n,r]=new Uint8Array(t,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");const o=r>>4;if(o!==Ey)throw new Error(`Got v${o} data when expected v${Ey}.`);const i=BN[r&15];if(!i)throw new Error("Unrecognized array type.");const[a]=new Uint16Array(t,2,1),[l]=new Uint32Array(t,4,1);return new uB(l,a,i,t)}constructor(t,n=64,r=Float64Array,o){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const i=BN.indexOf(this.ArrayType),a=t*2*this.ArrayType.BYTES_PER_ELEMENT,l=t*this.IndexArrayType.BYTES_PER_ELEMENT,s=(8-l%8)%8;if(i<0)throw new Error(`Unexpected typed array class: ${r}.`);o&&o instanceof ArrayBuffer?(this.data=o,this.ids=new this.IndexArrayType(this.data,Vd,t),this.coords=new this.ArrayType(this.data,Vd+l+s,t*2),this._pos=t*2,this._finished=!0):(this.data=new ArrayBuffer(Vd+a+l+s),this.ids=new this.IndexArrayType(this.data,Vd,t),this.coords=new this.ArrayType(this.data,Vd+l+s,t*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Ey<<4)+i]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=t)}add(t,n){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=t,this.coords[this._pos++]=n,r}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return Px(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,n,r,o){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:a,nodeSize:l}=this,s=[0,i.length-1,0],c=[];for(;s.length;){const u=s.pop()||0,g=s.pop()||0,d=s.pop()||0;if(g-d<=l){for(let A=d;A<=g;A++){const C=a[2*A],p=a[2*A+1];C>=t&&C<=r&&p>=n&&p<=o&&c.push(i[A])}continue}const m=d+g>>1,I=a[2*m],h=a[2*m+1];I>=t&&I<=r&&h>=n&&h<=o&&c.push(i[m]),(u===0?t<=I:n<=h)&&(s.push(d),s.push(m-1),s.push(1-u)),(u===0?r>=I:o>=h)&&(s.push(m+1),s.push(g),s.push(1-u))}return c}within(t,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:o,coords:i,nodeSize:a}=this,l=[0,o.length-1,0],s=[],c=r*r;for(;l.length;){const u=l.pop()||0,g=l.pop()||0,d=l.pop()||0;if(g-d<=a){for(let A=d;A<=g;A++)kN(i[2*A],i[2*A+1],t,n)<=c&&s.push(o[A]);continue}const m=d+g>>1,I=i[2*m],h=i[2*m+1];kN(I,h,t,n)<=c&&s.push(o[m]),(u===0?t-r<=I:n-r<=h)&&(l.push(d),l.push(m-1),l.push(1-u)),(u===0?t+r>=I:n+r>=h)&&(l.push(m+1),l.push(g),l.push(1-u))}return s}}function Px(e,t,n,r,o,i){if(o-r<=n)return;const a=r+o>>1;nK(e,t,a,r,o,i),Px(e,t,n,r,a-1,1-i),Px(e,t,n,a+1,o,1-i)}function nK(e,t,n,r,o,i){for(;o>r;){if(o-r>600){const c=o-r+1,u=n-r+1,g=Math.log(c),d=.5*Math.exp(2*g/3),m=.5*Math.sqrt(g*d*(c-d)/c)*(u-c/2<0?-1:1),I=Math.max(r,Math.floor(n-u*d/c+m)),h=Math.min(o,Math.floor(n+(c-u)*d/c+m));nK(e,t,n,I,h,i)}const a=t[2*n+i];let l=r,s=o;for(Wd(e,t,r,n),t[2*o+i]>a&&Wd(e,t,r,o);l<s;){for(Wd(e,t,l,s),l++,s--;t[2*l+i]<a;)l++;for(;t[2*s+i]>a;)s--}t[2*r+i]===a?Wd(e,t,r,s):(s++,Wd(e,t,s,o)),s<=n&&(r=s+1),n<=s&&(o=s-1)}}function Wd(e,t,n,r){Xy(e,n,r),Xy(t,2*n,2*r),Xy(t,2*n+1,2*r+1)}function Xy(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function kN(e,t,n,r){const o=e-n,i=t-r;return o*o+i*i}const sCe={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},RN=Math.fround||(e=>t=>(e[0]=+t,e[0]))(new Float32Array(1)),Ss=2,ll=3,Jy=4,el=5,rK=6;class cCe{constructor(t){this.options=Object.assign(Object.create(sCe),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){const{log:n,minZoom:r,maxZoom:o}=this.options;n&&console.time("total time");const i=`prepare ${t.length} points`;n&&console.time(i),this.points=t;const a=[];for(let s=0;s<t.length;s++){const c=t[s];if(!c.geometry)continue;const[u,g]=c.geometry.coordinates,d=RN(xh(u)),m=RN(Sh(g));a.push(d,m,1/0,s,-1,1),this.options.reduce&&a.push(0)}let l=this.trees[o+1]=this._createTree(a);n&&console.timeEnd(i);for(let s=o;s>=r;s--){const c=+Date.now();l=this.trees[s]=this._createTree(this._cluster(l,s)),n&&console.log("z%d: %d clusters in %dms",s,l.numItems,+Date.now()-c)}return n&&console.timeEnd("total time"),this}getClusters(t,n){let r=((t[0]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,t[1]));let i=t[2]===180?180:((t[2]+180)%360+360)%360-180;const a=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)r=-180,i=180;else if(r>i){const g=this.getClusters([r,o,180,a],n),d=this.getClusters([-180,o,i,a],n);return g.concat(d)}const l=this.trees[this._limitZoom(n)],s=l.range(xh(r),Sh(a),xh(i),Sh(o)),c=l.data,u=[];for(const g of s){const d=this.stride*g;u.push(c[d+el]>1?VN(c,d,this.clusterProps):this.points[c[d+ll]])}return u}getChildren(t){const n=this._getOriginId(t),r=this._getOriginZoom(t),o="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(o);const a=i.data;if(n*this.stride>=a.length)throw new Error(o);const l=this.options.radius/(this.options.extent*Math.pow(2,r-1)),s=a[n*this.stride],c=a[n*this.stride+1],u=i.within(s,c,l),g=[];for(const d of u){const m=d*this.stride;a[m+Jy]===t&&g.push(a[m+el]>1?VN(a,m,this.clusterProps):this.points[a[m+ll]])}if(g.length===0)throw new Error(o);return g}getLeaves(t,n,r){n=n||10,r=r||0;const o=[];return this._appendLeaves(o,t,n,r,0),o}getTile(t,n,r){const o=this.trees[this._limitZoom(t)],i=Math.pow(2,t),{extent:a,radius:l}=this.options,s=l/a,c=(r-s)/i,u=(r+1+s)/i,g={features:[]};return this._addTileFeatures(o.range((n-s)/i,c,(n+1+s)/i,u),o.data,n,r,i,g),n===0&&this._addTileFeatures(o.range(1-s/i,c,1,u),o.data,i,r,i,g),n===i-1&&this._addTileFeatures(o.range(0,c,s/i,u),o.data,-1,r,i,g),g.features.length?g:null}getClusterExpansionZoom(t){let n=this._getOriginZoom(t)-1;for(;n<=this.options.maxZoom;){const r=this.getChildren(t);if(n++,r.length!==1)break;t=r[0].properties.cluster_id}return n}_appendLeaves(t,n,r,o,i){const a=this.getChildren(n);for(const l of a){const s=l.properties;if(s&&s.cluster?i+s.point_count<=o?i+=s.point_count:i=this._appendLeaves(t,s.cluster_id,r,o,i):i<o?i++:t.push(l),t.length===r)break}return i}_createTree(t){const n=new uB(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<t.length;r+=this.stride)n.add(t[r],t[r+1]);return n.finish(),n.data=t,n}_addTileFeatures(t,n,r,o,i,a){for(const l of t){const s=l*this.stride,c=n[s+el]>1;let u,g,d;if(c)u=oK(n,s,this.clusterProps),g=n[s],d=n[s+1];else{const h=this.points[n[s+ll]];u=h.properties;const[A,C]=h.geometry.coordinates;g=xh(A),d=Sh(C)}const m={type:1,geometry:[[Math.round(this.options.extent*(g*i-r)),Math.round(this.options.extent*(d*i-o))]],tags:u};let I;c||this.options.generateId?I=n[s+ll]:I=this.points[n[s+ll]].id,I!==void 0&&(m.id=I),a.features.push(m)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,n){const{radius:r,extent:o,reduce:i,minPoints:a}=this.options,l=r/(o*Math.pow(2,n)),s=t.data,c=[],u=this.stride;for(let g=0;g<s.length;g+=u){if(s[g+Ss]<=n)continue;s[g+Ss]=n;const d=s[g],m=s[g+1],I=t.within(s[g],s[g+1],l),h=s[g+el];let A=h;for(const C of I){const p=C*u;s[p+Ss]>n&&(A+=s[p+el])}if(A>h&&A>=a){let C=d*h,p=m*h,v,y=-1;const x=((g/u|0)<<5)+(n+1)+this.points.length;for(const S of I){const B=S*u;if(s[B+Ss]<=n)continue;s[B+Ss]=n;const Z=s[B+el];C+=s[B]*Z,p+=s[B+1]*Z,s[B+Jy]=x,i&&(v||(v=this._map(s,g,!0),y=this.clusterProps.length,this.clusterProps.push(v)),i(v,this._map(s,B)))}s[g+Jy]=x,c.push(C/A,p/A,1/0,x,-1,A),i&&c.push(y)}else{for(let C=0;C<u;C++)c.push(s[g+C]);if(A>1)for(const C of I){const p=C*u;if(!(s[p+Ss]<=n)){s[p+Ss]=n;for(let v=0;v<u;v++)c.push(s[p+v])}}}}return c}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,n,r){if(t[n+el]>1){const a=this.clusterProps[t[n+rK]];return r?Object.assign({},a):a}const o=this.points[t[n+ll]].properties,i=this.options.map(o);return r&&i===o?Object.assign({},i):i}}function VN(e,t,n){return{type:"Feature",id:e[t+ll],properties:oK(e,t,n),geometry:{type:"Point",coordinates:[uCe(e[t]),gCe(e[t+1])]}}}function oK(e,t,n){const r=e[t+el],o=r>=1e4?`${Math.round(r/1e3)}k`:r>=1e3?`${Math.round(r/100)/10}k`:r,i=e[t+rK],a=i===-1?{}:Object.assign({},n[i]);return Object.assign(a,{cluster:!0,cluster_id:e[t+ll],point_count:r,point_count_abbreviated:o})}function xh(e){return e/360+.5}function Sh(e){const t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function uCe(e){return(e-.5)*360}function gCe(e){const t=(180-e*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function dCe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}class Qr{static isAdvancedMarkerAvailable(t){return google.maps.marker&&t.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}static setMap(t,n){this.isAdvancedMarker(t)?t.map=n:t.setMap(n)}static getPosition(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}static getVisible(t){return this.isAdvancedMarker(t)?!0:t.getVisible()}}class Dx{constructor({markers:t,position:n}){this.markers=t,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(this.markers.length===0&&!this._position)return;const t=new google.maps.LatLngBounds(this._position,this._position);for(const n of this.markers)t.extend(Qr.getPosition(n));return t}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(t=>Qr.getVisible(t)).length}push(t){this.markers.push(t)}delete(){this.marker&&(Qr.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class fCe{constructor({maxZoom:t=16}){this.maxZoom=t}noop({markers:t}){return mCe(t)}}const mCe=e=>e.map(n=>new Dx({position:Qr.getPosition(n),markers:[n]}));class ICe extends fCe{constructor(t){var{maxZoom:n,radius:r=60}=t,o=dCe(t,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new cCe(Object.assign({maxZoom:this.maxZoom,radius:r},o))}calculate(t){let n=!1;const r={zoom:t.map.getZoom()};if(!GN(t.markers,this.markers)){n=!0,this.markers=[...t.markers];const o=this.markers.map(i=>{const a=Qr.getPosition(i);return{type:"Feature",geometry:{type:"Point",coordinates:[a.lng(),a.lat()]},properties:{marker:i}}});this.superCluster.load(o)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!GN(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:n}}cluster({map:t}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(n=>this.transformCluster(n))}transformCluster({geometry:{coordinates:[t,n]},properties:r}){if(r.cluster)return new Dx({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(i=>i.properties.marker),position:{lat:n,lng:t}});const o=r.marker;return new Dx({markers:[o],position:Qr.getPosition(o)})}}class hCe{constructor(t,n){this.markers={sum:t.length};const r=n.map(i=>i.count),o=r.reduce((i,a)=>i+a,0);this.clusters={count:n.length,markers:{mean:o/n.length,sum:o,min:Math.min(...r),max:Math.max(...r)}}}}class CCe{render({count:t,position:n},r,o){const a=`<svg fill="${t>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${t}</text>
</svg>`,l=`Cluster of ${t} markers`,s=Number(google.maps.Marker.MAX_ZINDEX)+t;if(Qr.isAdvancedMarkerAvailable(o)){const g=new DOMParser().parseFromString(a,"image/svg+xml").documentElement;g.setAttribute("transform","translate(0 25)");const d={map:o,position:n,zIndex:s,title:l,content:g};return new google.maps.marker.AdvancedMarkerElement(d)}const c={position:n,zIndex:s,title:l,icon:{url:`data:image/svg+xml;base64,${btoa(a)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(c)}}function pCe(e,t){for(let n in t.prototype)e.prototype[n]=t.prototype[n]}class gB{constructor(){pCe(gB,google.maps.OverlayView)}}var vf;(function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"})(vf||(vf={}));const ACe=(e,t,n)=>{n.fitBounds(t.bounds)};class bCe extends gB{constructor({map:t,markers:n=[],algorithmOptions:r={},algorithm:o=new ICe(r),renderer:i=new CCe,onClusterClick:a=ACe}){super(),this.markers=[...n],this.clusters=[],this.algorithm=o,this.renderer=i,this.onClusterClick=a,t&&this.setMap(t)}addMarker(t,n){this.markers.includes(t)||(this.markers.push(t),n||this.render())}addMarkers(t,n){t.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(t,n){const r=this.markers.indexOf(t);return r===-1?!1:(Qr.setMap(t,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(t,n){let r=!1;return t.forEach(o=>{r=this.removeMarker(o,!0)||r}),r&&!n&&this.render(),r}clearMarkers(t){this.markers.length=0,t||this.render()}render(){const t=this.getMap();if(t instanceof google.maps.Map&&t.getProjection()){google.maps.event.trigger(this,vf.CLUSTERING_BEGIN,this);const{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()});if(r||r==null){const o=new Set;for(const a of n)a.markers.length==1&&o.add(a.markers[0]);const i=[];for(const a of this.clusters)a.marker!=null&&(a.markers.length==1?o.has(a.marker)||Qr.setMap(a.marker,null):i.push(a.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>i.forEach(a=>Qr.setMap(a,null)))}google.maps.event.trigger(this,vf.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(t=>Qr.setMap(t,null)),this.clusters.forEach(t=>t.delete()),this.clusters=[]}renderClusters(){const t=new hCe(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,t,n),r.markers.forEach(o=>Qr.setMap(o,null)),this.onClusterClick&&r.marker.addListener("click",o=>{google.maps.event.trigger(this,vf.CLUSTER_CLICK,r),this.onClusterClick(o,r,n)})),Qr.setMap(r.marker,n)})}}function vCe(e){var t=Ehe(),n=b.useState(null),r=n[0],o=n[1];return b.useEffect(function(){if(t&&r===null){var i=new bCe(Ee(Ee({},e),{map:t}));o(i)}},[t]),r}function yCe(e){var t=e.children,n=e.options,r=vCe(n);return r!==null?t(r):null}b.memo(yCe);var WN={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},NN={options:function(e,t){e.setOptions(t)},position:function(e,t){e.setPosition(t)},zIndex:function(e,t){e.setZIndex(t)}};function xCe(e){var t=e.children,n=e.anchor,r=e.options,o=e.position,i=e.zIndex,a=e.onCloseClick,l=e.onDomReady,s=e.onContentChanged,c=e.onPositionChanged,u=e.onZindexChanged,g=e.onLoad,d=e.onUnmount,m=b.useContext($e),I=b.useState(null),h=I[0],A=I[1],C=b.useState(null),p=C[0],v=C[1],y=b.useState(null),x=y[0],S=y[1],B=b.useState(null),Z=B[0],R=B[1],w=b.useState(null),k=w[0],V=w[1],W=b.useState(null),N=W[0],X=W[1],J=b.useRef(null);return b.useEffect(function(){h!==null&&(h.close(),n?h.open(m,n):h.getPosition()&&h.open(m))},[m,h,n]),b.useEffect(function(){r&&h!==null&&h.setOptions(r)},[h,r]),b.useEffect(function(){o&&h!==null&&h.setPosition(o)},[o]),b.useEffect(function(){typeof i=="number"&&h!==null&&h.setZIndex(i)},[i]),b.useEffect(function(){h&&a&&(p!==null&&google.maps.event.removeListener(p),v(google.maps.event.addListener(h,"closeclick",a)))},[a]),b.useEffect(function(){h&&l&&(x!==null&&google.maps.event.removeListener(x),S(google.maps.event.addListener(h,"domready",l)))},[l]),b.useEffect(function(){h&&s&&(Z!==null&&google.maps.event.removeListener(Z),R(google.maps.event.addListener(h,"content_changed",s)))},[s]),b.useEffect(function(){h&&c&&(k!==null&&google.maps.event.removeListener(k),V(google.maps.event.addListener(h,"position_changed",c)))},[c]),b.useEffect(function(){h&&u&&(N!==null&&google.maps.event.removeListener(N),X(google.maps.event.addListener(h,"zindex_changed",u)))},[u]),b.useEffect(function(){var E=new google.maps.InfoWindow(Ee({},r||{}));return A(E),J.current=document.createElement("div"),a&&v(google.maps.event.addListener(E,"closeclick",a)),l&&S(google.maps.event.addListener(E,"domready",l)),s&&R(google.maps.event.addListener(E,"content_changed",s)),c&&V(google.maps.event.addListener(E,"position_changed",c)),u&&X(google.maps.event.addListener(E,"zindex_changed",u)),E.setContent(J.current),o&&E.setPosition(o),i&&E.setZIndex(i),n?E.open(m,n):E.getPosition()?E.open(m):In(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),g&&g(E),function(){p&&google.maps.event.removeListener(p),Z&&google.maps.event.removeListener(Z),x&&google.maps.event.removeListener(x),k&&google.maps.event.removeListener(k),N&&google.maps.event.removeListener(N),d&&d(E),E.close()}},[]),J.current?Bn.createPortal(b.Children.only(t),J.current):null}b.memo(xCe);(function(e){Nt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=null,n.state={infoWindow:null},n.open=function(r,o){o?r.open(n.context,o):r.getPosition()?r.open(n.context):In(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},n.setInfoWindowCallback=function(){n.state.infoWindow!==null&&n.containerElement!==null&&(n.state.infoWindow.setContent(n.containerElement),n.open(n.state.infoWindow,n.props.anchor),n.props.onLoad&&n.props.onLoad(n.state.infoWindow))},n}return t.prototype.componentDidMount=function(){var n=new google.maps.InfoWindow(Ee({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=tt({updaterMap:NN,eventMap:WN,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{infoWindow:n}},this.setInfoWindowCallback)},t.prototype.componentDidUpdate=function(n){this.state.infoWindow!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:NN,eventMap:WN,prevProps:n,nextProps:this.props,instance:this.state.infoWindow}))},t.prototype.componentWillUnmount=function(){this.state.infoWindow!==null&&(nt(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())},t.prototype.render=function(){return this.containerElement?Bn.createPortal(b.Children.only(this.props.children),this.containerElement):null},t.contextType=$e,t})(b.PureComponent);var EN={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},XN={draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},path:function(e,t){e.setPath(t)},visible:function(e,t){e.setVisible(t)}},SCe={};function ZCe(e){var t=e.options,n=e.draggable,r=e.editable,o=e.visible,i=e.path,a=e.onDblClick,l=e.onDragEnd,s=e.onDragStart,c=e.onMouseDown,u=e.onMouseMove,g=e.onMouseOut,d=e.onMouseOver,m=e.onMouseUp,I=e.onRightClick,h=e.onClick,A=e.onDrag,C=e.onLoad,p=e.onUnmount,v=b.useContext($e),y=b.useState(null),x=y[0],S=y[1],B=b.useState(null),Z=B[0],R=B[1],w=b.useState(null),k=w[0],V=w[1],W=b.useState(null),N=W[0],X=W[1],J=b.useState(null),E=J[0],F=J[1],H=b.useState(null),M=H[0],Y=H[1],T=b.useState(null),O=T[0],P=T[1],L=b.useState(null),j=L[0],D=L[1],$=b.useState(null),K=$[0],z=$[1],_=b.useState(null),U=_[0],te=_[1],ie=b.useState(null),re=ie[0],se=ie[1],ce=b.useState(null),q=ce[0],ee=ce[1];return b.useEffect(function(){x!==null&&x.setMap(v)},[v]),b.useEffect(function(){typeof t<"u"&&x!==null&&x.setOptions(t)},[x,t]),b.useEffect(function(){typeof n<"u"&&x!==null&&x.setDraggable(n)},[x,n]),b.useEffect(function(){typeof r<"u"&&x!==null&&x.setEditable(r)},[x,r]),b.useEffect(function(){typeof o<"u"&&x!==null&&x.setVisible(o)},[x,o]),b.useEffect(function(){typeof i<"u"&&x!==null&&x.setPath(i)},[x,i]),b.useEffect(function(){x&&a&&(Z!==null&&google.maps.event.removeListener(Z),R(google.maps.event.addListener(x,"dblclick",a)))},[a]),b.useEffect(function(){x&&l&&(k!==null&&google.maps.event.removeListener(k),V(google.maps.event.addListener(x,"dragend",l)))},[l]),b.useEffect(function(){x&&s&&(N!==null&&google.maps.event.removeListener(N),X(google.maps.event.addListener(x,"dragstart",s)))},[s]),b.useEffect(function(){x&&c&&(E!==null&&google.maps.event.removeListener(E),F(google.maps.event.addListener(x,"mousedown",c)))},[c]),b.useEffect(function(){x&&u&&(M!==null&&google.maps.event.removeListener(M),Y(google.maps.event.addListener(x,"mousemove",u)))},[u]),b.useEffect(function(){x&&g&&(O!==null&&google.maps.event.removeListener(O),P(google.maps.event.addListener(x,"mouseout",g)))},[g]),b.useEffect(function(){x&&d&&(j!==null&&google.maps.event.removeListener(j),D(google.maps.event.addListener(x,"mouseover",d)))},[d]),b.useEffect(function(){x&&m&&(K!==null&&google.maps.event.removeListener(K),z(google.maps.event.addListener(x,"mouseup",m)))},[m]),b.useEffect(function(){x&&I&&(U!==null&&google.maps.event.removeListener(U),te(google.maps.event.addListener(x,"rightclick",I)))},[I]),b.useEffect(function(){x&&h&&(re!==null&&google.maps.event.removeListener(re),se(google.maps.event.addListener(x,"click",h)))},[h]),b.useEffect(function(){x&&A&&(q!==null&&google.maps.event.removeListener(q),ee(google.maps.event.addListener(x,"drag",A)))},[A]),b.useEffect(function(){var oe=new google.maps.Polyline(Ee(Ee({},t||SCe),{map:v}));return i&&oe.setPath(i),typeof o<"u"&&oe.setVisible(o),typeof r<"u"&&oe.setEditable(r),typeof n<"u"&&oe.setDraggable(n),a&&R(google.maps.event.addListener(oe,"dblclick",a)),l&&V(google.maps.event.addListener(oe,"dragend",l)),s&&X(google.maps.event.addListener(oe,"dragstart",s)),c&&F(google.maps.event.addListener(oe,"mousedown",c)),u&&Y(google.maps.event.addListener(oe,"mousemove",u)),g&&P(google.maps.event.addListener(oe,"mouseout",g)),d&&D(google.maps.event.addListener(oe,"mouseover",d)),m&&z(google.maps.event.addListener(oe,"mouseup",m)),I&&te(google.maps.event.addListener(oe,"rightclick",I)),h&&se(google.maps.event.addListener(oe,"click",h)),A&&ee(google.maps.event.addListener(oe,"drag",A)),S(oe),C&&C(oe),function(){Z!==null&&google.maps.event.removeListener(Z),k!==null&&google.maps.event.removeListener(k),N!==null&&google.maps.event.removeListener(N),E!==null&&google.maps.event.removeListener(E),M!==null&&google.maps.event.removeListener(M),O!==null&&google.maps.event.removeListener(O),j!==null&&google.maps.event.removeListener(j),K!==null&&google.maps.event.removeListener(K),U!==null&&google.maps.event.removeListener(U),re!==null&&google.maps.event.removeListener(re),p&&p(oe),oe.setMap(null)}},[]),null}b.memo(ZCe);(function(e){Nt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.registeredEvents=[],n.state={polyline:null},n.setPolylineCallback=function(){n.state.polyline!==null&&n.props.onLoad&&n.props.onLoad(n.state.polyline)},n}return t.prototype.componentDidMount=function(){var n=new google.maps.Polyline(Ee(Ee({},this.props.options||{}),{map:this.context}));this.registeredEvents=tt({updaterMap:XN,eventMap:EN,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{polyline:n}},this.setPolylineCallback)},t.prototype.componentDidUpdate=function(n){this.state.polyline!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:XN,eventMap:EN,prevProps:n,nextProps:this.props,instance:this.state.polyline}))},t.prototype.componentWillUnmount=function(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),nt(this.registeredEvents),this.state.polyline.setMap(null))},t.prototype.render=function(){return null},t.contextType=$e,t})(b.PureComponent);var JN={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},YN={draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},path:function(e,t){e.setPath(t)},paths:function(e,t){e.setPaths(t)},visible:function(e,t){e.setVisible(t)}};function wCe(e){var t=e.options,n=e.draggable,r=e.editable,o=e.visible,i=e.path,a=e.paths,l=e.onDblClick,s=e.onDragEnd,c=e.onDragStart,u=e.onMouseDown,g=e.onMouseMove,d=e.onMouseOut,m=e.onMouseOver,I=e.onMouseUp,h=e.onRightClick,A=e.onClick,C=e.onDrag,p=e.onLoad,v=e.onUnmount,y=e.onEdit,x=b.useContext($e),S=b.useState(null),B=S[0],Z=S[1],R=b.useState(null),w=R[0],k=R[1],V=b.useState(null),W=V[0],N=V[1],X=b.useState(null),J=X[0],E=X[1],F=b.useState(null),H=F[0],M=F[1],Y=b.useState(null),T=Y[0],O=Y[1],P=b.useState(null),L=P[0],j=P[1],D=b.useState(null),$=D[0],K=D[1],z=b.useState(null),_=z[0],U=z[1],te=b.useState(null),ie=te[0],re=te[1],se=b.useState(null),ce=se[0],q=se[1],ee=b.useState(null),oe=ee[0],ae=ee[1];return b.useEffect(function(){B!==null&&B.setMap(x)},[x]),b.useEffect(function(){typeof t<"u"&&B!==null&&B.setOptions(t)},[B,t]),b.useEffect(function(){typeof n<"u"&&B!==null&&B.setDraggable(n)},[B,n]),b.useEffect(function(){typeof r<"u"&&B!==null&&B.setEditable(r)},[B,r]),b.useEffect(function(){typeof o<"u"&&B!==null&&B.setVisible(o)},[B,o]),b.useEffect(function(){typeof i<"u"&&B!==null&&B.setPath(i)},[B,i]),b.useEffect(function(){typeof a<"u"&&B!==null&&B.setPaths(a)},[B,a]),b.useEffect(function(){B&&l&&(w!==null&&google.maps.event.removeListener(w),k(google.maps.event.addListener(B,"dblclick",l)))},[l]),b.useEffect(function(){B&&(google.maps.event.addListener(B.getPath(),"insert_at",function(){y==null||y(B)}),google.maps.event.addListener(B.getPath(),"set_at",function(){y==null||y(B)}))},[B,y]),b.useEffect(function(){B&&s&&(W!==null&&google.maps.event.removeListener(W),N(google.maps.event.addListener(B,"dragend",s)))},[s]),b.useEffect(function(){B&&c&&(J!==null&&google.maps.event.removeListener(J),E(google.maps.event.addListener(B,"dragstart",c)))},[c]),b.useEffect(function(){B&&u&&(H!==null&&google.maps.event.removeListener(H),M(google.maps.event.addListener(B,"mousedown",u)))},[u]),b.useEffect(function(){B&&g&&(T!==null&&google.maps.event.removeListener(T),O(google.maps.event.addListener(B,"mousemove",g)))},[g]),b.useEffect(function(){B&&d&&(L!==null&&google.maps.event.removeListener(L),j(google.maps.event.addListener(B,"mouseout",d)))},[d]),b.useEffect(function(){B&&m&&($!==null&&google.maps.event.removeListener($),K(google.maps.event.addListener(B,"mouseover",m)))},[m]),b.useEffect(function(){B&&I&&(_!==null&&google.maps.event.removeListener(_),U(google.maps.event.addListener(B,"mouseup",I)))},[I]),b.useEffect(function(){B&&h&&(ie!==null&&google.maps.event.removeListener(ie),re(google.maps.event.addListener(B,"rightclick",h)))},[h]),b.useEffect(function(){B&&A&&(ce!==null&&google.maps.event.removeListener(ce),q(google.maps.event.addListener(B,"click",A)))},[A]),b.useEffect(function(){B&&C&&(oe!==null&&google.maps.event.removeListener(oe),ae(google.maps.event.addListener(B,"drag",C)))},[C]),b.useEffect(function(){var ne=new google.maps.Polygon(Ee(Ee({},t||{}),{map:x}));return i&&ne.setPath(i),a&&ne.setPaths(a),typeof o<"u"&&ne.setVisible(o),typeof r<"u"&&ne.setEditable(r),typeof n<"u"&&ne.setDraggable(n),l&&k(google.maps.event.addListener(ne,"dblclick",l)),s&&N(google.maps.event.addListener(ne,"dragend",s)),c&&E(google.maps.event.addListener(ne,"dragstart",c)),u&&M(google.maps.event.addListener(ne,"mousedown",u)),g&&O(google.maps.event.addListener(ne,"mousemove",g)),d&&j(google.maps.event.addListener(ne,"mouseout",d)),m&&K(google.maps.event.addListener(ne,"mouseover",m)),I&&U(google.maps.event.addListener(ne,"mouseup",I)),h&&re(google.maps.event.addListener(ne,"rightclick",h)),A&&q(google.maps.event.addListener(ne,"click",A)),C&&ae(google.maps.event.addListener(ne,"drag",C)),Z(ne),p&&p(ne),function(){w!==null&&google.maps.event.removeListener(w),W!==null&&google.maps.event.removeListener(W),J!==null&&google.maps.event.removeListener(J),H!==null&&google.maps.event.removeListener(H),T!==null&&google.maps.event.removeListener(T),L!==null&&google.maps.event.removeListener(L),$!==null&&google.maps.event.removeListener($),_!==null&&google.maps.event.removeListener(_),ie!==null&&google.maps.event.removeListener(ie),ce!==null&&google.maps.event.removeListener(ce),v&&v(ne),ne.setMap(null)}},[]),null}b.memo(wCe);(function(e){Nt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.registeredEvents=[],n.state={polygon:null},n.setPolygonCallback=function(){n.state.polygon!==null&&n.props.onLoad&&n.props.onLoad(n.state.polygon)},n}return t.prototype.componentDidMount=function(){var n=new google.maps.Polygon(Ee(Ee({},this.props.options||{}),{map:this.context}));this.registeredEvents=tt({updaterMap:YN,eventMap:JN,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{polygon:n}},this.setPolygonCallback)},t.prototype.componentDidUpdate=function(n){this.state.polygon!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:YN,eventMap:JN,prevProps:n,nextProps:this.props,instance:this.state.polygon}))},t.prototype.componentWillUnmount=function(){this.state.polygon!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),nt(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))},t.prototype.render=function(){return null},t.contextType=$e,t})(b.PureComponent);var HN={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},FN={bounds:function(e,t){e.setBounds(t)},draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},visible:function(e,t){e.setVisible(t)}};function GCe(e){var t=e.options,n=e.bounds,r=e.draggable,o=e.editable,i=e.visible,a=e.onDblClick,l=e.onDragEnd,s=e.onDragStart,c=e.onMouseDown,u=e.onMouseMove,g=e.onMouseOut,d=e.onMouseOver,m=e.onMouseUp,I=e.onRightClick,h=e.onClick,A=e.onDrag,C=e.onBoundsChanged,p=e.onLoad,v=e.onUnmount,y=b.useContext($e),x=b.useState(null),S=x[0],B=x[1],Z=b.useState(null),R=Z[0],w=Z[1],k=b.useState(null),V=k[0],W=k[1],N=b.useState(null),X=N[0],J=N[1],E=b.useState(null),F=E[0],H=E[1],M=b.useState(null),Y=M[0],T=M[1],O=b.useState(null),P=O[0],L=O[1],j=b.useState(null),D=j[0],$=j[1],K=b.useState(null),z=K[0],_=K[1],U=b.useState(null),te=U[0],ie=U[1],re=b.useState(null),se=re[0],ce=re[1],q=b.useState(null),ee=q[0],oe=q[1],ae=b.useState(null),ne=ae[0],fe=ae[1];return b.useEffect(function(){S!==null&&S.setMap(y)},[y]),b.useEffect(function(){typeof t<"u"&&S!==null&&S.setOptions(t)},[S,t]),b.useEffect(function(){typeof r<"u"&&S!==null&&S.setDraggable(r)},[S,r]),b.useEffect(function(){typeof o<"u"&&S!==null&&S.setEditable(o)},[S,o]),b.useEffect(function(){typeof i<"u"&&S!==null&&S.setVisible(i)},[S,i]),b.useEffect(function(){typeof n<"u"&&S!==null&&S.setBounds(n)},[S,n]),b.useEffect(function(){S&&a&&(R!==null&&google.maps.event.removeListener(R),w(google.maps.event.addListener(S,"dblclick",a)))},[a]),b.useEffect(function(){S&&l&&(V!==null&&google.maps.event.removeListener(V),W(google.maps.event.addListener(S,"dragend",l)))},[l]),b.useEffect(function(){S&&s&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(S,"dragstart",s)))},[s]),b.useEffect(function(){S&&c&&(F!==null&&google.maps.event.removeListener(F),H(google.maps.event.addListener(S,"mousedown",c)))},[c]),b.useEffect(function(){S&&u&&(Y!==null&&google.maps.event.removeListener(Y),T(google.maps.event.addListener(S,"mousemove",u)))},[u]),b.useEffect(function(){S&&g&&(P!==null&&google.maps.event.removeListener(P),L(google.maps.event.addListener(S,"mouseout",g)))},[g]),b.useEffect(function(){S&&d&&(D!==null&&google.maps.event.removeListener(D),$(google.maps.event.addListener(S,"mouseover",d)))},[d]),b.useEffect(function(){S&&m&&(z!==null&&google.maps.event.removeListener(z),_(google.maps.event.addListener(S,"mouseup",m)))},[m]),b.useEffect(function(){S&&I&&(te!==null&&google.maps.event.removeListener(te),ie(google.maps.event.addListener(S,"rightclick",I)))},[I]),b.useEffect(function(){S&&h&&(se!==null&&google.maps.event.removeListener(se),ce(google.maps.event.addListener(S,"click",h)))},[h]),b.useEffect(function(){S&&A&&(ee!==null&&google.maps.event.removeListener(ee),oe(google.maps.event.addListener(S,"drag",A)))},[A]),b.useEffect(function(){S&&C&&(ne!==null&&google.maps.event.removeListener(ne),fe(google.maps.event.addListener(S,"bounds_changed",C)))},[C]),b.useEffect(function(){var le=new google.maps.Rectangle(Ee(Ee({},t||{}),{map:y}));return typeof i<"u"&&le.setVisible(i),typeof o<"u"&&le.setEditable(o),typeof r<"u"&&le.setDraggable(r),typeof n<"u"&&le.setBounds(n),a&&w(google.maps.event.addListener(le,"dblclick",a)),l&&W(google.maps.event.addListener(le,"dragend",l)),s&&J(google.maps.event.addListener(le,"dragstart",s)),c&&H(google.maps.event.addListener(le,"mousedown",c)),u&&T(google.maps.event.addListener(le,"mousemove",u)),g&&L(google.maps.event.addListener(le,"mouseout",g)),d&&$(google.maps.event.addListener(le,"mouseover",d)),m&&_(google.maps.event.addListener(le,"mouseup",m)),I&&ie(google.maps.event.addListener(le,"rightclick",I)),h&&ce(google.maps.event.addListener(le,"click",h)),A&&oe(google.maps.event.addListener(le,"drag",A)),C&&fe(google.maps.event.addListener(le,"bounds_changed",C)),B(le),p&&p(le),function(){R!==null&&google.maps.event.removeListener(R),V!==null&&google.maps.event.removeListener(V),X!==null&&google.maps.event.removeListener(X),F!==null&&google.maps.event.removeListener(F),Y!==null&&google.maps.event.removeListener(Y),P!==null&&google.maps.event.removeListener(P),D!==null&&google.maps.event.removeListener(D),z!==null&&google.maps.event.removeListener(z),te!==null&&google.maps.event.removeListener(te),se!==null&&google.maps.event.removeListener(se),ee!==null&&google.maps.event.removeListener(ee),ne!==null&&google.maps.event.removeListener(ne),v&&v(le),le.setMap(null)}},[]),null}b.memo(GCe);(function(e){Nt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.registeredEvents=[],n.state={rectangle:null},n.setRectangleCallback=function(){n.state.rectangle!==null&&n.props.onLoad&&n.props.onLoad(n.state.rectangle)},n}return t.prototype.componentDidMount=function(){var n=new google.maps.Rectangle(Ee(Ee({},this.props.options||{}),{map:this.context}));this.registeredEvents=tt({updaterMap:FN,eventMap:HN,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{rectangle:n}},this.setRectangleCallback)},t.prototype.componentDidUpdate=function(n){this.state.rectangle!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:FN,eventMap:HN,prevProps:n,nextProps:this.props,instance:this.state.rectangle}))},t.prototype.componentWillUnmount=function(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),nt(this.registeredEvents),this.state.rectangle.setMap(null))},t.prototype.render=function(){return null},t.contextType=$e,t})(b.PureComponent);var MN={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},jN={center:function(e,t){e.setCenter(t)},draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},radius:function(e,t){e.setRadius(t)},visible:function(e,t){e.setVisible(t)}},BCe={};function kCe(e){var t=e.options,n=e.center,r=e.radius,o=e.draggable,i=e.editable,a=e.visible,l=e.onDblClick,s=e.onDragEnd,c=e.onDragStart,u=e.onMouseDown,g=e.onMouseMove,d=e.onMouseOut,m=e.onMouseOver,I=e.onMouseUp,h=e.onRightClick,A=e.onClick,C=e.onDrag,p=e.onCenterChanged,v=e.onRadiusChanged,y=e.onLoad,x=e.onUnmount,S=b.useContext($e),B=b.useState(null),Z=B[0],R=B[1],w=b.useState(null),k=w[0],V=w[1],W=b.useState(null),N=W[0],X=W[1],J=b.useState(null),E=J[0],F=J[1],H=b.useState(null),M=H[0],Y=H[1],T=b.useState(null),O=T[0],P=T[1],L=b.useState(null),j=L[0],D=L[1],$=b.useState(null),K=$[0],z=$[1],_=b.useState(null),U=_[0],te=_[1],ie=b.useState(null),re=ie[0],se=ie[1],ce=b.useState(null),q=ce[0],ee=ce[1],oe=b.useState(null),ae=oe[0],ne=oe[1],fe=b.useState(null),le=fe[0],be=fe[1],ye=b.useState(null),Fe=ye[0],ue=ye[1];return b.useEffect(function(){Z!==null&&Z.setMap(S)},[S]),b.useEffect(function(){typeof t<"u"&&Z!==null&&Z.setOptions(t)},[Z,t]),b.useEffect(function(){typeof o<"u"&&Z!==null&&Z.setDraggable(o)},[Z,o]),b.useEffect(function(){typeof i<"u"&&Z!==null&&Z.setEditable(i)},[Z,i]),b.useEffect(function(){typeof a<"u"&&Z!==null&&Z.setVisible(a)},[Z,a]),b.useEffect(function(){typeof r=="number"&&Z!==null&&Z.setRadius(r)},[Z,r]),b.useEffect(function(){typeof n<"u"&&Z!==null&&Z.setCenter(n)},[Z,n]),b.useEffect(function(){Z&&l&&(k!==null&&google.maps.event.removeListener(k),V(google.maps.event.addListener(Z,"dblclick",l)))},[l]),b.useEffect(function(){Z&&s&&(N!==null&&google.maps.event.removeListener(N),X(google.maps.event.addListener(Z,"dragend",s)))},[s]),b.useEffect(function(){Z&&c&&(E!==null&&google.maps.event.removeListener(E),F(google.maps.event.addListener(Z,"dragstart",c)))},[c]),b.useEffect(function(){Z&&u&&(M!==null&&google.maps.event.removeListener(M),Y(google.maps.event.addListener(Z,"mousedown",u)))},[u]),b.useEffect(function(){Z&&g&&(O!==null&&google.maps.event.removeListener(O),P(google.maps.event.addListener(Z,"mousemove",g)))},[g]),b.useEffect(function(){Z&&d&&(j!==null&&google.maps.event.removeListener(j),D(google.maps.event.addListener(Z,"mouseout",d)))},[d]),b.useEffect(function(){Z&&m&&(K!==null&&google.maps.event.removeListener(K),z(google.maps.event.addListener(Z,"mouseover",m)))},[m]),b.useEffect(function(){Z&&I&&(U!==null&&google.maps.event.removeListener(U),te(google.maps.event.addListener(Z,"mouseup",I)))},[I]),b.useEffect(function(){Z&&h&&(re!==null&&google.maps.event.removeListener(re),se(google.maps.event.addListener(Z,"rightclick",h)))},[h]),b.useEffect(function(){Z&&A&&(q!==null&&google.maps.event.removeListener(q),ee(google.maps.event.addListener(Z,"click",A)))},[A]),b.useEffect(function(){Z&&C&&(ae!==null&&google.maps.event.removeListener(ae),ne(google.maps.event.addListener(Z,"drag",C)))},[C]),b.useEffect(function(){Z&&p&&(le!==null&&google.maps.event.removeListener(le),be(google.maps.event.addListener(Z,"center_changed",p)))},[A]),b.useEffect(function(){Z&&v&&(Fe!==null&&google.maps.event.removeListener(Fe),ue(google.maps.event.addListener(Z,"radius_changed",v)))},[v]),b.useEffect(function(){var Se=new google.maps.Circle(Ee(Ee({},t||BCe),{map:S}));return typeof r=="number"&&Se.setRadius(r),typeof n<"u"&&Se.setCenter(n),typeof r=="number"&&Se.setRadius(r),typeof a<"u"&&Se.setVisible(a),typeof i<"u"&&Se.setEditable(i),typeof o<"u"&&Se.setDraggable(o),l&&V(google.maps.event.addListener(Se,"dblclick",l)),s&&X(google.maps.event.addListener(Se,"dragend",s)),c&&F(google.maps.event.addListener(Se,"dragstart",c)),u&&Y(google.maps.event.addListener(Se,"mousedown",u)),g&&P(google.maps.event.addListener(Se,"mousemove",g)),d&&D(google.maps.event.addListener(Se,"mouseout",d)),m&&z(google.maps.event.addListener(Se,"mouseover",m)),I&&te(google.maps.event.addListener(Se,"mouseup",I)),h&&se(google.maps.event.addListener(Se,"rightclick",h)),A&&ee(google.maps.event.addListener(Se,"click",A)),C&&ne(google.maps.event.addListener(Se,"drag",C)),p&&be(google.maps.event.addListener(Se,"center_changed",p)),v&&ue(google.maps.event.addListener(Se,"radius_changed",v)),R(Se),y&&y(Se),function(){k!==null&&google.maps.event.removeListener(k),N!==null&&google.maps.event.removeListener(N),E!==null&&google.maps.event.removeListener(E),M!==null&&google.maps.event.removeListener(M),O!==null&&google.maps.event.removeListener(O),j!==null&&google.maps.event.removeListener(j),K!==null&&google.maps.event.removeListener(K),U!==null&&google.maps.event.removeListener(U),re!==null&&google.maps.event.removeListener(re),q!==null&&google.maps.event.removeListener(q),le!==null&&google.maps.event.removeListener(le),Fe!==null&&google.maps.event.removeListener(Fe),x&&x(Se),Se.setMap(null)}},[]),null}b.memo(kCe);(function(e){Nt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.registeredEvents=[],n.state={circle:null},n.setCircleCallback=function(){n.state.circle!==null&&n.props.onLoad&&n.props.onLoad(n.state.circle)},n}return t.prototype.componentDidMount=function(){var n=new google.maps.Circle(Ee(Ee({},this.props.options||{}),{map:this.context}));this.registeredEvents=tt({updaterMap:jN,eventMap:MN,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{circle:n}},this.setCircleCallback)},t.prototype.componentDidUpdate=function(n){this.state.circle!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:jN,eventMap:MN,prevProps:n,nextProps:this.props,instance:this.state.circle}))},t.prototype.componentWillUnmount=function(){var n;this.state.circle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),nt(this.registeredEvents),(n=this.state.circle)===null||n===void 0||n.setMap(null))},t.prototype.render=function(){return null},t.contextType=$e,t})(b.PureComponent);var TN={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},LN={add:function(e,t){e.add(t)},addgeojson:function(e,t,n){e.addGeoJson(t,n)},contains:function(e,t){e.contains(t)},foreach:function(e,t){e.forEach(t)},loadgeojson:function(e,t,n,r){e.loadGeoJson(t,n,r)},overridestyle:function(e,t,n){e.overrideStyle(t,n)},remove:function(e,t){e.remove(t)},revertstyle:function(e,t){e.revertStyle(t)},controlposition:function(e,t){e.setControlPosition(t)},controls:function(e,t){e.setControls(t)},drawingmode:function(e,t){e.setDrawingMode(t)},map:function(e,t){e.setMap(t)},style:function(e,t){e.setStyle(t)},togeojson:function(e,t){e.toGeoJson(t)}};function RCe(e){var t=e.options,n=e.onClick,r=e.onDblClick,o=e.onMouseDown,i=e.onMouseMove,a=e.onMouseOut,l=e.onMouseOver,s=e.onMouseUp,c=e.onRightClick,u=e.onAddFeature,g=e.onRemoveFeature,d=e.onRemoveProperty,m=e.onSetGeometry,I=e.onSetProperty,h=e.onLoad,A=e.onUnmount,C=b.useContext($e),p=b.useState(null),v=p[0],y=p[1],x=b.useState(null),S=x[0],B=x[1],Z=b.useState(null),R=Z[0],w=Z[1],k=b.useState(null),V=k[0],W=k[1],N=b.useState(null),X=N[0],J=N[1],E=b.useState(null),F=E[0],H=E[1],M=b.useState(null),Y=M[0],T=M[1],O=b.useState(null),P=O[0],L=O[1],j=b.useState(null),D=j[0],$=j[1],K=b.useState(null),z=K[0],_=K[1],U=b.useState(null),te=U[0],ie=U[1],re=b.useState(null),se=re[0],ce=re[1],q=b.useState(null),ee=q[0],oe=q[1],ae=b.useState(null),ne=ae[0],fe=ae[1];return b.useEffect(function(){v!==null&&v.setMap(C)},[C]),b.useEffect(function(){v&&r&&(S!==null&&google.maps.event.removeListener(S),B(google.maps.event.addListener(v,"dblclick",r)))},[r]),b.useEffect(function(){v&&o&&(R!==null&&google.maps.event.removeListener(R),w(google.maps.event.addListener(v,"mousedown",o)))},[o]),b.useEffect(function(){v&&i&&(V!==null&&google.maps.event.removeListener(V),W(google.maps.event.addListener(v,"mousemove",i)))},[i]),b.useEffect(function(){v&&a&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(v,"mouseout",a)))},[a]),b.useEffect(function(){v&&l&&(F!==null&&google.maps.event.removeListener(F),H(google.maps.event.addListener(v,"mouseover",l)))},[l]),b.useEffect(function(){v&&s&&(Y!==null&&google.maps.event.removeListener(Y),T(google.maps.event.addListener(v,"mouseup",s)))},[s]),b.useEffect(function(){v&&c&&(P!==null&&google.maps.event.removeListener(P),L(google.maps.event.addListener(v,"rightclick",c)))},[c]),b.useEffect(function(){v&&n&&(D!==null&&google.maps.event.removeListener(D),$(google.maps.event.addListener(v,"click",n)))},[n]),b.useEffect(function(){v&&u&&(z!==null&&google.maps.event.removeListener(z),_(google.maps.event.addListener(v,"addfeature",u)))},[u]),b.useEffect(function(){v&&g&&(te!==null&&google.maps.event.removeListener(te),ie(google.maps.event.addListener(v,"removefeature",g)))},[g]),b.useEffect(function(){v&&d&&(se!==null&&google.maps.event.removeListener(se),ce(google.maps.event.addListener(v,"removeproperty",d)))},[d]),b.useEffect(function(){v&&m&&(ee!==null&&google.maps.event.removeListener(ee),oe(google.maps.event.addListener(v,"setgeometry",m)))},[m]),b.useEffect(function(){v&&I&&(ne!==null&&google.maps.event.removeListener(ne),fe(google.maps.event.addListener(v,"setproperty",I)))},[I]),b.useEffect(function(){if(C!==null){var le=new google.maps.Data(Ee(Ee({},t||{}),{map:C}));r&&B(google.maps.event.addListener(le,"dblclick",r)),o&&w(google.maps.event.addListener(le,"mousedown",o)),i&&W(google.maps.event.addListener(le,"mousemove",i)),a&&J(google.maps.event.addListener(le,"mouseout",a)),l&&H(google.maps.event.addListener(le,"mouseover",l)),s&&T(google.maps.event.addListener(le,"mouseup",s)),c&&L(google.maps.event.addListener(le,"rightclick",c)),n&&$(google.maps.event.addListener(le,"click",n)),u&&_(google.maps.event.addListener(le,"addfeature",u)),g&&ie(google.maps.event.addListener(le,"removefeature",g)),d&&ce(google.maps.event.addListener(le,"removeproperty",d)),m&&oe(google.maps.event.addListener(le,"setgeometry",m)),I&&fe(google.maps.event.addListener(le,"setproperty",I)),y(le),h&&h(le)}return function(){v&&(S!==null&&google.maps.event.removeListener(S),R!==null&&google.maps.event.removeListener(R),V!==null&&google.maps.event.removeListener(V),X!==null&&google.maps.event.removeListener(X),F!==null&&google.maps.event.removeListener(F),Y!==null&&google.maps.event.removeListener(Y),P!==null&&google.maps.event.removeListener(P),D!==null&&google.maps.event.removeListener(D),z!==null&&google.maps.event.removeListener(z),te!==null&&google.maps.event.removeListener(te),se!==null&&google.maps.event.removeListener(se),ee!==null&&google.maps.event.removeListener(ee),ne!==null&&google.maps.event.removeListener(ne),A&&A(v),v.setMap(null))}},[]),null}b.memo(RCe);(function(e){Nt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.registeredEvents=[],n.state={data:null},n.setDataCallback=function(){n.state.data!==null&&n.props.onLoad&&n.props.onLoad(n.state.data)},n}return t.prototype.componentDidMount=function(){if(this.context!==null){var n=new google.maps.Data(Ee(Ee({},this.props.options||{}),{map:this.context}));this.registeredEvents=tt({updaterMap:LN,eventMap:TN,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{data:n}},this.setDataCallback)}},t.prototype.componentDidUpdate=function(n){this.state.data!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:LN,eventMap:TN,prevProps:n,nextProps:this.props,instance:this.state.data}))},t.prototype.componentWillUnmount=function(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),nt(this.registeredEvents),this.state.data&&this.state.data.setMap(null))},t.prototype.render=function(){return null},t.contextType=$e,t})(b.PureComponent);var KN={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},ON={options:function(e,t){e.setOptions(t)},url:function(e,t){e.setUrl(t)},zIndex:function(e,t){e.setZIndex(t)}};(function(e){Nt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.registeredEvents=[],n.state={kmlLayer:null},n.setKmlLayerCallback=function(){n.state.kmlLayer!==null&&n.props.onLoad&&n.props.onLoad(n.state.kmlLayer)},n}return t.prototype.componentDidMount=function(){var n=new google.maps.KmlLayer(Ee(Ee({},this.props.options),{map:this.context}));this.registeredEvents=tt({updaterMap:ON,eventMap:KN,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{kmlLayer:n}},this.setKmlLayerCallback)},t.prototype.componentDidUpdate=function(n){this.state.kmlLayer!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:ON,eventMap:KN,prevProps:n,nextProps:this.props,instance:this.state.kmlLayer}))},t.prototype.componentWillUnmount=function(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),nt(this.registeredEvents),this.state.kmlLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=$e,t})(b.PureComponent);function iK(e,t){return typeof t=="function"?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function VCe(e,t){return new t(e.lat,e.lng)}function WCe(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function NCe(e,t,n){return e instanceof t?e:n(e,t)}function ECe(e,t,n){return e instanceof t?e:n(e,t)}function XCe(e,t,n){var r=e&&e.fromLatLngToDivPixel(n.getNorthEast()),o=e&&e.fromLatLngToDivPixel(n.getSouthWest());return r&&o?{left:"".concat(o.x+t.x,"px"),top:"".concat(r.y+t.y,"px"),width:"".concat(r.x-o.x-t.x,"px"),height:"".concat(o.y-r.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}function JCe(e,t,n){var r=e&&e.fromLatLngToDivPixel(n);if(r){var o=r.x,i=r.y;return{left:"".concat(o+t.x,"px"),top:"".concat(i+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}function aK(e,t,n,r){return n!==void 0?XCe(e,t,ECe(n,google.maps.LatLngBounds,WCe)):JCe(e,t,NCe(r,google.maps.LatLng,VCe))}function YCe(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.height&&e.height===t.height}function HCe(e,t,n,r,o){var i=function(a){Nt(l,a);function l(s,c,u,g){var d=a.call(this)||this;return d.container=s,d.pane=c,d.position=u,d.bounds=g,d}return l.prototype.onAdd=function(){var s,c=(s=this.getPanes())===null||s===void 0?void 0:s[this.pane];c==null||c.appendChild(this.container)},l.prototype.draw=function(){for(var s=this.getProjection(),c=Ee({},this.container?iK(this.container,o):{x:0,y:0}),u=aK(s,c,this.bounds,this.position),g=0,d=Object.entries(u);g<d.length;g++){var m=d[g],I=m[0],h=m[1];this.container.style[I]=h}},l.prototype.onRemove=function(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)},l}(google.maps.OverlayView);return new i(e,t,n,r)}function PN(e){if(!e)return"";var t=e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng);return t+""}function DN(e){if(!e)return"";var t=e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west));return t+""}function FCe(e){var t=e.position,n=e.bounds,r=e.mapPaneName,o=e.zIndex,i=e.onLoad,a=e.onUnmount,l=e.getPixelPositionOffset,s=e.children,c=b.useContext($e),u=b.useMemo(function(){var d=document.createElement("div");return d.style.position="absolute",d},[]),g=b.useMemo(function(){return HCe(u,r,t,n,l)},[u,r,t,n]);return b.useEffect(function(){return i==null||i(g),g==null||g.setMap(c),function(){a==null||a(g),g==null||g.setMap(null)}},[c,g]),b.useEffect(function(){u.style.zIndex="".concat(o)},[o,u]),Bn.createPortal(s,u)}b.memo(FCe);(function(e){Nt(t,e);function t(n){var r=e.call(this,n)||this;r.state={paneEl:null,containerStyle:{position:"absolute"}},r.updatePane=function(){var i=r.props.mapPaneName,a=r.overlayView.getPanes();In(!!i,"OverlayView requires props.mapPaneName but got %s",i),a?r.setState({paneEl:a[i]}):r.setState({paneEl:null})},r.onAdd=function(){var i,a;r.updatePane(),(a=(i=r.props).onLoad)===null||a===void 0||a.call(i,r.overlayView)},r.onPositionElement=function(){var i=r.overlayView.getProjection(),a=Ee({x:0,y:0},r.containerRef.current?iK(r.containerRef.current,r.props.getPixelPositionOffset):{}),l=aK(i,a,r.props.bounds,r.props.position),s=r.state.containerStyle,c=s.left,u=s.top,g=s.width,d=s.height;YCe(l,{left:c,top:u,width:g,height:d})||r.setState({containerStyle:{top:l.top||0,left:l.left||0,width:l.width||0,height:l.height||0,position:"absolute"}})},r.draw=function(){r.onPositionElement()},r.onRemove=function(){var i,a;r.setState(function(){return{paneEl:null}}),(a=(i=r.props).onUnmount)===null||a===void 0||a.call(i,r.overlayView)},r.containerRef=b.createRef();var o=new google.maps.OverlayView;return o.onAdd=r.onAdd,o.draw=r.draw,o.onRemove=r.onRemove,r.overlayView=o,r}return t.prototype.componentDidMount=function(){this.overlayView.setMap(this.context)},t.prototype.componentDidUpdate=function(n){var r=PN(n.position),o=PN(this.props.position),i=DN(n.bounds),a=DN(this.props.bounds);(r!==o||i!==a)&&this.overlayView.draw(),n.mapPaneName!==this.props.mapPaneName&&this.updatePane()},t.prototype.componentWillUnmount=function(){this.overlayView.setMap(null)},t.prototype.render=function(){var n=this.state.paneEl;return n?Bn.createPortal(f.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:b.Children.only(this.props.children)}),n):null},t.FLOAT_PANE="floatPane",t.MAP_PANE="mapPane",t.MARKER_LAYER="markerLayer",t.OVERLAY_LAYER="overlayLayer",t.OVERLAY_MOUSE_TARGET="overlayMouseTarget",t.contextType=$e,t})(b.PureComponent);function MCe(){}var zN={onDblClick:"dblclick",onClick:"click"},UN={opacity:function(e,t){e.setOpacity(t)}};function jCe(e){var t=e.url,n=e.bounds,r=e.options,o=e.visible,i=b.useContext($e),a=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),l=b.useMemo(function(){var s=new google.maps.GroundOverlay(t,a,Ee({},r));return s},[]);return b.useEffect(function(){l!==null&&l.setMap(i)},[i]),b.useEffect(function(){typeof t<"u"&&l!==null&&(l.set("url",t),l.setMap(i))},[l,t]),b.useEffect(function(){typeof o<"u"&&l!==null&&l.setOpacity(o?1:0)},[l,o]),b.useEffect(function(){var s=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&l!==null&&(l.set("bounds",s),l.setMap(i))},[l,n]),null}b.memo(jCe);(function(e){Nt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.registeredEvents=[],n.state={groundOverlay:null},n.setGroundOverlayCallback=function(){n.state.groundOverlay!==null&&n.props.onLoad&&n.props.onLoad(n.state.groundOverlay)},n}return t.prototype.componentDidMount=function(){In(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var n=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Ee(Ee({},this.props.options),{map:this.context}));this.registeredEvents=tt({updaterMap:UN,eventMap:zN,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{groundOverlay:n}},this.setGroundOverlayCallback)},t.prototype.componentDidUpdate=function(n){this.state.groundOverlay!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:UN,eventMap:zN,prevProps:n,nextProps:this.props,instance:this.state.groundOverlay}))},t.prototype.componentWillUnmount=function(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))},t.prototype.render=function(){return null},t.defaultProps={onLoad:MCe},t.contextType=$e,t})(b.PureComponent);var _N={},QN={data:function(e,t){e.setData(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)}};function TCe(e){var t=e.data,n=e.onLoad,r=e.onUnmount,o=e.options,i=b.useContext($e),a=b.useState(null),l=a[0],s=a[1];return b.useEffect(function(){google.maps.visualization||In(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),b.useEffect(function(){In(!!t,"data property is required in HeatmapLayer %s",t)},[t]),b.useEffect(function(){l!==null&&l.setMap(i)},[i]),b.useEffect(function(){o&&l!==null&&l.setOptions(o)},[l,o]),b.useEffect(function(){var c=new google.maps.visualization.HeatmapLayer(Ee(Ee({},o||{}),{data:t,map:i}));return s(c),n&&n(c),function(){l!==null&&(r&&r(l),l.setMap(null))}},[]),null}b.memo(TCe);(function(e){Nt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.registeredEvents=[],n.state={heatmapLayer:null},n.setHeatmapLayerCallback=function(){n.state.heatmapLayer!==null&&n.props.onLoad&&n.props.onLoad(n.state.heatmapLayer)},n}return t.prototype.componentDidMount=function(){In(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),In(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var n=new google.maps.visualization.HeatmapLayer(Ee(Ee({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=tt({updaterMap:QN,eventMap:_N,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{heatmapLayer:n}},this.setHeatmapLayerCallback)},t.prototype.componentDidUpdate=function(n){nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:QN,eventMap:_N,prevProps:n,nextProps:this.props,instance:this.state.heatmapLayer})},t.prototype.componentWillUnmount=function(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),nt(this.registeredEvents),this.state.heatmapLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=$e,t})(b.PureComponent);var $N={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},qN={register:function(e,t,n){e.registerPanoProvider(t,n)},links:function(e,t){e.setLinks(t)},motionTracking:function(e,t){e.setMotionTracking(t)},options:function(e,t){e.setOptions(t)},pano:function(e,t){e.setPano(t)},position:function(e,t){e.setPosition(t)},pov:function(e,t){e.setPov(t)},visible:function(e,t){e.setVisible(t)},zoom:function(e,t){e.setZoom(t)}};(function(e){Nt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.registeredEvents=[],n.state={streetViewPanorama:null},n.setStreetViewPanoramaCallback=function(){n.state.streetViewPanorama!==null&&n.props.onLoad&&n.props.onLoad(n.state.streetViewPanorama)},n}return t.prototype.componentDidMount=function(){var n,r,o=(r=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&r!==void 0?r:null;this.registeredEvents=tt({updaterMap:qN,eventMap:$N,prevProps:{},nextProps:this.props,instance:o}),this.setState(function(){return{streetViewPanorama:o}},this.setStreetViewPanoramaCallback)},t.prototype.componentDidUpdate=function(n){this.state.streetViewPanorama!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:qN,eventMap:$N,prevProps:n,nextProps:this.props,instance:this.state.streetViewPanorama}))},t.prototype.componentWillUnmount=function(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),nt(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))},t.prototype.render=function(){return null},t.contextType=$e,t})(b.PureComponent);(function(e){Nt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={streetViewService:null},n.setStreetViewServiceCallback=function(){n.state.streetViewService!==null&&n.props.onLoad&&n.props.onLoad(n.state.streetViewService)},n}return t.prototype.componentDidMount=function(){var n=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:n}},this.setStreetViewServiceCallback)},t.prototype.componentWillUnmount=function(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)},t.prototype.render=function(){return null},t.contextType=$e,t})(b.PureComponent);(function(e){Nt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={directionsService:null},n.setDirectionsServiceCallback=function(){n.state.directionsService!==null&&n.props.onLoad&&n.props.onLoad(n.state.directionsService)},n}return t.prototype.componentDidMount=function(){In(!!this.props.options,"DirectionsService expected options object as parameter, but got %s",this.props.options);var n=new google.maps.DirectionsService;this.setState(function(){return{directionsService:n}},this.setDirectionsServiceCallback)},t.prototype.componentDidUpdate=function(){this.state.directionsService!==null&&this.state.directionsService.route(this.props.options,this.props.callback)},t.prototype.componentWillUnmount=function(){this.state.directionsService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.directionsService)},t.prototype.render=function(){return null},t})(b.PureComponent);var e3={onDirectionsChanged:"directions_changed"},t3={directions:function(e,t){e.setDirections(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},panel:function(e,t){e.setPanel(t)},routeIndex:function(e,t){e.setRouteIndex(t)}};(function(e){Nt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.registeredEvents=[],n.state={directionsRenderer:null},n.setDirectionsRendererCallback=function(){n.state.directionsRenderer!==null&&(n.state.directionsRenderer.setMap(n.context),n.props.onLoad&&n.props.onLoad(n.state.directionsRenderer))},n}return t.prototype.componentDidMount=function(){var n=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=tt({updaterMap:t3,eventMap:e3,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{directionsRenderer:n}},this.setDirectionsRendererCallback)},t.prototype.componentDidUpdate=function(n){this.state.directionsRenderer!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:t3,eventMap:e3,prevProps:n,nextProps:this.props,instance:this.state.directionsRenderer}))},t.prototype.componentWillUnmount=function(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),nt(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))},t.prototype.render=function(){return f.jsx(f.Fragment,{})},t.contextType=$e,t})(b.PureComponent);(function(e){Nt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={distanceMatrixService:null},n.setDistanceMatrixServiceCallback=function(){n.state.distanceMatrixService!==null&&n.props.onLoad&&n.props.onLoad(n.state.distanceMatrixService)},n}return t.prototype.componentDidMount=function(){In(!!this.props.options,"DistanceMatrixService expected options object as parameter, but go %s",this.props.options);var n=new google.maps.DistanceMatrixService;this.setState(function(){return{distanceMatrixService:n}},this.setDistanceMatrixServiceCallback)},t.prototype.componentDidUpdate=function(){this.state.distanceMatrixService!==null&&this.state.distanceMatrixService.getDistanceMatrix(this.props.options,this.props.callback)},t.prototype.componentWillUnmount=function(){this.state.distanceMatrixService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.distanceMatrixService)},t.prototype.render=function(){return null},t})(b.PureComponent);var n3={onPlacesChanged:"places_changed"},r3={bounds:function(e,t){e.setBounds(t)}};(function(e){Nt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=b.createRef(),n.state={searchBox:null},n.setSearchBoxCallback=function(){n.state.searchBox!==null&&n.props.onLoad&&n.props.onLoad(n.state.searchBox)},n}return t.prototype.componentDidMount=function(){if(In(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var n=this.containerElement.current.querySelector("input");if(n!==null){var r=new google.maps.places.SearchBox(n,this.props.options);this.registeredEvents=tt({updaterMap:r3,eventMap:n3,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{searchBox:r}},this.setSearchBoxCallback)}}},t.prototype.componentDidUpdate=function(n){this.state.searchBox!==null&&(nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:r3,eventMap:n3,prevProps:n,nextProps:this.props,instance:this.state.searchBox}))},t.prototype.componentWillUnmount=function(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),nt(this.registeredEvents))},t.prototype.render=function(){return f.jsx("div",{ref:this.containerElement,children:b.Children.only(this.props.children)})},t.contextType=$e,t})(b.PureComponent);var o3={onPlaceChanged:"place_changed"},i3={bounds:function(e,t){e.setBounds(t)},restrictions:function(e,t){e.setComponentRestrictions(t)},fields:function(e,t){e.setFields(t)},options:function(e,t){e.setOptions(t)},types:function(e,t){e.setTypes(t)}},LCe=function(e){Nt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=b.createRef(),n.state={autocomplete:null},n.setAutocompleteCallback=function(){n.state.autocomplete!==null&&n.props.onLoad&&n.props.onLoad(n.state.autocomplete)},n}return t.prototype.componentDidMount=function(){var n;In(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var r=(n=this.containerElement.current)===null||n===void 0?void 0:n.querySelector("input");if(r){var o=new google.maps.places.Autocomplete(r,this.props.options);this.registeredEvents=tt({updaterMap:i3,eventMap:o3,prevProps:{},nextProps:this.props,instance:o}),this.setState(function(){return{autocomplete:o}},this.setAutocompleteCallback)}},t.prototype.componentDidUpdate=function(n){nt(this.registeredEvents),this.registeredEvents=tt({updaterMap:i3,eventMap:o3,prevProps:n,nextProps:this.props,instance:this.state.autocomplete})},t.prototype.componentWillUnmount=function(){this.state.autocomplete!==null&&nt(this.registeredEvents)},t.prototype.render=function(){return f.jsx("div",{ref:this.containerElement,className:this.props.className,children:b.Children.only(this.props.children)})},t.defaultProps={className:""},t.contextType=$e,t}(b.PureComponent);const KCe=["places"],OCe={width:"100%",height:"250px"},PCe=({onChange:e,lat:t,lng:n})=>{const{isLoaded:r,loadError:o}=cB({googleMapsApiKey:"AIzaSyDW3kUrRQiLfjrg81wlKLk8tMomO0DBnxg",libraries:KCe}),[i,a]=b.useState({lat:t,lng:n}),[l,s]=b.useState(null),[c,u]=b.useState(""),g=b.useRef(null),[d,m]=b.useState(null);b.useEffect(()=>{window.google&&(m(new window.google.maps.Geocoder),p(i))},[r]);const I=b.useCallback(v=>{g.current=v},[]),h=v=>{const y=v.latLng.lat(),x=v.latLng.lng();a({lat:y,lng:x}),e(y,x),p({lat:y,lng:x})},A=v=>{s(v)},C=()=>{if(l!==null){const v=l.getPlace();if(v.geometry){const y=v.geometry.location.lat(),x=v.geometry.location.lng();a({lat:y,lng:x}),e(y,x),u(v.formatted_address),g.current.panTo({lat:y,lng:x})}}},p=v=>{d&&d.geocode({location:v},(y,x)=>{x==="OK"&&y[0]?u(y[0].formatted_address):console.error("Geocodificación no fue exitosa por la siguiente razón: "+x)})};return o?f.jsx("div",{children:"Error cargando mapas"}):r?f.jsxs("div",{className:"block w-full",children:[f.jsx(LCe,{onLoad:A,onPlaceChanged:C,children:f.jsxs(f.Fragment,{children:[f.jsx("h1",{className:"block text-sm font-medium leading-6 text-white",children:"Dirección"}),f.jsx("input",{type:"text",className:"px-1.5 mt-2 mb-4 block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-orange-500 sm:text-sm sm:leading-6",placeholder:"Ingresa una localización",value:c,onChange:v=>u(v.target.value)})]})}),f.jsx("div",{style:{position:"relative"},className:"z-10",children:f.jsx(zL,{mapContainerStyle:OCe,center:i,zoom:18,onLoad:I,children:f.jsx(qL,{position:i,draggable:!0,onDragEnd:h})})})]}):f.jsx("div",{children:"Cargando mapas..."})},DCe=({avatar:e,inputRef:t,handleOnChange:n,formState:r,onInputChange:o,onCheckBoxChangeWA:i,setShowCustomButtonHour:a,initStateSchedule:l,schedule:s,categories:c,onCheckBoxChange:u,handleUpdateDB:g,activeRed:d,handleRemoveSM:m,handleUpdateSM:I,setSocialMedia:h,selectedPDFFile:A,onInputChangeLatLng:C,handlePDFFileChange:p,secondaryPDFFile:v,handleSecondaryPDFFileChange:y,onMultiInputChange:x})=>{const[S,B]=b.useState(!1),Z=["bold","italic","underline","strike","blockquote","list","bullet","indent"],R=b.useMemo(()=>({toolbar:{container:[["bold","italic","underline"],["clean"]]}}),[]),w=T=>(T/(1024*1024)).toFixed(1)+" MB",[k,V]=b.useState(r.show_maps_status),[W,N]=b.useState(""),X=()=>{V(!k),o({target:{name:"show_maps_status",value:!k}})},J=T=>{T.preventDefault(),r.id_categorie==="-1"?N("Debes seleccionar un área de trabajo."):(N(""),g())},E=()=>{window.open(r.pdf_file_url.includes("https://")?r.pdf_file_url:`https://${r.pdf_file_url}`,"_blank","noreferrer")},F=()=>{window.open(r.pdf_file_url.includes("https://")?r.secondary_pdf_file_url:`https://${r.secondary_pdf_file_url}`,"_blank","noreferrer")},[H,M]=b.useState(!1),Y=b.useRef(null);return b.useEffect(()=>{const T=O=>{Y.current&&!Y.current.contains(O.target)&&M(!1)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[]),b.useEffect(()=>{if(H){const T=setTimeout(()=>{M(!1)},1e4);return()=>clearTimeout(T)}},[H]),f.jsxs(f.Fragment,{children:[S&&f.jsx("div",{className:"bg-red-500 text-white p-3 rounded-lg mb-4",children:f.jsx("p",{children:"El número de teléfono no puede exceder los 10 dígitos."})}),f.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:t,onChange:n}),f.jsx("div",{className:"",children:f.jsxs("div",{className:"grid max-w-7xl grid-cols-1 gap-x-8 gap-y-10 px-4 py-16 sm:px-6 md:grid-cols-3 lg:px-8",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-base font-semibold leading-7 text-white",children:"Información personal"}),f.jsx("p",{className:"mt-1 text-sm leading-6 text-gray-400"})]}),f.jsx("form",{className:"md:col-span-2",onSubmit:J,children:f.jsxs("div",{className:"grid grid-cols-1 gap-x-6 gap-y-8 sm:max-w-xl sm:grid-cols-6",children:[f.jsxs("div",{className:"col-span-full flex items-center gap-x-8",children:[f.jsx("img",{alt:"",src:e,className:"h-24 w-24 flex-none rounded-lg bg-gray-800 object-cover"}),f.jsxs("div",{children:[f.jsx("button",{type:"button",className:"rounded-md bg-white/10 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-white/20",onClick:()=>{t.current.value="",t.current.click()},children:"Cambiar Avatar"}),f.jsx("p",{className:"mt-2 text-xs leading-5 text-gray-400",children:"JPG, GIF o PNG. 1MB max."})]})]}),f.jsxs(pt,{className:"col-span-full",children:[f.jsxs("div",{className:"social-media-icon-container grid grid-cols-3 sm:grid-cols-6 gap-4 items-center justify-center mt-4",children:[d.length===0?f.jsx(f.Fragment,{}):f.jsx(f.Fragment,{children:d==null?void 0:d.map(T=>{const O=WG(T.url)[T.name];return f.jsxs("div",{className:"social-media-icon",children:[O,f.jsx(uee,{className:"social-media-delete",color:"#970220",onClick:async()=>{await m(T.name)}}),f.jsx(aee,{className:"social-media-edit",color:"#4a88da",onClick:async()=>{await I(T.name)}})]},T.name)})}),f.jsx("div",{className:"social-media-icon add-social-media",onClick:()=>{h(!0)},children:f.jsx(Kq,{})})]}),f.jsx("p",{className:"mt-4 mx-auto text-center text-gray-400 text-xs sm:text-sm leading-5 max-w-[80%]",children:"Agregar redes sociales en el botón más"})]}),f.jsxs("div",{className:"sm:col-span-3",children:[f.jsx("label",{htmlFor:"first-name",className:"block text-sm font-medium leading-6 text-white",children:"Nombre"}),f.jsx("div",{className:"mt-2",children:f.jsx("input",{id:"first-name",value:r.nombre,required:!0,placeholder:"Obligatorio*",name:"nombre",onChange:o,type:"text",autoComplete:"given-name",className:"px-1.5 block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-orange-500 sm:text-sm sm:leading-6"})})]}),f.jsxs("div",{className:"sm:col-span-3",children:[f.jsx("label",{htmlFor:"last-name",className:"block text-sm font-medium leading-6 text-white",children:"Apellido(s)"}),f.jsx("div",{className:"mt-2",children:f.jsx("input",{id:"last-name",value:r.apellido,name:"apellido",required:!0,placeholder:"Obligatorio*",onChange:o,type:"text",autoComplete:"family-name",className:"px-1.5 block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-orange-500 sm:text-sm sm:leading-6"})})]}),f.jsxs("div",{className:"col-span-full",children:[f.jsx("label",{htmlFor:"cargo",className:"block text-sm font-medium leading-6 text-white",children:"Cargo o Puesto"}),f.jsx("div",{className:"mt-2",children:f.jsx("input",{id:"cargo",value:r.ocupacion,name:"ocupacion",onChange:o,type:"text",autoComplete:"cargo",className:"px-1.5 block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-orange-500 sm:text-sm sm:leading-6"})})]}),localStorage.getItem("id_plan")>7&&f.jsxs("div",{className:"col-span-full",children:[f.jsx("label",{htmlFor:"origin",className:"block text-sm font-medium leading-6 text-white",children:"Empresa de origen"}),f.jsx("div",{className:"mt-2",children:f.jsx("input",{id:"origin",value:r.business,name:"business",onChange:o,type:"text",autoComplete:"origin",className:"px-1.5 block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-orange-500 sm:text-sm sm:leading-6"})})]}),localStorage.getItem("id_plan")>7&&f.jsxs("div",{className:"col-span-full",children:[f.jsx("label",{htmlFor:"description",className:"block text-sm font-medium leading-6 text-white",children:"Descripción"}),f.jsx("br",{}),f.jsx("div",{className:"lg:pr-12",children:f.jsx(gde,{className:"lg:w-full h-auto mx-4 text-gray-900 bg-white text-2xl",theme:"snow",value:r.descripcion,required:!0,placeholder:"Obligatorio*",formats:Z,modules:R,onChange:T=>o({target:{name:"descripcion",value:T}})})})]}),f.jsxs("div",{className:"col-span-full",children:[f.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium leading-6 text-white",children:"Teléfono"}),f.jsx("div",{className:"mt-2",children:f.jsx(KW,{name:"telefono",initialLada:r.lada,value:r.telefono,onChange:o})})]}),localStorage.getItem("id_plan")>6&&f.jsx("div",{className:"mx-4 md:mx-10 col-span-full",children:f.jsxs("div",{className:"relative flex gap-x-3",children:[f.jsx("div",{className:"flex h-6 items-center",children:f.jsx("input",{name:"whatsapp_option",type:"checkbox",checked:`${r.lada}-${r.telefono}`===r.whatsapp_option,onChange:i,className:"h-5 w-5 rounded border-gray-300 text-orange-600 focus:ring-orange-600"})}),f.jsxs("div",{className:"text-sm leading-6",children:[f.jsx("label",{htmlFor:"comments",className:"font-medium text-white",children:"Mismo número para WhatsApp"}),f.jsx("p",{className:"text-white",children:'Activa esta opción para incluir un enlace directo a tu perfil de WhatsApp. Al activar la casilla, cualquier persona que visite tu perfil podrá contactarte fácilmente a través de WhatsApp con solo hacer clic en el número de teléfono proporcionado."'})]})]})}),localStorage.getItem("id_plan")>7&&f.jsxs("div",{className:"col-span-full",children:[f.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium leading-6 text-white",children:"Teléfono Secundario"}),f.jsx("div",{className:"mt-2",children:f.jsx(KW,{name:"secondary_phone",initialLada:r.lada_2,value:r.secondary_phone,onChange:T=>o(T,!0)})})]}),f.jsxs("div",{className:"col-span-full",children:[f.jsx("label",{htmlFor:"web",className:"block text-sm font-medium leading-6 text-white",children:"Correo electrónico"}),f.jsx("div",{className:"mt-2",children:f.jsx("input",{id:"web",value:r.email,required:!0,placeholder:"Obligatorio*",name:"email",onChange:o,type:"text",autoComplete:"email",className:"px-1.5 block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-orange-500 sm:text-sm sm:leading-6"})})]}),localStorage.getItem("id_plan")>7&&f.jsxs("div",{className:"col-span-full",children:[f.jsx("label",{htmlFor:"web",className:"block text-sm font-medium leading-6 text-white",children:"Página web"}),f.jsx("div",{className:"mt-2",children:f.jsx("input",{id:"web",value:r.web_page_url,name:"web_page_url",onChange:o,type:"text",autoComplete:"web",className:"px-1.5 block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-orange-500 sm:text-sm sm:leading-6"})})]}),localStorage.getItem("id_plan")>7&&f.jsx("div",{div:!0,className:"col-span-full",children:f.jsx("div",{className:"mt-2",children:f.jsx(br,{variant:"outline-primary",className:"px-1.5 block w-full rounded-md border-0 hover:bg-blue-900 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-orange-500 sm:text-sm sm:leading-6",onClick:()=>{a(!0)},children:l===s?"Establecer Horarios":"Modificar Horarios"})})}),localStorage.getItem("id_plan")>=9&&f.jsx(Bhe,{}),localStorage.getItem("id_plan")>=9&&f.jsx(khe,{}),localStorage.getItem("id_plan")>7&&f.jsxs("div",{className:"col-span-full",children:[f.jsxs("div",{className:"perfil-checkbox mx-0",children:[f.jsx("label",{htmlFor:"show",className:"block text-sm font-medium leading-6 text-white",children:"Mostrar dirección"}),f.jsx(lhe,{checked:k,onChange:X,className:`${k?"bg-orange-500":"bg-gray-200"}
          relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500`,children:f.jsx("span",{className:`${k?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ease-in-out`})})]}),k&&f.jsx(PCe,{onChange:C,lat:r.lat||-3.745,lng:r.lng||-38.523})]}),f.jsxs("div",{className:"perfil-multi-field col-span-full",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium leading-6 text-white",children:"Área de trabajo"}),f.jsxs("div",{className:"mt-2 relative",children:[f.jsx("div",{className:"absolute top-0 left-0 flex items-center pl-3 h-full"}),f.jsxs("select",{id:"id_categorie",name:"id_categorie",value:r.id_categorie,onChange:T=>{o(T),T.target.value!=="-1"&&N("")},className:`block w-1/2 rounded-md border-0 bg-white/5 py-1.5 pl-2 text-white shadow-sm  sm:text-sm sm:leading-6 
      ${W?"ring-1 ring-red-500 border-red-500":"focus:ring-indigo-500"}`,children:[f.jsx("option",{value:"-1",className:"text-black",children:"Seleccione un área de trabajo"}),c.map(T=>f.jsx("option",{className:"text-black",value:T.id_categorie,children:T.name},T.id_categorie))]}),W&&f.jsx("p",{className:"text-red-500 text-sm mt-1",children:W})]})]}),f.jsx("div",{children:localStorage.getItem("id_plan")>=9&&f.jsxs("div",{className:"perfil-checkbox mx-0 relative flex items-center justify-start",children:[f.jsx("label",{htmlFor:"show",className:"block text-sm mr-2 font-medium leading-6 text-white",children:"Mostrar perfil al público"}),f.jsx("div",{children:f.jsx("input",{type:"checkbox",onChange:u,checked:r.show_profile,name:"show_profile",className:"ml-2 bg-red-500"})}),f.jsx("button",{type:"button",className:"ml-1 px-1 py-0 text-sm",onClick:()=>M(!H),children:f.jsx("div",{className:"text-red-500",children:f.jsx(cee,{color:"#F97316"})})}),H&&f.jsx("div",{ref:Y,className:"absolute top-full mt-2 max-w-xs bg-gray-700 text-white text-xs sm:text-sm rounded-lg p-2 shadow-lg break-words text-center",children:"Al activar esta opción, tu perfil será visible para otros usuarios. O en caso contrario tu perfil solo sera visible para ti."})]})})]}),localStorage.getItem("id_plan")>7&&f.jsxs("div",{className:"py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0 col-span-full",children:[f.jsx("dt",{className:"text-sm font-medium leading-6 text-gray-400 ",children:"Brochure(s)"}),f.jsx("dd",{className:"mt-2 text-sm text-gray-900 sm:col-span-2 sm:mt-0",children:f.jsxs("ul",{role:"list",className:"divide-y divide-gray-100 rounded-md border border-gray-200",children:[localStorage.getItem("id_plan")>7&&f.jsxs("li",{className:"flex items-center justify-between py-4 pl-4 pr-5 text-sm leading-6",children:[f.jsxs("div",{className:"flex w-0 flex-1 items-center",children:[f.jsx(IW,{"aria-hidden":"true",className:"h-5 w-5 flex-shrink-0 text-gray-400"}),f.jsxs("div",{className:"ml-4 flex min-w-0 flex-1 gap-2",children:[f.jsx("span",{className:"truncate text-white font-medium",children:A?A.name:r.pdf_file_url?"Brochure 01 listo":"Sube tu archivo"}),f.jsx("span",{className:"flex-shrink-0 text-white",children:A?w(A.size):""})]})]}),f.jsxs("div",{className:"ml-4 flex",children:[f.jsx("button",{type:"button",className:"font-medium text-orange-600 hover:text-orange-500 mr-4",onClick:()=>{document.getElementById("pdf_file").click()},children:A||r.pdf_file_url?"Cambiar":"Subir"}),r.pdf_file_url&&f.jsx(MV,{size:24,onClick:E,className:"cursor-pointer"})]}),f.jsx("input",{type:"file",id:"pdf_file",accept:".pdf",className:"hidden",onChange:p})]}),localStorage.getItem("id_plan")>=9&&f.jsxs("li",{className:"flex items-center justify-between py-4 pl-4 pr-5 text-sm leading-6",children:[f.jsxs("div",{className:"flex w-0 flex-1 items-center",children:[f.jsx(IW,{"aria-hidden":"true",className:"h-5 w-5 flex-shrink-0 text-gray-400"}),f.jsxs("div",{className:"ml-4 flex min-w-0 flex-1 gap-2",children:[f.jsx("span",{className:"truncate text-white font-medium",children:v?v.name:r.secondary_pdf_file_url?"Brochure 02 listo":"Sube tu archivo"}),f.jsx("span",{className:"flex-shrink-0 text-white",children:v?w(v.size):""})]})]}),f.jsxs("div",{className:"ml-4 flex",children:[f.jsx("button",{type:"button",className:"font-medium text-orange-600 hover:text-orange-500 mr-4",onClick:()=>{document.getElementById("pdf_file_2nd").click()},children:v||r.secondary_pdf_file_url?"Cambiar":"Subir"}),r.secondary_pdf_file_url&&f.jsx(MV,{size:24,onClick:F,className:"cursor-pointer"})]}),f.jsx("input",{type:"file",id:"pdf_file_2nd",accept:".pdf",className:"hidden",onChange:y})]})]})})]}),f.jsx("div",{className:"mt-8 flex",children:f.jsx("button",{type:"submit",className:"whitespace-nowrap rounded-md bg-orange-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-500",children:"Guardar cambios"})})]})})]})})]})};function zCe(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in e)){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(e)}function lK(e,t){return new Promise(function(n,r){let o;return UCe(e).then(function(i){try{return o=i,n(new Blob([t.slice(0,2),o,t.slice(2)],{type:"image/jpeg"}))}catch(a){return r(a)}},r)})}const UCe=e=>new Promise((t,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:o}})=>{const i=new DataView(o);let a=0;if(i.getUint16(a)!==65496)return n("not a valid JPEG");for(a+=2;;){const l=i.getUint16(a);if(l===65498)break;const s=i.getUint16(a+2);if(l===65505&&i.getUint32(a+4)===1165519206){const c=a+10;let u;switch(i.getUint16(c)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(i.getUint16(c+2,u)!==42)return n("TIFF header contains invalid version");const g=i.getUint32(c+4,u),d=c+g+2+12*i.getUint16(c+g,u);for(let m=c+g+2;m<d;m+=12)if(i.getUint16(m,u)==274){if(i.getUint16(m+2,u)!==3)return n("Orientation data type is invalid");if(i.getUint32(m+4,u)!==1)return n("Orientation data count is invalid");i.setUint16(m+8,1,u);break}return t(o.slice(a,a+2+s))}a+=2+s}return t(new Blob)}),r.readAsArrayBuffer(e)});var Rp={},_Ce={get exports(){return Rp},set exports(e){Rp=e}};(function(e){var t,n,r={};_Ce.exports=r,r.parse=function(o,i){for(var a=r.bin.readUshort,l=r.bin.readUint,s=0,c={},u=new Uint8Array(o),g=u.length-4;l(u,g)!=101010256;)g--;s=g,s+=4;var d=a(u,s+=4);a(u,s+=2);var m=l(u,s+=2),I=l(u,s+=4);s+=4,s=I;for(var h=0;h<d;h++){l(u,s),s+=4,s+=4,s+=4,l(u,s+=4),m=l(u,s+=4);var A=l(u,s+=4),C=a(u,s+=4),p=a(u,s+2),v=a(u,s+4);s+=6;var y=l(u,s+=8);s+=4,s+=C+p+v,r._readLocal(u,y,c,m,A,i)}return c},r._readLocal=function(o,i,a,l,s,c){var u=r.bin.readUshort,g=r.bin.readUint;g(o,i),u(o,i+=4),u(o,i+=2);var d=u(o,i+=2);g(o,i+=2),g(o,i+=4),i+=4;var m=u(o,i+=8),I=u(o,i+=2);i+=2;var h=r.bin.readUTF8(o,i,m);if(i+=m,i+=I,c)a[h]={size:s,csize:l};else{var A=new Uint8Array(o.buffer,i);if(d==0)a[h]=new Uint8Array(A.buffer.slice(i,i+l));else{if(d!=8)throw"unknown compression method: "+d;var C=new Uint8Array(s);r.inflateRaw(A,C),a[h]=C}}},r.inflateRaw=function(o,i){return r.F.inflate(o,i)},r.inflate=function(o,i){return o[0],o[1],r.inflateRaw(new Uint8Array(o.buffer,o.byteOffset+2,o.length-6),i)},r.deflate=function(o,i){i==null&&(i={level:6});var a=0,l=new Uint8Array(50+Math.floor(1.1*o.length));l[a]=120,l[a+1]=156,a+=2,a=r.F.deflateRaw(o,l,a,i.level);var s=r.adler(o,0,o.length);return l[a+0]=s>>>24&255,l[a+1]=s>>>16&255,l[a+2]=s>>>8&255,l[a+3]=s>>>0&255,new Uint8Array(l.buffer,0,a+4)},r.deflateRaw=function(o,i){i==null&&(i={level:6});var a=new Uint8Array(50+Math.floor(1.1*o.length)),l=r.F.deflateRaw(o,a,l,i.level);return new Uint8Array(a.buffer,0,l)},r.encode=function(o,i){i==null&&(i=!1);var a=0,l=r.bin.writeUint,s=r.bin.writeUshort,c={};for(var u in o){var g=!r._noNeed(u)&&!i,d=o[u],m=r.crc.crc(d,0,d.length);c[u]={cpr:g,usize:d.length,crc:m,file:g?r.deflateRaw(d):d}}for(var u in c)a+=c[u].file.length+30+46+2*r.bin.sizeUTF8(u);a+=22;var I=new Uint8Array(a),h=0,A=[];for(var u in c){var C=c[u];A.push(h),h=r._writeHeader(I,h,u,C,0)}var p=0,v=h;for(var u in c)C=c[u],A.push(h),h=r._writeHeader(I,h,u,C,1,A[p++]);var y=h-v;return l(I,h,101010256),h+=4,s(I,h+=4,p),s(I,h+=2,p),l(I,h+=2,y),l(I,h+=4,v),h+=4,h+=2,I.buffer},r._noNeed=function(o){var i=o.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(i)!=-1},r._writeHeader=function(o,i,a,l,s,c){var u=r.bin.writeUint,g=r.bin.writeUshort,d=l.file;return u(o,i,s==0?67324752:33639248),i+=4,s==1&&(i+=2),g(o,i,20),g(o,i+=2,0),g(o,i+=2,l.cpr?8:0),u(o,i+=2,0),u(o,i+=4,l.crc),u(o,i+=4,d.length),u(o,i+=4,l.usize),g(o,i+=4,r.bin.sizeUTF8(a)),g(o,i+=2,0),i+=2,s==1&&(i+=2,i+=2,u(o,i+=6,c),i+=4),i+=r.bin.writeUTF8(o,i,a),s==0&&(o.set(d,i),i+=d.length),i},r.crc={table:function(){for(var o=new Uint32Array(256),i=0;i<256;i++){for(var a=i,l=0;l<8;l++)1&a?a=3988292384^a>>>1:a>>>=1;o[i]=a}return o}(),update:function(o,i,a,l){for(var s=0;s<l;s++)o=r.crc.table[255&(o^i[a+s])]^o>>>8;return o},crc:function(o,i,a){return 4294967295^r.crc.update(4294967295,o,i,a)}},r.adler=function(o,i,a){for(var l=1,s=0,c=i,u=i+a;c<u;){for(var g=Math.min(c+5552,u);c<g;)s+=l+=o[c++];l%=65521,s%=65521}return s<<16|l},r.bin={readUshort:function(o,i){return o[i]|o[i+1]<<8},writeUshort:function(o,i,a){o[i]=255&a,o[i+1]=a>>8&255},readUint:function(o,i){return 16777216*o[i+3]+(o[i+2]<<16|o[i+1]<<8|o[i])},writeUint:function(o,i,a){o[i]=255&a,o[i+1]=a>>8&255,o[i+2]=a>>16&255,o[i+3]=a>>24&255},readASCII:function(o,i,a){for(var l="",s=0;s<a;s++)l+=String.fromCharCode(o[i+s]);return l},writeASCII:function(o,i,a){for(var l=0;l<a.length;l++)o[i+l]=a.charCodeAt(l)},pad:function(o){return o.length<2?"0"+o:o},readUTF8:function(o,i,a){for(var l,s="",c=0;c<a;c++)s+="%"+r.bin.pad(o[i+c].toString(16));try{l=decodeURIComponent(s)}catch{return r.bin.readASCII(o,i,a)}return l},writeUTF8:function(o,i,a){for(var l=a.length,s=0,c=0;c<l;c++){var u=a.charCodeAt(c);if(!(4294967168&u))o[i+s]=u,s++;else if(!(4294965248&u))o[i+s]=192|u>>6,o[i+s+1]=128|u>>0&63,s+=2;else if(!(4294901760&u))o[i+s]=224|u>>12,o[i+s+1]=128|u>>6&63,o[i+s+2]=128|u>>0&63,s+=3;else{if(4292870144&u)throw"e";o[i+s]=240|u>>18,o[i+s+1]=128|u>>12&63,o[i+s+2]=128|u>>6&63,o[i+s+3]=128|u>>0&63,s+=4}}return s},sizeUTF8:function(o){for(var i=o.length,a=0,l=0;l<i;l++){var s=o.charCodeAt(l);if(!(4294967168&s))a++;else if(!(4294965248&s))a+=2;else if(!(4294901760&s))a+=3;else{if(4292870144&s)throw"e";a+=4}}return a}},r.F={},r.F.deflateRaw=function(o,i,a,l){var s=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],c=r.F.U,u=r.F._goodIndex;r.F._hash;var g=r.F._putsE,d=0,m=a<<3,I=0,h=o.length;if(l==0){for(;d<h;)g(i,m,d+(k=Math.min(65535,h-d))==h?1:0),m=r.F._copyExact(o,d,k,i,m+8),d+=k;return m>>>3}var A=c.lits,C=c.strt,p=c.prev,v=0,y=0,x=0,S=0,B=0,Z=0;for(h>2&&(C[Z=r.F._hash(o,0)]=0),d=0;d<h;d++){if(B=Z,d+1<h-2){Z=r.F._hash(o,d+1);var R=d+1&32767;p[R]=C[Z],C[Z]=R}if(I<=d){(v>14e3||y>26697)&&h-d>100&&(I<d&&(A[v]=d-I,v+=2,I=d),m=r.F._writeBlock(d==h-1||I==h?1:0,A,v,S,o,x,d-x,i,m),v=y=S=0,x=d);var w=0;d<h-2&&(w=r.F._bestMatch(o,d,p,B,Math.min(s[2],h-d),s[3]));var k=w>>>16,V=65535&w;if(w!=0){V=65535&w;var W=u(k=w>>>16,c.of0);c.lhst[257+W]++;var N=u(V,c.df0);c.dhst[N]++,S+=c.exb[W]+c.dxb[N],A[v]=k<<23|d-I,A[v+1]=V<<16|W<<8|N,v+=2,I=d+k}else c.lhst[o[d]]++;y++}}for(x==d&&o.length!=0||(I<d&&(A[v]=d-I,v+=2,I=d),m=r.F._writeBlock(1,A,v,S,o,x,d-x,i,m),v=0,y=0,v=y=S=0,x=d);7&m;)m++;return m>>>3},r.F._bestMatch=function(o,i,a,l,s,c){var u=32767&i,g=a[u],d=u-g+32768&32767;if(g==u||l!=r.F._hash(o,i-d))return 0;for(var m=0,I=0,h=Math.min(32767,i);d<=h&&--c!=0&&g!=u;){if(m==0||o[i+m]==o[i+m-d]){var A=r.F._howLong(o,i,d);if(A>m){if(I=d,(m=A)>=s)break;d+2<A&&(A=d+2);for(var C=0,p=0;p<A-2;p++){var v=i-d+p+32768&32767,y=v-a[v]+32768&32767;y>C&&(C=y,g=v)}}}d+=(u=g)-(g=a[u])+32768&32767}return m<<16|I},r.F._howLong=function(o,i,a){if(o[i]!=o[i-a]||o[i+1]!=o[i+1-a]||o[i+2]!=o[i+2-a])return 0;var l=i,s=Math.min(o.length,i+258);for(i+=3;i<s&&o[i]==o[i-a];)i++;return i-l},r.F._hash=function(o,i){return(o[i]<<8|o[i+1])+(o[i+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(o,i,a,l,s,c,u,g,d){var m,I,h,A,C,p,v,y,x,S=r.F.U,B=r.F._putsF,Z=r.F._putsE;S.lhst[256]++,I=(m=r.F.getTrees())[0],h=m[1],A=m[2],C=m[3],p=m[4],v=m[5],y=m[6],x=m[7];var R=32+(d+3&7?8-(d+3&7):0)+(u<<3),w=l+r.F.contSize(S.fltree,S.lhst)+r.F.contSize(S.fdtree,S.dhst),k=l+r.F.contSize(S.ltree,S.lhst)+r.F.contSize(S.dtree,S.dhst);k+=14+3*v+r.F.contSize(S.itree,S.ihst)+(2*S.ihst[16]+3*S.ihst[17]+7*S.ihst[18]);for(var V=0;V<286;V++)S.lhst[V]=0;for(V=0;V<30;V++)S.dhst[V]=0;for(V=0;V<19;V++)S.ihst[V]=0;var W=R<w&&R<k?0:w<k?1:2;if(B(g,d,o),B(g,d+1,W),d+=3,W==0){for(;7&d;)d++;d=r.F._copyExact(s,c,u,g,d)}else{var N,X;if(W==1&&(N=S.fltree,X=S.fdtree),W==2){r.F.makeCodes(S.ltree,I),r.F.revCodes(S.ltree,I),r.F.makeCodes(S.dtree,h),r.F.revCodes(S.dtree,h),r.F.makeCodes(S.itree,A),r.F.revCodes(S.itree,A),N=S.ltree,X=S.dtree,Z(g,d,C-257),Z(g,d+=5,p-1),Z(g,d+=5,v-4),d+=4;for(var J=0;J<v;J++)Z(g,d+3*J,S.itree[1+(S.ordr[J]<<1)]);d+=3*v,d=r.F._codeTiny(y,S.itree,g,d),d=r.F._codeTiny(x,S.itree,g,d)}for(var E=c,F=0;F<a;F+=2){for(var H=i[F],M=H>>>23,Y=E+(8388607&H);E<Y;)d=r.F._writeLit(s[E++],N,g,d);if(M!=0){var T=i[F+1],O=T>>16,P=T>>8&255,L=255&T;Z(g,d=r.F._writeLit(257+P,N,g,d),M-S.of0[P]),d+=S.exb[P],B(g,d=r.F._writeLit(L,X,g,d),O-S.df0[L]),d+=S.dxb[L],E+=M}}d=r.F._writeLit(256,N,g,d)}return d},r.F._copyExact=function(o,i,a,l,s){var c=s>>>3;return l[c]=a,l[c+1]=a>>>8,l[c+2]=255-l[c],l[c+3]=255-l[c+1],c+=4,l.set(new Uint8Array(o.buffer,i,a),c),s+(a+4<<3)},r.F.getTrees=function(){for(var o=r.F.U,i=r.F._hufTree(o.lhst,o.ltree,15),a=r.F._hufTree(o.dhst,o.dtree,15),l=[],s=r.F._lenCodes(o.ltree,l),c=[],u=r.F._lenCodes(o.dtree,c),g=0;g<l.length;g+=2)o.ihst[l[g]]++;for(g=0;g<c.length;g+=2)o.ihst[c[g]]++;for(var d=r.F._hufTree(o.ihst,o.itree,7),m=19;m>4&&o.itree[1+(o.ordr[m-1]<<1)]==0;)m--;return[i,a,d,s,u,m,l,c]},r.F.getSecond=function(o){for(var i=[],a=0;a<o.length;a+=2)i.push(o[a+1]);return i},r.F.nonZero=function(o){for(var i="",a=0;a<o.length;a+=2)o[a+1]!=0&&(i+=(a>>1)+",");return i},r.F.contSize=function(o,i){for(var a=0,l=0;l<i.length;l++)a+=i[l]*o[1+(l<<1)];return a},r.F._codeTiny=function(o,i,a,l){for(var s=0;s<o.length;s+=2){var c=o[s],u=o[s+1];l=r.F._writeLit(c,i,a,l);var g=c==16?2:c==17?3:7;c>15&&(r.F._putsE(a,l,u,g),l+=g)}return l},r.F._lenCodes=function(o,i){for(var a=o.length;a!=2&&o[a-1]==0;)a-=2;for(var l=0;l<a;l+=2){var s=o[l+1],c=l+3<a?o[l+3]:-1,u=l+5<a?o[l+5]:-1,g=l==0?-1:o[l-1];if(s==0&&c==s&&u==s){for(var d=l+5;d+2<a&&o[d+2]==s;)d+=2;(m=Math.min(d+1-l>>>1,138))<11?i.push(17,m-3):i.push(18,m-11),l+=2*m-2}else if(s==g&&c==s&&u==s){for(d=l+5;d+2<a&&o[d+2]==s;)d+=2;var m=Math.min(d+1-l>>>1,6);i.push(16,m-3),l+=2*m-2}else i.push(s,0)}return a>>>1},r.F._hufTree=function(o,i,a){var l=[],s=o.length,c=i.length,u=0;for(u=0;u<c;u+=2)i[u]=0,i[u+1]=0;for(u=0;u<s;u++)o[u]!=0&&l.push({lit:u,f:o[u]});var g=l.length,d=l.slice(0);if(g==0)return 0;if(g==1){var m=l[0].lit;return d=m==0?1:0,i[1+(m<<1)]=1,i[1+(d<<1)]=1,1}l.sort(function(y,x){return y.f-x.f});var I=l[0],h=l[1],A=0,C=1,p=2;for(l[0]={lit:-1,f:I.f+h.f,l:I,r:h,d:0};C!=g-1;)I=A!=C&&(p==g||l[A].f<l[p].f)?l[A++]:l[p++],h=A!=C&&(p==g||l[A].f<l[p].f)?l[A++]:l[p++],l[C++]={lit:-1,f:I.f+h.f,l:I,r:h};var v=r.F.setDepth(l[C-1],0);for(v>a&&(r.F.restrictDepth(d,a,v),v=a),u=0;u<g;u++)i[1+(d[u].lit<<1)]=d[u].d;return v},r.F.setDepth=function(o,i){return o.lit!=-1?(o.d=i,i):Math.max(r.F.setDepth(o.l,i+1),r.F.setDepth(o.r,i+1))},r.F.restrictDepth=function(o,i,a){var l=0,s=1<<a-i,c=0;for(o.sort(function(g,d){return d.d==g.d?g.f-d.f:d.d-g.d}),l=0;l<o.length&&o[l].d>i;l++){var u=o[l].d;o[l].d=i,c+=s-(1<<a-u)}for(c>>>=a-i;c>0;)(u=o[l].d)<i?(o[l].d++,c-=1<<i-u-1):l++;for(;l>=0;l--)o[l].d==i&&c<0&&(o[l].d--,c++);c!=0&&console.log("debt left")},r.F._goodIndex=function(o,i){var a=0;return i[16|a]<=o&&(a|=16),i[8|a]<=o&&(a|=8),i[4|a]<=o&&(a|=4),i[2|a]<=o&&(a|=2),i[1|a]<=o&&(a|=1),a},r.F._writeLit=function(o,i,a,l){return r.F._putsF(a,l,i[o<<1]),l+i[1+(o<<1)]},r.F.inflate=function(o,i){var a=Uint8Array;if(o[0]==3&&o[1]==0)return i||new a(0);var l=r.F,s=l._bitsF,c=l._bitsE,u=l._decodeTiny,g=l.makeCodes,d=l.codes2map,m=l._get17,I=l.U,h=i==null;h&&(i=new a(o.length>>>2<<3));for(var A,C,p=0,v=0,y=0,x=0,S=0,B=0,Z=0,R=0,w=0;p==0;)if(p=s(o,w,1),v=s(o,w+1,2),w+=3,v!=0){if(h&&(i=r.F._check(i,R+(1<<17))),v==1&&(A=I.flmap,C=I.fdmap,B=511,Z=31),v==2){y=c(o,w,5)+257,x=c(o,w+5,5)+1,S=c(o,w+10,4)+4,w+=14;for(var k=0;k<38;k+=2)I.itree[k]=0,I.itree[k+1]=0;var V=1;for(k=0;k<S;k++){var W=c(o,w+3*k,3);I.itree[1+(I.ordr[k]<<1)]=W,W>V&&(V=W)}w+=3*S,g(I.itree,V),d(I.itree,V,I.imap),A=I.lmap,C=I.dmap,w=u(I.imap,(1<<V)-1,y+x,o,w,I.ttree);var N=l._copyOut(I.ttree,0,y,I.ltree);B=(1<<N)-1;var X=l._copyOut(I.ttree,y,x,I.dtree);Z=(1<<X)-1,g(I.ltree,N),d(I.ltree,N,A),g(I.dtree,X),d(I.dtree,X,C)}for(;;){var J=A[m(o,w)&B];w+=15&J;var E=J>>>4;if(!(E>>>8))i[R++]=E;else{if(E==256)break;var F=R+E-254;if(E>264){var H=I.ldef[E-257];F=R+(H>>>3)+c(o,w,7&H),w+=7&H}var M=C[m(o,w)&Z];w+=15&M;var Y=M>>>4,T=I.ddef[Y],O=(T>>>4)+s(o,w,15&T);for(w+=15&T,h&&(i=r.F._check(i,R+(1<<17)));R<F;)i[R]=i[R++-O],i[R]=i[R++-O],i[R]=i[R++-O],i[R]=i[R++-O];R=F}}}else{7&w&&(w+=8-(7&w));var P=4+(w>>>3),L=o[P-4]|o[P-3]<<8;h&&(i=r.F._check(i,R+L)),i.set(new a(o.buffer,o.byteOffset+P,L),R),w=P+L<<3,R+=L}return i.length==R?i:i.slice(0,R)},r.F._check=function(o,i){var a=o.length;if(i<=a)return o;var l=new Uint8Array(Math.max(a<<1,i));return l.set(o,0),l},r.F._decodeTiny=function(o,i,a,l,s,c){for(var u=r.F._bitsE,g=r.F._get17,d=0;d<a;){var m=o[g(l,s)&i];s+=15&m;var I=m>>>4;if(I<=15)c[d]=I,d++;else{var h=0,A=0;I==16?(A=3+u(l,s,2),s+=2,h=c[d-1]):I==17?(A=3+u(l,s,3),s+=3):I==18&&(A=11+u(l,s,7),s+=7);for(var C=d+A;d<C;)c[d]=h,d++}}return s},r.F._copyOut=function(o,i,a,l){for(var s=0,c=0,u=l.length>>>1;c<a;){var g=o[c+i];l[c<<1]=0,l[1+(c<<1)]=g,g>s&&(s=g),c++}for(;c<u;)l[c<<1]=0,l[1+(c<<1)]=0,c++;return s},r.F.makeCodes=function(o,i){for(var a,l,s,c,u=r.F.U,g=o.length,d=u.bl_count,m=0;m<=i;m++)d[m]=0;for(m=1;m<g;m+=2)d[o[m]]++;var I=u.next_code;for(a=0,d[0]=0,l=1;l<=i;l++)a=a+d[l-1]<<1,I[l]=a;for(s=0;s<g;s+=2)(c=o[s+1])!=0&&(o[s]=I[c],I[c]++)},r.F.codes2map=function(o,i,a){for(var l=o.length,s=r.F.U.rev15,c=0;c<l;c+=2)if(o[c+1]!=0)for(var u=c>>1,g=o[c+1],d=u<<4|g,m=i-g,I=o[c]<<m,h=I+(1<<m);I!=h;)a[s[I]>>>15-i]=d,I++},r.F.revCodes=function(o,i){for(var a=r.F.U.rev15,l=15-i,s=0;s<o.length;s+=2){var c=o[s]<<i-o[s+1];o[s]=a[c]>>>l}},r.F._putsE=function(o,i,a){a<<=7&i;var l=i>>>3;o[l]|=a,o[l+1]|=a>>>8},r.F._putsF=function(o,i,a){a<<=7&i;var l=i>>>3;o[l]|=a,o[l+1]|=a>>>8,o[l+2]|=a>>>16},r.F._bitsE=function(o,i,a){return(o[i>>>3]|o[1+(i>>>3)]<<8)>>>(7&i)&(1<<a)-1},r.F._bitsF=function(o,i,a){return(o[i>>>3]|o[1+(i>>>3)]<<8|o[2+(i>>>3)]<<16)>>>(7&i)&(1<<a)-1},r.F._get17=function(o,i){return(o[i>>>3]|o[1+(i>>>3)]<<8|o[2+(i>>>3)]<<16)>>>(7&i)},r.F._get25=function(o,i){return(o[i>>>3]|o[1+(i>>>3)]<<8|o[2+(i>>>3)]<<16|o[3+(i>>>3)]<<24)>>>(7&i)},r.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var o=r.F.U,i=0;i<32768;i++){var a=i;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,o.rev15[i]=(a>>>16|a<<16)>>>17}function l(s,c,u){for(;c--!=0;)s.push(0,u)}for(i=0;i<32;i++)o.ldef[i]=o.of0[i]<<3|o.exb[i],o.ddef[i]=o.df0[i]<<4|o.dxb[i];l(o.fltree,144,8),l(o.fltree,112,9),l(o.fltree,24,7),l(o.fltree,8,8),r.F.makeCodes(o.fltree,9),r.F.codes2map(o.fltree,9,o.flmap),r.F.revCodes(o.fltree,9),l(o.fdtree,32,5),r.F.makeCodes(o.fdtree,5),r.F.codes2map(o.fdtree,5,o.fdmap),r.F.revCodes(o.fdtree,5),l(o.itree,19,0),l(o.ltree,286,0),l(o.dtree,30,0),l(o.ttree,320,0)}()})();var QCe=zCe({__proto__:null,default:Rp},[Rp]);const Qo=function(){var e={nextZero(u,g){for(;u[g]!=0;)g++;return g},readUshort:(u,g)=>u[g]<<8|u[g+1],writeUshort(u,g,d){u[g]=d>>8&255,u[g+1]=255&d},readUint:(u,g)=>16777216*u[g]+(u[g+1]<<16|u[g+2]<<8|u[g+3]),writeUint(u,g,d){u[g]=d>>24&255,u[g+1]=d>>16&255,u[g+2]=d>>8&255,u[g+3]=255&d},readASCII(u,g,d){let m="";for(let I=0;I<d;I++)m+=String.fromCharCode(u[g+I]);return m},writeASCII(u,g,d){for(let m=0;m<d.length;m++)u[g+m]=d.charCodeAt(m)},readBytes(u,g,d){const m=[];for(let I=0;I<d;I++)m.push(u[g+I]);return m},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,g,d){let m,I="";for(let h=0;h<d;h++)I+=`%${e.pad(u[g+h].toString(16))}`;try{m=decodeURIComponent(I)}catch{return e.readASCII(u,g,d)}return m}};function t(u,g,d,m){const I=g*d,h=i(m),A=Math.ceil(g*h/8),C=new Uint8Array(4*I),p=new Uint32Array(C.buffer),{ctype:v}=m,{depth:y}=m,x=e.readUshort;if(v==6){const H=I<<2;if(y==8)for(var S=0;S<H;S+=4)C[S]=u[S],C[S+1]=u[S+1],C[S+2]=u[S+2],C[S+3]=u[S+3];if(y==16)for(S=0;S<H;S++)C[S]=u[S<<1]}else if(v==2){const H=m.tabs.tRNS;if(H==null){if(y==8)for(S=0;S<I;S++){var B=3*S;p[S]=255<<24|u[B+2]<<16|u[B+1]<<8|u[B]}if(y==16)for(S=0;S<I;S++)B=6*S,p[S]=255<<24|u[B+4]<<16|u[B+2]<<8|u[B]}else{var Z=H[0];const M=H[1],Y=H[2];if(y==8)for(S=0;S<I;S++){var R=S<<2;B=3*S,p[S]=255<<24|u[B+2]<<16|u[B+1]<<8|u[B],u[B]==Z&&u[B+1]==M&&u[B+2]==Y&&(C[R+3]=0)}if(y==16)for(S=0;S<I;S++)R=S<<2,B=6*S,p[S]=255<<24|u[B+4]<<16|u[B+2]<<8|u[B],x(u,B)==Z&&x(u,B+2)==M&&x(u,B+4)==Y&&(C[R+3]=0)}}else if(v==3){const H=m.tabs.PLTE,M=m.tabs.tRNS,Y=M?M.length:0;if(y==1)for(var w=0;w<d;w++){var k=w*A,V=w*g;for(S=0;S<g;S++){R=V+S<<2;var W=3*(N=u[k+(S>>3)]>>7-((7&S)<<0)&1);C[R]=H[W],C[R+1]=H[W+1],C[R+2]=H[W+2],C[R+3]=N<Y?M[N]:255}}if(y==2)for(w=0;w<d;w++)for(k=w*A,V=w*g,S=0;S<g;S++)R=V+S<<2,W=3*(N=u[k+(S>>2)]>>6-((3&S)<<1)&3),C[R]=H[W],C[R+1]=H[W+1],C[R+2]=H[W+2],C[R+3]=N<Y?M[N]:255;if(y==4)for(w=0;w<d;w++)for(k=w*A,V=w*g,S=0;S<g;S++)R=V+S<<2,W=3*(N=u[k+(S>>1)]>>4-((1&S)<<2)&15),C[R]=H[W],C[R+1]=H[W+1],C[R+2]=H[W+2],C[R+3]=N<Y?M[N]:255;if(y==8)for(S=0;S<I;S++){var N;R=S<<2,W=3*(N=u[S]),C[R]=H[W],C[R+1]=H[W+1],C[R+2]=H[W+2],C[R+3]=N<Y?M[N]:255}}else if(v==4){if(y==8)for(S=0;S<I;S++){R=S<<2;var X=u[J=S<<1];C[R]=X,C[R+1]=X,C[R+2]=X,C[R+3]=u[J+1]}if(y==16)for(S=0;S<I;S++){var J;R=S<<2,X=u[J=S<<2],C[R]=X,C[R+1]=X,C[R+2]=X,C[R+3]=u[J+2]}}else if(v==0)for(Z=m.tabs.tRNS?m.tabs.tRNS:-1,w=0;w<d;w++){const H=w*A,M=w*g;if(y==1)for(var E=0;E<g;E++){var F=(X=255*(u[H+(E>>>3)]>>>7-(7&E)&1))==255*Z?0:255;p[M+E]=F<<24|X<<16|X<<8|X}else if(y==2)for(E=0;E<g;E++)F=(X=85*(u[H+(E>>>2)]>>>6-((3&E)<<1)&3))==85*Z?0:255,p[M+E]=F<<24|X<<16|X<<8|X;else if(y==4)for(E=0;E<g;E++)F=(X=17*(u[H+(E>>>1)]>>>4-((1&E)<<2)&15))==17*Z?0:255,p[M+E]=F<<24|X<<16|X<<8|X;else if(y==8)for(E=0;E<g;E++)F=(X=u[H+E])==Z?0:255,p[M+E]=F<<24|X<<16|X<<8|X;else if(y==16)for(E=0;E<g;E++)X=u[H+(E<<1)],F=x(u,H+(E<<1))==Z?0:255,p[M+E]=F<<24|X<<16|X<<8|X}return C}function n(u,g,d,m){const I=i(u),h=Math.ceil(d*I/8),A=new Uint8Array((h+1+u.interlace)*m);return g=u.tabs.CgBI?o(g,A):r(g,A),u.interlace==0?g=a(g,u,0,d,m):u.interlace==1&&(g=function(p,v){const y=v.width,x=v.height,S=i(v),B=S>>3,Z=Math.ceil(y*S/8),R=new Uint8Array(x*Z);let w=0;const k=[0,0,4,0,2,0,1],V=[0,4,0,2,0,1,0],W=[8,8,8,4,4,2,2],N=[8,8,4,4,2,2,1];let X=0;for(;X<7;){const E=W[X],F=N[X];let H=0,M=0,Y=k[X];for(;Y<x;)Y+=E,M++;let T=V[X];for(;T<y;)T+=F,H++;const O=Math.ceil(H*S/8);a(p,v,w,H,M);let P=0,L=k[X];for(;L<x;){let j=V[X],D=w+P*O<<3;for(;j<y;){var J;if(S==1&&(J=(J=p[D>>3])>>7-(7&D)&1,R[L*Z+(j>>3)]|=J<<7-((7&j)<<0)),S==2&&(J=(J=p[D>>3])>>6-(7&D)&3,R[L*Z+(j>>2)]|=J<<6-((3&j)<<1)),S==4&&(J=(J=p[D>>3])>>4-(7&D)&15,R[L*Z+(j>>1)]|=J<<4-((1&j)<<2)),S>=8){const $=L*Z+j*B;for(let K=0;K<B;K++)R[$+K]=p[(D>>3)+K]}D+=S,j+=F}P++,L+=E}H*M!=0&&(w+=M*(1+O)),X+=1}return R}(g,u)),g}function r(u,g){return o(new Uint8Array(u.buffer,2,u.length-6),g)}var o=function(){const u={H:{}};return u.H.N=function(g,d){const m=Uint8Array;let I,h,A=0,C=0,p=0,v=0,y=0,x=0,S=0,B=0,Z=0;if(g[0]==3&&g[1]==0)return d||new m(0);const R=u.H,w=R.b,k=R.e,V=R.R,W=R.n,N=R.A,X=R.Z,J=R.m,E=d==null;for(E&&(d=new m(g.length>>>2<<5));A==0;)if(A=w(g,Z,1),C=w(g,Z+1,2),Z+=3,C!=0){if(E&&(d=u.H.W(d,B+(1<<17))),C==1&&(I=J.J,h=J.h,x=511,S=31),C==2){p=k(g,Z,5)+257,v=k(g,Z+5,5)+1,y=k(g,Z+10,4)+4,Z+=14;let H=1;for(var F=0;F<38;F+=2)J.Q[F]=0,J.Q[F+1]=0;for(F=0;F<y;F++){const T=k(g,Z+3*F,3);J.Q[1+(J.X[F]<<1)]=T,T>H&&(H=T)}Z+=3*y,W(J.Q,H),N(J.Q,H,J.u),I=J.w,h=J.d,Z=V(J.u,(1<<H)-1,p+v,g,Z,J.v);const M=R.V(J.v,0,p,J.C);x=(1<<M)-1;const Y=R.V(J.v,p,v,J.D);S=(1<<Y)-1,W(J.C,M),N(J.C,M,I),W(J.D,Y),N(J.D,Y,h)}for(;;){const H=I[X(g,Z)&x];Z+=15&H;const M=H>>>4;if(!(M>>>8))d[B++]=M;else{if(M==256)break;{let Y=B+M-254;if(M>264){const j=J.q[M-257];Y=B+(j>>>3)+k(g,Z,7&j),Z+=7&j}const T=h[X(g,Z)&S];Z+=15&T;const O=T>>>4,P=J.c[O],L=(P>>>4)+w(g,Z,15&P);for(Z+=15&P;B<Y;)d[B]=d[B++-L],d[B]=d[B++-L],d[B]=d[B++-L],d[B]=d[B++-L];B=Y}}}}else{7&Z&&(Z+=8-(7&Z));const H=4+(Z>>>3),M=g[H-4]|g[H-3]<<8;E&&(d=u.H.W(d,B+M)),d.set(new m(g.buffer,g.byteOffset+H,M),B),Z=H+M<<3,B+=M}return d.length==B?d:d.slice(0,B)},u.H.W=function(g,d){const m=g.length;if(d<=m)return g;const I=new Uint8Array(m<<1);return I.set(g,0),I},u.H.R=function(g,d,m,I,h,A){const C=u.H.e,p=u.H.Z;let v=0;for(;v<m;){const y=g[p(I,h)&d];h+=15&y;const x=y>>>4;if(x<=15)A[v]=x,v++;else{let S=0,B=0;x==16?(B=3+C(I,h,2),h+=2,S=A[v-1]):x==17?(B=3+C(I,h,3),h+=3):x==18&&(B=11+C(I,h,7),h+=7);const Z=v+B;for(;v<Z;)A[v]=S,v++}}return h},u.H.V=function(g,d,m,I){let h=0,A=0;const C=I.length>>>1;for(;A<m;){const p=g[A+d];I[A<<1]=0,I[1+(A<<1)]=p,p>h&&(h=p),A++}for(;A<C;)I[A<<1]=0,I[1+(A<<1)]=0,A++;return h},u.H.n=function(g,d){const m=u.H.m,I=g.length;let h,A,C,p;const v=m.j;for(var y=0;y<=d;y++)v[y]=0;for(y=1;y<I;y+=2)v[g[y]]++;const x=m.K;for(h=0,v[0]=0,A=1;A<=d;A++)h=h+v[A-1]<<1,x[A]=h;for(C=0;C<I;C+=2)p=g[C+1],p!=0&&(g[C]=x[p],x[p]++)},u.H.A=function(g,d,m){const I=g.length,h=u.H.m.r;for(let A=0;A<I;A+=2)if(g[A+1]!=0){const C=A>>1,p=g[A+1],v=C<<4|p,y=d-p;let x=g[A]<<y;const S=x+(1<<y);for(;x!=S;)m[h[x]>>>15-d]=v,x++}},u.H.l=function(g,d){const m=u.H.m.r,I=15-d;for(let h=0;h<g.length;h+=2){const A=g[h]<<d-g[h+1];g[h]=m[A]>>>I}},u.H.M=function(g,d,m){m<<=7&d;const I=d>>>3;g[I]|=m,g[I+1]|=m>>>8},u.H.I=function(g,d,m){m<<=7&d;const I=d>>>3;g[I]|=m,g[I+1]|=m>>>8,g[I+2]|=m>>>16},u.H.e=function(g,d,m){return(g[d>>>3]|g[1+(d>>>3)]<<8)>>>(7&d)&(1<<m)-1},u.H.b=function(g,d,m){return(g[d>>>3]|g[1+(d>>>3)]<<8|g[2+(d>>>3)]<<16)>>>(7&d)&(1<<m)-1},u.H.Z=function(g,d){return(g[d>>>3]|g[1+(d>>>3)]<<8|g[2+(d>>>3)]<<16)>>>(7&d)},u.H.i=function(g,d){return(g[d>>>3]|g[1+(d>>>3)]<<8|g[2+(d>>>3)]<<16|g[3+(d>>>3)]<<24)>>>(7&d)},u.H.m=function(){const g=Uint16Array,d=Uint32Array;return{K:new g(16),j:new g(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new g(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new d(32),J:new g(512),_:[],h:new g(32),$:[],w:new g(32768),C:[],v:[],d:new g(32768),D:[],u:new g(512),Q:[],r:new g(32768),s:new d(286),Y:new d(30),a:new d(19),t:new d(15e3),k:new g(65536),g:new g(32768)}}(),function(){const g=u.H.m;for(var d=0;d<32768;d++){let I=d;I=(2863311530&I)>>>1|(1431655765&I)<<1,I=(3435973836&I)>>>2|(858993459&I)<<2,I=(4042322160&I)>>>4|(252645135&I)<<4,I=(4278255360&I)>>>8|(16711935&I)<<8,g.r[d]=(I>>>16|I<<16)>>>17}function m(I,h,A){for(;h--!=0;)I.push(0,A)}for(d=0;d<32;d++)g.q[d]=g.S[d]<<3|g.T[d],g.c[d]=g.p[d]<<4|g.z[d];m(g._,144,8),m(g._,112,9),m(g._,24,7),m(g._,8,8),u.H.n(g._,9),u.H.A(g._,9,g.J),u.H.l(g._,9),m(g.$,32,5),u.H.n(g.$,5),u.H.A(g.$,5,g.h),u.H.l(g.$,5),m(g.Q,19,0),m(g.C,286,0),m(g.D,30,0),m(g.v,320,0)}(),u.H.N}();function i(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function a(u,g,d,m,I){let h=i(g);const A=Math.ceil(m*h/8);let C,p;h=Math.ceil(h/8);let v=u[d],y=0;if(v>1&&(u[d]=[0,0,1][v-2]),v==3)for(y=h;y<A;y++)u[y+1]=u[y+1]+(u[y+1-h]>>>1)&255;for(let x=0;x<I;x++)if(C=d+x*A,p=C+x+1,v=u[p-1],y=0,v==0)for(;y<A;y++)u[C+y]=u[p+y];else if(v==1){for(;y<h;y++)u[C+y]=u[p+y];for(;y<A;y++)u[C+y]=u[p+y]+u[C+y-h]}else if(v==2)for(;y<A;y++)u[C+y]=u[p+y]+u[C+y-A];else if(v==3){for(;y<h;y++)u[C+y]=u[p+y]+(u[C+y-A]>>>1);for(;y<A;y++)u[C+y]=u[p+y]+(u[C+y-A]+u[C+y-h]>>>1)}else{for(;y<h;y++)u[C+y]=u[p+y]+l(0,u[C+y-A],0);for(;y<A;y++)u[C+y]=u[p+y]+l(u[C+y-h],u[C+y-A],u[C+y-h-A])}return u}function l(u,g,d){const m=u+g-d,I=m-u,h=m-g,A=m-d;return I*I<=h*h&&I*I<=A*A?u:h*h<=A*A?g:d}function s(u,g,d){d.width=e.readUint(u,g),g+=4,d.height=e.readUint(u,g),g+=4,d.depth=u[g],g++,d.ctype=u[g],g++,d.compress=u[g],g++,d.filter=u[g],g++,d.interlace=u[g],g++}function c(u,g,d,m,I,h,A,C,p){const v=Math.min(g,I),y=Math.min(d,h);let x=0,S=0;for(let X=0;X<y;X++)for(let J=0;J<v;J++)if(A>=0&&C>=0?(x=X*g+J<<2,S=(C+X)*I+A+J<<2):(x=(-C+X)*g-A+J<<2,S=X*I+J<<2),p==0)m[S]=u[x],m[S+1]=u[x+1],m[S+2]=u[x+2],m[S+3]=u[x+3];else if(p==1){var B=u[x+3]*.00392156862745098,Z=u[x]*B,R=u[x+1]*B,w=u[x+2]*B,k=m[S+3]*(1/255),V=m[S]*k,W=m[S+1]*k,N=m[S+2]*k;const E=1-B,F=B+k*E,H=F==0?0:1/F;m[S+3]=255*F,m[S+0]=(Z+V*E)*H,m[S+1]=(R+W*E)*H,m[S+2]=(w+N*E)*H}else if(p==2)B=u[x+3],Z=u[x],R=u[x+1],w=u[x+2],k=m[S+3],V=m[S],W=m[S+1],N=m[S+2],B==k&&Z==V&&R==W&&w==N?(m[S]=0,m[S+1]=0,m[S+2]=0,m[S+3]=0):(m[S]=Z,m[S+1]=R,m[S+2]=w,m[S+3]=B);else if(p==3){if(B=u[x+3],Z=u[x],R=u[x+1],w=u[x+2],k=m[S+3],V=m[S],W=m[S+1],N=m[S+2],B==k&&Z==V&&R==W&&w==N)continue;if(B<220&&k>20)return!1}return!0}return{decode:function(g){const d=new Uint8Array(g);let m=8;const I=e,h=I.readUshort,A=I.readUint,C={tabs:{},frames:[]},p=new Uint8Array(d.length);let v,y=0,x=0;const S=[137,80,78,71,13,10,26,10];for(var B=0;B<8;B++)if(d[B]!=S[B])throw"The input is not a PNG file!";for(;m<d.length;){const X=I.readUint(d,m);m+=4;const J=I.readASCII(d,m,4);if(m+=4,J=="IHDR")s(d,m,C);else if(J=="iCCP"){for(var Z=m;d[Z]!=0;)Z++;I.readASCII(d,m,Z-m),d[Z+1];const E=d.slice(Z+2,m+X);let F=null;try{F=r(E)}catch{F=o(E)}C.tabs[J]=F}else if(J=="CgBI")C.tabs[J]=d.slice(m,m+4);else if(J=="IDAT"){for(B=0;B<X;B++)p[y+B]=d[m+B];y+=X}else if(J=="acTL")C.tabs[J]={num_frames:A(d,m),num_plays:A(d,m+4)},v=new Uint8Array(d.length);else if(J=="fcTL"){x!=0&&((N=C.frames[C.frames.length-1]).data=n(C,v.slice(0,x),N.rect.width,N.rect.height),x=0);const E={x:A(d,m+12),y:A(d,m+16),width:A(d,m+4),height:A(d,m+8)};let F=h(d,m+22);F=h(d,m+20)/(F==0?100:F);const H={rect:E,delay:Math.round(1e3*F),dispose:d[m+24],blend:d[m+25]};C.frames.push(H)}else if(J=="fdAT"){for(B=0;B<X-4;B++)v[x+B]=d[m+B+4];x+=X-4}else if(J=="pHYs")C.tabs[J]=[I.readUint(d,m),I.readUint(d,m+4),d[m+8]];else if(J=="cHRM")for(C.tabs[J]=[],B=0;B<8;B++)C.tabs[J].push(I.readUint(d,m+4*B));else if(J=="tEXt"||J=="zTXt"){C.tabs[J]==null&&(C.tabs[J]={});var R=I.nextZero(d,m),w=I.readASCII(d,m,R-m),k=m+X-R-1;if(J=="tEXt")W=I.readASCII(d,R+1,k);else{var V=r(d.slice(R+2,R+2+k));W=I.readUTF8(V,0,V.length)}C.tabs[J][w]=W}else if(J=="iTXt"){C.tabs[J]==null&&(C.tabs[J]={}),R=0,Z=m,R=I.nextZero(d,Z),w=I.readASCII(d,Z,R-Z);const E=d[Z=R+1];var W;d[Z+1],Z+=2,R=I.nextZero(d,Z),I.readASCII(d,Z,R-Z),Z=R+1,R=I.nextZero(d,Z),I.readUTF8(d,Z,R-Z),k=X-((Z=R+1)-m),E==0?W=I.readUTF8(d,Z,k):(V=r(d.slice(Z,Z+k)),W=I.readUTF8(V,0,V.length)),C.tabs[J][w]=W}else if(J=="PLTE")C.tabs[J]=I.readBytes(d,m,X);else if(J=="hIST"){const E=C.tabs.PLTE.length/3;for(C.tabs[J]=[],B=0;B<E;B++)C.tabs[J].push(h(d,m+2*B))}else if(J=="tRNS")C.ctype==3?C.tabs[J]=I.readBytes(d,m,X):C.ctype==0?C.tabs[J]=h(d,m):C.ctype==2&&(C.tabs[J]=[h(d,m),h(d,m+2),h(d,m+4)]);else if(J=="gAMA")C.tabs[J]=I.readUint(d,m)/1e5;else if(J=="sRGB")C.tabs[J]=d[m];else if(J=="bKGD")C.ctype==0||C.ctype==4?C.tabs[J]=[h(d,m)]:C.ctype==2||C.ctype==6?C.tabs[J]=[h(d,m),h(d,m+2),h(d,m+4)]:C.ctype==3&&(C.tabs[J]=d[m]);else if(J=="IEND")break;m+=X,I.readUint(d,m),m+=4}var N;return x!=0&&((N=C.frames[C.frames.length-1]).data=n(C,v.slice(0,x),N.rect.width,N.rect.height)),C.data=n(C,p,C.width,C.height),delete C.compress,delete C.interlace,delete C.filter,C},toRGBA8:function(g){const d=g.width,m=g.height;if(g.tabs.acTL==null)return[t(g.data,d,m,g).buffer];const I=[];g.frames[0].data==null&&(g.frames[0].data=g.data);const h=d*m*4,A=new Uint8Array(h),C=new Uint8Array(h),p=new Uint8Array(h);for(let y=0;y<g.frames.length;y++){const x=g.frames[y],S=x.rect.x,B=x.rect.y,Z=x.rect.width,R=x.rect.height,w=t(x.data,Z,R,g);if(y!=0)for(var v=0;v<h;v++)p[v]=A[v];if(x.blend==0?c(w,Z,R,A,d,m,S,B,0):x.blend==1&&c(w,Z,R,A,d,m,S,B,1),I.push(A.buffer.slice(0)),x.dispose!=0){if(x.dispose==1)c(C,Z,R,A,d,m,S,B,0);else if(x.dispose==2)for(v=0;v<h;v++)A[v]=p[v]}}return I},_paeth:l,_copyTile:c,_bin:e}}();(function(){const{_copyTile:e}=Qo,{_bin:t}=Qo,n=Qo._paeth;var r={table:function(){const Z=new Uint32Array(256);for(let R=0;R<256;R++){let w=R;for(let k=0;k<8;k++)1&w?w=3988292384^w>>>1:w>>>=1;Z[R]=w}return Z}(),update(Z,R,w,k){for(let V=0;V<k;V++)Z=r.table[255&(Z^R[w+V])]^Z>>>8;return Z},crc:(Z,R,w)=>4294967295^r.update(4294967295,Z,R,w)};function o(Z,R,w,k){R[w]+=Z[0]*k>>4,R[w+1]+=Z[1]*k>>4,R[w+2]+=Z[2]*k>>4,R[w+3]+=Z[3]*k>>4}function i(Z){return Math.max(0,Math.min(255,Z))}function a(Z,R){const w=Z[0]-R[0],k=Z[1]-R[1],V=Z[2]-R[2],W=Z[3]-R[3];return w*w+k*k+V*V+W*W}function l(Z,R,w,k,V,W,N){N==null&&(N=1);const X=k.length,J=[];for(var E=0;E<X;E++){const L=k[E];J.push([L>>>0&255,L>>>8&255,L>>>16&255,L>>>24&255])}for(E=0;E<X;E++){let L=4294967295;for(var F=0,H=0;H<X;H++){var M=a(J[E],J[H]);H!=E&&M<L&&(L=M,F=H)}}const Y=new Uint32Array(V.buffer),T=new Int16Array(R*w*4),O=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(E=0;E<O.length;E++)O[E]=255*((O[E]+.5)/16-.5);for(let L=0;L<w;L++)for(let j=0;j<R;j++){var P;E=4*(L*R+j),N!=2?P=[i(Z[E]+T[E]),i(Z[E+1]+T[E+1]),i(Z[E+2]+T[E+2]),i(Z[E+3]+T[E+3])]:(M=O[4*(3&L)+(3&j)],P=[i(Z[E]+M),i(Z[E+1]+M),i(Z[E+2]+M),i(Z[E+3]+M)]),F=0;let D=16777215;for(H=0;H<X;H++){const z=a(P,J[H]);z<D&&(D=z,F=H)}const $=J[F],K=[P[0]-$[0],P[1]-$[1],P[2]-$[2],P[3]-$[3]];N==1&&(j!=R-1&&o(K,T,E+4,7),L!=w-1&&(j!=0&&o(K,T,E+4*R-4,3),o(K,T,E+4*R,5),j!=R-1&&o(K,T,E+4*R+4,1))),W[E>>2]=F,Y[E>>2]=k[F]}}function s(Z,R,w,k,V){V==null&&(V={});const{crc:W}=r,N=t.writeUint,X=t.writeUshort,J=t.writeASCII;let E=8;const F=Z.frames.length>1;let H,M=!1,Y=33+(F?20:0);if(V.sRGB!=null&&(Y+=13),V.pHYs!=null&&(Y+=21),V.iCCP!=null&&(H=pako.deflate(V.iCCP),Y+=21+H.length+4),Z.ctype==3){for(var T=Z.plte.length,O=0;O<T;O++)Z.plte[O]>>>24!=255&&(M=!0);Y+=8+3*T+4+(M?8+1*T+4:0)}for(var P=0;P<Z.frames.length;P++)F&&(Y+=38),Y+=($=Z.frames[P]).cimg.length+12,P!=0&&(Y+=4);Y+=12;const L=new Uint8Array(Y),j=[137,80,78,71,13,10,26,10];for(O=0;O<8;O++)L[O]=j[O];if(N(L,E,13),E+=4,J(L,E,"IHDR"),E+=4,N(L,E,R),E+=4,N(L,E,w),E+=4,L[E]=Z.depth,E++,L[E]=Z.ctype,E++,L[E]=0,E++,L[E]=0,E++,L[E]=0,E++,N(L,E,W(L,E-17,17)),E+=4,V.sRGB!=null&&(N(L,E,1),E+=4,J(L,E,"sRGB"),E+=4,L[E]=V.sRGB,E++,N(L,E,W(L,E-5,5)),E+=4),V.iCCP!=null){const K=13+H.length;N(L,E,K),E+=4,J(L,E,"iCCP"),E+=4,J(L,E,"ICC profile"),E+=11,E+=2,L.set(H,E),E+=H.length,N(L,E,W(L,E-(K+4),K+4)),E+=4}if(V.pHYs!=null&&(N(L,E,9),E+=4,J(L,E,"pHYs"),E+=4,N(L,E,V.pHYs[0]),E+=4,N(L,E,V.pHYs[1]),E+=4,L[E]=V.pHYs[2],E++,N(L,E,W(L,E-13,13)),E+=4),F&&(N(L,E,8),E+=4,J(L,E,"acTL"),E+=4,N(L,E,Z.frames.length),E+=4,N(L,E,V.loop!=null?V.loop:0),E+=4,N(L,E,W(L,E-12,12)),E+=4),Z.ctype==3){for(N(L,E,3*(T=Z.plte.length)),E+=4,J(L,E,"PLTE"),E+=4,O=0;O<T;O++){const K=3*O,z=Z.plte[O],_=255&z,U=z>>>8&255,te=z>>>16&255;L[E+K+0]=_,L[E+K+1]=U,L[E+K+2]=te}if(E+=3*T,N(L,E,W(L,E-3*T-4,3*T+4)),E+=4,M){for(N(L,E,T),E+=4,J(L,E,"tRNS"),E+=4,O=0;O<T;O++)L[E+O]=Z.plte[O]>>>24&255;E+=T,N(L,E,W(L,E-T-4,T+4)),E+=4}}let D=0;for(P=0;P<Z.frames.length;P++){var $=Z.frames[P];F&&(N(L,E,26),E+=4,J(L,E,"fcTL"),E+=4,N(L,E,D++),E+=4,N(L,E,$.rect.width),E+=4,N(L,E,$.rect.height),E+=4,N(L,E,$.rect.x),E+=4,N(L,E,$.rect.y),E+=4,X(L,E,k[P]),E+=2,X(L,E,1e3),E+=2,L[E]=$.dispose,E++,L[E]=$.blend,E++,N(L,E,W(L,E-30,30)),E+=4);const K=$.cimg;N(L,E,(T=K.length)+(P==0?0:4)),E+=4;const z=E;J(L,E,P==0?"IDAT":"fdAT"),E+=4,P!=0&&(N(L,E,D++),E+=4),L.set(K,E),E+=T,N(L,E,W(L,z,E-z)),E+=4}return N(L,E,0),E+=4,J(L,E,"IEND"),E+=4,N(L,E,W(L,E-4,4)),E+=4,L.buffer}function c(Z,R,w){for(let k=0;k<Z.frames.length;k++){const V=Z.frames[k];V.rect.width;const W=V.rect.height,N=new Uint8Array(W*V.bpl+W);V.cimg=m(V.img,W,V.bpp,V.bpl,N,R,w)}}function u(Z,R,w,k,V){const W=V[0],N=V[1],X=V[2],J=V[3],E=V[4],F=V[5];let H=6,M=8,Y=255;for(var T=0;T<Z.length;T++){const se=new Uint8Array(Z[T]);for(var O=se.length,P=0;P<O;P+=4)Y&=se[P+3]}const L=Y!=255,j=function(ce,q,ee,oe,ae,ne){const fe=[];for(var le=0;le<ce.length;le++){const ke=new Uint8Array(ce[le]),Oe=new Uint32Array(ke.buffer);var be;let Ct=0,Gt=0,gn=q,xn=ee,dn=oe?1:0;if(le!=0){const It=ne||oe||le==1||fe[le-2].dispose!=0?1:2;let Be=0,Ke=1e9;for(let Pe=0;Pe<It;Pe++){var ye=new Uint8Array(ce[le-1-Pe]);const Ln=new Uint32Array(ce[le-1-Pe]);let zt=q,qn=ee,zo=-1,hi=-1;for(let Ci=0;Ci<ee;Ci++)for(let Io=0;Io<q;Io++)Oe[ue=Ci*q+Io]!=Ln[ue]&&(Io<zt&&(zt=Io),Io>zo&&(zo=Io),Ci<qn&&(qn=Ci),Ci>hi&&(hi=Ci));zo==-1&&(zt=qn=zo=hi=0),ae&&((1&zt)==1&&zt--,(1&qn)==1&&qn--);const md=(zo-zt+1)*(hi-qn+1);md<Ke&&(Ke=md,Be=Pe,Ct=zt,Gt=qn,gn=zo-zt+1,xn=hi-qn+1)}ye=new Uint8Array(ce[le-1-Be]),Be==1&&(fe[le-1].dispose=2),be=new Uint8Array(gn*xn*4),e(ye,q,ee,be,gn,xn,-Ct,-Gt,0),dn=e(ke,q,ee,be,gn,xn,-Ct,-Gt,3)?1:0,dn==1?d(ke,q,ee,be,{x:Ct,y:Gt,width:gn,height:xn}):e(ke,q,ee,be,gn,xn,-Ct,-Gt,0)}else be=ke.slice(0);fe.push({rect:{x:Ct,y:Gt,width:gn,height:xn},img:be,blend:dn,dispose:0})}if(oe)for(le=0;le<fe.length;le++){if((Se=fe[le]).blend==1)continue;const ke=Se.rect,Oe=fe[le-1].rect,Ct=Math.min(ke.x,Oe.x),Gt=Math.min(ke.y,Oe.y),gn={x:Ct,y:Gt,width:Math.max(ke.x+ke.width,Oe.x+Oe.width)-Ct,height:Math.max(ke.y+ke.height,Oe.y+Oe.height)-Gt};fe[le-1].dispose=1,le-1!=0&&g(ce,q,ee,fe,le-1,gn,ae),g(ce,q,ee,fe,le,gn,ae)}let Fe=0;if(ce.length!=1)for(var ue=0;ue<fe.length;ue++){var Se;Fe+=(Se=fe[ue]).rect.width*Se.rect.height}return fe}(Z,R,w,W,N,X),D={},$=[],K=[];if(k!=0){const se=[];for(P=0;P<j.length;P++)se.push(j[P].img.buffer);const ce=function(ae){let ne=0;for(var fe=0;fe<ae.length;fe++)ne+=ae[fe].byteLength;const le=new Uint8Array(ne);let be=0;for(fe=0;fe<ae.length;fe++){const ye=new Uint8Array(ae[fe]),Fe=ye.length;for(let ue=0;ue<Fe;ue+=4){let Se=ye[ue],ke=ye[ue+1],Oe=ye[ue+2];const Ct=ye[ue+3];Ct==0&&(Se=ke=Oe=0),le[be+ue]=Se,le[be+ue+1]=ke,le[be+ue+2]=Oe,le[be+ue+3]=Ct}be+=Fe}return le.buffer}(se),q=h(ce,k);for(P=0;P<q.plte.length;P++)$.push(q.plte[P].est.rgba);let ee=0;for(P=0;P<j.length;P++){const oe=(_=j[P]).img.length;var z=new Uint8Array(q.inds.buffer,ee>>2,oe>>2);K.push(z);const ae=new Uint8Array(q.abuf,ee,oe);F&&l(_.img,_.rect.width,_.rect.height,$,ae,z),_.img.set(ae),ee+=oe}}else for(T=0;T<j.length;T++){var _=j[T];const se=new Uint32Array(_.img.buffer);var U=_.rect.width;for(O=se.length,z=new Uint8Array(O),K.push(z),P=0;P<O;P++){const ce=se[P];if(P!=0&&ce==se[P-1])z[P]=z[P-1];else if(P>U&&ce==se[P-U])z[P]=z[P-U];else{let q=D[ce];if(q==null&&(D[ce]=q=$.length,$.push(ce),$.length>=300))break;z[P]=q}}}const te=$.length;for(te<=256&&E==0&&(M=te<=2?1:te<=4?2:te<=16?4:8,M=Math.max(M,J)),T=0;T<j.length;T++){(_=j[T]).rect.x,_.rect.y,U=_.rect.width;const se=_.rect.height;let ce=_.img;new Uint32Array(ce.buffer);let q=4*U,ee=4;if(te<=256&&E==0){q=Math.ceil(M*U/8);var ie=new Uint8Array(q*se);const oe=K[T];for(let ae=0;ae<se;ae++){P=ae*q;const ne=ae*U;if(M==8)for(var re=0;re<U;re++)ie[P+re]=oe[ne+re];else if(M==4)for(re=0;re<U;re++)ie[P+(re>>1)]|=oe[ne+re]<<4-4*(1&re);else if(M==2)for(re=0;re<U;re++)ie[P+(re>>2)]|=oe[ne+re]<<6-2*(3&re);else if(M==1)for(re=0;re<U;re++)ie[P+(re>>3)]|=oe[ne+re]<<7-1*(7&re)}ce=ie,H=3,ee=1}else if(L==0&&j.length==1){ie=new Uint8Array(U*se*3);const oe=U*se;for(P=0;P<oe;P++){const ae=3*P,ne=4*P;ie[ae]=ce[ne],ie[ae+1]=ce[ne+1],ie[ae+2]=ce[ne+2]}ce=ie,H=2,ee=3,q=3*U}_.img=ce,_.bpl=q,_.bpp=ee}return{ctype:H,depth:M,plte:$,frames:j}}function g(Z,R,w,k,V,W,N){const X=Uint8Array,J=Uint32Array,E=new X(Z[V-1]),F=new J(Z[V-1]),H=V+1<Z.length?new X(Z[V+1]):null,M=new X(Z[V]),Y=new J(M.buffer);let T=R,O=w,P=-1,L=-1;for(let D=0;D<W.height;D++)for(let $=0;$<W.width;$++){const K=W.x+$,z=W.y+D,_=z*R+K,U=Y[_];U==0||k[V-1].dispose==0&&F[_]==U&&(H==null||H[4*_+3]!=0)||(K<T&&(T=K),K>P&&(P=K),z<O&&(O=z),z>L&&(L=z))}P==-1&&(T=O=P=L=0),N&&((1&T)==1&&T--,(1&O)==1&&O--),W={x:T,y:O,width:P-T+1,height:L-O+1};const j=k[V];j.rect=W,j.blend=1,j.img=new Uint8Array(W.width*W.height*4),k[V-1].dispose==0?(e(E,R,w,j.img,W.width,W.height,-W.x,-W.y,0),d(M,R,w,j.img,W)):e(M,R,w,j.img,W.width,W.height,-W.x,-W.y,0)}function d(Z,R,w,k,V){e(Z,R,w,k,V.width,V.height,-V.x,-V.y,2)}function m(Z,R,w,k,V,W,N){const X=[];let J,E=[0,1,2,3,4];W!=-1?E=[W]:(R*k>5e5||w==1)&&(E=[0]),N&&(J={level:0});const F=QCe;for(var H=0;H<E.length;H++){for(let T=0;T<R;T++)I(V,Z,T,k,w,E[H]);X.push(F.deflate(V,J))}let M,Y=1e9;for(H=0;H<X.length;H++)X[H].length<Y&&(M=H,Y=X[H].length);return X[M]}function I(Z,R,w,k,V,W){const N=w*k;let X=N+w;if(Z[X]=W,X++,W==0)if(k<500)for(var J=0;J<k;J++)Z[X+J]=R[N+J];else Z.set(new Uint8Array(R.buffer,N,k),X);else if(W==1){for(J=0;J<V;J++)Z[X+J]=R[N+J];for(J=V;J<k;J++)Z[X+J]=R[N+J]-R[N+J-V]+256&255}else if(w==0){for(J=0;J<V;J++)Z[X+J]=R[N+J];if(W==2)for(J=V;J<k;J++)Z[X+J]=R[N+J];if(W==3)for(J=V;J<k;J++)Z[X+J]=R[N+J]-(R[N+J-V]>>1)+256&255;if(W==4)for(J=V;J<k;J++)Z[X+J]=R[N+J]-n(R[N+J-V],0,0)+256&255}else{if(W==2)for(J=0;J<k;J++)Z[X+J]=R[N+J]+256-R[N+J-k]&255;if(W==3){for(J=0;J<V;J++)Z[X+J]=R[N+J]+256-(R[N+J-k]>>1)&255;for(J=V;J<k;J++)Z[X+J]=R[N+J]+256-(R[N+J-k]+R[N+J-V]>>1)&255}if(W==4){for(J=0;J<V;J++)Z[X+J]=R[N+J]+256-n(0,R[N+J-k],0)&255;for(J=V;J<k;J++)Z[X+J]=R[N+J]+256-n(R[N+J-V],R[N+J-k],R[N+J-V-k])&255}}}function h(Z,R){const w=new Uint8Array(Z),k=w.slice(0),V=new Uint32Array(k.buffer),W=A(k,R),N=W[0],X=W[1],J=w.length,E=new Uint8Array(J>>2);let F;if(w.length<2e7)for(var H=0;H<J;H+=4)F=C(N,M=w[H]*(1/255),Y=w[H+1]*(1/255),T=w[H+2]*(1/255),O=w[H+3]*(1/255)),E[H>>2]=F.ind,V[H>>2]=F.est.rgba;else for(H=0;H<J;H+=4){var M=w[H]*.00392156862745098,Y=w[H+1]*(1/255),T=w[H+2]*(1/255),O=w[H+3]*(1/255);for(F=N;F.left;)F=p(F.est,M,Y,T,O)<=0?F.left:F.right;E[H>>2]=F.ind,V[H>>2]=F.est.rgba}return{abuf:k.buffer,inds:E,plte:X}}function A(Z,R,w){w==null&&(w=1e-4);const k=new Uint32Array(Z.buffer),V={i0:0,i1:Z.length,bst:null,est:null,tdst:0,left:null,right:null};V.bst=x(Z,V.i0,V.i1),V.est=S(V.bst);const W=[V];for(;W.length<R;){let X=0,J=0;for(var N=0;N<W.length;N++)W[N].est.L>X&&(X=W[N].est.L,J=N);if(X<w)break;const E=W[J],F=v(Z,k,E.i0,E.i1,E.est.e,E.est.eMq255);if(E.i0>=F||E.i1<=F){E.est.L=0;continue}const H={i0:E.i0,i1:F,bst:null,est:null,tdst:0,left:null,right:null};H.bst=x(Z,H.i0,H.i1),H.est=S(H.bst);const M={i0:F,i1:E.i1,bst:null,est:null,tdst:0,left:null,right:null};for(M.bst={R:[],m:[],N:E.bst.N-H.bst.N},N=0;N<16;N++)M.bst.R[N]=E.bst.R[N]-H.bst.R[N];for(N=0;N<4;N++)M.bst.m[N]=E.bst.m[N]-H.bst.m[N];M.est=S(M.bst),E.left=H,E.right=M,W[J]=H,W.push(M)}for(W.sort((X,J)=>J.bst.N-X.bst.N),N=0;N<W.length;N++)W[N].ind=N;return[V,W]}function C(Z,R,w,k,V){if(Z.left==null)return Z.tdst=function(H,M,Y,T,O){const P=M-H[0],L=Y-H[1],j=T-H[2],D=O-H[3];return P*P+L*L+j*j+D*D}(Z.est.q,R,w,k,V),Z;const W=p(Z.est,R,w,k,V);let N=Z.left,X=Z.right;W>0&&(N=Z.right,X=Z.left);const J=C(N,R,w,k,V);if(J.tdst<=W*W)return J;const E=C(X,R,w,k,V);return E.tdst<J.tdst?E:J}function p(Z,R,w,k,V){const{e:W}=Z;return W[0]*R+W[1]*w+W[2]*k+W[3]*V-Z.eMq}function v(Z,R,w,k,V,W){for(k-=4;w<k;){for(;y(Z,w,V)<=W;)w+=4;for(;y(Z,k,V)>W;)k-=4;if(w>=k)break;const N=R[w>>2];R[w>>2]=R[k>>2],R[k>>2]=N,w+=4,k-=4}for(;y(Z,w,V)>W;)w-=4;return w+4}function y(Z,R,w){return Z[R]*w[0]+Z[R+1]*w[1]+Z[R+2]*w[2]+Z[R+3]*w[3]}function x(Z,R,w){const k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],V=[0,0,0,0],W=w-R>>2;for(let N=R;N<w;N+=4){const X=Z[N]*.00392156862745098,J=Z[N+1]*(1/255),E=Z[N+2]*(1/255),F=Z[N+3]*(1/255);V[0]+=X,V[1]+=J,V[2]+=E,V[3]+=F,k[0]+=X*X,k[1]+=X*J,k[2]+=X*E,k[3]+=X*F,k[5]+=J*J,k[6]+=J*E,k[7]+=J*F,k[10]+=E*E,k[11]+=E*F,k[15]+=F*F}return k[4]=k[1],k[8]=k[2],k[9]=k[6],k[12]=k[3],k[13]=k[7],k[14]=k[11],{R:k,m:V,N:W}}function S(Z){const{R}=Z,{m:w}=Z,{N:k}=Z,V=w[0],W=w[1],N=w[2],X=w[3],J=k==0?0:1/k,E=[R[0]-V*V*J,R[1]-V*W*J,R[2]-V*N*J,R[3]-V*X*J,R[4]-W*V*J,R[5]-W*W*J,R[6]-W*N*J,R[7]-W*X*J,R[8]-N*V*J,R[9]-N*W*J,R[10]-N*N*J,R[11]-N*X*J,R[12]-X*V*J,R[13]-X*W*J,R[14]-X*N*J,R[15]-X*X*J],F=E,H=B;let M=[Math.random(),Math.random(),Math.random(),Math.random()],Y=0,T=0;if(k!=0)for(let P=0;P<16&&(M=H.multVec(F,M),T=Math.sqrt(H.dot(M,M)),M=H.sml(1/T,M),!(P!=0&&Math.abs(T-Y)<1e-9));P++)Y=T;const O=[V*J,W*J,N*J,X*J];return{Cov:E,q:O,e:M,L:Y,eMq255:H.dot(H.sml(255,O),M),eMq:H.dot(M,O),rgba:(Math.round(255*O[3])<<24|Math.round(255*O[2])<<16|Math.round(255*O[1])<<8|Math.round(255*O[0])<<0)>>>0}}var B={multVec:(Z,R)=>[Z[0]*R[0]+Z[1]*R[1]+Z[2]*R[2]+Z[3]*R[3],Z[4]*R[0]+Z[5]*R[1]+Z[6]*R[2]+Z[7]*R[3],Z[8]*R[0]+Z[9]*R[1]+Z[10]*R[2]+Z[11]*R[3],Z[12]*R[0]+Z[13]*R[1]+Z[14]*R[2]+Z[15]*R[3]],dot:(Z,R)=>Z[0]*R[0]+Z[1]*R[1]+Z[2]*R[2]+Z[3]*R[3],sml:(Z,R)=>[Z*R[0],Z*R[1],Z*R[2],Z*R[3]]};Qo.encode=function(R,w,k,V,W,N,X){V==null&&(V=0),X==null&&(X=!1);const J=u(R,w,k,V,[!1,!1,!1,0,X,!1]);return c(J,-1),s(J,w,k,W,N)},Qo.encodeLL=function(R,w,k,V,W,N,X,J){const E={ctype:0+(V==1?0:2)+(W==0?0:4),depth:N,frames:[]},F=(V+W)*N,H=F*w;for(let M=0;M<R.length;M++)E.frames.push({rect:{x:0,y:0,width:w,height:k},img:new Uint8Array(R[M]),blend:0,dispose:1,bpp:Math.ceil(F/8),bpl:Math.ceil(H/8)});return c(E,0,!0),s(E,w,k,X,J)},Qo.encode.compress=u,Qo.encode.dither=l,Qo.quantize=h,Qo.quantize.getKDtree=A,Qo.quantize.getNearest=C})();const sK={toArrayBuffer(e,t){const n=e.width,r=e.height,o=n<<2,i=e.getContext("2d").getImageData(0,0,n,r),a=new Uint32Array(i.data.buffer),l=(32*n+31)/32<<2,s=l*r,c=122+s,u=new ArrayBuffer(c),g=new DataView(u),d=1<<20;let m,I,h,A,C=d,p=0,v=0,y=0;function x(Z){g.setUint16(v,Z,!0),v+=2}function S(Z){g.setUint32(v,Z,!0),v+=4}function B(Z){v+=Z}x(19778),S(c),B(4),S(122),S(108),S(n),S(-r>>>0),x(1),x(32),S(3),S(s),S(2835),S(2835),B(8),S(16711680),S(65280),S(255),S(4278190080),S(1466527264),function Z(){for(;p<r&&C>0;){for(A=122+p*l,m=0;m<o;)C--,I=a[y++],h=I>>>24,g.setUint32(A+m,I<<8|h),m+=4;p++}y<a.length?(C=d,setTimeout(Z,sK._dly)):t(u)}()},toBlob(e,t){this.toArrayBuffer(e,n=>{t(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Gr={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},$Ce={[Gr.CHROME]:16384,[Gr.FIREFOX]:11180,[Gr.DESKTOP_SAFARI]:16384,[Gr.IE]:8192,[Gr.IOS]:4096,[Gr.ETC]:8192};const dB=typeof window<"u",cK=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Vp=dB&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),qCe=(dB||cK)&&(Vp&&Vp.getOriginalSymbol(window,"File")||typeof File<"u"&&File),uK=(dB||cK)&&(Vp&&Vp.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function fB(e,t,n=Date.now()){return new Promise(r=>{const o=e.split(","),i=o[0].match(/:(.*?);/)[1],a=globalThis.atob(o[1]);let l=a.length;const s=new Uint8Array(l);for(;l--;)s[l]=a.charCodeAt(l);const c=new Blob([s],{type:i});c.name=t,c.lastModified=n,r(c)})}function gK(e){return new Promise((t,n)=>{const r=new uK;r.onload=()=>t(r.result),r.onerror=o=>n(o),r.readAsDataURL(e)})}function dK(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=o=>n(o),r.src=e})}function ec(){if(ec.cachedResult!==void 0)return ec.cachedResult;let e=Gr.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=Gr.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=Gr.IOS:/Safari/i.test(t)?e=Gr.DESKTOP_SAFARI:/Firefox/i.test(t)?e=Gr.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(e=Gr.IE),ec.cachedResult=e,ec.cachedResult}function fK(e,t){const n=ec(),r=$Ce[n];let o=e,i=t,a=o*i;const l=o>i?i/o:o/i;for(;a>r*r;){const s=(r+o)/2,c=(r+i)/2;s<c?(i=c,o=c*l):(i=s*l,o=s),a=o*i}return{width:o,height:i}}function ob(e,t){let n,r;try{if(n=new OffscreenCanvas(e,t),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=e,n.height=t,[n,r]}function mK(e,t){const{width:n,height:r}=fK(e.width,e.height),[o,i]=ob(n,r);return t&&/jpe?g/.test(t)&&(i.fillStyle="white",i.fillRect(0,0,o.width,o.height)),i.drawImage(e,0,0,o.width,o.height),o}function bC(){return bC.cachedResult!==void 0||(bC.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),bC.cachedResult}function Wp(e,t={}){return new Promise(function(n,r){let o,i;var a=function(){try{return i=mK(o,t.fileType||e.type),n([o,i])}catch(s){return r(s)}},l=function(s){try{var c=function(u){try{throw u}catch(g){return r(g)}};try{let u;return gK(e).then(function(g){try{return u=g,dK(u).then(function(d){try{return o=d,function(){try{return a()}catch(m){return r(m)}}()}catch(m){return c(m)}},c)}catch(d){return c(d)}},c)}catch(u){c(u)}}catch(u){return r(u)}};try{if(bC()||[Gr.DESKTOP_SAFARI,Gr.MOBILE_SAFARI].includes(ec()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(s){try{return o=s,a()}catch{return l()}},l)}catch{l()}})}function Np(e,t,n,r,o=1){return new Promise(function(i,a){let l;if(t==="image/png"){let g,d,m;return g=e.getContext("2d"),{data:d}=g.getImageData(0,0,e.width,e.height),m=Qo.encode([d.buffer],e.width,e.height,4096*o),l=new Blob([m],{type:t}),l.name=n,l.lastModified=r,s.call(this)}{let g=function(){return s.call(this)};var c=g;if(t==="image/bmp")return new Promise(d=>sK.toBlob(e,d)).then((function(d){try{return l=d,l.name=n,l.lastModified=r,g.call(this)}catch(m){return a(m)}}).bind(this),a);{let d=function(){return g.call(this)};var u=d;if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:o}).then((function(m){try{return l=m,l.name=n,l.lastModified=r,d.call(this)}catch(I){return a(I)}}).bind(this),a);{let m;return m=e.toDataURL(t,o),fB(m,n,r).then((function(I){try{return l=I,d.call(this)}catch(h){return a(h)}}).bind(this),a)}}}function s(){return i(l)}})}function yi(e){e.width=0,e.height=0}function pu(){return new Promise(function(e,t){let n,r,o,i;return pu.cachedResult!==void 0?e(pu.cachedResult):fB("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return n=a,Wp(n).then(function(l){try{return r=l[1],Np(r,n.type,n.name,n.lastModified).then(function(s){try{return o=s,yi(r),Wp(o).then(function(c){try{return i=c[0],pu.cachedResult=i.width===1&&i.height===2,e(pu.cachedResult)}catch(u){return t(u)}},t)}catch(c){return t(c)}},t)}catch(s){return t(s)}},t)}catch(l){return t(l)}},t)})}function IK(e){return new Promise((t,n)=>{const r=new uK;r.onload=o=>{const i=new DataView(o.target.result);if(i.getUint16(0,!1)!=65496)return t(-2);const a=i.byteLength;let l=2;for(;l<a;){if(i.getUint16(l+2,!1)<=8)return t(-1);const s=i.getUint16(l,!1);if(l+=2,s==65505){if(i.getUint32(l+=2,!1)!=1165519206)return t(-1);const c=i.getUint16(l+=6,!1)==18761;l+=i.getUint32(l+4,c);const u=i.getUint16(l,c);l+=2;for(let g=0;g<u;g++)if(i.getUint16(l+12*g,c)==274)return t(i.getUint16(l+12*g+8,c))}else{if((65280&s)!=65280)break;l+=i.getUint16(l,!1)}}return t(-1)},r.onerror=o=>n(o),r.readAsArrayBuffer(e)})}function hK(e,t){const{width:n}=e,{height:r}=e,{maxWidthOrHeight:o}=t;let i,a=e;return isFinite(o)&&(n>o||r>o)&&([a,i]=ob(n,r),n>r?(a.width=o,a.height=r/n*o):(a.width=n/r*o,a.height=o),i.drawImage(e,0,0,a.width,a.height),yi(e)),a}function CK(e,t){const{width:n}=e,{height:r}=e,[o,i]=ob(n,r);switch(t>4&&t<9?(o.width=r,o.height=n):(o.width=n,o.height=r),t){case 2:i.transform(-1,0,0,1,n,0);break;case 3:i.transform(-1,0,0,-1,n,r);break;case 4:i.transform(1,0,0,-1,0,r);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,r,0);break;case 7:i.transform(0,-1,-1,0,r,n);break;case 8:i.transform(0,-1,1,0,0,n)}return i.drawImage(e,0,0,n,r),yi(e),o}function a3(e,t,n=0){return new Promise(function(r,o){let i,a,l,s,c,u,g,d,m,I,h,A,C,p,v,y,x,S,B,Z;function R(k=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;i+=k,t.onProgress(Math.min(i,100))}function w(k){if(t.signal&&t.signal.aborted)throw t.signal.reason;i=Math.min(Math.max(k,i),100),t.onProgress(i)}return i=n,a=t.maxIteration||10,l=1024*t.maxSizeMB*1024,R(),Wp(e,t).then((function(k){try{return[,s]=k,R(),c=hK(s,t),R(),new Promise(function(V,W){var N;if(!(N=t.exifOrientation))return IK(e).then((function(J){try{return N=J,X.call(this)}catch(E){return W(E)}}).bind(this),W);function X(){return V(N)}return X.call(this)}).then((function(V){try{return u=V,R(),pu().then((function(W){try{return g=W?c:CK(c,u),R(),d=t.initialQuality||1,m=t.fileType||e.type,Np(g,m,e.name,e.lastModified,d).then((function(N){try{{let F=function(){if(a--&&(v>l||v>C)){let M,Y;return M=Z?.95*B.width:B.width,Y=Z?.95*B.height:B.height,[x,S]=ob(M,Y),S.drawImage(B,0,0,M,Y),d*=m==="image/png"?.85:.95,Np(x,m,e.name,e.lastModified,d).then(function(T){try{return y=T,yi(B),B=x,v=y.size,w(Math.min(99,Math.floor((p-v)/(p-l)*100))),F}catch(O){return o(O)}},o)}return[1]},H=function(){return yi(B),yi(x),yi(c),yi(g),yi(s),w(100),r(y)};var J=F,E=H;if(I=N,R(),h=I.size>l,A=I.size>e.size,!h&&!A)return w(100),r(I);var X;return C=e.size,p=I.size,v=p,B=g,Z=!t.alwaysKeepResolution&&h,(X=(function(M){for(;M;){if(M.then)return void M.then(X,o);try{if(M.pop){if(M.length)return M.pop()?H.call(this):M;M=F}else M=M.call(this)}catch(Y){return o(Y)}}}).bind(this))(F)}}catch(F){return o(F)}}).bind(this),o)}catch(N){return o(N)}}).bind(this),o)}catch(W){return o(W)}}).bind(this),o)}catch(V){return o(V)}}).bind(this),o)})}const epe=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Yy;function tpe(e,t){return new Promise((n,r)=>{Yy||(Yy=function(a){const l=[];return typeof a=="function"?l.push(`(${a})()`):l.push(a),URL.createObjectURL(new Blob(l))}(epe));const o=new Worker(Yy);o.addEventListener("message",function(a){if(t.signal&&t.signal.aborted)o.terminate();else if(a.data.progress===void 0){if(a.data.error)return r(new Error(a.data.error)),void o.terminate();n(a.data.file),o.terminate()}else t.onProgress(a.data.progress)}),o.addEventListener("error",r),t.signal&&t.signal.addEventListener("abort",()=>{r(t.signal.reason),o.terminate()}),o.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})})}function nr(e,t){return new Promise(function(n,r){let o,i,a,l,s,c;if(o={...t},a=0,{onProgress:l}=o,o.maxSizeMB=o.maxSizeMB||Number.POSITIVE_INFINITY,s=typeof o.useWebWorker!="boolean"||o.useWebWorker,delete o.useWebWorker,o.onProgress=m=>{a=m,typeof l=="function"&&l(a)},!(e instanceof Blob||e instanceof qCe))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return r(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!s||typeof Worker!="function"||c)return a3(e,o).then((function(m){try{return i=m,d.call(this)}catch(I){return r(I)}}).bind(this),r);var u=(function(){try{return d.call(this)}catch(m){return r(m)}}).bind(this),g=function(m){try{return a3(e,o).then(function(I){try{return i=I,u()}catch(h){return r(h)}},r)}catch(I){return r(I)}};try{return o.libURL=o.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",tpe(e,o).then(function(m){try{return i=m,u()}catch{return g()}},g)}catch{g()}function d(){try{i.name=e.name,i.lastModified=e.lastModified}catch{}try{o.preserveExif&&e.type==="image/jpeg"&&(!o.fileType||o.fileType&&o.fileType===e.type)&&(i=lK(e,i))}catch{}return n(i)}})}nr.getDataUrlFromFile=gK,nr.getFilefromDataUrl=fB,nr.loadImage=dK,nr.drawImageInCanvas=mK,nr.drawFileInCanvas=Wp,nr.canvasToFile=Np,nr.getExifOrientation=IK,nr.handleMaxWidthOrHeight=hK,nr.followExifOrientation=CK,nr.cleanupCanvasMemory=yi,nr.isAutoOrientationInBrowser=pu,nr.approximateBelowMaximumCanvasSizeOfBrowser=fK,nr.copyExifWithoutOrientation=lK,nr.getBrowserName=ec,nr.version="2.0.2";const npe={nombre:"",apellido:"",descripcion:"",lada:"",telefono:"",whatsapp_option:"",secondary_phone:"",email:localStorage.getItem("email"),web_page_url:"",ocupacion:"",direccion:"",avatar:"",id_categorie:10,id_social_media:"",show_profile:!1,show_maps_status:!1,pdf_file_url:"",custom_img_url:"",business:"",secondary_pdf_file_url:"",lada_2:"+52"},rpe=()=>{const e=yn(),{user:t}=b.useContext(kn),n=Zt(),[r,o]=b.useState(null),{formState:i,onInputChange:a,updateForm:l,onCheckBoxChange:s,onMultiInputChange:c,onInputChangeLatLng:u}=ls(npe),[g,d]=b.useState(),[m,I]=b.useState([]),[h,A]=b.useState(aW),[C,p]=b.useState([]),[v,y]=b.useState(!1),[x,S]=b.useState(!1),[B,Z]=b.useState(!1),[R,w]=b.useState(!1),[k,V]=b.useState(!1),[W,N]=b.useState(!1),[X,J]=b.useState(!1),[E,F]=b.useState(!1),[H,M]=b.useState(""),[Y,T]=b.useState("#FD6202"),[O,P]=b.useState(!1),[L,j]=b.useState(null),[D,$]=b.useState(null),[K,z]=b.useState({url:"www.ejemplo.com",text:"Ej. CONÓCENOS",color:"#FD6202"}),[_,U]=b.useState(""),[te,ie]=b.useState(!1),[re,se]=b.useState(null),ce=ue=>{const{name:Se,checked:ke}=ue.target,Oe=ke?`${i.lada}-${i.telefono}`:"0";l({...i,[Se]:Oe})};function q(ue){const Se=atob(ue.split(",")[1]),ke=ue.split(",")[0].split(":")[1].split(";")[0],Oe=new ArrayBuffer(Se.length),Ct=new Uint8Array(Oe);for(let Gt=0;Gt<Se.length;Gt++)Ct[Gt]=Se.charCodeAt(Gt);return new Blob([Ct],{type:ke})}const ee=async()=>{if(i.nombre==""||i.apellido==""||i.descripcion==""||i.telefono==""||i.email==""||i.ocupacion==""){P(!0),Re.error("Termine de completar los campos");return}const ue=Re.loading("Guardando perfil");try{const Se=i.avatar;if(Se!=null){let It;typeof Se=="string"&&Se.startsWith("data:")?It=q(Se):It=Se;const Ke=await nr(It,{maxSizeMB:1,maxWidthOrHeight:800,useWebWorker:!0});console.log("Original file size:",It.size/1024,"KB"),console.log("Compressed file size:",Ke.size/1024,"KB");const Pe=new FormData;Pe.append("recfile",Ke),Pe.append("username",t.username),Pe.append("dataURI",i.avatar);const Ln=await e.uploadFromDataUri(Pe);i.avatar=Ln.data.dataLocationResponse}const ke=document.getElementById("pdf_file"),Oe=ke?ke.files[0]:void 0;if(Oe!=null){const It=new FormData;It.append("recfile",Oe),It.append("username",localStorage.getItem("token"));const Be=await e.updateProfilePhoto(It);i.pdf_file_url=Be.data.dataLocationResponse}const Ct=document.getElementById("pdf_file_2nd"),Gt=Ct?Ct.files[0]:void 0;if(Gt!=null){const It=new FormData;It.append("recfile",Gt),It.append("username",localStorage.getItem("token"));const Be=await e.updateProfilePhoto(It);i.secondary_pdf_file_url=Be.data.dataLocationResponse}const gn=document.getElementById("photo_cover"),xn=gn?gn.files[0]:void 0;if(xn!=null){const It=new FormData;It.append("recfile",xn),It.append("username",localStorage.getItem("token"));const Be=await e.updateProfilePhoto(It);i.custom_img_url=Be.data.dataLocationResponse}const dn={profile_img_url:i.avatar,background_color:Y,custom_btn_color:K.color,custom_btn_text:K.text,custom_btn_url:K.url,title_profile:`${i.nombre} ${i.apellido}`,description_profile:i.descripcion,personal_phone:`${i.lada}-${i.telefono}`,whatsapp_option:`${i.whatsapp_option==""||i.whatsapp_option==null?"":i.whatsapp_option}`,secondary_phone:`${i.secondary_phone==""||i.secondary_phone==null?"":`${i.lada_2}-${i.secondary_phone}`}`,email:i.email,web_page_url:i.web_page_url,ocupation_role:i.ocupacion,location:i.direccion,id_categorie:i.id_categorie,id_social_media:i.id_social_media,show_profile:i.show_profile,show_maps_status:i.show_maps_status,pdf_file_url:i.pdf_file_url,custom_img_url:i.custom_img_url,id_profile:t.id,organization_name:i.business,lat:i.lat,lng:i.lng,secondary_pdf_file_url:i.secondary_pdf_file_url};if(r){t.first_login=!1;const It=await e.createSocialMedia({...m});dn.id_social_media=It.data.id;const Be=await e.createProfile(dn);bx.forEach(async Ke=>{const Pe={day:Ke,start_time:h[Ke+"St"],end_time:h[Ke+"End"],status_schedule_day:h[Ke]};await e.postScheduleDay(Pe)})}else{const It=await e.updateSocialMedia({...m}),Be=await e.updateProfile(dn);bx.forEach(async Ke=>{const Pe={day:Ke,start_time:h[Ke+"St"],end_time:h[Ke+"End"],status_schedule_day:h[Ke]};await e.updateScheduleDay(Pe)})}Re.success("Perfil guardado exitosamente",{id:ue}),t.avatar_url=i.avatar,n("/home")}catch(Se){console.log(Se),Re.error("Error al guardar perfil",{id:ue})}};b.useEffect(()=>{oe()},[]);const oe=async()=>{try{const{data:ue}=await e.getProfile();d(ue);const{data:Se}=await e.getCategories();if(p(Se.categories),ue.msg.includes("No existe el perfil")){o(!0);const ke=localStorage.getItem("fullname"),Oe=ke.indexOf(" "),Ct={nombre:Oe>0?ke.slice(0,Oe):ke,apellido:Oe>0?ke.slice(Oe):"",email:localStorage.getItem("email"),avatar:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3N//AABEIAJQApQMBIgACEQEDEQH/xAAbAAEBAAMBAQEAAAAAAAAAAAAABQEDBAIGB//EAC0QAAICAQIFAgUEAwAAAAAAAAABAgMRBDEFEiFBUVJxEyJhgZEyM0KxYqHB/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AP0QAAAAAAAAAAANtzMYynJKCbfhAYwDqjw/UPq4xXvI1WaW6rrOt48rqBqAAAAAAAAD2AewBAIAAAAAAAAADq0uilfiUm4w8+TRTD4l0IeqWPsXopJJRWEl0XgDVXpqK1iNccfVZZ6rqrq/bgo53wj2AA9gAObUaKu5NpckvK7ku+mdE+WxezWzLpp1lStolHHVLMX4AiAAAAAAewD2AIBAAAAAAAAADq4cs6qP0TZYZF0E1DVQz3+X8lkAAAAAADcBtJNt9F1YHz8licl4Zgy3zScvLMAAAAD2AewBAIAAAAAAAAAbtLTK61KD5cdc+C2s46vLJfCpJXzj5j0KgAAAAAANOs53prFXFyk1jobht18AfPY6gzJ5nJrbLMAAAAD2AewBAIAAAAAAAAAe6Zuq2Fi/i8/Yt1212ZdclJLfHYhHXwyzkvcHtNf7AqgAAAABz661VaebT+ZrlX3OhvCf5IV8/i3Tn5fT2A1oAAAAAD2AewBAIAAAAAAAAADKk4SUo9GnlGAouTSW77AX65c9cZ7ZWcHoxFcsYrwkjIAAAcfE7pV1KEf57slFPisG6oSWylhkwAAAAAAB7APYAgEAAAAAZMxTk0opt+EgMA7KuH2yadjUI/Xc7K9BRD9UXN/5MCVVVO54ri5f0UtLoY1NTsfNPt4R2JKKxFJJdkAAAAAADE4RnFxmsp9iZqOHyh81Lcl6e6KgA+ew4vEk0/DBesqrt/cgn7nLbw2tpuuUovw+qAlg33aW6nrKOY+qPU0AA9gHsAQCAAZ/ANulq+NqIQf6d37AdOj0PxErL01F7R8lGuuFSxXFRX0PWMdAAAAAAAAAAAAAAAAAANF2kpteXHEvVHobwBE1NEqLOWWGns0aexb1tXxtPKPePzIidgCAQAFDhUMuyfjoT3sWOHQ5NMn6m2B0gAAAAAAAAAAAAAAAAAAAABBvj8O6cPDLxJ4pDl1PN6kn/wAA5EAgAZeoSjTBLZRX9AAewAAAAAAAAAAAAAAAAAAAAAn8XS5a5d+qAAnIAAf/2Q==",lat:parseFloat(ue.lat),lng:parseFloat(ue.lng)};l(Ct)}else{const{data:ke}=await e.getSocialMedia(),{data:Oe}=await e.getSchedule(),{social_media:Ct}=ke,{scheduleDays:Gt}=Oe,gn=ue.title_profile.indexOf(" ")==-1?ue.title_profile.length:ue.title_profile.indexOf(" "),xn={nombre:ue.title_profile.slice(0,gn),apellido:ue.title_profile.slice(gn,ue.title_profile.length),descripcion:ue.description_profile,telefono:ue.personal_phone==null||ue.personal_phone==""?"":ue.personal_phone.split("-")[1],lada:ue.personal_phone==null||ue.personal_phone==""?"+52":ue.personal_phone.split("-")[0],whatsapp_option:ue.whatsapp_option,lada_2:ue.secondary_phone==null||ue.secondary_phone==""?"+52":ue.secondary_phone.split("-")[0],secondary_phone:ue.secondary_phone==null||ue.secondary_phone==""?"":ue.secondary_phone.split("-")[1],email:ue.email,web_page_url:ue.web_page_url,ocupacion:ue.ocupation_role,direccion:ue.location,avatar:ue.profile_img_url,id_categorie:ue.id_categorie,id_social_media:Ct.id_social_media,show_profile:ue.show_profile,show_maps_status:ue.show_maps_status,pdf_file_url:ue.pdf_file_url,custom_img_url:ue.custom_img_url,business:ue.organization_name!=null?ue.organization_name:ue.organization!=null?ue.organization.business_name:"",secondary_pdf_file_url:ue.secondary_pdf_file_url,lat:parseFloat(ue.lat),lng:parseFloat(ue.lng)},dn={media:Ct},It={};Gt.forEach(Be=>{It[Be.day]=Be.status_schedule_day,It[Be.day+"St"]=Be.start_time,It[Be.day+"End"]=Be.end_time}),l(xn),T(ue.background_color),z({color:ue.custom_btn_color,text:ue.custom_btn_text,url:ue.custom_btn_url}),I(dn.media),A(It),se(ue.custom_img_url),o(!1)}}catch(ue){console.error("Error al obtener los productos y servicios:",ue)}},ae=ue=>{const Se=ue.target.files[0];j(Se)},ne=ue=>{const Se=ue.target.files[0];$(Se)},fe=ue=>{const Se=ue.target.files[0];se(URL.createObjectURL(Se))},le=async ue=>{const Se=Re.loading("Eliminando red social");(await e.deleteSocialMedia(ue,t.id)).status==200?(I([...m.filter(Oe=>Oe.name!=ue)]),Re.success(`Red social para ${ue} eliminado exitosamente`,{id:Se})):Re.error("Error al eliminar red social")},be=async ue=>{F(!0),M(ue)},ye=ue=>{const Se=ue.target.files[0],ke=1*1024*1024;if(Se){if(Se.size>ke){Re.error("El archivo seleccionado excede el tamaño máximo permitido de 1MB."),Fe.current.value="";return}const Oe=new FileReader;Oe.readAsDataURL(Se),Oe.onload=function(Ct){U(Oe.result)},ie(!0)}},Fe=b.useRef();return r==null?f.jsx(cs,{}):f.jsxs(rm.Provider,{value:{color:"#FFFFFF"},children:[f.jsx(Mn,{position:"top-right",richColors:!0}),(v||B||k||R||x||W||X||E||te)&&f.jsx("div",{className:"profile-modal-background",onClick:()=>{Z(!1),V(!1),w(!1),N(!1),J(!1),y(!1),F(!1),ie(!1)},children:f.jsx("div",{})}),f.jsxs("div",{className:"perfil-container mx-4",children:[x&&f.jsx(aie,{setShowColorPallete:S,setCustomBannerColor:T,customBannerColor:Y}),k&&f.jsx(iie,{}),B&&f.jsx(rie,{customButtonParams:K,setCustomButtonParams:z,setShowCustomButton:Z}),X&&f.jsx(lie,{placeText:"url de foto...",handleClick:ue=>{a({target:{name:"avatar",value:ue.url}}),J(!1)}}),R&&f.jsx(oie,{setShowCustomButtonHour:w,setSchedule:A,schedule:h}),E&&f.jsx(gie,{name:H,setShow:F,show:E}),te&&f.jsx(Pie,{cropDone:ue=>{a({target:{name:"avatar",value:ue}})},image:_,setImage:U,setShowCrop:ie,inputRef:Fe}),localStorage.getItem("id_plan")!=6&&f.jsxs("div",{className:"col-span-full mt-4 max-w-2xl m-auto",children:[f.jsx("label",{htmlFor:"photo_cover",className:"block text-sm font-medium leading-6 text-white",children:"Imagen de portada para tu perfil"}),f.jsxs("p",{className:"mt-1 text-sm leading-6 text-white",children:["Para una presentación visualmente atractiva, te sugerimos considerar una imagen con dimensiones de"," ",f.jsx("span",{className:"font-bold",children:"688x224 px"}),"."]}),f.jsxs("div",{className:"my-2 items-center rounded-lg gap-x-3 h-36 overflow-hidden",children:[re?f.jsx("div",{className:"front-page",style:{backgroundImage:`url("${re??qu}")`}}):f.jsx("img",{src:qu,alt:"Selected",className:"object-scale-down rounded-lg"}),f.jsx("input",{type:"file",id:"photo_cover",accept:"image/*",className:"hidden",onChange:fe})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{type:"button",className:"rounded-md bg-orange-500 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm ring-1 ring-inset ring-white hover:bg-orange-600",onClick:()=>{document.getElementById("photo_cover").click()},children:"Cambiar"})})]}),f.jsx(DCe,{avatar:i.avatar,inputRef:Fe,handleOnChange:ye,formState:i,onInputChange:a,onCheckBoxChangeWA:ce,setShowCustomButtonHour:w,initStateSchedule:aW,schedule:h,onInputChangeLatLng:u,categories:C,onCheckBoxChange:s,handleUpdateDB:ee,activeRed:m,handleRemoveSM:le,handleUpdateSM:be,setSocialMedia:y,selectedPDFFile:L,handlePDFFileChange:ae,secondaryPDFFile:D,handleSecondaryPDFFileChange:ne,onMultiInputChange:c}),v&&f.jsx(uie,{show:v,setShow:y,activeRed:m,setActiveRed:I})]})]})},l3=()=>f.jsx(rpe,{}),at=({children:e})=>{const t=ss(),n=Zt(),[r,o]=b.useState(!0),[i,a]=b.useState(!1),{user:l}=b.useContext(kn),s=yn();b.useEffect(()=>{c(),u()},[]);const c=()=>{window.location.href.includes("/business")&&localStorage.getItem("id_plan")!=9&&n("/home")},u=async()=>{try{let g=!1;const d=await t.renewToken(),{email:m,fullname:I,id:h,id_plan_fk:A,username:C,token:p,register_finish:v,avatar_url:y,first_login:x}=d.data;if(l.email=m,l.fullname=I,l.id=h,l.id_plan_fk=A,l.username=C,l.avatar_url=y,l.first_login=x,l.register_finish=v,d.status===200&&(!v&&A!==6&&n("/onboarding"),g=!0,A!=localStorage.getItem("id_plan")&&(localStorage.setItem("id_plan",A),A<=7?n("/share"):n("/home"))),g&&window.location.href.includes("/vcard/")){const S=window.location.href.split("/vcard/")[1],{data:B}=await s.validateCard(S);if(B.ok){const Z=`/card?username=${B.username}&id=${B.id_profile}`;n(Z)}o(!1)}else o(!1);a(g)}catch{o(!1)}};return i&&!r&&l.first_login&&(window.location.href.includes("/home")||window.location.href.includes("/business"))&&n("/perfil"),window.location.href.includes("/home")&&l.id_plan_fk<=7&&n("/share"),r?f.jsx(cs,{fullScreen:!0}):i?e:f.jsx(Qw,{to:"/login/"})};const ope=({schedule:e})=>{const[t,n]=b.useState(!1);return f.jsxs("div",{className:"schedule",children:[f.jsxs("div",{className:"schedules_info_title",onClick:()=>n(!t),children:["Horario disponible",t?f.jsx(zq,{className:"foldable_icon"}):f.jsx(Pq,{className:"foldable_icon"})]}),f.jsx("div",{className:`schedules_foldable ${t?"schedules_foldable_active":""}`,children:Object.values(e).map((r,o)=>f.jsxs("div",{className:"schedules_info_schedule",children:[f.jsx("label",{className:"schedules_info_day",children:r.day}),f.jsxs("label",{className:"schedules_info_time flex",children:[f.jsx("div",{className:"mt-1 flex items-center gap-x-1.5 mr-2",children:f.jsx("div",{className:"flex-none rounded-full p-1",children:f.jsx("div",{className:r.status_schedule_day?"h-1.5 w-1.5 rounded-full bg-emerald-500":"h-1.5 w-1.5 rounded-full bg-red-500"})})}),r.status_schedule_day?`${r.start_time} - ${r.end_time}`:"No disponible"]})]},o))})]})},ipe={},ape=Object.freeze(Object.defineProperty({__proto__:null,default:ipe},Symbol.toStringTag,{value:"Module"})),Hy=C7(ape);var Fy={exports:{}},s3;function c3(){return s3||(s3=1,function(){var t="3";function n(l){return l?(typeof l!="string"&&(l=""+l),l.replace(/\n/g,"\\n").replace(/,/g,"\\,").replace(/;/g,"\\;")):""}function r(){return`\r
`}function o(l,s,c,u){var g;t>=4?g=u?";ENCODING=b;MEDIATYPE=image/":";MEDIATYPE=image/":t===3?g=u?";ENCODING=b;TYPE=":";TYPE=":g=u?";ENCODING=BASE64;":";";var d=l+g+c+":"+n(s)+r();return d}function i(l,s){var c="";return(s.details.label||s.details.street||s.details.city||s.details.stateProvince||s.details.postalCode||s.details.countryRegion)&&(t>=4?c="ADR"+l+";TYPE="+s.type+(s.details.label?';LABEL="'+n(s.details.label)+'"':"")+":;;"+n(s.details.street)+";"+n(s.details.city)+";"+n(s.details.stateProvince)+";"+n(s.details.postalCode)+";"+n(s.details.countryRegion)+r():(s.details.label&&(c="LABEL"+l+";TYPE="+s.type+":"+n(s.details.label)+r()),c+="ADR"+l+";TYPE="+s.type+":;;"+n(s.details.street)+";"+n(s.details.city)+";"+n(s.details.stateProvince)+";"+n(s.details.postalCode)+";"+n(s.details.countryRegion)+r())),c}function a(l){return l.getFullYear()+("0"+(l.getMonth()+1)).slice(-2)+("0"+l.getDate()).slice(-2)}Fy.exports={getFormattedString:function(l){t=l.getMajorVersion();var s="";s+="BEGIN:VCARD"+r(),s+="VERSION:"+l.version+r();var c=t>=4?"":";CHARSET=UTF-8",u=l.formattedName;if(u||(u="",[l.firstName,l.middleName,l.lastName].forEach(function(d){d&&u&&(u+=" "),u+=d})),s+="FN"+c+":"+n(u)+r(),s+="N"+c+":"+n(l.lastName)+";"+n(l.firstName)+";"+n(l.middleName)+";"+n(l.namePrefix)+";"+n(l.nameSuffix)+r(),l.nickname&&t>=3&&(s+="NICKNAME"+c+":"+n(l.nickname)+r()),l.gender&&(s+="GENDER:"+n(l.gender)+r()),l.uid&&(s+="UID"+c+":"+n(l.uid)+r()),l.birthday&&(s+="BDAY:"+a(l.birthday)+r()),l.anniversary&&(s+="ANNIVERSARY:"+a(l.anniversary)+r()),l.email&&(Array.isArray(l.email)||(l.email=[l.email]),l.email.forEach(function(d){t>=4?s+="EMAIL"+c+";type=HOME:"+n(d)+r():t>=3&&t<4?s+="EMAIL"+c+";type=HOME,INTERNET:"+n(d)+r():s+="EMAIL"+c+";HOME;INTERNET:"+n(d)+r()})),l.workEmail&&(Array.isArray(l.workEmail)||(l.workEmail=[l.workEmail]),l.workEmail.forEach(function(d){t>=4?s+="EMAIL"+c+";type=WORK:"+n(d)+r():t>=3&&t<4?s+="EMAIL"+c+";type=WORK,INTERNET:"+n(d)+r():s+="EMAIL"+c+";WORK;INTERNET:"+n(d)+r()})),l.otherEmail&&(Array.isArray(l.otherEmail)||(l.otherEmail=[l.otherEmail]),l.otherEmail.forEach(function(d){t>=4?s+="EMAIL"+c+";type=OTHER:"+n(d)+r():t>=3&&t<4?s+="EMAIL"+c+";type=OTHER,INTERNET:"+n(d)+r():s+="EMAIL"+c+";OTHER;INTERNET:"+n(d)+r()})),l.logo.url&&(s+=o("LOGO",l.logo.url,l.logo.mediaType,l.logo.base64)),l.photo.url&&(s+=o("PHOTO",l.photo.url,l.photo.mediaType,l.photo.base64)),l.cellPhone&&(Array.isArray(l.cellPhone)||(l.cellPhone=[l.cellPhone]),l.cellPhone.forEach(function(d){t>=4?s+='TEL;VALUE=uri;TYPE="voice,cell":tel:'+n(d)+r():s+="TEL;TYPE=CELL:"+n(d)+r()})),l.pagerPhone&&(Array.isArray(l.pagerPhone)||(l.pagerPhone=[l.pagerPhone]),l.pagerPhone.forEach(function(d){t>=4?s+='TEL;VALUE=uri;TYPE="pager,cell":tel:'+n(d)+r():s+="TEL;TYPE=PAGER:"+n(d)+r()})),l.homePhone&&(Array.isArray(l.homePhone)||(l.homePhone=[l.homePhone]),l.homePhone.forEach(function(d){t>=4?s+='TEL;VALUE=uri;TYPE="voice,home":tel:'+n(d)+r():s+="TEL;TYPE=HOME,VOICE:"+n(d)+r()})),l.workPhone&&(Array.isArray(l.workPhone)||(l.workPhone=[l.workPhone]),l.workPhone.forEach(function(d){t>=4?s+='TEL;VALUE=uri;TYPE="voice,work":tel:'+n(d)+r():s+="TEL;TYPE=WORK,VOICE:"+n(d)+r()})),l.homeFax&&(Array.isArray(l.homeFax)||(l.homeFax=[l.homeFax]),l.homeFax.forEach(function(d){t>=4?s+='TEL;VALUE=uri;TYPE="fax,home":tel:'+n(d)+r():s+="TEL;TYPE=HOME,FAX:"+n(d)+r()})),l.workFax&&(Array.isArray(l.workFax)||(l.workFax=[l.workFax]),l.workFax.forEach(function(d){t>=4?s+='TEL;VALUE=uri;TYPE="fax,work":tel:'+n(d)+r():s+="TEL;TYPE=WORK,FAX:"+n(d)+r()})),l.otherPhone&&(Array.isArray(l.otherPhone)||(l.otherPhone=[l.otherPhone]),l.otherPhone.forEach(function(d){t>=4?s+='TEL;VALUE=uri;TYPE="voice,other":tel:'+n(d)+r():s+="TEL;TYPE=OTHER:"+n(d)+r()})),[{details:l.homeAddress,type:"HOME"},{details:l.workAddress,type:"WORK"}].forEach(function(d){s+=i(c,d)}),l.title&&(s+="TITLE"+c+":"+n(l.title)+r()),l.role&&(s+="ROLE"+c+":"+n(l.role)+r()),l.organization&&(s+="ORG"+c+":"+n(l.organization)+r()),l.url&&(s+="URL"+c+":"+n(l.url)+r()),l.workUrl&&(s+="URL;type=WORK"+c+":"+n(l.workUrl)+r()),l.note&&(s+="NOTE"+c+":"+n(l.note)+r()),l.socialUrls)for(var g in l.socialUrls)l.socialUrls.hasOwnProperty(g)&&l.socialUrls[g]&&(s+="X-SOCIALPROFILE"+c+";TYPE="+g+":"+n(l.socialUrls[g])+r());return l.source&&(s+="SOURCE"+c+":"+n(l.source)+r()),s+="REV:"+new Date().toISOString()+r(),l.isOrganization&&(s+="X-ABShowAs:COMPANY"+r()),s+="END:VCARD"+r(),s}}}()),Fy.exports}var lpe=function(){function e(){return{url:"",mediaType:"",base64:!1,attachFromUrl:function(r,o){this.url=r,this.mediaType=o,this.base64=!1},embedFromFile:function(r){var o=Hy,i=Hy;this.mediaType=i.extname(r).toUpperCase().replace(/\./g,"");var a=o.readFileSync(r);this.url=a.toString("base64"),this.base64=!0},embedFromString:function(r,o){this.mediaType=o,this.url=r,this.base64=!0}}}function t(){return{label:"",street:"",city:"",stateProvince:"",postalCode:"",countryRegion:""}}function n(){return{facebook:"",linkedIn:"",twitter:"",flickr:""}}return{uid:"",birthday:"",cellPhone:"",pagerPhone:"",email:"",workEmail:"",firstName:"",formattedName:"",gender:"",homeAddress:t(),homePhone:"",homeFax:"",lastName:"",logo:e(),middleName:"",namePrefix:"",nameSuffix:"",nickname:"",note:"",organization:"",photo:e(),role:"",socialUrls:n(),source:"",title:"",url:"",workUrl:"",workAddress:t(),workPhone:"",workFax:"",version:"3.0",getMajorVersion:function(){var r=this.version?this.version.split(".")[0]:"4";return isNaN(r)?4:parseInt(r)},getFormattedString:function(){var r=c3();return r.getFormattedString(this)},saveToFile:function(r){var o=c3(),i=o.getFormattedString(this),a=Hy;a.writeFileSync(r,i,{encoding:"utf8"})}}},spe=lpe;const cpe=ot(spe),ib="/assets/contactIcon-7010a161.png",upe=e=>{const[t,n]=b.useState(!1);b.useState(!0);const{org:r}=e,o=b.useRef(null),i=()=>{n(!0)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"relative max-w-xl mx-auto mt-2 py-4 flex w-full flex-col lg:flex-grow rounded-lg backdrop-blur-sm bg-blue-950/10 px-4 text-white shadow-none border-4 border-white/10 hover:border-white/30 hover:cursor-pointer",onClick:i,children:[f.jsxs("div",{className:"relative flex items-center gap-4 pt-0 mx-0 overflow-hidden text-white bg-transparent shadow-none rounded-xl bg-clip-border",children:[f.jsx("div",{className:"h-[58px] w-[70px]",children:f.jsx(xc,{name:"titulo",size:"58",src:r.logo_url??ib})}),f.jsxs("div",{className:"flex w-full flex-col gap-0.5",children:[f.jsx("div",{className:"flex items-center justify-between",children:f.jsx("p",{className:"block font-sans text-base antialiased font-light leading-relaxed text-blue-gray-900 text-ellipsis overflow-hidden max-w-[22rem]",children:"Este usuario pertenece a"})}),f.jsx("h4",{className:"block font-sans text-xl antialiased font-semibold leading-snug tracking-normal text-orange-500 text-ellipsis overflow-hidden max-w-[22rem]",children:r.name})]})]}),f.jsx("div",{className:"flex flex-row items-end pb-2 justify-end absolute bottom-1 right-5",children:f.jsx("span",{className:"inline-flex items-center rounded-md bg-orange-50 px-2 py-1 text-xs font-medium text-orange-700 ring-1 ring-inset ring-orange-700/10 hover:text-white hover:ring-white hover:bg-orange-500",children:"Ver más"})})]}),f.jsx(un.Root,{show:t,as:b.Fragment,children:f.jsxs(Hn,{className:"relative z-10",initialFocus:o,onClose:n,children:[f.jsx(un.Child,{as:b.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:f.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),f.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:f.jsx("div",{className:"flex items-end justify-center p-4 text-center sm:items-center sm:p-0",children:f.jsx(un.Child,{as:b.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:f.jsx(Hn.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 w-full max-w-lg h-xl",children:f.jsx("div",{className:"bg-white px-4 pb-4 sm:p-6 sm:pb-4",children:f.jsxs("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[f.jsx(Hn.Title,{as:"h3",className:"text-base font-semibold leading-6 text-gray-900",children:r.name}),f.jsxs("div",{className:"bg-white rounded-lg max-w-3xl",children:[f.jsx("div",{className:"mt-2",children:f.jsxs("div",{className:"sm:col-span-4",children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium leading-6 text-gray-900 mt-2 text-left",children:"Industria"}),f.jsx("div",{className:"mt-2",children:f.jsxs("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-white focus-within:ring-2 focus-within:ring-inset focus-within:ring-orange-600 sm:max-w-md border-1 border-gray-800",children:[f.jsx("span",{className:"flex pr-2 select-none items-center pl-3 text-gray-900 sm:text-sm",children:f.jsx(Ooe,{className:"h-5 w-5 text-gray-900","aria-hidden":"true"})}),f.jsx("textarea",{name:"industry",id:"industry",autoComplete:"industry",disabled:!0,value:r.industry,style:{height:"100%"},className:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-900 focus:ring-0 sm:text-sm sm:leading-6 bg-white p-2"})]})}),f.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium leading-6 text-gray-900 mt-2 text-left",children:"Teléfono"}),f.jsx("div",{className:"mt-2",children:f.jsxs("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-white focus-within:ring-2 focus-within:ring-inset focus-within:ring-orange-600 sm:max-w-md border-1 border-gray-800",children:[f.jsx("span",{className:"flex pr-2 select-none items-center pl-3 text-gray-900 sm:text-sm",children:f.jsx(hp,{className:"h-5 w-5 text-gray-900","aria-hidden":"true"})}),f.jsx("a",{href:`tel:${r.phone}`,className:"block border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-900 focus:ring-0 sm:text-sm sm:leading-6 bg-white p-2 cursor-pointer break-all",children:r.phone})]})}),f.jsx("label",{htmlFor:"website",className:"block text-sm font-medium leading-6 text-gray-900 mt-2 text-left",children:"Sitio web"}),f.jsx("div",{className:"mt-2",children:f.jsxs("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-white focus-within:ring-2 focus-within:ring-inset focus-within:ring-orange-600 sm:max-w-md border-1 border-gray-800",children:[f.jsx("span",{className:"flex pr-2 select-none items-center pl-3 text-gray-900 sm:text-sm",children:f.jsx(RA,{className:"h-5 w-5 text-gray-900","aria-hidden":"true"})}),f.jsx("a",{href:r.website.includes("https://")?r.website:`https://${r.website}`,target:"_blank",rel:"noopener noreferrer",className:"block border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-900 focus:ring-0 sm:text-sm sm:leading-6 bg-white p-2 cursor-pointer break-all",children:r.website})]})}),f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900 mt-2 text-left",children:"Correo electrónico"}),f.jsx("div",{className:"mt-2",children:f.jsxs("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-white focus-within:ring-2 focus-within:ring-inset focus-within:ring-orange-600 sm:max-w-md border-1 border-gray-800",children:[f.jsx("span",{className:"flex pr-2 select-none items-center pl-3 text-gray-900 sm:text-sm",children:f.jsx(iI,{className:"h-5 w-5 text-gray-900","aria-hidden":"true"})}),f.jsx("a",{href:`mailto:${r.email}`,className:"block border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-900 focus:ring-0 sm:text-sm sm:leading-6 bg-white p-2 cursor-pointer  break-all",children:r.email})]})})]})}),f.jsx("div",{className:"mt-6 flex items-center justify-end gap-x-6",children:f.jsx("button",{type:"button",onClick:()=>n(!1),ref:o,className:"text-sm font-semibold  text-gray-900 p-3 hover:text-red-600",children:"Cerrar"})})]})]})})})})})})]})})]})};var zx={exports:{}},am={};am._=am._interop_require_default=gpe;function gpe(e){return e&&e.__esModule?e:{default:e}}var Ux={};function pK(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(pK=function(r){return r?n:t})(e)}Ux._=Ux._interop_require_wildcard=dpe;function dpe(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=pK(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}var My={},u3;function fpe(){return u3||(u3=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return i}});const t=b,n=typeof window>"u",r=n?()=>{}:t.useLayoutEffect,o=n?()=>{}:t.useEffect;function i(a){const{headManager:l,reduceComponentsToState:s}=a;function c(){if(l&&l.mountedInstances){const g=t.Children.toArray(Array.from(l.mountedInstances).filter(Boolean));l.updateHead(s(g,a))}}if(n){var u;l==null||(u=l.mountedInstances)==null||u.add(a.children),c()}return r(()=>{var g;return l==null||(g=l.mountedInstances)==null||g.add(a.children),()=>{var d;l==null||(d=l.mountedInstances)==null||d.delete(a.children)}}),r(()=>(l&&(l._pendingUpdate=c),()=>{l&&(l._pendingUpdate=c)})),o(()=>(l&&l._pendingUpdate&&(l._pendingUpdate(),l._pendingUpdate=null),()=>{l&&l._pendingUpdate&&(l._pendingUpdate(),l._pendingUpdate=null)})),null}}(My)),My}var jy={},g3;function mpe(){return g3||(g3=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AmpStateContext",{enumerable:!0,get:function(){return r}});const r=am._(b).default.createContext({})}(jy)),jy}var Ty={},d3;function Ipe(){return d3||(d3=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"HeadManagerContext",{enumerable:!0,get:function(){return r}});const r=am._(b).default.createContext({})}(Ty)),Ty}var Ly={},f3;function hpe(){return f3||(f3=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"isInAmpMode",{enumerable:!0,get:function(){return t}});function t(n){let{ampFirst:r=!1,hybrid:o=!1,hasQuery:i=!1}=n===void 0?{}:n;return r||o&&i}}(Ly)),Ly}var Ky={},m3;function Cpe(){return m3||(m3=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"warnOnce",{enumerable:!0,get:function(){return t}});let t=n=>{}}(Ky)),Ky}(function(e,t){"use client";Object.defineProperty(t,"__esModule",{value:!0});function n(p,v){for(var y in v)Object.defineProperty(p,y,{enumerable:!0,get:v[y]})}n(t,{default:function(){return C},defaultHead:function(){return g}});const r=am,o=Ux,i=f,a=o._(b),l=r._(fpe()),s=mpe(),c=Ipe(),u=hpe();Cpe();function g(p){p===void 0&&(p=!1);const v=[(0,i.jsx)("meta",{charSet:"utf-8"})];return p||v.push((0,i.jsx)("meta",{name:"viewport",content:"width=device-width"})),v}function d(p,v){return typeof v=="string"||typeof v=="number"?p:v.type===a.default.Fragment?p.concat(a.default.Children.toArray(v.props.children).reduce((y,x)=>typeof x=="string"||typeof x=="number"?y:y.concat(x),[])):p.concat(v)}const m=["name","httpEquiv","charSet","itemProp"];function I(){const p=new Set,v=new Set,y=new Set,x={};return S=>{let B=!0,Z=!1;if(S.key&&typeof S.key!="number"&&S.key.indexOf("$")>0){Z=!0;const R=S.key.slice(S.key.indexOf("$")+1);p.has(R)?B=!1:p.add(R)}switch(S.type){case"title":case"base":v.has(S.type)?B=!1:v.add(S.type);break;case"meta":for(let R=0,w=m.length;R<w;R++){const k=m[R];if(S.props.hasOwnProperty(k))if(k==="charSet")y.has(k)?B=!1:y.add(k);else{const V=S.props[k],W=x[k]||new Set;(k!=="name"||!Z)&&W.has(V)?B=!1:(W.add(V),x[k]=W)}}break}return B}}function h(p,v){const{inAmpMode:y}=v;return p.reduce(d,[]).reverse().concat(g(y).reverse()).filter(I()).reverse().map((x,S)=>{const B=x.key||S;if({}.__NEXT_OPTIMIZE_FONTS&&!y&&x.type==="link"&&x.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(Z=>x.props.href.startsWith(Z))){const Z={...x.props||{}};return Z["data-href"]=Z.href,Z.href=void 0,Z["data-optimized-fonts"]=!0,a.default.cloneElement(x,Z)}return a.default.cloneElement(x,{key:B})})}function A(p){let{children:v}=p;const y=(0,a.useContext)(s.AmpStateContext),x=(0,a.useContext)(c.HeadManagerContext);return(0,i.jsx)(l.default,{reduceComponentsToState:h,headManager:x,inAmpMode:(0,u.isInAmpMode)(y),children:v})}const C=A;(typeof t.default=="function"||typeof t.default=="object"&&t.default!==null)&&typeof t.default.__esModule>"u"&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)})(zx,zx.exports);var ppe=zx.exports,Ape=ppe;const bpe=ot(Ape);function vpe({show:e,setShow:t,onSumbit:n}){const[r,o]=b.useState(""),[i,a]=b.useState("+52"),[l,s]=b.useState(""),c=[{code:"+52",country:"México"},{code:"+34",country:"España"},{code:"+1",country:"Estados Unidos/Canadá"},{code:"+44",country:"Reino Unido"},{code:"+33",country:"Francia"},{code:"+49",country:"Alemania"},{code:"+39",country:"Italia"},{code:"+81",country:"Japón"},{code:"+86",country:"China"},{code:"+91",country:"India"}];function u(){if(i!==""&&r!==""){const d=`${i}${r}`;n(d),g()}else s("Campos faltantes")}function g(){s(""),a("+52"),o(""),t(!1)}return f.jsx(tT,{title:"Mandar perfil por Whatsapp ",open:e,onClose:()=>t(!1),children:f.jsxs("div",{className:"col-span-full",children:[f.jsx("label",{htmlFor:"web",className:"block text-sm font-medium leading-6 text-black",children:"Número celular"}),f.jsxs("div",{className:"my-2 flex",children:[f.jsx("select",{value:i,onChange:d=>a(d.target.value),className:"px-1.5 block w-1/3 rounded-md border bg-gray-100 py-1.5 text-black shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-orange-500 sm:text-sm sm:leading-6",id:"lada",name:"lada",children:c.map((d,m)=>f.jsxs("option",{value:d.code,children:["(",d.code,") ",d.country]},m))}),f.jsx("input",{value:r,onChange:d=>o(d.target.value),type:"text",placeholder:"Ingresa tu número celular",className:"px-1.5 block w-2/3 ml-2 rounded-md border bg-gray-100 py-1.5 text-black shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-orange-500 sm:text-sm sm:leading-6"})]}),l&&f.jsx("p",{className:"text-red-600 font-semibold text-sm my-2 text-center",children:l}),f.jsxs("button",{onClick:u,className:"w-full rounded-md flex items-center justify-center p-2 text-white bg-green-600",children:[f.jsx(_j,{className:"text-2xl mr-2"}),"Enviar perfil"]})]})})}const ype=({isOpen:e,imageSrc:t,onClose:n,onNext:r,onPrev:o})=>f.jsx(un,{show:e,children:f.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto flex justify-center",children:f.jsxs("div",{className:"flex items-center justify-center px-4 text-center",children:[f.jsx(un.Child,{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:f.jsx("div",{className:"fixed inset-0 transition-opacity",children:f.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})})}),f.jsx(un.Child,{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:f.jsx("div",{className:"inline-block overflow-hidden align-middle transition-all transform bg-orange-50 shadow-xl rounded-lg max-h-dvh",children:f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:t,alt:"",className:"w-full h-full max-h-dvh object-cover px-5 py-10"}),f.jsx("button",{type:"button",className:"absolute top-0 right-0 m-3 text-red-500 hover:text-red-700",onClick:n,children:f.jsx(U4,{className:"w-8 h-8"})}),f.jsx("button",{type:"button",className:"absolute left-0 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 p-2",onClick:o,children:f.jsx(ioe,{className:"w-8 h-8 text-orange-400 bg-white rounded-full"})}),f.jsx("button",{type:"button",className:"absolute right-0 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 p-2",onClick:r,children:f.jsx(soe,{className:"w-8 h-8 text-orange-400 bg-white rounded-full"})})]})})})]})})}),xpe=()=>{const e="https://api.knowmeapp.com",[t,n]=b.useState([]),[r,o]=b.useState(null),[i,a]=b.useState(!1),s=new URLSearchParams(window.location.search).get("id");b.useEffect(()=>{(async()=>{try{const I=await ve.get(`${e}/api/gallery/search/${s}`);if(I.data.ok){const h=I.data.gallery.map(A=>({id:A.id_gallery,src:A.image_url,alt:`Image ${A.id_gallery}`}));n(h)}}catch(I){console.error("Error al obtener las imágenes de la galería:",I)}})()},[e,s]);const c=m=>{o(m),a(!0)},u=()=>{o(null),a(!1)},g=()=>{o(m=>(m+1)%t.length)},d=()=>{o(m=>(m-1+t.length)%t.length)};return f.jsxs("div",{className:"",children:[t.length>0&&f.jsx("h1",{className:"font-bold text-xl my-2",children:"Galería"}),f.jsx("div",{className:"grid lg:grid-cols-5 md:grid-cols-4 grid-cols-2 gap-6 lg:gap-10",children:t.map((m,I)=>f.jsx("div",{className:"relative flex h-24 sm:w-24 items-center justify-center rounded-md bg-white cursor-pointer hover:ring-orange-500 ring-4 ring-transparent",onClick:()=>c(I),children:f.jsx("img",{src:m.src,alt:m.alt,className:"h-full w-full object-cover object-center rounded-md"})},m.id))}),i&&r!==null&&f.jsx(ype,{isOpen:i,imageSrc:t[r].src,onClose:u,onNext:g,onPrev:d})]})},Spe=({isOpen:e,item:t,onClose:n})=>!e||!t?null:f.jsx(un,{show:e,children:f.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto flex justify-center",children:f.jsxs("div",{className:"flex items-center justify-center px-4 text-center",children:[f.jsx(un.Child,{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:f.jsx("div",{className:"fixed inset-0 transition-opacity",children:f.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})})}),f.jsx(un.Child,{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:f.jsx("div",{className:"inline-block overflow-hidden align-middle transition-all transform bg-orange-50 shadow-xl rounded-lg max-h-dvh",children:f.jsxs("div",{className:"relative ",children:[t.image&&f.jsx("img",{src:t.image,alt:t.title,className:"w-full h-64 object-cover rounded-md mb-4"}),f.jsxs("div",{className:"px-4 pt-2 pb-4 text-left",children:[f.jsx("h2",{className:"text-lg font-bold mb-2 text-gray-900",children:t.title}),f.jsx("p",{className:"text-sm font-normal text-gray-500 mb-2",children:t.description}),t.price&&t.price!=="0.00"&&f.jsxs("p",{className:"text-lg font-medium text-gray-900",children:[" ",new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(t.price)]}),t.product_url!==null&&f.jsxs("a",{href:t.product_url||"https://example.com",target:"_blank",rel:"noopener noreferrer",className:"w-full mt-4 py-2 flex justify-center items-center rounded-md bg-orange-500",children:[f.jsx(q4,{className:"text-white"}),f.jsx("span",{className:"text-sm ml-2 font-normal",children:"Ver producto"})]})]}),f.jsx("button",{type:"button",className:"absolute top-0 right-0 m-3 text-red-500 hover:text-red-700",onClick:n,children:f.jsx(U4,{className:"w-8 h-8"})})]})})})]})})}),Zpe=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(null),[o,i]=b.useState(!1),l=new URLSearchParams(window.location.search).get("id")||localStorage.getItem("id");if(b.useEffect(()=>{(async()=>{try{const d=localStorage.getItem("token"),m="https://api.knowmeapp.com",I=await ve.get(`${m}/api/products_services/search/${l}`,{headers:{"x-token":d}});if(I.data.ok&&Array.isArray(I.data.productsServices)){const h=I.data.productsServices.map(A=>({id:A.id_product,title:A.title,description:A.description,image:A.image_url,product_url:A.product_url,price:A.price,phoneNumber:A.contact_number,countryCode:"+52"}));t(h)}else t([])}catch(d){console.error("Error al obtener los productos y servicios:",d),t([])}})()},[l]),e.length===0)return null;const s=g=>{r(g),i(!0)},c=()=>{r(null),i(!1)},u=g=>{const d=`${g.countryCode}${g.phoneNumber}`;let m=`Hola, estoy interesado en el producto "${g.title}" que vi en Know Me. Descripción: ${g.description}.`;return g.price&&g.price!=="0.00"&&(m+=` Precio: ${new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(g.price)}.`),`https://api.whatsapp.com/send?phone=${encodeURIComponent(d)}&text=${encodeURIComponent(m)}&type=phone_number&app_absent=0`};return f.jsxs("div",{className:"px-auto col-span-full w-full",children:[f.jsx("h1",{className:"font-bold text-lg",children:"Productos y Servicios"}),f.jsxs(II,{className:"flex flex-col-reverse",children:[f.jsx("div",{className:" mt-6 w-full max-w-md sm:block lg:max-w-none ",children:f.jsx(hI,{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.map(g=>f.jsx(rb,{className:"relative h-24 sm:w-24 cursor-pointer items-center justify-center ring-4 ring-transparent rounded-md bg-white text-sm font-medium uppercase text-white hover:bg-orange-50 focus:outline-none focus:ring-4 focus:ring-orange-500 focus:ring-offset-4",children:({selected:d})=>f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"sr-only",children:g.title}),f.jsx("span",{className:"absolute inset-0 overflow-hidden rounded-md",children:f.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:g.image&&f.jsx("img",{src:g.image,alt:g.title,className:"h-full w-full object-cover"})})}),f.jsx("span",{className:Ve(d?"ring-orange-500":"ring-transparent","pointer-events-none absolute inset-0 rounded-md ring-2 ring-offset-2"),"aria-hidden":"true"})]})},g.id))})}),f.jsx(tb,{className:"w-full max-h-96 flex justify-center my-2",children:e.map(g=>f.jsx(nb,{className:"w-full",children:f.jsxs("div",{className:"w-full flex  bg-white border border-gray-200 rounded-lg shadow p-2",children:[f.jsx("a",{href:"#",children:g.image&&f.jsx("img",{className:"rounded-lg w-full max-h-96 object-cover",src:g.image,alt:g.title})}),f.jsxs("div",{className:"p-2 flex flex-col justify-between",children:[f.jsxs("div",{children:[f.jsx("a",{href:"#",children:f.jsxs("h5",{className:"mb-2 text-xl font-bold tracking-tight text-gray-900 dark:text-white",children:[" ",g.title]})}),f.jsx("p",{className:"mb-2 text-xs font-normal text-gray-700 ",children:g.description}),g.price&&g.price!=="0.00"&&f.jsx("p",{className:"text-lg font-semibold  text-black",children:`${new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(g.price)}`})]}),f.jsxs("div",{className:"mt-2 flex ",children:[f.jsxs("a",{href:u(g),target:"_blank",rel:"noopener noreferrer",className:"relative flex items-center w-full justify-center rounded-md border border-transparent bg-gray-100 px-6 py-2 text-sm font-medium text-gray-900 hover:bg-gray-200",children:["Contactar",f.jsxs("span",{className:"sr-only",children:[", ",g.title]})]}),g.product_url!==null&&g.product_url!==""&&f.jsxs("a",{onClick:()=>s(g),className:"relative flex items-center  justify-center ml-1 rounded-md border border-transparent bg-gray-100 px-2 py-2 text-sm font-medium text-gray-900 hover:bg-gray-200",children:[f.jsx(qq,{className:"text-black"}),f.jsxs("span",{className:"sr-only",children:[", ",g.product_url]})]})]})]})]})},g.id))})]}),f.jsx(Spe,{isOpen:o,item:n,onClose:c})]})},wpe={Lunes:0,Martes:1,Miércoles:2,Jueves:3,Viernes:4,Sábado:5,Domingo:6},Gpe={width:"100%",height:"250px",borderRadius:"0.5rem"};function Bpe(){const{isLoaded:e,loadError:t}=cB({googleMapsApiKey:"AIzaSyDW3kUrRQiLfjrg81wlKLk8tMomO0DBnxg"}),n=new URLSearchParams(window.location.search),r=yn(),o=n.get("username"),i=n.get("id"),[a,l]=b.useState({}),[s,c]=b.useState({}),[u,g]=b.useState({}),[d,m]=b.useState(!0);b.useState(!1);const[I,h]=b.useState(0);b.useState("");const[A,C]=b.useState(!1),p=b.useRef(null),[v,y]=b.useState(null),x=`${window.location.origin}/card?username=${s.username}&id=${s.id_user}`,[S,B]=b.useState(!1),Z=b.useRef(null);b.useEffect(()=>{window.google&&y(new window.google.maps.Geocoder)},[e]);const R=b.useCallback(H=>{p.current=H},[]);b.useEffect(()=>{w()},[]);const w=async()=>{const{data:H}=await r.getUser(i),{data:M}=await r.getProfile(o),Y=await r.getSocialMedia(i),{data:T}=await r.getSchedule(i),O={};Object.values(T.scheduleDays).forEach(P=>{O[wpe[P.day]]=P}),h(H.user.id_plan_fk),l(Y.data.social_media),c({...M}),g({...O}),m(!1)},k=async()=>{try{navigator.share?await navigator.share({title:"Know Me",text:`¡Conecta con ${s.username} en Know Me!`,url:x}):Re.warning("No se puede compartir el enlace desde este dispositivo 🫣")}catch(H){console.error("Error sharing:",H)}},V=async()=>{const H=W();try{const M=document.createElement("a"),Y=new Blob([H],{type:"text/vcard;charset=utf-8"});M.href=URL.createObjectURL(Y),M.download="contact.vcf",document.body.appendChild(M),M.click(),document.body.removeChild(M)}catch(M){console.error("Error al descargar el contacto:",M),alert("Ocurrió un problema al descargar el contacto. Inténtalo nuevamente.")}},W=()=>{const H=cpe();return H.firstName=s.title_profile||"Nombre desconocido",H.middleName="",H.lastName="",H.organization=s.ocupation_role,H.cellPhone=s.whatsapp_option,H.workPhone=s.personal_phone,H.email=s.email,H.birthday="",H.title=s.ocupation_role,H.url=x,H.note="Contacto obtenido por knowmeapp.com",H.getFormattedString()},N=H=>{window.open(H,"_blank","noreferrer")},X=()=>{window.open(s.pdf_file_url.includes("https://")?s.pdf_file_url:`https://${s.pdf_file_url}`,"_blank","noreferrer")},J=()=>{window.open(s.pdf_file_url.includes("https://")?s.secondary_pdf_file_url:`https://${s.secondary_pdf_file_url}`,"_blank","noreferrer")},E=H=>{window.open(H.includes("https://")?H:`https://${H}`,"_blank","noreferrer")},F=H=>{const M=`Hola! 👋 Aquí tienes el perfil que solicitaste:
    
    - 🌐 Visita nuestro sitio web en: https://knowmeapp.com/card?username=${s.username}&id=${s.id_profile}
    
    ¡Que tengas un excelente día! 😊`,Y=encodeURIComponent(M),T=`https://api.whatsapp.com/send?phone=${H}&text=${Y}`;window.open(T,"_blank")};return d?f.jsx(f.Fragment,{children:f.jsx(cs,{fullScreen:!0})}):f.jsxs("div",{className:"card-view",children:[f.jsx(vpe,{onSumbit:F,show:A,setShow:C}),f.jsxs(bpe,{children:[f.jsx("title",{children:s.title_profile}),f.jsx("meta",{name:"description",content:s.description_profile}),f.jsx("meta",{property:"og:title",content:s.title_profile}),f.jsx("meta",{property:"og:description",content:s.description_profile}),f.jsx("meta",{property:"og:image",content:s.profile_img_url}),f.jsx("meta",{property:"og:url",content:window.location.href}),f.jsx("meta",{property:"og:type",content:"website"})]}),f.jsx(Mn,{position:"top-right",richColors:!0}),s.organization.id_organization&&I>=9&&f.jsx(upe,{org:s.organization}),f.jsx("div",{className:"max-w-xl m-auto pb-8 mt-2",children:f.jsx("div",{className:"border-solid border-4 border-white/10 rounded-lg pb-8",children:f.jsxs("div",{className:"flex flex-col justify-center",children:[f.jsxs("div",{className:"relative items-center gap-x-3 h-36 mb-12",children:[f.jsxs("div",{className:"m-auto w-full p-4 absolute z-10 flex justify-center items-center top-28",children:[f.jsx("div",{className:"w-0 md:w-32 h-10 mt-20"}),f.jsx(xc,{name:s.username,size:"150",src:s.profile_img_url}),f.jsxs("div",{className:"w-40 flex mb-24 px-2 items-center justify-between",children:[f.jsx("div",{children:f.jsx(Lq,{className:"h-10 w-10 text-white cursor-pointer p-1 rounded-lg hover:bg-gray-700 sm:h-12 sm:w-12",onClick:()=>V()},"whatsapp_3")}),f.jsx("div",{children:f.jsx(Tq,{className:"h-10 w-10 text-white cursor-pointer p-1 rounded-lg hover:bg-gray-700",onClick:k},"share")}),I>7&&f.jsx("div",{children:f.jsx(Uj,{className:"h-10 w-10 text-white cursor-pointer p-1 rounded-lg hover:bg-gray-700",onClick:()=>C(!0)},"share")}),s.whatsapp_option!=="0"&&I>6?f.jsx("div",{children:f.jsx(_j,{className:"h-12 w-12 text-white cursor-pointer p-1 rounded-lg hover:bg-gray-700",onClick:()=>{N(`https://wa.me/${s.whatsapp_option.replace("-","")}?text=Hola%21%0AEncontré+tu+contacto+por+knowmeapp.com`)}},"whatsapp")}):f.jsx("div",{className:"h-9 w-9 text-white p-1 rounded-lg "})]},"whatsapp_2")]}),I!=6&&f.jsx("div",{className:"pt-1 pr-1 pl-1 w-full h-28 absolute top-0 left-0 z-0 overflow-hidden ",children:f.jsx("img",{src:s.custom_img_url??s.organization.cover_url??qu,alt:"imagen_portada",className:"object-scale-down rounded-lg"})})]}),f.jsxs("div",{className:"share-personal-data mt-28",children:[f.jsx("label",{className:"full-name",children:s.title_profile}),f.jsx("label",{className:"ocupation",children:s.ocupation_role}),f.jsx("label",{className:"ocupation",children:s.organization_name})]}),f.jsx(rm.Provider,{value:{color:"#FFF"},children:f.jsx(pt,{children:f.jsx("div",{className:"social-media-icon-container flex flex-wrap justify-center gap-4 p-4",children:a==null?void 0:a.map(H=>{const M=WG(H.url)[H.name];return f.jsx("div",{className:"social-media-icon ",children:M},`${H.name}_`)})})})}),I>7&&f.jsx("div",{className:"share-description max-w-96 text-left md:max-w-xl ",dangerouslySetInnerHTML:{__html:s.description_profile}}),f.jsxs("div",{className:"share-general-data",children:[f.jsx("h4",{className:"title-data",children:"Información General"}),s.web_page_url&&I>7?f.jsxs("div",{className:"perfil-field-data",children:["Sitio web",f.jsxs("div",{className:"flex m-2",children:[f.jsx(RA,{className:"-ml-0.5 mr-4 h-5 w-5 ","aria-hidden":"true"}),f.jsx("p",{onClick:()=>E(s.web_page_url),className:"telefono pb-1 cursor-pointer",children:s.web_page_url})]})]}):f.jsx("div",{}),f.jsxs("div",{className:"perfil-field-data",children:["Correo electrónico",f.jsxs("div",{className:"flex m-2",children:[f.jsx(iI,{className:"-ml-0.5 mr-4 h-5 w-5 ","aria-hidden":"true"}),f.jsx("a",{href:`mailto:${s.email}`,className:"telefono pb-1",children:s.email})]})]}),f.jsxs("div",{className:"perfil-field-data",children:["Teléfono",f.jsxs("div",{className:"flex m-2",children:[f.jsx(hp,{className:"-ml-0.5 mr-4 h-5 w-5 ","aria-hidden":"true"}),f.jsx("a",{href:`tel:${s.personal_phone}`,className:"telefono pb-1",children:s.personal_phone})]})]}),s.secondary_phone&&s.secondary_phone!=""&&f.jsxs("div",{className:"perfil-field-data",children:["Teléfono Secundario",f.jsxs("div",{className:"flex m-2",children:[f.jsx(hp,{className:"-ml-0.5 mr-4 h-5 w-5 ","aria-hidden":"true"}),f.jsx("a",{href:`tel:${s.secondary_phone}`,className:"telefono pb-1",children:s.secondary_phone})]})]}),typeof s.lat<"u"&&typeof s.lng<"u"&&!isNaN(parseFloat(s.lat))&&!isNaN(parseFloat(s.lng))&&s.show_maps_status&&f.jsxs("div",{className:"perfil-field-data",children:["Ubicación",f.jsx("div",{className:"flex my-2",children:f.jsx(zL,{mapContainerStyle:Gpe,center:{lat:parseFloat(s.lat),lng:parseFloat(s.lng)},zoom:18,onLoad:R,children:f.jsx(qL,{position:{lat:parseFloat(s.lat),lng:parseFloat(s.lng)}},`marker-${s.lat}-${s.lng}`)})})]}),I>=9&&f.jsx("div",{className:"perfil-field-data",children:f.jsx(xpe,{})}),I>=9&&f.jsx("div",{className:"perfil-field-data",children:f.jsx(Zpe,{})}),I>7&&f.jsx("div",{className:"perfil-field-data",children:f.jsx(ope,{schedule:u})}),f.jsx("div",{className:"w-fit m-auto",children:f.jsxs("div",{className:"flex",children:[s.pdf_file_url&&I>7&&f.jsx("div",{className:"flex justify-center m-4",children:f.jsx("button",{onClick:X,className:"rounded-md bg-orange-500 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm ring-1 ring-inset ring-white hover:bg-orange-600",children:"Ver Brochure"})}),s.secondary_pdf_file_url&&I>=9&&f.jsx("div",{className:"flex justify-center m-4",children:f.jsx("button",{onClick:J,className:"rounded-md bg-orange-500 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm ring-1 ring-inset ring-white hover:bg-orange-600",children:"Ver Brochure 2"})})]})})]})]})})}),f.jsx("div",{className:"fixed bottom-0 w-full bg-blue-950 lg:px-96",children:f.jsx(B4,{})}),f.jsx(un.Root,{show:S,as:b.Fragment,children:f.jsxs(Hn,{className:"relative z-10",initialFocus:Z,onClose:B,children:[f.jsx(un.Child,{as:b.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:f.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),f.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:f.jsx("div",{className:"flex items-end justify-center p-4 text-center sm:items-center sm:p-0",children:f.jsx(un.Child,{as:b.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:f.jsxs(Hn.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 w-full max-w-lg h-xl",children:[f.jsx("div",{className:"bg-white px-4 pb-4 sm:p-6 sm:pb-4",children:f.jsxs("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[f.jsx(Hn.Title,{as:"h3",className:"text-base font-semibold leading-6 text-gray-900",children:"Brochure"}),f.jsx("div",{className:"mt-2 w-full h-96",children:f.jsx("iframe",{src:s.pdf_file_url,className:"w-full h-full"})})]})}),f.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:f.jsx("button",{type:"button",className:"rounded-md bg-orange-500 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm ring-1 ring-inset ring-white hover:bg-orange-600",onClick:()=>B(!1),ref:Z,children:"Cerrar"})})]})})})})]})})]})}const ho=({children:e})=>{const t=ss(),[n,r]=b.useState(!0),[o,i]=b.useState(!1);b.useContext(kn),b.useEffect(()=>{a()},[]);const a=async()=>{try{(await t.renewToken()).status==200&&i(!0),r(!1)}catch{r(!1)}};return n?f.jsx(cs,{fullScreen:!0}):o?f.jsx(Qw,{to:"/home/"}):e};var ab={},AK={L:1,M:0,Q:3,H:2},bK={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},kpe=bK;function vK(e){this.mode=kpe.MODE_8BIT_BYTE,this.data=e}vK.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var Rpe=vK,Zh=AK;function Si(e,t){this.totalCount=e,this.dataCount=t}Si.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Si.getRSBlocks=function(e,t){var n=Si.getRsBlockTable(e,t);if(n==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,o=new Array,i=0;i<r;i++)for(var a=n[i*3+0],l=n[i*3+1],s=n[i*3+2],c=0;c<a;c++)o.push(new Si(l,s));return o};Si.getRsBlockTable=function(e,t){switch(t){case Zh.L:return Si.RS_BLOCK_TABLE[(e-1)*4+0];case Zh.M:return Si.RS_BLOCK_TABLE[(e-1)*4+1];case Zh.Q:return Si.RS_BLOCK_TABLE[(e-1)*4+2];case Zh.H:return Si.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var Vpe=Si;function yK(){this.buffer=new Array,this.length=0}yK.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var n=0;n<t;n++)this.putBit((e>>>t-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Wpe=yK,ri={glog:function(e){if(e<1)throw new Error("glog("+e+")");return ri.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return ri.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Dn=0;Dn<8;Dn++)ri.EXP_TABLE[Dn]=1<<Dn;for(var Dn=8;Dn<256;Dn++)ri.EXP_TABLE[Dn]=ri.EXP_TABLE[Dn-4]^ri.EXP_TABLE[Dn-5]^ri.EXP_TABLE[Dn-6]^ri.EXP_TABLE[Dn-8];for(var Dn=0;Dn<255;Dn++)ri.LOG_TABLE[ri.EXP_TABLE[Dn]]=Dn;var xK=ri,Zs=xK;function vC(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&e[n]==0;)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}vC.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<e.getLength();r++)t[n+r]^=Zs.gexp(Zs.glog(this.get(n))+Zs.glog(e.get(r)));return new vC(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=Zs.glog(this.get(0))-Zs.glog(e.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(var r=0;r<e.getLength();r++)n[r]^=Zs.gexp(Zs.glog(e.get(r))+t);return new vC(n,0).mod(e)}};var SK=vC,Co=bK,I3=SK,Npe=xK,Ua={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Kn={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Kn.getBCHDigit(t)-Kn.getBCHDigit(Kn.G15)>=0;)t^=Kn.G15<<Kn.getBCHDigit(t)-Kn.getBCHDigit(Kn.G15);return(e<<10|t)^Kn.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Kn.getBCHDigit(t)-Kn.getBCHDigit(Kn.G18)>=0;)t^=Kn.G18<<Kn.getBCHDigit(t)-Kn.getBCHDigit(Kn.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Kn.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case Ua.PATTERN000:return(t+n)%2==0;case Ua.PATTERN001:return t%2==0;case Ua.PATTERN010:return n%3==0;case Ua.PATTERN011:return(t+n)%3==0;case Ua.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case Ua.PATTERN101:return t*n%2+t*n%3==0;case Ua.PATTERN110:return(t*n%2+t*n%3)%2==0;case Ua.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new I3([1],0),n=0;n<e;n++)t=t.multiply(new I3([1,Npe.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case Co.MODE_NUMBER:return 10;case Co.MODE_ALPHA_NUM:return 9;case Co.MODE_8BIT_BYTE:return 8;case Co.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case Co.MODE_NUMBER:return 12;case Co.MODE_ALPHA_NUM:return 11;case Co.MODE_8BIT_BYTE:return 16;case Co.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case Co.MODE_NUMBER:return 14;case Co.MODE_ALPHA_NUM:return 13;case Co.MODE_8BIT_BYTE:return 16;case Co.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var o=0;o<t;o++){for(var i=0,a=e.isDark(r,o),l=-1;l<=1;l++)if(!(r+l<0||t<=r+l))for(var s=-1;s<=1;s++)o+s<0||t<=o+s||l==0&&s==0||a==e.isDark(r+l,o+s)&&i++;i>5&&(n+=3+i-5)}for(var r=0;r<t-1;r++)for(var o=0;o<t-1;o++){var c=0;e.isDark(r,o)&&c++,e.isDark(r+1,o)&&c++,e.isDark(r,o+1)&&c++,e.isDark(r+1,o+1)&&c++,(c==0||c==4)&&(n+=3)}for(var r=0;r<t;r++)for(var o=0;o<t-6;o++)e.isDark(r,o)&&!e.isDark(r,o+1)&&e.isDark(r,o+2)&&e.isDark(r,o+3)&&e.isDark(r,o+4)&&!e.isDark(r,o+5)&&e.isDark(r,o+6)&&(n+=40);for(var o=0;o<t;o++)for(var r=0;r<t-6;r++)e.isDark(r,o)&&!e.isDark(r+1,o)&&e.isDark(r+2,o)&&e.isDark(r+3,o)&&e.isDark(r+4,o)&&!e.isDark(r+5,o)&&e.isDark(r+6,o)&&(n+=40);for(var u=0,o=0;o<t;o++)for(var r=0;r<t;r++)e.isDark(r,o)&&u++;var g=Math.abs(100*u/t/t-50)/5;return n+=g*10,n}},Epe=Kn,Xpe=Rpe,ZK=Vpe,wK=Wpe,fs=Epe,Jpe=SK;function ki(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var fo=ki.prototype;fo.addData=function(e){var t=new Xpe(e);this.dataList.push(t),this.dataCache=null};fo.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};fo.getModuleCount=function(){return this.moduleCount};fo.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=ZK.getRSBlocks(e,this.errorCorrectLevel),n=new wK,r=0,o=0;o<t.length;o++)r+=t[o].dataCount;for(var o=0;o<this.dataList.length;o++){var i=this.dataList[o];n.put(i.mode,4),n.put(i.getLength(),fs.getLengthInBits(i.mode,e)),i.write(n)}if(n.getLengthInBits()<=r*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};fo.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=ki.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};fo.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(0<=n&&n<=6&&(r==0||r==6)||0<=r&&r<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=r&&r<=4?this.modules[e+n][t+r]=!0:this.modules[e+n][t+r]=!1)};fo.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=fs.getLostPoint(this);(n==0||e>r)&&(e=r,t=n)}return t};fo.createMovieClip=function(e,t,n){var r=e.createEmptyMovieClip(t,n),o=1;this.make();for(var i=0;i<this.modules.length;i++)for(var a=i*o,l=0;l<this.modules[i].length;l++){var s=l*o,c=this.modules[i][l];c&&(r.beginFill(0,100),r.moveTo(s,a),r.lineTo(s+o,a),r.lineTo(s+o,a+o),r.lineTo(s,a+o),r.endFill())}return r};fo.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};fo.setupPositionAdjustPattern=function(){for(var e=fs.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],o=e[n];if(this.modules[r][o]==null)for(var i=-2;i<=2;i++)for(var a=-2;a<=2;a++)i==-2||i==2||a==-2||a==2||i==0&&a==0?this.modules[r+i][o+a]=!0:this.modules[r+i][o+a]=!1}};fo.setupTypeNumber=function(e){for(var t=fs.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}};fo.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=fs.getBCHTypeInfo(n),o=0;o<15;o++){var i=!e&&(r>>o&1)==1;o<6?this.modules[o][8]=i:o<8?this.modules[o+1][8]=i:this.modules[this.moduleCount-15+o][8]=i}for(var o=0;o<15;o++){var i=!e&&(r>>o&1)==1;o<8?this.modules[8][this.moduleCount-o-1]=i:o<9?this.modules[8][15-o-1+1]=i:this.modules[8][15-o-1]=i}this.modules[this.moduleCount-8][8]=!e};fo.mapData=function(e,t){for(var n=-1,r=this.moduleCount-1,o=7,i=0,a=this.moduleCount-1;a>0;a-=2)for(a==6&&a--;;){for(var l=0;l<2;l++)if(this.modules[r][a-l]==null){var s=!1;i<e.length&&(s=(e[i]>>>o&1)==1);var c=fs.getMask(t,r,a-l);c&&(s=!s),this.modules[r][a-l]=s,o--,o==-1&&(i++,o=7)}if(r+=n,r<0||this.moduleCount<=r){r-=n,n=-n;break}}};ki.PAD0=236;ki.PAD1=17;ki.createData=function(e,t,n){for(var r=ZK.getRSBlocks(e,t),o=new wK,i=0;i<n.length;i++){var a=n[i];o.put(a.mode,4),o.put(a.getLength(),fs.getLengthInBits(a.mode,e)),a.write(o)}for(var l=0,i=0;i<r.length;i++)l+=r[i].dataCount;if(o.getLengthInBits()>l*8)throw new Error("code length overflow. ("+o.getLengthInBits()+">"+l*8+")");for(o.getLengthInBits()+4<=l*8&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=l*8||(o.put(ki.PAD0,8),o.getLengthInBits()>=l*8));)o.put(ki.PAD1,8);return ki.createBytes(o,r)};ki.createBytes=function(e,t){for(var n=0,r=0,o=0,i=new Array(t.length),a=new Array(t.length),l=0;l<t.length;l++){var s=t[l].dataCount,c=t[l].totalCount-s;r=Math.max(r,s),o=Math.max(o,c),i[l]=new Array(s);for(var u=0;u<i[l].length;u++)i[l][u]=255&e.buffer[u+n];n+=s;var g=fs.getErrorCorrectPolynomial(c),d=new Jpe(i[l],g.getLength()-1),m=d.mod(g);a[l]=new Array(g.getLength()-1);for(var u=0;u<a[l].length;u++){var I=u+m.getLength()-a[l].length;a[l][u]=I>=0?m.get(I):0}}for(var h=0,u=0;u<t.length;u++)h+=t[u].totalCount;for(var A=new Array(h),C=0,u=0;u<r;u++)for(var l=0;l<t.length;l++)u<i[l].length&&(A[C++]=i[l][u]);for(var u=0;u<o;u++)for(var l=0;l<t.length;l++)u<a[l].length&&(A[C++]=a[l][u]);return A};var Ype=ki,mB={};Object.defineProperty(mB,"__esModule",{value:!0});var Hpe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fpe=an,po=BK(Fpe),GK=b,wh=BK(GK);function BK(e){return e&&e.__esModule?e:{default:e}}function Mpe(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var jpe={bgColor:po.default.oneOfType([po.default.object,po.default.string]).isRequired,bgD:po.default.string.isRequired,fgColor:po.default.oneOfType([po.default.object,po.default.string]).isRequired,fgD:po.default.string.isRequired,size:po.default.number.isRequired,title:po.default.string,viewBoxSize:po.default.number.isRequired,xmlns:po.default.string},IB=(0,GK.forwardRef)(function(e,t){var n=e.bgColor,r=e.bgD,o=e.fgD,i=e.fgColor,a=e.size,l=e.title,s=e.viewBoxSize,c=e.xmlns,u=c===void 0?"http://www.w3.org/2000/svg":c,g=Mpe(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return wh.default.createElement("svg",Hpe({},g,{height:a,ref:t,viewBox:"0 0 "+s+" "+s,width:a,xmlns:u}),l?wh.default.createElement("title",null,l):null,wh.default.createElement("path",{d:r,fill:n}),wh.default.createElement("path",{d:o,fill:i}))});IB.displayName="QRCodeSvg";IB.propTypes=jpe;mB.default=IB;Object.defineProperty(ab,"__esModule",{value:!0});ab.QRCode=void 0;var Tpe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lpe=an,ea=CI(Lpe),Kpe=AK,Ope=CI(Kpe),Ppe=Ype,Dpe=CI(Ppe),kK=b,zpe=CI(kK),Upe=mB,_pe=CI(Upe);function CI(e){return e&&e.__esModule?e:{default:e}}function Qpe(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var $pe={bgColor:ea.default.oneOfType([ea.default.object,ea.default.string]),fgColor:ea.default.oneOfType([ea.default.object,ea.default.string]),level:ea.default.string,size:ea.default.number,value:ea.default.string.isRequired},lb=(0,kK.forwardRef)(function(e,t){var n=e.bgColor,r=n===void 0?"#FFFFFF":n,o=e.fgColor,i=o===void 0?"#000000":o,a=e.level,l=a===void 0?"L":a,s=e.size,c=s===void 0?256:s,u=e.value,g=Qpe(e,["bgColor","fgColor","level","size","value"]),d=new Dpe.default(-1,Ope.default[l]);d.addData(u),d.make();var m=d.modules;return zpe.default.createElement(_pe.default,Tpe({},g,{bgColor:r,bgD:m.map(function(I,h){return I.map(function(A,C){return A?"":"M "+C+" "+h+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:i,fgD:m.map(function(I,h){return I.map(function(A,C){return A?"M "+C+" "+h+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:c,viewBoxSize:m.length}))});ab.QRCode=lb;lb.displayName="QRCode";lb.propTypes=$pe;var sb=ab.default=lb;const h3=()=>{const{user:e}=b.useContext(kn),t=yn(),n=Zt(),[r,o]=b.useState();b.useState("");const i=window.location.origin+`/card?username=${e.username}&id=${e.id}`,[a,l]=b.useState(!1),s=async()=>{const{data:g}=await t.getProfile();o({...g})},c=async()=>{try{navigator.share?await navigator.share({title:"Know Me",text:`¡Conecta con ${r.title_profile} en Know Me!`,url:i}):alert(`Comparte este enlace: ${i}`)}catch(g){console.error("Error al compartir:",g)}},u=()=>{try{navigator.clipboard.writeText(i),l(!0),setTimeout(()=>{l(!1)},2e3)}catch(g){console.error("Error al copiar:",g),alert(`No se pudo copiar el enlace. Intenta manualmente: ${i}`)}};return b.useEffect(()=>{s()},[]),r==null?f.jsx(cs,{}):f.jsx(f.Fragment,{children:f.jsxs("div",{className:"my-4",children:[f.jsx(js,{to:"/home/",className:"back-icon-container hidden md:block",children:f.jsx(Dq,{className:"back-icon"})}),f.jsxs("div",{className:"share-container lg:mx-28",children:[f.jsx("div",{className:"share-avatar",children:f.jsx(xc,{name:r.title_profile,size:"130",src:r.profile_img_url})}),f.jsxs("div",{className:"share-qr-container border-solid border-4 border-white/10 rounded-lg ",children:[f.jsxs("div",{className:"share-header",children:[f.jsx("h1",{children:r.title_profile}),f.jsx("h4",{children:r.ocupation_role})]}),f.jsx("div",{className:"share-qr-code flex justify-center",children:f.jsx(sb,{size:256,style:{height:"auto",maxWidth:"100%",width:"90%"},bgColor:"#ffffff",fgColor:"#000000",value:i,viewBox:"0 0 256 256"})}),f.jsxs("div",{className:"flex flex-col items-center space-y-4 mt-6",children:[f.jsx("button",{type:"button",className:"inline-flex items-center rounded-lg bg-gradient-to-r from-orange-500 to-orange-600 px-4 py-2 text-sm font-bold text-white shadow-md hover:from-orange-600 hover:to-orange-700 focus:ring-2 focus:ring-orange-500",onClick:c,children:"Compartir Tarjeta"}),f.jsx("button",{type:"button",className:`inline-flex items-center rounded-lg ${a?"bg-green-500 hover:bg-green-600":"bg-orange-500 hover:bg-orange-600"} px-4 py-2 text-sm font-bold text-white shadow-md focus:ring-2 focus:ring-orange-500`,onClick:u,children:a?"¡Copiado! ✅":"Copiar URL"})]})]})]}),f.jsx("div",{className:"my-4 max-w-5xl lg:mx-44",children:f.jsxs("div",{className:"bg-gray-900/50 px-10 rounded-lg mt-2 pt-6",children:[f.jsxs("div",{className:"sm:px-0",children:[f.jsx("h3",{className:"text-base font-semibold leading-7 text-white",children:"Compra de tarjetas personalizadas"}),f.jsx("p",{className:"mt-1 max-w-2xl text-sm leading-6 text-white",children:"Nuestra plataforma te permite elegir entre una variedad de diseños y agregar tu toque personal con mensajes y detalles únicos. Si necesitas una cotización específica para pedidos grandes o personalizados, puedes solicitarla fácilmente a través de esta sección."}),f.jsx("p",{className:"mt-1 max-w-2xl text-sm leading-6 text-white",children:"¡Haz que tu primera impresión sea inolvidable con nuestras tarjetas personalizadas!"})]}),f.jsx("div",{className:"py-4",children:f.jsx("button",{type:"button",onClick:()=>n("/plans"),className:"inline-flex items-center rounded-md mb-11  px-3 py-2 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 bg-orange-500 focus-visible:outline-orange-600 border-orange-600 hover:border-orange-500 hover:bg-orange-600 cursor-pointer",children:"Gestionar compra"})})]})})]})})};function qpe(e){return Ze({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M13.917 7A6.002 6.002 0 0 0 2.083 7H1.071a7.002 7.002 0 0 1 13.858 0h-1.012z"},child:[]}]})(e)}const e0e=({totalPages:e,currentPage:t,setCurrentPage:n})=>f.jsxs("nav",{className:"my-8 px-5 flex items-center justify-between pb-20 md:pb-0",children:[f.jsx("div",{className:"-mt-px flex w-0 flex-1",children:f.jsxs("a",{onClick:()=>{t>1&&n(t-1)},className:`inline-flex items-center px-4 py-2 text-sm font-medium transition-all duration-300 ease-in-out rounded-md border ${t>1?"bg-orange-500 text-white border-transparent hover:bg-orange-600 cursor-pointer":"bg-gray-200 text-gray-400 border-gray-200 cursor-not-allowed"}`,children:[f.jsx(Yie,{className:"mr-2 h-5 w-5","aria-hidden":"true"}),"Anterior"]})}),f.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[t-3>0&&f.jsx("span",{className:"text-orange-500",children:"..."}),t-2>0&&f.jsx("a",{onClick:()=>n(t-2),className:"inline-flex items-center px-4 py-2 text-sm font-medium transition-all duration-300 ease-in-out rounded-md border border-transparent hover:bg-orange-500 hover:text-white cursor-pointer",children:t-2}),t-1>0&&f.jsx("a",{onClick:()=>n(t-1),className:"inline-flex items-center px-4 py-2 text-sm font-medium transition-all duration-300 ease-in-out rounded-md border border-transparent hover:bg-orange-500 hover:text-white cursor-pointer",children:t-1}),f.jsx("span",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-orange-500 rounded-md",children:t}),t+1<=e&&f.jsx("a",{onClick:()=>n(t+1),className:"inline-flex items-center px-4 py-2 text-sm font-medium transition-all duration-300 ease-in-out rounded-md border border-transparent hover:bg-orange-500 text-white cursor-pointer",children:t+1}),t+2<=e&&f.jsx("a",{onClick:()=>n(t+2),className:"inline-flex items-center px-4 py-2 text-sm font-medium transition-all duration-300 ease-in-out rounded-md border border-transparent hover:bg-orange-500 text-white cursor-pointer",children:t+2}),t+3<=e&&f.jsx("span",{className:"text-orange-500",children:"..."})]}),f.jsx("div",{className:"-mt-px flex w-0 flex-1 justify-end",children:f.jsxs("a",{onClick:()=>{t+1<=e&&n(t+1)},className:`inline-flex items-center px-4 py-2 text-sm font-medium transition-all duration-300 ease-in-out rounded-md border ${t<e?"bg-orange-500 text-white border-transparent hover:bg-orange-600 cursor-pointer":"bg-gray-200 text-gray-400 border-gray-200 cursor-not-allowed"}`,children:["Siguiente",f.jsx(Mie,{className:"ml-2 h-5 w-5","aria-hidden":"true"})]})})]});const t0e=({handleSearchTerm:e,term:t})=>{const{formState:n,onInputChange:r}=ls({search:t=="<"?"":t}),o=a=>{a&&a.preventDefault(),e(n.search)},i=a=>{r(a),o()};return f.jsxs("form",{className:"relative flex max-w-80 m-auto border-b search-border rounded mb-4",onSubmit:o,children:[f.jsx("input",{type:"search",className:"peer block min-h-[auto] text-white w-full rounded border-0 bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 peer-focus:text-primary data-[twe-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none dark:text-white dark:placeholder:text-neutral-300 dark:autofill:shadow-autofill dark:peer-focus:text-primary [&:not([data-twe-input-placeholder-active])]:placeholder:opacity-0",placeholder:"Buscar por el texto...",name:"search",value:n.search,onInput:i}),f.jsx("label",{className:`pointer-events-none absolute text-white left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6]  transition-all duration-200 ease-out 
        ${n.search!=""?"-translate-y-[0.9rem] scale-[0.8] dark:text-primary dark:text-neutral-400":""}
      peer-focus:-translate-y-[0.9rem] peer-focus:scale-[0.8] peer-focus:text-primary 
      peer-data-[twe-input-state-active]:-translate-y-[0.9rem] peer-data-[twe-input-state-active]:scale-[0.8] motion-reduce:transition-none dark:text-neutral-400 dark:peer-focus:text-primary`,children:"¿Qué estás buscando?"}),f.jsx("button",{className:"relative z-[2] -ms-0.5 flex items-center rounded-e px-2 text-xs font-medium uppercase leading-normal text-white shadow-primary-3 transition duration-150 ease-in-out hover:shadow-primary-2 focus:bg-primary-accent-300 focus:shadow-primary-2 focus:outline-none focus:ring-0 active:bg-primary-600 active:shadow-primary-2 dark:shadow-black/30 dark:hover:shadow-dark-strong dark:focus:shadow-dark-strong dark:active:shadow-dark-strong",type:"submit",children:f.jsx("span",{className:"[&>svg]:h-5 [&>svg]:w-5",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})})})]})};function n0e({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const r0e=b.forwardRef(n0e),o0e=r0e;function i0e(e){return Ze({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4.75 17.25a.75.75 0 0 1 .75.75v2.25c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V18a.75.75 0 0 1 1.5 0v2.25A1.75 1.75 0 0 1 18.25 22H5.75A1.75 1.75 0 0 1 4 20.25V18a.75.75 0 0 1 .75-.75Z"},child:[]},{tag:"path",attr:{d:"M5.22 9.97a.749.749 0 0 1 1.06 0l4.97 4.969V2.75a.75.75 0 0 1 1.5 0v12.189l4.97-4.969a.749.749 0 1 1 1.06 1.06l-6.25 6.25a.749.749 0 0 1-1.06 0l-6.25-6.25a.749.749 0 0 1 0-1.06Z"},child:[]}]})(e)}const a0e=e=>{const t=r=>{const o=window.getComputedStyle(r),i={};for(let a=0;a<o.length;a++)i[o[a]]=o.getPropertyValue(o[a]);for(const a in i)r.style[a]=i[a];return i},n=document.querySelector(e);t(n),n.querySelectorAll("*").forEach(r=>t(r))},l0e=({target:e,scale:t,format:n,quality:r})=>{var o=document.querySelector(e),i=new XMLSerializer().serializeToString(o),a=document.createElement("canvas"),l=o.getBoundingClientRect();a.width=l.width*t,a.height=l.height*t,a.style.width=l.width,a.style.height=l.height;var s=a.getContext("2d");s.scale(t,t);var c=document.createElement("img");return c.setAttribute("src","data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(i)))),new Promise(u=>{c.onload=()=>{s.drawImage(c,0,0);const g=a.toDataURL(`image/${n}`,n="png",r);u(g)}})},s0e=({file:e,name:t,format:n})=>{var r=document.createElement("a");r.className="display-none",r.download=`${t}.${n}`,r.href=e,document.body.appendChild(r),r.click()};var c0e=async(e,t,{scale:n=1,format:r="png",quality:o=.92,download:i=!0,ignore:a=null}={})=>{const l=document.querySelector(e),s=l.innerHTML;if(a!=null){const c=document.querySelector(a);c.parentNode.removeChild(c)}return a0e(e),await l0e({target:e,scale:n,format:r,quality:o}).then(c=>(i&&s0e({file:c,name:t,format:r}),l.innerHTML=s,c)).catch(console.error)};const u0e=ot(c0e),g0e=({open:e,setOpen:t,modalInfo:n})=>{const r=G.createRef(),o=()=>{u0e("#QRCode",`QR_${n.username}`,{download:!0,quality:1})};return f.jsx(f.Fragment,{children:f.jsxs(Hn,{open:e,onClose:t,className:"relative z-10",children:[f.jsx(qG,{transition:!0,className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity data-[closed]:opacity-0 data-[enter]:duration-300 data-[leave]:duration-200 data-[enter]:ease-out data-[leave]:ease-in"}),f.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:f.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:f.jsxs(QA,{transition:!0,className:"relative qr-dialog transform overflow-hidden rounded-lg px-4 pb-4 pt-5 text-left shadow-xl transition-all data-[closed]:translate-y-4 data-[closed]:opacity-0 data-[enter]:duration-300 data-[leave]:duration-200 data-[enter]:ease-out data-[leave]:ease-in sm:my-8 sm:w-full sm:max-w-lg sm:p-6 data-[closed]:sm:translate-y-0 data-[closed]:sm:scale-95",children:[f.jsx(oG,{color:"white",size:25,className:"right-6 top-6 absolute cursor-pointer",onClick:()=>{t(!1)}}),f.jsx("div",{children:f.jsx("div",{className:"mx-auto flex items-center justify-center m-2",children:f.jsx("div",{className:"p-8 mx-4 bg-white rounded",children:f.jsx(sb,{name:"QRCode",ref:r,id:"QRCode",value:n.url})})})}),f.jsxs("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3 qr-buttons",children:[f.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(n.url)},className:"inline-flex w-full justify-center rounded-md px-3 py-2 text-sm text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 sm:col-start-2",children:"Copiar URL"}),f.jsxs("button",{type:"button",onClick:o,className:"inline-flex w-full justify-center rounded-md px-3 py-2 text-sm text-white shadow-sm ring-1 ring-inset ring-gray-300 sm:col-start-1 sm:mt-0",children:["Descargar QR ",f.jsx(i0e,{id:"GoDownload",size:18})]})]})]})})})]})})},d0e="/assets/no-image-c52cb764.png";function f0e({selectedCategory:e}){const t=yn(),[n,r]=b.useState([]),[o,i]=b.useState(!0),[a,l]=b.useState(1),[s,c]=b.useState(1),[u,g]=b.useState("<"),[d,m]=b.useState(!1),[I,h]=b.useState({url:"",username:""}),A=async()=>{if(i(!0),e==null||e==="todos")try{const{data:x}=await t.getAlgolia(s,u);l(x.totalPages),r(x.profiles)}catch(x){console.error("Error fetching user cards:",x)}else try{const x=await t.getFilterCategories(e);r(x.data.profiles)}catch(x){console.error("Error fetching user cards:",x)}i(!1)},C=x=>{i(!0),r([]),c(x)},p=async x=>{i(!0),r([]),c(1),x==""&&(x="<");try{const{data:S}=await t.getAlgolia(s,x);g(x),l(S.totalPages),r(S.profiles)}catch(S){console.error("Error fetching user cards:",S)}};b.useEffect(()=>{A()},[s]);const v=(x,S)=>{const B=`${window.location.origin}/card?username=${x}&id=${S}`;window.open(B,"_blank","noreferrer")},y=x=>{const S=window.location.origin+`/card?username=${x.username}&id=${x.id_profile}`;h({url:S,username:x.title_profile}),m(!0)};return f.jsxs(f.Fragment,{children:[f.jsx(g0e,{setOpen:m,open:d,modalInfo:I}),d&&f.jsx("div",{className:"profile-modal-background",onClick:()=>{m(!1)},children:f.jsx("div",{})}),f.jsx("div",{className:"mt-4",children:f.jsx(t0e,{className:"mt-5",handleSearchTerm:p,term:u})}),n.length===0?f.jsx(f.Fragment,{children:o?f.jsx("div",{className:"",children:f.jsxs("button",{type:"button",className:" flex mx-auto my-5 lg:my-20 rounded-md bg-gray-600 px-3 py-2 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 cursor-not-allowed",disabled:!0,children:[f.jsx(qpe,{className:"animate-spin h-5 w-5 text-white mr-4","aria-hidden":"true"}),"Cargando"]})}):f.jsx("div",{className:"no-card",children:f.jsx("p",{children:"No hay usuarios que hagan match con este filtro 😅"})})}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"flex flex-wrap justify-center",children:n==null?void 0:n.map(x=>f.jsxs("div",{className:" relative  flex w-full  lg:w-[23rem] m-1 h-[350px]  flex-col  rounded-xl backdrop-blur-sm bg-blue-950/10 px-4 text-white shadow-none border-1 border-white/10 hover:border-white/30 hover:cursor-pointer",onClick:({target:S})=>{S.id!="QR_download"&&v(x.username,x.id_profile)},children:[f.jsxs("div",{className:"relative flex flex-col items-center gap-4 pt-0 mx-0 mt-4 overflow-hidden text-white bg-transparent shadow-none  bg-clip-border",children:[f.jsx("div",{className:"h-flex bg-blue-950/50 flex justify-center overflow-hidden rounded-xl w-full",children:f.jsx("img",{name:x.title_profile,className:"object-cover rounded-full w-24 h-24 aspect-square",src:x.profile_img_url?x.profile_img_url:d0e,alt:x.title_profile||"No image available"})}),f.jsxs("div",{className:"flex w-full flex-col gap-0.5",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h4",{className:"block font-sans   text-xl antialiased font-semibold leading-snug tracking-normal text-orange-500 text-ellipsis overflow-hidden max-w-[9rem]",children:x.title_profile.length>18?`${x.title_profile.substring(0,18)}...`:x.title_profile}),f.jsx("div",{className:"flex items-center gap-0.5",children:f.jsxs("div",{className:"mt-1 flex items-center gap-x-1.5",children:[f.jsx("div",{className:"flex-none rounded-full bg-emerald-500/20 p-1",children:f.jsx("div",{className:x.availability_status=="Disponible"?"h-1.5 w-1.5 rounded-full bg-emerald-500":"h-1.5 w-1.5 rounded-full bg-gray-500"})}),f.jsx("p",{className:"text-xs leading-5 text-white",children:x.availability_status})]})})]}),f.jsx("p",{className:"block font-sans lowercase text-sm antialiased font-light leading-relaxed text-blue-gray-900 text-ellipsis overflow-hidden max-w-[10rem]",children:x.ocupation_role}),f.jsx("p",{className:"block font-sans text-sm lowercase antialiased font-light leading-relaxed text-blue-gray-900 text-ellipsis overflow-hidden max-w-[10rem]",children:x.organization_name})]})]}),f.jsx("div",{className:"flex flex-row  items-end pb-2 w-full justify-end absolute bottom-0  right-0",children:f.jsxs("div",{className:"flex items-center justify-between w-full px-1",children:[f.jsx("div",{className:"flex  flex-row",children:Object.entries(WG(x.social_media)).map(S=>{if(x.social_media_v2&&x.social_media_v2.find(B=>B.name==S[0]))return f.jsx("div",{className:"text-orange-500 text-2xl m-2",children:S[1]},S[0])})}),f.jsxs("div",{children:[localStorage.getItem("is_superuser")=="true"&&f.jsxs("span",{id:"QR_download",onClick:()=>y(x),className:"z-50 inline-flex items-center rounded-md bg-gray-50 px-2 py-1 text-xs font-medium text-blue-900 ring-1 ring-inset m-1 cursor-pointer",children:["‪",f.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",version:"1.1",viewBox:"0 0 16 16",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",id:"QR_download",children:f.jsx("path",{id:"QR_download",d:"M5 1h-4v4h4v-4zM6 0v0 6h-6v-6h6zM2 2h2v2h-2zM15 1h-4v4h4v-4zM16 0v0 6h-6v-6h6zM12 2h2v2h-2zM5 11h-4v4h4v-4zM6 10v0 6h-6v-6h6zM2 12h2v2h-2zM7 0h1v1h-1zM8 1h1v1h-1zM7 2h1v1h-1zM8 3h1v1h-1zM7 4h1v1h-1zM8 5h1v1h-1zM7 6h1v1h-1zM7 8h1v1h-1zM8 9h1v1h-1zM7 10h1v1h-1zM8 11h1v1h-1zM7 12h1v1h-1zM8 13h1v1h-1zM7 14h1v1h-1zM8 15h1v1h-1zM15 8h1v1h-1zM1 8h1v1h-1zM2 7h1v1h-1zM0 7h1v1h-1zM4 7h1v1h-1zM5 8h1v1h-1zM6 7h1v1h-1zM9 8h1v1h-1zM10 7h1v1h-1zM11 8h1v1h-1zM12 7h1v1h-1zM13 8h1v1h-1zM14 7h1v1h-1zM15 10h1v1h-1zM9 10h1v1h-1zM10 9h1v1h-1zM11 10h1v1h-1zM13 10h1v1h-1zM14 9h1v1h-1zM15 12h1v1h-1zM9 12h1v1h-1zM10 11h1v1h-1zM12 11h1v1h-1zM13 12h1v1h-1zM14 11h1v1h-1zM15 14h1v1h-1zM10 13h1v1h-1zM11 14h1v1h-1zM12 13h1v1h-1zM13 14h1v1h-1zM10 15h1v1h-1zM12 15h1v1h-1zM14 15h1v1h-1z"})})]}),x.categories&&f.jsx("span",{className:"inline-flex items-center rounded-md bg-gray-50 px-2 py-1 text-xs font-medium text-blue-900 ring-1 ring-inset m-1",children:x.categories.name})]})]})})]},x.id_profile))}),f.jsx(e0e,{totalPages:a,currentPage:s,setCurrentPage:C})]})]})}function C3(){const e=yn();b.useState([]);const[t,n]=b.useState("todos"),r=xr(),[o,i]=b.useState(!0),{user:a}=b.useContext(kn),l=async()=>{try{const{data:s}=await e.validateUser(),c=s.usuario.id_plan_fk;s.userPayment.stripe_session_status=="open"&&c!=a.id_plan_fk&&(a[c]=6,localStorage.setItem("id_plan",6),window.location.reload())}catch(s){console.error("Error fetching profile:",s)}i(!1)};return b.useEffect(()=>{l()},[r]),o?f.jsx(cs,{fullScreen:!0}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"z-0 mx-auto mt-6 max-w-2xl sm:px-6 lg:grid lg:max-w-7xl lg:grid-cols-3 lg:gap-x-8 lg:px-8"}),f.jsx("div",{className:"md:mx-14 lg:mx-4",children:f.jsx(f0e,{selectedCategory:t})})]})}function Wn(){const e=xr(),t=n=>e.pathname===n;return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"navbar-container",children:[localStorage.getItem("id_plan")>7&&f.jsx(js,{to:"/home/",className:`navbar-link ${t("/home")?"active":""}`,children:f.jsxs("div",{className:"navbar-icon-container",children:[f.jsx(toe,{className:"navbar-icon"}),f.jsx("span",{className:"navbar-label",children:"Home"}),t("/home")||t("/home/")&&f.jsx("div",{className:"active-dot"})]})}),f.jsx(js,{to:"/perfil/",className:`navbar-link ${t("/profile")?"active":""}`,children:f.jsxs("div",{className:"navbar-icon-container",children:[f.jsx(oee,{className:"navbar-icon"}),f.jsx("span",{className:"navbar-label",children:"Perfil"}),t("/perfil/")&&f.jsx("div",{className:"active-dot"})]})}),f.jsx(js,{to:"/share/",className:`navbar-link ${t("/share")?"active":""}`,children:f.jsxs("div",{className:"navbar-icon-container navbar-scanner justify-center",children:[f.jsx(noe,{className:"navbar-icon"}),f.jsx("span",{className:"navbar-label",children:"Compartir QR"}),t("/share/")&&f.jsx("div",{className:"active-dot"})]})}),localStorage.getItem("id_plan")>7&&f.jsx(f.Fragment,{children:f.jsx(js,{to:"/contacts/",className:`navbar-link ${t("/contacts")?"active":""}`,children:f.jsxs("div",{className:"navbar-icon-container",children:[f.jsx(rG,{className:"navbar-icon"}),f.jsx("span",{className:"navbar-label",children:"Contactos"}),t("/contacts/")&&f.jsx("div",{className:"active-dot"})]})})}),f.jsx(js,{to:"/settings/",className:`navbar-link ${t("/settings")?"active":""}`,children:f.jsxs("div",{className:"navbar-icon-container",children:[f.jsx($j,{className:"navbar-icon"}),f.jsx("span",{className:"navbar-label",children:"Ajustes"}),t("/settings/")&&f.jsx("div",{className:"active-dot"})]})})]})})}function lm(e){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(e)}function m0e(e,t){if(lm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I0e(e){var t=m0e(e,"string");return lm(t)=="symbol"?t:String(t)}function h0e(e,t,n){return t=I0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C0e(e){if(Array.isArray(e))return e}function p0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,o=u}finally{try{if(!s&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function p3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A0e(e,t){if(e){if(typeof e=="string")return p3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p3(e,t)}}function b0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v0e(e,t){return C0e(e)||p0e(e,t)||A0e(e,t)||b0e()}function y0e(e,t){if(e==null)return{};var n=AA(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var RK={exports:{}},wt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jn=typeof Symbol=="function"&&Symbol.for,hB=jn?Symbol.for("react.element"):60103,CB=jn?Symbol.for("react.portal"):60106,cb=jn?Symbol.for("react.fragment"):60107,ub=jn?Symbol.for("react.strict_mode"):60108,gb=jn?Symbol.for("react.profiler"):60114,db=jn?Symbol.for("react.provider"):60109,fb=jn?Symbol.for("react.context"):60110,pB=jn?Symbol.for("react.async_mode"):60111,mb=jn?Symbol.for("react.concurrent_mode"):60111,Ib=jn?Symbol.for("react.forward_ref"):60112,hb=jn?Symbol.for("react.suspense"):60113,x0e=jn?Symbol.for("react.suspense_list"):60120,Cb=jn?Symbol.for("react.memo"):60115,pb=jn?Symbol.for("react.lazy"):60116,S0e=jn?Symbol.for("react.block"):60121,Z0e=jn?Symbol.for("react.fundamental"):60117,w0e=jn?Symbol.for("react.responder"):60118,G0e=jn?Symbol.for("react.scope"):60119;function mo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case hB:switch(e=e.type,e){case pB:case mb:case cb:case gb:case ub:case hb:return e;default:switch(e=e&&e.$$typeof,e){case fb:case Ib:case pb:case Cb:case db:return e;default:return t}}case CB:return t}}}function VK(e){return mo(e)===mb}wt.AsyncMode=pB;wt.ConcurrentMode=mb;wt.ContextConsumer=fb;wt.ContextProvider=db;wt.Element=hB;wt.ForwardRef=Ib;wt.Fragment=cb;wt.Lazy=pb;wt.Memo=Cb;wt.Portal=CB;wt.Profiler=gb;wt.StrictMode=ub;wt.Suspense=hb;wt.isAsyncMode=function(e){return VK(e)||mo(e)===pB};wt.isConcurrentMode=VK;wt.isContextConsumer=function(e){return mo(e)===fb};wt.isContextProvider=function(e){return mo(e)===db};wt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===hB};wt.isForwardRef=function(e){return mo(e)===Ib};wt.isFragment=function(e){return mo(e)===cb};wt.isLazy=function(e){return mo(e)===pb};wt.isMemo=function(e){return mo(e)===Cb};wt.isPortal=function(e){return mo(e)===CB};wt.isProfiler=function(e){return mo(e)===gb};wt.isStrictMode=function(e){return mo(e)===ub};wt.isSuspense=function(e){return mo(e)===hb};wt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===cb||e===mb||e===gb||e===ub||e===hb||e===x0e||typeof e=="object"&&e!==null&&(e.$$typeof===pb||e.$$typeof===Cb||e.$$typeof===db||e.$$typeof===fb||e.$$typeof===Ib||e.$$typeof===Z0e||e.$$typeof===w0e||e.$$typeof===G0e||e.$$typeof===S0e)};wt.typeOf=mo;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var A3=Object.getOwnPropertySymbols,B0e=Object.prototype.hasOwnProperty,k0e=Object.prototype.propertyIsEnumerable;function R0e(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function V0e(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(r.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(i){o[i]=i}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}V0e();var W0e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",N0e=W0e;Function.call.bind(Object.prototype.hasOwnProperty);var E0e=N0e;function WK(){}function NK(){}NK.resetWarningCache=WK;var X0e=function(){function e(r,o,i,a,l,s){if(s!==E0e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:NK,resetWarningCache:WK};return n.PropTypes=n,n};RK.exports=X0e();var Qc=RK.exports;function J0e(e,t){var n=atob(e);if(t){for(var r=new Uint8Array(n.length),o=0,i=n.length;o<i;++o)r[o]=n.charCodeAt(o);return String.fromCharCode.apply(null,new Uint16Array(r.buffer))}return n}function Y0e(e,t,n){var r=t===void 0?null:t,o=n===void 0?!1:n,i=J0e(e,o),a=i.indexOf(`
`,10)+1,l=i.substring(a)+(r?"//# sourceMappingURL="+r:""),s=new Blob([l],{type:"application/javascript"});return URL.createObjectURL(s)}function H0e(e,t,n){var r;return function(i){return r=r||Y0e(e,t,n),new Worker(r,i)}}var F0e=H0e("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewoJJ3VzZSBzdHJpY3QnOwoKCXZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9OwoKCWZ1bmN0aW9uIGdldEF1Z21lbnRlZE5hbWVzcGFjZShuKSB7CgkJaWYgKG4uX19lc01vZHVsZSkgcmV0dXJuIG47CgkJdmFyIGEgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdfX2VzTW9kdWxlJywge3ZhbHVlOiB0cnVlfSk7CgkJT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbiAoaykgewoJCQl2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobiwgayk7CgkJCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCBrLCBkLmdldCA/IGQgOiB7CgkJCQllbnVtZXJhYmxlOiB0cnVlLAoJCQkJZ2V0OiBmdW5jdGlvbiAoKSB7CgkJCQkJcmV0dXJuIG5ba107CgkJCQl9CgkJCX0pOwoJCX0pOwoJCXJldHVybiBhOwoJfQoKCXZhciBCaW5hcnlCaXRtYXAkMSA9IHt9OwoKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBFeGNlcHRpb24kMSA9IHt9OwoKCWZ1bmN0aW9uIGZpeFByb3RvKHRhcmdldCwgcHJvdG90eXBlKSB7CgkgIHZhciBzZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZjsKCSAgc2V0UHJvdG90eXBlT2YgPyBzZXRQcm90b3R5cGVPZih0YXJnZXQsIHByb3RvdHlwZSkgOiB0YXJnZXQuX19wcm90b19fID0gcHJvdG90eXBlOwoJfQoJZnVuY3Rpb24gZml4U3RhY2sodGFyZ2V0LCBmbikgewoJICBpZiAoZm4gPT09IHZvaWQgMCkgewoJICAgIGZuID0gdGFyZ2V0LmNvbnN0cnVjdG9yOwoJICB9CgoJICB2YXIgY2FwdHVyZVN0YWNrVHJhY2UgPSBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZTsKCSAgY2FwdHVyZVN0YWNrVHJhY2UgJiYgY2FwdHVyZVN0YWNrVHJhY2UodGFyZ2V0LCBmbik7Cgl9CgoJdmFyIF9fZXh0ZW5kcyRrID0gZnVuY3Rpb24gKCkgewoJICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7CgkgICAgICBfX3Byb3RvX186IFtdCgkgICAgfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICBkLl9fcHJvdG9fXyA9IGI7CgkgICAgfSB8fCBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0KCSAgICB9OwoKCSAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgfTsKCgkgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgoJICAgIGZ1bmN0aW9uIF9fKCkgewoJICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7CgkgICAgfQoKCSAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgIH07Cgl9KCk7CgoJdmFyIEN1c3RvbUVycm9yID0gZnVuY3Rpb24gKF9zdXBlcikgewoJICBfX2V4dGVuZHMkayhDdXN0b21FcnJvciwgX3N1cGVyKTsKCgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKG1lc3NhZ2UpIHsKCSAgICB2YXIgX25ld1RhcmdldCA9IHRoaXMuY29uc3RydWN0b3I7CgoJICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UpIHx8IHRoaXM7CgoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfdGhpcywgJ25hbWUnLCB7CgkgICAgICB2YWx1ZTogX25ld1RhcmdldC5uYW1lLAoJICAgICAgZW51bWVyYWJsZTogZmFsc2UsCgkgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICB9KTsKCSAgICBmaXhQcm90byhfdGhpcywgX25ld1RhcmdldC5wcm90b3R5cGUpOwoJICAgIGZpeFN0YWNrKF90aGlzKTsKCSAgICByZXR1cm4gX3RoaXM7CgkgIH0KCgkgIHJldHVybiBDdXN0b21FcnJvcjsKCX0oRXJyb3IpOwoKCXZhciBfX3NwcmVhZEFycmF5cyA9IGZ1bmN0aW9uICgpIHsKCSAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzOwoKCSAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7IHMgKz0gYXJndW1lbnRzJDFbaV0ubGVuZ3RoOyB9CgoJICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspIHsgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspIHsgcltrXSA9IGFbal07IH0gfQoKCSAgcmV0dXJuIHI7Cgl9OwoJZnVuY3Rpb24gY3VzdG9tRXJyb3JGYWN0b3J5KGZuLCBwYXJlbnQpIHsKCSAgaWYgKHBhcmVudCA9PT0gdm9pZCAwKSB7CgkgICAgcGFyZW50ID0gRXJyb3I7CgkgIH0KCgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKCkgewoJICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50czsKCgkgICAgdmFyIGFyZ3MgPSBbXTsKCgkgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzJDFbX2ldOwoJICAgIH0KCgkgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEN1c3RvbUVycm9yKSkgeyByZXR1cm4gbmV3IChDdXN0b21FcnJvci5iaW5kLmFwcGx5KEN1c3RvbUVycm9yLCBfX3NwcmVhZEFycmF5cyhbdm9pZCAwXSwgYXJncykpKSgpOyB9CgkgICAgcGFyZW50LmFwcGx5KHRoaXMsIGFyZ3MpOwoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbmFtZScsIHsKCSAgICAgIHZhbHVlOiBmbi5uYW1lIHx8IHBhcmVudC5uYW1lLAoJICAgICAgZW51bWVyYWJsZTogZmFsc2UsCgkgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICB9KTsKCSAgICBmbi5hcHBseSh0aGlzLCBhcmdzKTsKCSAgICBmaXhTdGFjayh0aGlzLCBDdXN0b21FcnJvcik7CgkgIH0KCgkgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhDdXN0b21FcnJvciwgewoJICAgIHByb3RvdHlwZTogewoJICAgICAgdmFsdWU6IE9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSwgewoJICAgICAgICBjb25zdHJ1Y3RvcjogewoJICAgICAgICAgIHZhbHVlOiBDdXN0b21FcnJvciwKCSAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKCSAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICAgICAgfQoJICAgICAgfSkKCSAgICB9CgkgIH0pOwoJfQoKCXZhciBjdXN0b21FcnJvciA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHsKCQlfX3Byb3RvX186IG51bGwsCgkJQ3VzdG9tRXJyb3I6IEN1c3RvbUVycm9yLAoJCWN1c3RvbUVycm9yRmFjdG9yeTogY3VzdG9tRXJyb3JGYWN0b3J5Cgl9KTsKCgl2YXIgcmVxdWlyZSQkMCA9IC8qQF9fUFVSRV9fKi9nZXRBdWdtZW50ZWROYW1lc3BhY2UoY3VzdG9tRXJyb3IpOwoKCXZhciBfX2V4dGVuZHMkaiA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIHRzX2N1c3RvbV9lcnJvcl8xID0gcmVxdWlyZSQkMDsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyRqKEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICAvKioKCSAgICAgKiBBbGxvd3MgRXhjZXB0aW9uIHRvIGJlIGNvbnN0cnVjdGVkIGRpcmVjdGx5CgkgICAgICogd2l0aCBzb21lIG1lc3NhZ2UgYW5kIHByb3RvdHlwZSBkZWZpbml0aW9uLgoJICAgICAqLwoJICAgIGZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlKSB7CgkgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IHVuZGVmaW5lZDsgfQoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBFeGNlcHRpb24ucHJvdG90eXBlLmdldEtpbmQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBleCA9IHRoaXMuY29uc3RydWN0b3I7CgkgICAgICAgIHJldHVybiBleC5raW5kOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogSXQncyB0eXBlZCBhcyBzdHJpbmcgc28gaXQgY2FuIGJlIGV4dGVuZGVkIGFuZCBvdmVycmlkZW4uCgkgICAgICovCgkgICAgRXhjZXB0aW9uLmtpbmQgPSAnRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gRXhjZXB0aW9uOwoJfSh0c19jdXN0b21fZXJyb3JfMS5DdXN0b21FcnJvcikpOwoJRXhjZXB0aW9uJDEuZGVmYXVsdCA9IEV4Y2VwdGlvbjsKCgl2YXIgX19leHRlbmRzJGkgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBFeGNlcHRpb25fMSQ5ID0gRXhjZXB0aW9uJDE7CgkvKioKCSAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi4KCSAqLwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkaShJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCkgewoJICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7CgkgICAgfQoJICAgIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbic7CgkgICAgcmV0dXJuIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbjsKCX0oRXhjZXB0aW9uXzEkOS5kZWZhdWx0KSk7CglJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMS5kZWZhdWx0ID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmluYXJ5Qml0bWFwJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSRhID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7Cgl2YXIgQmluYXJ5Qml0bWFwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEJpbmFyeUJpdG1hcChiaW5hcml6ZXIpIHsKCSAgICAgICAgdGhpcy5iaW5hcml6ZXIgPSBiaW5hcml6ZXI7CgkgICAgICAgIGlmIChiaW5hcml6ZXIgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSRhLmRlZmF1bHQoJ0JpbmFyaXplciBtdXN0IGJlIG5vbi1udWxsLicpOwoJICAgICAgICB9CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gVGhlIHdpZHRoIG9mIHRoZSBiaXRtYXAuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldFdpZHRoKCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSBoZWlnaHQgb2YgdGhlIGJpdG1hcC4KCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEhlaWdodCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29udmVydHMgb25lIHJvdyBvZiBsdW1pbmFuY2UgZGF0YSB0byAxIGJpdCBkYXRhLiBNYXkgYWN0dWFsbHkgZG8gdGhlIGNvbnZlcnNpb24sIG9yIHJldHVybgoJICAgICAqIGNhY2hlZCBkYXRhLiBDYWxsZXJzIHNob3VsZCBhc3N1bWUgdGhpcyBtZXRob2QgaXMgZXhwZW5zaXZlIGFuZCBjYWxsIGl0IGFzIHNlbGRvbSBhcyBwb3NzaWJsZS4KCSAgICAgKiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZGVjb2RpbmcgMUQgYmFyY29kZXMgYW5kIG1heSBjaG9vc2UgdG8gYXBwbHkgc2hhcnBlbmluZy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB5IFRoZSByb3cgdG8gZmV0Y2gsIHdoaWNoIG11c3QgYmUgaW4gWzAsIGJpdG1hcCBoZWlnaHQpCgkgICAgICogQHBhcmFtIHJvdyBBbiBvcHRpb25hbCBwcmVhbGxvY2F0ZWQgYXJyYXkuIElmIG51bGwgb3IgdG9vIHNtYWxsLCBpdCB3aWxsIGJlIGlnbm9yZWQuCgkgICAgICogICAgICAgICAgICBJZiB1c2VkLCB0aGUgQmluYXJpemVyIHdpbGwgY2FsbCBCaXRBcnJheS5jbGVhcigpLiBBbHdheXMgdXNlIHRoZSByZXR1cm5lZCBvYmplY3QuCgkgICAgICogQHJldHVybiBUaGUgYXJyYXkgb2YgYml0cyBmb3IgdGhpcyByb3cgKHRydWUgbWVhbnMgYmxhY2spLgoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgcm93IGNhbid0IGJlIGJpbmFyaXplZAoJICAgICAqLwoJICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUuZ2V0QmxhY2tSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEJsYWNrUm93KHksIHJvdyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDb252ZXJ0cyBhIDJEIGFycmF5IG9mIGx1bWluYW5jZSBkYXRhIHRvIDEgYml0LiBBcyBhYm92ZSwgYXNzdW1lIHRoaXMgbWV0aG9kIGlzIGV4cGVuc2l2ZQoJICAgICAqIGFuZCBkbyBub3QgY2FsbCBpdCByZXBlYXRlZGx5LiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZGVjb2RpbmcgMkQgYmFyY29kZXMgYW5kIG1heSBvcgoJICAgICAqIG1heSBub3QgYXBwbHkgc2hhcnBlbmluZy4gVGhlcmVmb3JlLCBhIHJvdyBmcm9tIHRoaXMgbWF0cml4IG1heSBub3QgYmUgaWRlbnRpY2FsIHRvIG9uZQoJICAgICAqIGZldGNoZWQgdXNpbmcgZ2V0QmxhY2tSb3coKSwgc28gZG9uJ3QgbWl4IGFuZCBtYXRjaCBiZXR3ZWVuIHRoZW0uCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIFRoZSAyRCBhcnJheSBvZiBiaXRzIGZvciB0aGUgaW1hZ2UgKHRydWUgbWVhbnMgYmxhY2spLgoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgaW1hZ2UgY2FuJ3QgYmUgYmluYXJpemVkIHRvIG1ha2UgYSBtYXRyaXgKCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldEJsYWNrTWF0cml4ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBUaGUgbWF0cml4IGlzIGNyZWF0ZWQgb24gZGVtYW5kIHRoZSBmaXJzdCB0aW1lIGl0IGlzIHJlcXVlc3RlZCwgdGhlbiBjYWNoZWQuIFRoZXJlIGFyZSB0d28KCSAgICAgICAgLy8gcmVhc29ucyBmb3IgdGhpczoKCSAgICAgICAgLy8gMS4gVGhpcyB3b3JrIHdpbGwgbmV2ZXIgYmUgZG9uZSBpZiB0aGUgY2FsbGVyIG9ubHkgaW5zdGFsbHMgMUQgUmVhZGVyIG9iamVjdHMsIG9yIGlmIGEKCSAgICAgICAgLy8gICAgMUQgUmVhZGVyIGZpbmRzIGEgYmFyY29kZSBiZWZvcmUgdGhlIDJEIFJlYWRlcnMgcnVuLgoJICAgICAgICAvLyAyLiBUaGlzIHdvcmsgd2lsbCBvbmx5IGJlIGRvbmUgb25jZSBldmVuIGlmIHRoZSBjYWxsZXIgaW5zdGFsbHMgbXVsdGlwbGUgMkQgUmVhZGVycy4KCSAgICAgICAgaWYgKHRoaXMubWF0cml4ID09PSBudWxsIHx8IHRoaXMubWF0cml4ID09PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHRoaXMubWF0cml4ID0gdGhpcy5iaW5hcml6ZXIuZ2V0QmxhY2tNYXRyaXgoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5tYXRyaXg7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhpcyBiaXRtYXAgY2FuIGJlIGNyb3BwZWQuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5pc0Nyb3BTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5pc0Nyb3BTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggY3JvcHBlZCBpbWFnZSBkYXRhLiBJbXBsZW1lbnRhdGlvbnMgbWF5IGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlCgkgICAgICogb3JpZ2luYWwgZGF0YSByYXRoZXIgdGhhbiBhIGNvcHkuIE9ubHkgY2FsbGFibGUgaWYgaXNDcm9wU3VwcG9ydGVkKCkgaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBsZWZ0IFRoZSBsZWZ0IGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0V2lkdGgoKSkKCSAgICAgKiBAcGFyYW0gdG9wIFRoZSB0b3AgY29vcmRpbmF0ZSwgd2hpY2ggbXVzdCBiZSBpbiBbMCxnZXRIZWlnaHQoKSkKCSAgICAgKiBAcGFyYW0gd2lkdGggVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC4KCSAgICAgKiBAcGFyYW0gaGVpZ2h0IFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZSB0byBjcm9wLgoJICAgICAqIEByZXR1cm4gQSBjcm9wcGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHZhciBuZXdTb3VyY2UgPSB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5jcm9wKGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCk7CgkgICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIGJpdG1hcCBzdXBwb3J0cyBjb3VudGVyLWNsb2Nrd2lzZSByb3RhdGlvbi4KCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmlzUm90YXRlU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkuaXNSb3RhdGVTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDkwIGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS4KCSAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3U291cmNlID0gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkucm90YXRlQ291bnRlckNsb2Nrd2lzZSgpOwoJICAgICAgICByZXR1cm4gbmV3IEJpbmFyeUJpdG1hcCh0aGlzLmJpbmFyaXplci5jcmVhdGVCaW5hcml6ZXIobmV3U291cmNlKSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIHJvdGF0ZWQgaW1hZ2UgZGF0YSBieSA0NSBkZWdyZWVzIGNvdW50ZXJjbG9ja3dpc2UuCgkgICAgICogT25seSBjYWxsYWJsZSBpZiB7QGxpbmsgI2lzUm90YXRlU3VwcG9ydGVkKCl9IGlzIHRydWUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIEEgcm90YXRlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LgoJICAgICAqLwoJICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3U291cmNlID0gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1KCk7CgkgICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QmxhY2tNYXRyaXgoKS50b1N0cmluZygpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlIC8qOiBOb3RGb3VuZEV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICByZXR1cm4gJyc7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHJldHVybiBCaW5hcnlCaXRtYXA7Cgl9KCkpOwoJdmFyIF9kZWZhdWx0JDMgPSBCaW5hcnlCaXRtYXAkMS5kZWZhdWx0ID0gQmluYXJ5Qml0bWFwOwoKCXZhciBIeWJyaWRCaW5hcml6ZXIkMSA9IHt9OwoKCXZhciBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMSA9IHt9OwoKCXZhciBCaW5hcml6ZXIkMSA9IHt9OwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmluYXJpemVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogVGhpcyBjbGFzcyBoaWVyYXJjaHkgcHJvdmlkZXMgYSBzZXQgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGx1bWluYW5jZSBkYXRhIHRvIDEgYml0IGRhdGEuCgkgKiBJdCBhbGxvd3MgdGhlIGFsZ29yaXRobSB0byB2YXJ5IHBvbHltb3JwaGljYWxseSwgZm9yIGV4YW1wbGUgYWxsb3dpbmcgYSB2ZXJ5IGV4cGVuc2l2ZQoJICogdGhyZXNob2xkaW5nIHRlY2huaXF1ZSBmb3Igc2VydmVycyBhbmQgYSBmYXN0IG9uZSBmb3IgbW9iaWxlLiBJdCBhbHNvIHBlcm1pdHMgdGhlIGltcGxlbWVudGF0aW9uCgkgKiB0byB2YXJ5LCBlLmcuIGEgSk5JIHZlcnNpb24gZm9yIEFuZHJvaWQgYW5kIGEgSmF2YSBmYWxsYmFjayB2ZXJzaW9uIGZvciBvdGhlciBwbGF0Zm9ybXMuCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqLwoJdmFyIEJpbmFyaXplciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBCaW5hcml6ZXIoc291cmNlKSB7CgkgICAgICAgIHRoaXMuc291cmNlID0gc291cmNlOwoJICAgIH0KCSAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldEx1bWluYW5jZVNvdXJjZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlOwoJICAgIH07CgkgICAgQmluYXJpemVyLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldFdpZHRoKCk7CgkgICAgfTsKCSAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldEhlaWdodCgpOwoJICAgIH07CgkgICAgcmV0dXJuIEJpbmFyaXplcjsKCX0oKSk7CglCaW5hcml6ZXIkMS5kZWZhdWx0ID0gQmluYXJpemVyOwoKCXZhciBCaXRBcnJheSQxID0ge307CgoJdmFyIEFycmF5cyQxID0ge307CgoJdmFyIFN5c3RlbSQxID0ge307CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN5c3RlbSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIFN5c3RlbSgpIHsKCSAgICB9CgkgICAgLy8gcHVibGljIHN0YXRpYyB2b2lkIGFycmF5Y29weShPYmplY3Qgc3JjLCBpbnQgc3JjUG9zLCBPYmplY3QgZGVzdCwgaW50IGRlc3RQb3MsIGludCBsZW5ndGgpCgkgICAgLyoqCgkgICAgICogTWFrZXMgYSBjb3B5IG9mIGEgYXJyYXkuCgkgICAgICovCgkgICAgU3lzdGVtLmFycmF5Y29weSA9IGZ1bmN0aW9uIChzcmMsIHNyY1BvcywgZGVzdCwgZGVzdFBvcywgbGVuZ3RoKSB7CgkgICAgICAgIC8vIFRPRE86IGJldHRlciB1c2Ugc3BsaXQgb3Igc2V0PwoJICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHsKCSAgICAgICAgICAgIGRlc3RbZGVzdFBvcysrXSA9IHNyY1tzcmNQb3MrK107CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdGltZSBpbiBtaWxsaXNlY29uZHMuCgkgICAgICovCgkgICAgU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gRGF0ZS5ub3coKTsKCSAgICB9OwoJICAgIHJldHVybiBTeXN0ZW07Cgl9KCkpOwoJU3lzdGVtJDEuZGVmYXVsdCA9IFN5c3RlbTsKCgl2YXIgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiQxID0ge307CgoJdmFyIF9fZXh0ZW5kcyRoID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDggPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkaChJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbi5raW5kID0gJ0luZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nOwoJICAgIHJldHVybiBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQ4LmRlZmF1bHQpKTsKCUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMS5kZWZhdWx0ID0gSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbjsKCgl2YXIgX19leHRlbmRzJGcgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uXzEgPSBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDE7CgkvKioKCSAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi4KCSAqLwoJdmFyIEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZyhBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uKGluZGV4LCBtZXNzYWdlKSB7CgkgICAgICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7IGluZGV4ID0gdW5kZWZpbmVkOyB9CgkgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IHVuZGVmaW5lZDsgfQoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5pbmRleCA9IGluZGV4OwoJICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24ua2luZCA9ICdBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nOwoJICAgIHJldHVybiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb247Cgl9KEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMS5kZWZhdWx0KSk7CglBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMS5kZWZhdWx0ID0gQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uOwoKCXZhciBfX3ZhbHVlcyQ3ID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5cyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3lzdGVtXzEkNSA9IFN5c3RlbSQxOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDkgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMSA9IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiQxOwoJdmFyIEFycmF5cyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBBcnJheXMoKSB7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQgYXJyYXkKCSAgICAgKiBvZiBpbnRzLgoJICAgICAqCgkgICAgICogQHBhcmFtIGEgdGhlIGFycmF5IHRvIGJlIGZpbGxlZAoJICAgICAqIEBwYXJhbSB2YWwgdGhlIHZhbHVlIHRvIGJlIHN0b3JlZCBpbiBhbGwgZWxlbWVudHMgb2YgdGhlIGFycmF5CgkgICAgICovCgkgICAgQXJyYXlzLmZpbGwgPSBmdW5jdGlvbiAoYSwgdmFsKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKQoJICAgICAgICAgICAgYVtpXSA9IHZhbDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQKCSAgICAgKiByYW5nZSBvZiB0aGUgc3BlY2lmaWVkIGFycmF5IG9mIGludHMuICBUaGUgcmFuZ2UgdG8gYmUgZmlsbGVkCgkgICAgICogZXh0ZW5kcyBmcm9tIGluZGV4IHtAY29kZSBmcm9tSW5kZXh9LCBpbmNsdXNpdmUsIHRvIGluZGV4CgkgICAgICoge0Bjb2RlIHRvSW5kZXh9LCBleGNsdXNpdmUuICAoSWYge0Bjb2RlIGZyb21JbmRleD09dG9JbmRleH0sIHRoZQoJICAgICAqIHJhbmdlIHRvIGJlIGZpbGxlZCBpcyBlbXB0eS4pCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYSB0aGUgYXJyYXkgdG8gYmUgZmlsbGVkCgkgICAgICogQHBhcmFtIGZyb21JbmRleCB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGVsZW1lbnQgKGluY2x1c2l2ZSkgdG8gYmUKCSAgICAgKiAgICAgICAgZmlsbGVkIHdpdGggdGhlIHNwZWNpZmllZCB2YWx1ZQoJICAgICAqIEBwYXJhbSB0b0luZGV4IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBlbGVtZW50IChleGNsdXNpdmUpIHRvIGJlCgkgICAgICogICAgICAgIGZpbGxlZCB3aXRoIHRoZSBzcGVjaWZpZWQgdmFsdWUKCSAgICAgKiBAcGFyYW0gdmFsIHRoZSB2YWx1ZSB0byBiZSBzdG9yZWQgaW4gYWxsIGVsZW1lbnRzIG9mIHRoZSBhcnJheQoJICAgICAqIEB0aHJvd3MgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPiB0b0luZGV4fQoJICAgICAqIEB0aHJvd3MgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPCAwfSBvcgoJICAgICAqICAgICAgICAge0Bjb2RlIHRvSW5kZXggPiBhLmxlbmd0aH0KCSAgICAgKi8KCSAgICBBcnJheXMuZmlsbFdpdGhpbiA9IGZ1bmN0aW9uIChhLCBmcm9tSW5kZXgsIHRvSW5kZXgsIHZhbCkgewoJICAgICAgICBBcnJheXMucmFuZ2VDaGVjayhhLmxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KTsKCSAgICAgICAgZm9yICh2YXIgaSA9IGZyb21JbmRleDsgaSA8IHRvSW5kZXg7IGkrKykKCSAgICAgICAgICAgIGFbaV0gPSB2YWw7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDaGVja3MgdGhhdCB7QGNvZGUgZnJvbUluZGV4fSBhbmQge0Bjb2RlIHRvSW5kZXh9IGFyZSBpbgoJICAgICAqIHRoZSByYW5nZSBhbmQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiB0aGV5IGFyZW4ndC4KCSAgICAgKi8KCSAgICBBcnJheXMucmFuZ2VDaGVjayA9IGZ1bmN0aW9uIChhcnJheUxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KSB7CgkgICAgICAgIGlmIChmcm9tSW5kZXggPiB0b0luZGV4KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkOS5kZWZhdWx0KCdmcm9tSW5kZXgoJyArIGZyb21JbmRleCArICcpID4gdG9JbmRleCgnICsgdG9JbmRleCArICcpJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGZyb21JbmRleCA8IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMS5kZWZhdWx0KGZyb21JbmRleCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRvSW5kZXggPiBhcnJheUxlbmd0aCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbl8xLmRlZmF1bHQodG9JbmRleCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIEFycmF5cy5hc0xpc3QgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBhcmdzID0gW107CgkgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7CgkgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGFyZ3M7CgkgICAgfTsKCSAgICBBcnJheXMuY3JlYXRlID0gZnVuY3Rpb24gKHJvd3MsIGNvbHMsIHZhbHVlKSB7CgkgICAgICAgIHZhciBhcnIgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiByb3dzIH0pOwoJICAgICAgICByZXR1cm4gYXJyLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogY29scyB9KS5maWxsKHZhbHVlKTsgfSk7CgkgICAgfTsKCSAgICBBcnJheXMuY3JlYXRlSW50MzJBcnJheSA9IGZ1bmN0aW9uIChyb3dzLCBjb2xzLCB2YWx1ZSkgewoJICAgICAgICB2YXIgYXJyID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogcm93cyB9KTsKCSAgICAgICAgcmV0dXJuIGFyci5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIEludDMyQXJyYXkuZnJvbSh7IGxlbmd0aDogY29scyB9KS5maWxsKHZhbHVlKTsgfSk7CgkgICAgfTsKCSAgICBBcnJheXMuZXF1YWxzID0gZnVuY3Rpb24gKGZpcnN0LCBzZWNvbmQpIHsKCSAgICAgICAgaWYgKCFmaXJzdCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIGlmICghc2Vjb25kKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKCFmaXJzdC5sZW5ndGgpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoIXNlY29uZC5sZW5ndGgpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZmlyc3QubGVuZ3RoICE9PSBzZWNvbmQubGVuZ3RoKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gZmlyc3QubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgaWYgKGZpcnN0W2ldICE9PSBzZWNvbmRbaV0pIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICBBcnJheXMuaGFzaENvZGUgPSBmdW5jdGlvbiAoYSkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgaWYgKGEgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiAwOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSAxOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgYV8xID0gX192YWx1ZXMkNyhhKSwgYV8xXzEgPSBhXzEubmV4dCgpOyAhYV8xXzEuZG9uZTsgYV8xXzEgPSBhXzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBhXzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICByZXN1bHQgPSAzMSAqIHJlc3VsdCArIGVsZW1lbnQ7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChhXzFfMSAmJiAhYV8xXzEuZG9uZSAmJiAoX2EgPSBhXzEucmV0dXJuKSkgX2EuY2FsbChhXzEpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgfTsKCSAgICBBcnJheXMuZmlsbFVpbnQ4QXJyYXkgPSBmdW5jdGlvbiAoYSwgdmFsdWUpIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgIT09IGEubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIGFbaV0gPSB2YWx1ZTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgQXJyYXlzLmNvcHlPZiA9IGZ1bmN0aW9uIChvcmlnaW5hbCwgbmV3TGVuZ3RoKSB7CgkgICAgICAgIHJldHVybiBvcmlnaW5hbC5zbGljZSgwLCBuZXdMZW5ndGgpOwoJICAgIH07CgkgICAgQXJyYXlzLmNvcHlPZlVpbnQ4QXJyYXkgPSBmdW5jdGlvbiAob3JpZ2luYWwsIG5ld0xlbmd0aCkgewoJICAgICAgICBpZiAob3JpZ2luYWwubGVuZ3RoIDw9IG5ld0xlbmd0aCkgewoJICAgICAgICAgICAgdmFyIG5ld0FycmF5ID0gbmV3IFVpbnQ4QXJyYXkobmV3TGVuZ3RoKTsKCSAgICAgICAgICAgIG5ld0FycmF5LnNldChvcmlnaW5hbCk7CgkgICAgICAgICAgICByZXR1cm4gbmV3QXJyYXk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG9yaWdpbmFsLnNsaWNlKDAsIG5ld0xlbmd0aCk7CgkgICAgfTsKCSAgICBBcnJheXMuY29weU9mUmFuZ2UgPSBmdW5jdGlvbiAob3JpZ2luYWwsIGZyb20sIHRvKSB7CgkgICAgICAgIHZhciBuZXdMZW5ndGggPSB0byAtIGZyb207CgkgICAgICAgIHZhciBjb3B5ID0gbmV3IEludDMyQXJyYXkobmV3TGVuZ3RoKTsKCSAgICAgICAgU3lzdGVtXzEkNS5kZWZhdWx0LmFycmF5Y29weShvcmlnaW5hbCwgZnJvbSwgY29weSwgMCwgbmV3TGVuZ3RoKTsKCSAgICAgICAgcmV0dXJuIGNvcHk7CgkgICAgfTsKCSAgICAvKgoJICAgICogUmV0dXJucyB0aGUgaW5kZXggb2Ygb2YgdGhlIGVsZW1lbnQgaW4gYSBzb3J0ZWQgYXJyYXkgb3IgKC1uLTEpIHdoZXJlIG4gaXMgdGhlIGluc2VydGlvbiBwb2ludAoJICAgICogZm9yIHRoZSBuZXcgZWxlbWVudC4KCSAgICAqIFBhcmFtZXRlcnM6CgkgICAgKiAgICAgYXIgLSBBIHNvcnRlZCBhcnJheQoJICAgICogICAgIGVsIC0gQW4gZWxlbWVudCB0byBzZWFyY2ggZm9yCgkgICAgKiAgICAgY29tcGFyYXRvciAtIEEgY29tcGFyYXRvciBmdW5jdGlvbi4gVGhlIGZ1bmN0aW9uIHRha2VzIHR3byBhcmd1bWVudHM6IChhLCBiKSBhbmQgcmV0dXJuczoKCSAgICAqICAgICAgICBhIG5lZ2F0aXZlIG51bWJlciAgaWYgYSBpcyBsZXNzIHRoYW4gYjsKCSAgICAqICAgICAgICAwIGlmIGEgaXMgZXF1YWwgdG8gYjsKCSAgICAqICAgICAgICBhIHBvc2l0aXZlIG51bWJlciBvZiBhIGlzIGdyZWF0ZXIgdGhhbiBiLgoJICAgICogVGhlIGFycmF5IG1heSBjb250YWluIGR1cGxpY2F0ZSBlbGVtZW50cy4gSWYgdGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUgZXF1YWwgZWxlbWVudHMgaW4gdGhlIGFycmF5LAoJICAgICogdGhlIHJldHVybmVkIHZhbHVlIGNhbiBiZSB0aGUgaW5kZXggb2YgYW55IG9uZSBvZiB0aGUgZXF1YWwgZWxlbWVudHMuCgkgICAgKgoJICAgICogaHR0cDovL2pzZmlkZGxlLm5ldC9hcnl6aG92L3BrZnN0NTUwLwoJICAgICovCgkgICAgQXJyYXlzLmJpbmFyeVNlYXJjaCA9IGZ1bmN0aW9uIChhciwgZWwsIGNvbXBhcmF0b3IpIHsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY29tcGFyYXRvcikgewoJICAgICAgICAgICAgY29tcGFyYXRvciA9IEFycmF5cy5udW1iZXJDb21wYXJhdG9yOwoJICAgICAgICB9CgkgICAgICAgIHZhciBtID0gMDsKCSAgICAgICAgdmFyIG4gPSBhci5sZW5ndGggLSAxOwoJICAgICAgICB3aGlsZSAobSA8PSBuKSB7CgkgICAgICAgICAgICB2YXIgayA9IChuICsgbSkgPj4gMTsKCSAgICAgICAgICAgIHZhciBjbXAgPSBjb21wYXJhdG9yKGVsLCBhcltrXSk7CgkgICAgICAgICAgICBpZiAoY21wID4gMCkgewoJICAgICAgICAgICAgICAgIG0gPSBrICsgMTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKGNtcCA8IDApIHsKCSAgICAgICAgICAgICAgICBuID0gayAtIDE7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gazsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gLW0gLSAxOwoJICAgIH07CgkgICAgQXJyYXlzLm51bWJlckNvbXBhcmF0b3IgPSBmdW5jdGlvbiAoYSwgYikgewoJICAgICAgICByZXR1cm4gYSAtIGI7CgkgICAgfTsKCSAgICByZXR1cm4gQXJyYXlzOwoJfSgpKTsKCUFycmF5cyQxLmRlZmF1bHQgPSBBcnJheXM7CgoJdmFyIEludGVnZXIkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlZ2VyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogUG9ueWZpbGwgZm9yIEphdmEncyBJbnRlZ2VyIGNsYXNzLgoJICovCgl2YXIgSW50ZWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBJbnRlZ2VyKCkgewoJICAgIH0KCSAgICBJbnRlZ2VyLm51bWJlck9mVHJhaWxpbmdaZXJvcyA9IGZ1bmN0aW9uIChpKSB7CgkgICAgICAgIHZhciB5OwoJICAgICAgICBpZiAoaSA9PT0gMCkKCSAgICAgICAgICAgIHJldHVybiAzMjsKCSAgICAgICAgdmFyIG4gPSAzMTsKCSAgICAgICAgeSA9IGkgPDwgMTY7CgkgICAgICAgIGlmICh5ICE9PSAwKSB7CgkgICAgICAgICAgICBuIC09IDE2OwoJICAgICAgICAgICAgaSA9IHk7CgkgICAgICAgIH0KCSAgICAgICAgeSA9IGkgPDwgODsKCSAgICAgICAgaWYgKHkgIT09IDApIHsKCSAgICAgICAgICAgIG4gLT0gODsKCSAgICAgICAgICAgIGkgPSB5OwoJICAgICAgICB9CgkgICAgICAgIHkgPSBpIDw8IDQ7CgkgICAgICAgIGlmICh5ICE9PSAwKSB7CgkgICAgICAgICAgICBuIC09IDQ7CgkgICAgICAgICAgICBpID0geTsKCSAgICAgICAgfQoJICAgICAgICB5ID0gaSA8PCAyOwoJICAgICAgICBpZiAoeSAhPT0gMCkgewoJICAgICAgICAgICAgbiAtPSAyOwoJICAgICAgICAgICAgaSA9IHk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG4gLSAoKGkgPDwgMSkgPj4+IDMxKTsKCSAgICB9OwoJICAgIEludGVnZXIubnVtYmVyT2ZMZWFkaW5nWmVyb3MgPSBmdW5jdGlvbiAoaSkgewoJICAgICAgICAvLyBIRCwgRmlndXJlIDUtNgoJICAgICAgICBpZiAoaSA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIDMyOwoJICAgICAgICB9CgkgICAgICAgIHZhciBuID0gMTsKCSAgICAgICAgaWYgKGkgPj4+IDE2ID09PSAwKSB7CgkgICAgICAgICAgICBuICs9IDE2OwoJICAgICAgICAgICAgaSA8PD0gMTY7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGkgPj4+IDI0ID09PSAwKSB7CgkgICAgICAgICAgICBuICs9IDg7CgkgICAgICAgICAgICBpIDw8PSA4OwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID4+PiAyOCA9PT0gMCkgewoJICAgICAgICAgICAgbiArPSA0OwoJICAgICAgICAgICAgaSA8PD0gNDsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaSA+Pj4gMzAgPT09IDApIHsKCSAgICAgICAgICAgIG4gKz0gMjsKCSAgICAgICAgICAgIGkgPDw9IDI7CgkgICAgICAgIH0KCSAgICAgICAgbiAtPSBpID4+PiAzMTsKCSAgICAgICAgcmV0dXJuIG47CgkgICAgfTsKCSAgICBJbnRlZ2VyLnRvSGV4U3RyaW5nID0gZnVuY3Rpb24gKGkpIHsKCSAgICAgICAgcmV0dXJuIGkudG9TdHJpbmcoMTYpOwoJICAgIH07CgkgICAgSW50ZWdlci50b0JpbmFyeVN0cmluZyA9IGZ1bmN0aW9uIChpbnROdW1iZXIpIHsKCSAgICAgICAgcmV0dXJuIFN0cmluZyhwYXJzZUludChTdHJpbmcoaW50TnVtYmVyKSwgMikpOwoJICAgIH07CgkgICAgLy8gUmV0dXJucyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4gVGhpcyBmdW5jdGlvbiBpcyBzb21ldGltZXMgcmVmZXJyZWQgdG8gYXMgdGhlIHBvcHVsYXRpb24gY291bnQuCgkgICAgLy8gUmV0dXJuczoKCSAgICAvLyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4KCSAgICBJbnRlZ2VyLmJpdENvdW50ID0gZnVuY3Rpb24gKGkpIHsKCSAgICAgICAgLy8gSEQsIEZpZ3VyZSA1LTIKCSAgICAgICAgaSA9IGkgLSAoKGkgPj4+IDEpICYgMHg1NTU1NTU1NSk7CgkgICAgICAgIGkgPSAoaSAmIDB4MzMzMzMzMzMpICsgKChpID4+PiAyKSAmIDB4MzMzMzMzMzMpOwoJICAgICAgICBpID0gKGkgKyAoaSA+Pj4gNCkpICYgMHgwZjBmMGYwZjsKCSAgICAgICAgaSA9IGkgKyAoaSA+Pj4gOCk7CgkgICAgICAgIGkgPSBpICsgKGkgPj4+IDE2KTsKCSAgICAgICAgcmV0dXJuIGkgJiAweDNmOwoJICAgIH07CgkgICAgSW50ZWdlci50cnVuY0RpdmlzaW9uID0gZnVuY3Rpb24gKGRpdmlkZW5kLCBkaXZpc29yKSB7CgkgICAgICAgIHJldHVybiBNYXRoLnRydW5jKGRpdmlkZW5kIC8gZGl2aXNvcik7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDb252ZXJ0cyBBIHN0cmluZyB0byBhbiBpbnRlZ2VyLgoJICAgICAqIEBwYXJhbSBzIEEgc3RyaW5nIHRvIGNvbnZlcnQgaW50byBhIG51bWJlci4KCSAgICAgKiBAcGFyYW0gcmFkaXggQSB2YWx1ZSBiZXR3ZWVuIDIgYW5kIDM2IHRoYXQgc3BlY2lmaWVzIHRoZSBiYXNlIG9mIHRoZSBudW1iZXIgaW4gbnVtU3RyaW5nLiBJZiB0aGlzIGFyZ3VtZW50IGlzIG5vdCBzdXBwbGllZCwgc3RyaW5ncyB3aXRoIGEgcHJlZml4IG9mICcweCcgYXJlIGNvbnNpZGVyZWQgaGV4YWRlY2ltYWwuIEFsbCBvdGhlciBzdHJpbmdzIGFyZSBjb25zaWRlcmVkIGRlY2ltYWwuCgkgICAgICovCgkgICAgSW50ZWdlci5wYXJzZUludCA9IGZ1bmN0aW9uIChudW0sIHJhZGl4KSB7CgkgICAgICAgIGlmIChyYWRpeCA9PT0gdm9pZCAwKSB7IHJhZGl4ID0gdW5kZWZpbmVkOyB9CgkgICAgICAgIHJldHVybiBwYXJzZUludChudW0sIHJhZGl4KTsKCSAgICB9OwoJICAgIEludGVnZXIuTUlOX1ZBTFVFXzMyX0JJVFMgPSAtMjE0NzQ4MzY0ODsKCSAgICBJbnRlZ2VyLk1BWF9WQUxVRSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwoJICAgIHJldHVybiBJbnRlZ2VyOwoJfSgpKTsKCUludGVnZXIkMS5kZWZhdWx0ID0gSW50ZWdlcjsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdEFycmF5JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqLwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDggPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcnJheXNfMSQxID0gQXJyYXlzJDE7Cgl2YXIgSW50ZWdlcl8xJDIgPSBJbnRlZ2VyJDE7Cgl2YXIgU3lzdGVtXzEkNCA9IFN5c3RlbSQxOwoJLyoqCgkgKiA8cD5BIHNpbXBsZSwgZmFzdCBhcnJheSBvZiBiaXRzLCByZXByZXNlbnRlZCBjb21wYWN0bHkgYnkgYW4gYXJyYXkgb2YgaW50cyBpbnRlcm5hbGx5LjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgQml0QXJyYXkgLyppbXBsZW1lbnRzIENsb25lYWJsZSovID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsKCSAgICAvLyAgIHRoaXMuc2l6ZSA9IDAKCSAgICAvLyAgIHRoaXMuYml0cyA9IG5ldyBJbnQzMkFycmF5KDEpCgkgICAgLy8gfQoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcihzaXplPzogbnVtYmVyIC8qaW50Ki8pIHsKCSAgICAvLyAgIGlmICh1bmRlZmluZWQgPT09IHNpemUpIHsKCSAgICAvLyAgICAgdGhpcy5zaXplID0gMAoJICAgIC8vICAgfSBlbHNlIHsKCSAgICAvLyAgICAgdGhpcy5zaXplID0gc2l6ZQoJICAgIC8vICAgfQoJICAgIC8vICAgdGhpcy5iaXRzID0gdGhpcy5tYWtlQXJyYXkoc2l6ZSkKCSAgICAvLyB9CgkgICAgLy8gRm9yIHRlc3Rpbmcgb25seQoJICAgIGZ1bmN0aW9uIEJpdEFycmF5KHNpemUgLyppbnQqLywgYml0cykgewoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSBzaXplKSB7CgkgICAgICAgICAgICB0aGlzLnNpemUgPSAwOwoJICAgICAgICAgICAgdGhpcy5iaXRzID0gbmV3IEludDMyQXJyYXkoMSk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLnNpemUgPSBzaXplOwoJICAgICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gYml0cyB8fCBudWxsID09PSBiaXRzKSB7CgkgICAgICAgICAgICAgICAgdGhpcy5iaXRzID0gQml0QXJyYXkubWFrZUFycmF5KHNpemUpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhpcy5iaXRzID0gYml0czsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH0KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZTsKCSAgICB9OwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXRTaXplSW5CeXRlcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuc2l6ZSArIDcpIC8gOCk7CgkgICAgfTsKCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZW5zdXJlQ2FwYWNpdHkgPSBmdW5jdGlvbiAoc2l6ZSAvKmludCovKSB7CgkgICAgICAgIGlmIChzaXplID4gdGhpcy5iaXRzLmxlbmd0aCAqIDMyKSB7CgkgICAgICAgICAgICB2YXIgbmV3Qml0cyA9IEJpdEFycmF5Lm1ha2VBcnJheShzaXplKTsKCSAgICAgICAgICAgIFN5c3RlbV8xJDQuZGVmYXVsdC5hcnJheWNvcHkodGhpcy5iaXRzLCAwLCBuZXdCaXRzLCAwLCB0aGlzLmJpdHMubGVuZ3RoKTsKCSAgICAgICAgICAgIHRoaXMuYml0cyA9IG5ld0JpdHM7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBpIGJpdCB0byBnZXQKCSAgICAgKiBAcmV0dXJuIHRydWUgaWZmIGJpdCBpIGlzIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiAodGhpcy5iaXRzW01hdGguZmxvb3IoaSAvIDMyKV0gJiAoMSA8PCAoaSAmIDB4MUYpKSkgIT09IDA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGJpdCBpLgoJICAgICAqCgkgICAgICogQHBhcmFtIGkgYml0IHRvIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaSAvKmludCovKSB7CgkgICAgICAgIHRoaXMuYml0c1tNYXRoLmZsb29yKGkgLyAzMildIHw9IDEgPDwgKGkgJiAweDFGKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEZsaXBzIGJpdCBpLgoJICAgICAqCgkgICAgICogQHBhcmFtIGkgYml0IHRvIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5mbGlwID0gZnVuY3Rpb24gKGkgLyppbnQqLykgewoJICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSBePSAxIDw8IChpICYgMHgxRik7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gZnJvbSBmaXJzdCBiaXQgdG8gY2hlY2sKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIGZpcnN0IGJpdCB0aGF0IGlzIHNldCwgc3RhcnRpbmcgZnJvbSB0aGUgZ2l2ZW4gaW5kZXgsIG9yIHNpemUgaWYgbm9uZSBhcmUgc2V0CgkgICAgICogIGF0IG9yIGJleW9uZCB0aGlzIGdpdmVuIGluZGV4CgkgICAgICogQHNlZSAjZ2V0TmV4dFVuc2V0KGludCkKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0TmV4dFNldCA9IGZ1bmN0aW9uIChmcm9tIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIHNpemUgPSB0aGlzLnNpemU7CgkgICAgICAgIGlmIChmcm9tID49IHNpemUpIHsKCSAgICAgICAgICAgIHJldHVybiBzaXplOwoJICAgICAgICB9CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IE1hdGguZmxvb3IoZnJvbSAvIDMyKTsKCSAgICAgICAgdmFyIGN1cnJlbnRCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgLy8gbWFzayBvZmYgbGVzc2VyIGJpdHMgZmlyc3QKCSAgICAgICAgY3VycmVudEJpdHMgJj0gfigoMSA8PCAoZnJvbSAmIDB4MUYpKSAtIDEpOwoJICAgICAgICB2YXIgbGVuZ3RoID0gYml0cy5sZW5ndGg7CgkgICAgICAgIHdoaWxlIChjdXJyZW50Qml0cyA9PT0gMCkgewoJICAgICAgICAgICAgaWYgKCsrYml0c09mZnNldCA9PT0gbGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIHNpemU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjdXJyZW50Qml0cyA9IGJpdHNbYml0c09mZnNldF07CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdCA9IChiaXRzT2Zmc2V0ICogMzIpICsgSW50ZWdlcl8xJDIuZGVmYXVsdC5udW1iZXJPZlRyYWlsaW5nWmVyb3MoY3VycmVudEJpdHMpOwoJICAgICAgICByZXR1cm4gcmVzdWx0ID4gc2l6ZSA/IHNpemUgOiByZXN1bHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gZnJvbSBpbmRleCB0byBzdGFydCBsb29raW5nIGZvciB1bnNldCBiaXQKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIG5leHQgdW5zZXQgYml0LCBvciB7QGNvZGUgc2l6ZX0gaWYgbm9uZSBhcmUgdW5zZXQgdW50aWwgdGhlIGVuZAoJICAgICAqIEBzZWUgI2dldE5leHRTZXQoaW50KQoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXROZXh0VW5zZXQgPSBmdW5jdGlvbiAoZnJvbSAvKmludCovKSB7CgkgICAgICAgIHZhciBzaXplID0gdGhpcy5zaXplOwoJICAgICAgICBpZiAoZnJvbSA+PSBzaXplKSB7CgkgICAgICAgICAgICByZXR1cm4gc2l6ZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgdmFyIGJpdHNPZmZzZXQgPSBNYXRoLmZsb29yKGZyb20gLyAzMik7CgkgICAgICAgIHZhciBjdXJyZW50Qml0cyA9IH5iaXRzW2JpdHNPZmZzZXRdOwoJICAgICAgICAvLyBtYXNrIG9mZiBsZXNzZXIgYml0cyBmaXJzdAoJICAgICAgICBjdXJyZW50Qml0cyAmPSB+KCgxIDw8IChmcm9tICYgMHgxRikpIC0gMSk7CgkgICAgICAgIHZhciBsZW5ndGggPSBiaXRzLmxlbmd0aDsKCSAgICAgICAgd2hpbGUgKGN1cnJlbnRCaXRzID09PSAwKSB7CgkgICAgICAgICAgICBpZiAoKytiaXRzT2Zmc2V0ID09PSBsZW5ndGgpIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gc2l6ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGN1cnJlbnRCaXRzID0gfmJpdHNbYml0c09mZnNldF07CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdCA9IChiaXRzT2Zmc2V0ICogMzIpICsgSW50ZWdlcl8xJDIuZGVmYXVsdC5udW1iZXJPZlRyYWlsaW5nWmVyb3MoY3VycmVudEJpdHMpOwoJICAgICAgICByZXR1cm4gcmVzdWx0ID4gc2l6ZSA/IHNpemUgOiByZXN1bHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGEgYmxvY2sgb2YgMzIgYml0cywgc3RhcnRpbmcgYXQgYml0IGkuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gaSBmaXJzdCBiaXQgdG8gc2V0CgkgICAgICogQHBhcmFtIG5ld0JpdHMgdGhlIG5ldyB2YWx1ZSBvZiB0aGUgbmV4dCAzMiBiaXRzLiBOb3RlIGFnYWluIHRoYXQgdGhlIGxlYXN0LXNpZ25pZmljYW50IGJpdAoJICAgICAqIGNvcnJlc3BvbmRzIHRvIGJpdCBpLCB0aGUgbmV4dC1sZWFzdC1zaWduaWZpY2FudCB0byBpKzEsIGFuZCBzbyBvbi4KCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0QnVsayA9IGZ1bmN0aW9uIChpIC8qaW50Ki8sIG5ld0JpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSA9IG5ld0JpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGEgcmFuZ2Ugb2YgYml0cy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGFydCBzdGFydCBvZiByYW5nZSwgaW5jbHVzaXZlLgoJICAgICAqIEBwYXJhbSBlbmQgZW5kIG9mIHJhbmdlLCBleGNsdXNpdmUKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0UmFuZ2UgPSBmdW5jdGlvbiAoc3RhcnQgLyppbnQqLywgZW5kIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGVuZCA8IHN0YXJ0IHx8IHN0YXJ0IDwgMCB8fCBlbmQgPiB0aGlzLnNpemUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ4LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZW5kID09PSBzdGFydCkgewoJICAgICAgICAgICAgcmV0dXJuOwoJICAgICAgICB9CgkgICAgICAgIGVuZC0tOyAvLyB3aWxsIGJlIGVhc2llciB0byB0cmVhdCB0aGlzIGFzIHRoZSBsYXN0IGFjdHVhbGx5IHNldCBiaXQgLS0gaW5jbHVzaXZlCgkgICAgICAgIHZhciBmaXJzdEludCA9IE1hdGguZmxvb3Ioc3RhcnQgLyAzMik7CgkgICAgICAgIHZhciBsYXN0SW50ID0gTWF0aC5mbG9vcihlbmQgLyAzMik7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICBmb3IgKHZhciBpID0gZmlyc3RJbnQ7IGkgPD0gbGFzdEludDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgZmlyc3RCaXQgPSBpID4gZmlyc3RJbnQgPyAwIDogc3RhcnQgJiAweDFGOwoJICAgICAgICAgICAgdmFyIGxhc3RCaXQgPSBpIDwgbGFzdEludCA/IDMxIDogZW5kICYgMHgxRjsKCSAgICAgICAgICAgIC8vIE9uZXMgZnJvbSBmaXJzdEJpdCB0byBsYXN0Qml0LCBpbmNsdXNpdmUKCSAgICAgICAgICAgIHZhciBtYXNrID0gKDIgPDwgbGFzdEJpdCkgLSAoMSA8PCBmaXJzdEJpdCk7CgkgICAgICAgICAgICBiaXRzW2ldIHw9IG1hc2s7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIENsZWFycyBhbGwgYml0cyAoc2V0cyB0byBmYWxzZSkuCgkgICAgICovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbWF4ID0gdGhpcy5iaXRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4OyBpKyspIHsKCSAgICAgICAgICAgIGJpdHNbaV0gPSAwOwoJICAgICAgICB9CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBFZmZpY2llbnQgbWV0aG9kIHRvIGNoZWNrIGlmIGEgcmFuZ2Ugb2YgYml0cyBpcyBzZXQsIG9yIG5vdCBzZXQuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gc3RhcnQgc3RhcnQgb2YgcmFuZ2UsIGluY2x1c2l2ZS4KCSAgICAgKiBAcGFyYW0gZW5kIGVuZCBvZiByYW5nZSwgZXhjbHVzaXZlCgkgICAgICogQHBhcmFtIHZhbHVlIGlmIHRydWUsIGNoZWNrcyB0aGF0IGJpdHMgaW4gcmFuZ2UgYXJlIHNldCwgb3RoZXJ3aXNlIGNoZWNrcyB0aGF0IHRoZXkgYXJlIG5vdCBzZXQKCSAgICAgKiBAcmV0dXJuIHRydWUgaWZmIGFsbCBiaXRzIGFyZSBzZXQgb3Igbm90IHNldCBpbiByYW5nZSwgYWNjb3JkaW5nIHRvIHZhbHVlIGFyZ3VtZW50CgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgZW5kIGlzIGxlc3MgdGhhbiBzdGFydCBvciB0aGUgcmFuZ2UgaXMgbm90IGNvbnRhaW5lZCBpbiB0aGUgYXJyYXkKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuaXNSYW5nZSA9IGZ1bmN0aW9uIChzdGFydCAvKmludCovLCBlbmQgLyppbnQqLywgdmFsdWUpIHsKCSAgICAgICAgaWYgKGVuZCA8IHN0YXJ0IHx8IHN0YXJ0IDwgMCB8fCBlbmQgPiB0aGlzLnNpemUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ4LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZW5kID09PSBzdGFydCkgewoJICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIGVtcHR5IHJhbmdlIG1hdGNoZXMKCSAgICAgICAgfQoJICAgICAgICBlbmQtLTsgLy8gd2lsbCBiZSBlYXNpZXIgdG8gdHJlYXQgdGhpcyBhcyB0aGUgbGFzdCBhY3R1YWxseSBzZXQgYml0IC0tIGluY2x1c2l2ZQoJICAgICAgICB2YXIgZmlyc3RJbnQgPSBNYXRoLmZsb29yKHN0YXJ0IC8gMzIpOwoJICAgICAgICB2YXIgbGFzdEludCA9IE1hdGguZmxvb3IoZW5kIC8gMzIpOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgaSA9IGZpcnN0SW50OyBpIDw9IGxhc3RJbnQ7IGkrKykgewoJICAgICAgICAgICAgdmFyIGZpcnN0Qml0ID0gaSA+IGZpcnN0SW50ID8gMCA6IHN0YXJ0ICYgMHgxRjsKCSAgICAgICAgICAgIHZhciBsYXN0Qml0ID0gaSA8IGxhc3RJbnQgPyAzMSA6IGVuZCAmIDB4MUY7CgkgICAgICAgICAgICAvLyBPbmVzIGZyb20gZmlyc3RCaXQgdG8gbGFzdEJpdCwgaW5jbHVzaXZlCgkgICAgICAgICAgICB2YXIgbWFzayA9ICgyIDw8IGxhc3RCaXQpIC0gKDEgPDwgZmlyc3RCaXQpICYgMHhGRkZGRkZGRjsKCSAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiAmIDB4RkZGRkZGRkYgYWRkZWQgdG8gZGlzY2FyZCBhbnl0aGluZyBhZnRlciAzMiBiaXRzLCBhcyBFUyBoYXMgNTMgYml0cwoJICAgICAgICAgICAgLy8gUmV0dXJuIGZhbHNlIGlmIHdlJ3JlIGxvb2tpbmcgZm9yIDFzIGFuZCB0aGUgbWFza2VkIGJpdHNbaV0gaXNuJ3QgYWxsIDFzIChpczogdGhhdCwKCSAgICAgICAgICAgIC8vIGVxdWFscyB0aGUgbWFzaywgb3Igd2UncmUgbG9va2luZyBmb3IgMHMgYW5kIHRoZSBtYXNrZWQgcG9ydGlvbiBpcyBub3QgYWxsIDBzCgkgICAgICAgICAgICBpZiAoKGJpdHNbaV0gJiBtYXNrKSAhPT0gKHZhbHVlID8gbWFzayA6IDApKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0cnVlOwoJICAgIH07CgkgICAgQml0QXJyYXkucHJvdG90eXBlLmFwcGVuZEJpdCA9IGZ1bmN0aW9uIChiaXQpIHsKCSAgICAgICAgdGhpcy5lbnN1cmVDYXBhY2l0eSh0aGlzLnNpemUgKyAxKTsKCSAgICAgICAgaWYgKGJpdCkgewoJICAgICAgICAgICAgdGhpcy5iaXRzW01hdGguZmxvb3IodGhpcy5zaXplIC8gMzIpXSB8PSAxIDw8ICh0aGlzLnNpemUgJiAweDFGKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLnNpemUrKzsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEFwcGVuZHMgdGhlIGxlYXN0LXNpZ25pZmljYW50IGJpdHMsIGZyb20gdmFsdWUsIGluIG9yZGVyIGZyb20gbW9zdC1zaWduaWZpY2FudCB0bwoJICAgICAqIGxlYXN0LXNpZ25pZmljYW50LiBGb3IgZXhhbXBsZSwgYXBwZW5kaW5nIDYgYml0cyBmcm9tIDB4MDAwMDAxRSB3aWxsIGFwcGVuZCB0aGUgYml0cwoJICAgICAqIDAsIDEsIDEsIDEsIDEsIDAgaW4gdGhhdCBvcmRlci4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB2YWx1ZSB7QGNvZGUgaW50fSBjb250YWluaW5nIGJpdHMgdG8gYXBwZW5kCgkgICAgICogQHBhcmFtIG51bUJpdHMgYml0cyBmcm9tIHZhbHVlIHRvIGFwcGVuZAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5hcHBlbmRCaXRzID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8sIG51bUJpdHMgLyppbnQqLykgewoJICAgICAgICBpZiAobnVtQml0cyA8IDAgfHwgbnVtQml0cyA+IDMyKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkOC5kZWZhdWx0KCdOdW0gYml0cyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMzInKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLmVuc3VyZUNhcGFjaXR5KHRoaXMuc2l6ZSArIG51bUJpdHMpOwoJICAgICAgICAvLyBjb25zdCBhcHBlbmRCaXQgPSB0aGlzLmFwcGVuZEJpdDsKCSAgICAgICAgZm9yICh2YXIgbnVtQml0c0xlZnQgPSBudW1CaXRzOyBudW1CaXRzTGVmdCA+IDA7IG51bUJpdHNMZWZ0LS0pIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kQml0KCgodmFsdWUgPj4gKG51bUJpdHNMZWZ0IC0gMSkpICYgMHgwMSkgPT09IDEpOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBCaXRBcnJheS5wcm90b3R5cGUuYXBwZW5kQml0QXJyYXkgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgdmFyIG90aGVyU2l6ZSA9IG90aGVyLnNpemU7CgkgICAgICAgIHRoaXMuZW5zdXJlQ2FwYWNpdHkodGhpcy5zaXplICsgb3RoZXJTaXplKTsKCSAgICAgICAgLy8gY29uc3QgYXBwZW5kQml0ID0gdGhpcy5hcHBlbmRCaXQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3RoZXJTaXplOyBpKyspIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kQml0KG90aGVyLmdldChpKSk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKHRoaXMuc2l6ZSAhPT0gb3RoZXIuc2l6ZSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDguZGVmYXVsdCgnU2l6ZXMgZG9uXCd0IG1hdGNoJyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGJpdHMubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgLy8gVGhlIGxhc3QgaW50IGNvdWxkIGJlIGluY29tcGxldGUgKGkuZS4gbm90IGhhdmUgMzIgYml0cyBpbgoJICAgICAgICAgICAgLy8gaXQpIGJ1dCB0aGVyZSBpcyBubyBwcm9ibGVtIHNpbmNlIDAgWE9SIDAgPT0gMC4KCSAgICAgICAgICAgIGJpdHNbaV0gXj0gb3RoZXIuYml0c1tpXTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYml0T2Zmc2V0IGZpcnN0IGJpdCB0byBzdGFydCB3cml0aW5nCgkgICAgICogQHBhcmFtIGFycmF5IGFycmF5IHRvIHdyaXRlIGludG8uIEJ5dGVzIGFyZSB3cml0dGVuIG1vc3Qtc2lnbmlmaWNhbnQgYnl0ZSBmaXJzdC4gVGhpcyBpcyB0aGUgb3Bwb3NpdGUKCSAgICAgKiAgb2YgdGhlIGludGVybmFsIHJlcHJlc2VudGF0aW9uLCB3aGljaCBpcyBleHBvc2VkIGJ5IHtAbGluayAjZ2V0Qml0QXJyYXkoKX0KCSAgICAgKiBAcGFyYW0gb2Zmc2V0IHBvc2l0aW9uIGluIGFycmF5IHRvIHN0YXJ0IHdyaXRpbmcKCSAgICAgKiBAcGFyYW0gbnVtQnl0ZXMgaG93IG1hbnkgYnl0ZXMgdG8gd3JpdGUKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUudG9CeXRlcyA9IGZ1bmN0aW9uIChiaXRPZmZzZXQgLyppbnQqLywgYXJyYXksIG9mZnNldCAvKmludCovLCBudW1CeXRlcyAvKmludCovKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtQnl0ZXM7IGkrKykgewoJICAgICAgICAgICAgdmFyIHRoZUJ5dGUgPSAwOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA4OyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoYml0T2Zmc2V0KSkgewoJICAgICAgICAgICAgICAgICAgICB0aGVCeXRlIHw9IDEgPDwgKDcgLSBqKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgYml0T2Zmc2V0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBpXSA9IC8qKGJ5dGUpKi8gdGhlQnl0ZTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB1bmRlcmx5aW5nIGFycmF5IG9mIGludHMuIFRoZSBmaXJzdCBlbGVtZW50IGhvbGRzIHRoZSBmaXJzdCAzMiBiaXRzLCBhbmQgdGhlIGxlYXN0CgkgICAgICogICAgICAgICBzaWduaWZpY2FudCBiaXQgaXMgYml0IDAuCgkgICAgICovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLmdldEJpdEFycmF5ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRzOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV2ZXJzZXMgYWxsIGJpdHMgaW4gdGhlIGFycmF5LgoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3Qml0cyA9IG5ldyBJbnQzMkFycmF5KHRoaXMuYml0cy5sZW5ndGgpOwoJICAgICAgICAvLyByZXZlcnNlIGFsbCBpbnQncyBmaXJzdAoJICAgICAgICB2YXIgbGVuID0gTWF0aC5mbG9vcigodGhpcy5zaXplIC0gMSkgLyAzMik7CgkgICAgICAgIHZhciBvbGRCaXRzTGVuID0gbGVuICsgMTsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkQml0c0xlbjsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgeCA9IGJpdHNbaV07CgkgICAgICAgICAgICB4ID0gKCh4ID4+IDEpICYgMHg1NTU1NTU1NSkgfCAoKHggJiAweDU1NTU1NTU1KSA8PCAxKTsKCSAgICAgICAgICAgIHggPSAoKHggPj4gMikgJiAweDMzMzMzMzMzKSB8ICgoeCAmIDB4MzMzMzMzMzMpIDw8IDIpOwoJICAgICAgICAgICAgeCA9ICgoeCA+PiA0KSAmIDB4MGYwZjBmMGYpIHwgKCh4ICYgMHgwZjBmMGYwZikgPDwgNCk7CgkgICAgICAgICAgICB4ID0gKCh4ID4+IDgpICYgMHgwMGZmMDBmZikgfCAoKHggJiAweDAwZmYwMGZmKSA8PCA4KTsKCSAgICAgICAgICAgIHggPSAoKHggPj4gMTYpICYgMHgwMDAwZmZmZikgfCAoKHggJiAweDAwMDBmZmZmKSA8PCAxNik7CgkgICAgICAgICAgICBuZXdCaXRzW2xlbiAtIGldID0gLyooaW50KSovIHg7CgkgICAgICAgIH0KCSAgICAgICAgLy8gbm93IGNvcnJlY3QgdGhlIGludCdzIGlmIHRoZSBiaXQgc2l6ZSBpc24ndCBhIG11bHRpcGxlIG9mIDMyCgkgICAgICAgIGlmICh0aGlzLnNpemUgIT09IG9sZEJpdHNMZW4gKiAzMikgewoJICAgICAgICAgICAgdmFyIGxlZnRPZmZzZXQgPSBvbGRCaXRzTGVuICogMzIgLSB0aGlzLnNpemU7CgkgICAgICAgICAgICB2YXIgY3VycmVudEludCA9IG5ld0JpdHNbMF0gPj4+IGxlZnRPZmZzZXQ7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IG9sZEJpdHNMZW47IGkrKykgewoJICAgICAgICAgICAgICAgIHZhciBuZXh0SW50ID0gbmV3Qml0c1tpXTsKCSAgICAgICAgICAgICAgICBjdXJyZW50SW50IHw9IG5leHRJbnQgPDwgKDMyIC0gbGVmdE9mZnNldCk7CgkgICAgICAgICAgICAgICAgbmV3Qml0c1tpIC0gMV0gPSBjdXJyZW50SW50OwoJICAgICAgICAgICAgICAgIGN1cnJlbnRJbnQgPSBuZXh0SW50ID4+PiBsZWZ0T2Zmc2V0OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgbmV3Qml0c1tvbGRCaXRzTGVuIC0gMV0gPSBjdXJyZW50SW50OwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0cyA9IG5ld0JpdHM7CgkgICAgfTsKCSAgICBCaXRBcnJheS5tYWtlQXJyYXkgPSBmdW5jdGlvbiAoc2l6ZSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheShNYXRoLmZsb29yKChzaXplICsgMzEpIC8gMzIpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHsKCSAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEJpdEFycmF5KSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLnNpemUgPT09IG90aGVyLnNpemUgJiYgQXJyYXlzXzEkMS5kZWZhdWx0LmVxdWFscyh0aGlzLmJpdHMsIG90aGVyLmJpdHMpOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDMxICogdGhpcy5zaXplICsgQXJyYXlzXzEkMS5kZWZhdWx0Lmhhc2hDb2RlKHRoaXMuYml0cyk7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgcmVzdWx0ID0gJyc7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBzaXplID0gdGhpcy5zaXplOyBpIDwgc2l6ZTsgaSsrKSB7CgkgICAgICAgICAgICBpZiAoKGkgJiAweDA3KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnICc7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByZXN1bHQgKz0gdGhpcy5nZXQoaSkgPyAnWCcgOiAnLic7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgQml0QXJyYXkodGhpcy5zaXplLCB0aGlzLmJpdHMuc2xpY2UoKSk7CgkgICAgfTsKCSAgICByZXR1cm4gQml0QXJyYXk7Cgl9KCkpOwoJQml0QXJyYXkkMS5kZWZhdWx0ID0gQml0QXJyYXk7CgoJdmFyIEJpdE1hdHJpeCQxID0ge307CgoJdmFyIFN0cmluZ0J1aWxkZXIkMSA9IHt9OwoKCXZhciBTdHJpbmdVdGlscyQxID0ge307CgoJdmFyIERlY29kZUhpbnRUeXBlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KERlY29kZUhpbnRUeXBlJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovCgkvKioKCSAqIEVuY2Fwc3VsYXRlcyBhIHR5cGUgb2YgaGludCB0aGF0IGEgY2FsbGVyIG1heSBwYXNzIHRvIGEgYmFyY29kZSByZWFkZXIgdG8gaGVscCBpdAoJICogbW9yZSBxdWlja2x5IG9yIGFjY3VyYXRlbHkgZGVjb2RlIGl0LiBJdCBpcyB1cCB0byBpbXBsZW1lbnRhdGlvbnMgdG8gZGVjaWRlIHdoYXQsCgkgKiBpZiBhbnl0aGluZywgdG8gZG8gd2l0aCB0aGUgaW5mb3JtYXRpb24gdGhhdCBpcyBzdXBwbGllZC4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBzZWUgUmVhZGVyI2RlY29kZShCaW5hcnlCaXRtYXAsamF2YS51dGlsLk1hcCkKCSAqLwoJdmFyIERlY29kZUhpbnRUeXBlOwoJKGZ1bmN0aW9uIChEZWNvZGVIaW50VHlwZSkgewoJICAgIC8qKgoJICAgICAqIFVuc3BlY2lmaWVkLCBhcHBsaWNhdGlvbi1zcGVjaWZpYyBoaW50LiBNYXBzIHRvIGFuIHVuc3BlY2lmaWVkIHtAbGluayBPYmplY3R9LgoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJPVEhFUiJdID0gMF0gPSAiT1RIRVIiOyAvKihPYmplY3QuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBJbWFnZSBpcyBhIHB1cmUgbW9ub2Nocm9tZSBpbWFnZSBvZiBhIGJhcmNvZGUuIERvZXNuJ3QgbWF0dGVyIHdoYXQgaXQgbWFwcyB0bzsKCSAgICAgKiB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIlBVUkVfQkFSQ09ERSJdID0gMV0gPSAiUFVSRV9CQVJDT0RFIjsgLyooVm9pZC5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIEltYWdlIGlzIGtub3duIHRvIGJlIG9mIG9uZSBvZiBhIGZldyBwb3NzaWJsZSBmb3JtYXRzLgoJICAgICAqIE1hcHMgdG8gYSB7QGxpbmsgTGlzdH0gb2Yge0BsaW5rIEJhcmNvZGVGb3JtYXR9cy4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiUE9TU0lCTEVfRk9STUFUUyJdID0gMl0gPSAiUE9TU0lCTEVfRk9STUFUUyI7IC8qKExpc3QuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBTcGVuZCBtb3JlIHRpbWUgdG8gdHJ5IHRvIGZpbmQgYSBiYXJjb2RlOyBvcHRpbWl6ZSBmb3IgYWNjdXJhY3ksIG5vdCBzcGVlZC4KCSAgICAgKiBEb2Vzbid0IG1hdHRlciB3aGF0IGl0IG1hcHMgdG87IHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiVFJZX0hBUkRFUiJdID0gM10gPSAiVFJZX0hBUkRFUiI7IC8qKFZvaWQuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBTcGVjaWZpZXMgd2hhdCBjaGFyYWN0ZXIgZW5jb2RpbmcgdG8gdXNlIHdoZW4gZGVjb2RpbmcsIHdoZXJlIGFwcGxpY2FibGUgKHR5cGUgU3RyaW5nKQoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJDSEFSQUNURVJfU0VUIl0gPSA0XSA9ICJDSEFSQUNURVJfU0VUIjsgLyooU3RyaW5nLmNsYXNzKSovCgkgICAgLyoqCgkgICAgICogQWxsb3dlZCBsZW5ndGhzIG9mIGVuY29kZWQgZGF0YSAtLSByZWplY3QgYW55dGhpbmcgZWxzZS4gTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIkFMTE9XRURfTEVOR1RIUyJdID0gNV0gPSAiQUxMT1dFRF9MRU5HVEhTIjsgLyooSW50MzJBcnJheS5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIEFzc3VtZSBDb2RlIDM5IGNvZGVzIGVtcGxveSBhIGNoZWNrIGRpZ2l0LiBEb2Vzbid0IG1hdHRlciB3aGF0IGl0IG1hcHMgdG87CgkgICAgICogdXNlIHtAbGluayBCb29sZWFuI1RSVUV9LgoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJBU1NVTUVfQ09ERV8zOV9DSEVDS19ESUdJVCJdID0gNl0gPSAiQVNTVU1FX0NPREVfMzlfQ0hFQ0tfRElHSVQiOyAvKihWb2lkLmNsYXNzKSovCgkgICAgLyoqCgkgICAgICogQXNzdW1lIHRoZSBiYXJjb2RlIGlzIGJlaW5nIHByb2Nlc3NlZCBhcyBhIEdTMSBiYXJjb2RlLCBhbmQgbW9kaWZ5IGJlaGF2aW9yIGFzIG5lZWRlZC4KCSAgICAgKiBGb3IgZXhhbXBsZSB0aGlzIGFmZmVjdHMgRk5DMSBoYW5kbGluZyBmb3IgQ29kZSAxMjggKGFrYSBHUzEtMTI4KS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvOwoJICAgICAqIHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiQVNTVU1FX0dTMSJdID0gN10gPSAiQVNTVU1FX0dTMSI7IC8qKFZvaWQuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBJZiB0cnVlLCByZXR1cm4gdGhlIHN0YXJ0IGFuZCBlbmQgZGlnaXRzIGluIGEgQ29kYWJhciBiYXJjb2RlIGluc3RlYWQgb2Ygc3RyaXBwaW5nIHRoZW0uIFRoZXkKCSAgICAgKiBhcmUgYWxwaGEsIHdoZXJlYXMgdGhlIHJlc3QgYXJlIG51bWVyaWMuIEJ5IGRlZmF1bHQsIHRoZXkgYXJlIHN0cmlwcGVkLCBidXQgdGhpcyBjYXVzZXMgdGhlbQoJICAgICAqIHRvIG5vdCBiZS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvOyB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIlJFVFVSTl9DT0RBQkFSX1NUQVJUX0VORCJdID0gOF0gPSAiUkVUVVJOX0NPREFCQVJfU1RBUlRfRU5EIjsgLyooVm9pZC5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIFRoZSBjYWxsZXIgbmVlZHMgdG8gYmUgbm90aWZpZWQgdmlhIGNhbGxiYWNrIHdoZW4gYSBwb3NzaWJsZSB7QGxpbmsgUmVzdWx0UG9pbnR9CgkgICAgICogaXMgZm91bmQuIE1hcHMgdG8gYSB7QGxpbmsgUmVzdWx0UG9pbnRDYWxsYmFja30uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIk5FRURfUkVTVUxUX1BPSU5UX0NBTExCQUNLIl0gPSA5XSA9ICJORUVEX1JFU1VMVF9QT0lOVF9DQUxMQkFDSyI7IC8qKFJlc3VsdFBvaW50Q2FsbGJhY2suY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBBbGxvd2VkIGV4dGVuc2lvbiBsZW5ndGhzIGZvciBFQU4gb3IgVVBDIGJhcmNvZGVzLiBPdGhlciBmb3JtYXRzIHdpbGwgaWdub3JlIHRoaXMuCgkgICAgICogTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0gb2YgdGhlIGFsbG93ZWQgZXh0ZW5zaW9uIGxlbmd0aHMsIGZvciBleGFtcGxlIFsyXSwgWzVdLCBvciBbMiwgNV0uCgkgICAgICogSWYgaXQgaXMgb3B0aW9uYWwgdG8gaGF2ZSBhbiBleHRlbnNpb24sIGRvIG5vdCBzZXQgdGhpcyBoaW50LiBJZiB0aGlzIGlzIHNldCwKCSAgICAgKiBhbmQgYSBVUEMgb3IgRUFOIGJhcmNvZGUgaXMgZm91bmQgYnV0IGFuIGV4dGVuc2lvbiBpcyBub3QsIHRoZW4gbm8gcmVzdWx0IHdpbGwgYmUgcmV0dXJuZWQKCSAgICAgKiBhdCBhbGwuCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIkFMTE9XRURfRUFOX0VYVEVOU0lPTlMiXSA9IDEwXSA9ICJBTExPV0VEX0VBTl9FWFRFTlNJT05TIjsgLyooSW50MzJBcnJheS5jbGFzcykqLwoJICAgIC8vIEVuZCBvZiBlbnVtZXJhdGlvbiB2YWx1ZXMuCgkgICAgLyoqCgkgICAgICogRGF0YSB0eXBlIHRoZSBoaW50IGlzIGV4cGVjdGluZy4KCSAgICAgKiBBbW9uZyB0aGUgcG9zc2libGUgdmFsdWVzIHRoZSB7QGxpbmsgVm9pZH0gc3RhbmRzIG91dCBhcyBiZWluZyB1c2VkIGZvcgoJICAgICAqIGhpbnRzIHRoYXQgZG8gbm90IGV4cGVjdCBhIHZhbHVlIHRvIGJlIHN1cHBsaWVkIChmbGFnIGhpbnRzKS4gU3VjaCBoaW50cwoJICAgICAqIHdpbGwgcG9zc2libHkgaGF2ZSB0aGVpciB2YWx1ZSBpZ25vcmVkLCBvciByZXBsYWNlZCBieSBhCgkgICAgICoge0BsaW5rIEJvb2xlYW4jVFJVRX0uIEhpbnQgc3VwcGxpZXJzIHNob3VsZCBwcm9iYWJseSB1c2UKCSAgICAgKiB7QGxpbmsgQm9vbGVhbiNUUlVFfSBhcyBkaXJlY3RlZCBieSB0aGUgYWN0dWFsIGhpbnQgZG9jdW1lbnRhdGlvbi4KCSAgICAgKi8KCSAgICAvLyBwcml2YXRlIHZhbHVlVHlwZTogQ2xhc3M8Pz4KCSAgICAvLyBEZWNvZGVIaW50VHlwZSh2YWx1ZVR5cGU6IENsYXNzPD8+KSB7CgkgICAgLy8gICB0aGlzLnZhbHVlVHlwZSA9IHZhbHVlVHlwZQoJICAgIC8vIH0KCSAgICAvLyBwdWJsaWMgZ2V0VmFsdWVUeXBlKCk6IENsYXNzPD8+IHsKCSAgICAvLyAgIHJldHVybiB2YWx1ZVR5cGUKCSAgICAvLyB9Cgl9KShEZWNvZGVIaW50VHlwZSB8fCAoRGVjb2RlSGludFR5cGUgPSB7fSkpOwoJRGVjb2RlSGludFR5cGUkMS5kZWZhdWx0ID0gRGVjb2RlSGludFR5cGU7CgoJdmFyIENoYXJhY3RlclNldEVDSSA9IHt9OwoKCXZhciBGb3JtYXRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZiA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGb3JtYXRFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDcgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgRm9ybWF0RXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyRmKEZvcm1hdEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBGb3JtYXRFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgRm9ybWF0RXhjZXB0aW9uLmdldEZvcm1hdEluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEZvcm1hdEV4Y2VwdGlvbigpOwoJICAgIH07CgkgICAgRm9ybWF0RXhjZXB0aW9uLmtpbmQgPSAnRm9ybWF0RXhjZXB0aW9uJzsKCSAgICByZXR1cm4gRm9ybWF0RXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQ3LmRlZmF1bHQpKTsKCUZvcm1hdEV4Y2VwdGlvbiQxLmRlZmF1bHQgPSBGb3JtYXRFeGNlcHRpb247CgoJKGZ1bmN0aW9uIChleHBvcnRzKSB7CgkvKgoJICogQ29weXJpZ2h0IDIwMDggWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCWV4cG9ydHMuQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycyA9IHZvaWQgMDsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xID0gRm9ybWF0RXhjZXB0aW9uJDE7CgkvKmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsqLwoJLyppbXBvcnQgamF2YS51dGlsLk1hcDsqLwoJdmFyIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnM7CgkoZnVuY3Rpb24gKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMpIHsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkNwNDM3Il0gPSAwXSA9ICJDcDQzNyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEiXSA9IDFdID0gIklTTzg4NTlfMSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzIiXSA9IDJdID0gIklTTzg4NTlfMiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzMiXSA9IDNdID0gIklTTzg4NTlfMyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzQiXSA9IDRdID0gIklTTzg4NTlfNCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzUiXSA9IDVdID0gIklTTzg4NTlfNSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzYiXSA9IDZdID0gIklTTzg4NTlfNiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzciXSA9IDddID0gIklTTzg4NTlfNyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzgiXSA9IDhdID0gIklTTzg4NTlfOCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzkiXSA9IDldID0gIklTTzg4NTlfOSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEwIl0gPSAxMF0gPSAiSVNPODg1OV8xMCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzExIl0gPSAxMV0gPSAiSVNPODg1OV8xMSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEzIl0gPSAxMl0gPSAiSVNPODg1OV8xMyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE0Il0gPSAxM10gPSAiSVNPODg1OV8xNCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE1Il0gPSAxNF0gPSAiSVNPODg1OV8xNSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE2Il0gPSAxNV0gPSAiSVNPODg1OV8xNiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJTSklTIl0gPSAxNl0gPSAiU0pJUyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJDcDEyNTAiXSA9IDE3XSA9ICJDcDEyNTAiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siQ3AxMjUxIl0gPSAxOF0gPSAiQ3AxMjUxIjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkNwMTI1MiJdID0gMTldID0gIkNwMTI1MiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJDcDEyNTYiXSA9IDIwXSA9ICJDcDEyNTYiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siVW5pY29kZUJpZ1VubWFya2VkIl0gPSAyMV0gPSAiVW5pY29kZUJpZ1VubWFya2VkIjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIlVURjgiXSA9IDIyXSA9ICJVVEY4IjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkFTQ0lJIl0gPSAyM10gPSAiQVNDSUkiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siQmlnNSJdID0gMjRdID0gIkJpZzUiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siR0IxODAzMCJdID0gMjVdID0gIkdCMTgwMzAiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siRVVDX0tSIl0gPSAyNl0gPSAiRVVDX0tSIjsKCX0pKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgPSBleHBvcnRzLkNoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgfHwgKGV4cG9ydHMuQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycyA9IHt9KSk7CgkvKioKCSAqIEVuY2Fwc3VsYXRlcyBhIENoYXJhY3RlciBTZXQgRUNJLCBhY2NvcmRpbmcgdG8gIkV4dGVuZGVkIENoYW5uZWwgSW50ZXJwcmV0YXRpb25zIiA1LjMuMS4xCgkgKiBvZiBJU08gMTgwMDQuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIENoYXJhY3RlclNldEVDSSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBDaGFyYWN0ZXJTZXRFQ0kodmFsdWVJZGVudGlmaWVyLCB2YWx1ZXNQYXJhbSwgbmFtZSkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIG90aGVyRW5jb2RpbmdOYW1lcyA9IFtdOwoJICAgICAgICBmb3IgKHZhciBfaSA9IDM7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewoJICAgICAgICAgICAgb3RoZXJFbmNvZGluZ05hbWVzW19pIC0gM10gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMudmFsdWVJZGVudGlmaWVyID0gdmFsdWVJZGVudGlmaWVyOwoJICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOwoJICAgICAgICBpZiAodHlwZW9mIHZhbHVlc1BhcmFtID09PSAnbnVtYmVyJykgewoJICAgICAgICAgICAgdGhpcy52YWx1ZXMgPSBJbnQzMkFycmF5LmZyb20oW3ZhbHVlc1BhcmFtXSk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLnZhbHVlcyA9IHZhbHVlc1BhcmFtOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzOwoJICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVfSURFTlRJRklFUl9UT19FQ0kuc2V0KHZhbHVlSWRlbnRpZmllciwgdGhpcyk7CgkgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQobmFtZSwgdGhpcyk7CgkgICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLnZhbHVlczsKCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gdmFsdWVzLmxlbmd0aDsgaSAhPT0gbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgdmFyIHYgPSB2YWx1ZXNbaV07CgkgICAgICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVTX1RPX0VDSS5zZXQodiwgdGhpcyk7CgkgICAgICAgIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIG90aGVyRW5jb2RpbmdOYW1lc18xID0gX192YWx1ZXMob3RoZXJFbmNvZGluZ05hbWVzKSwgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKTsgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZTsgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgIHZhciBvdGhlck5hbWUgPSBvdGhlckVuY29kaW5nTmFtZXNfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQob3RoZXJOYW1lLCB0aGlzKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKG90aGVyRW5jb2RpbmdOYW1lc18xXzEgJiYgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZSAmJiAoX2EgPSBvdGhlckVuY29kaW5nTmFtZXNfMS5yZXR1cm4pKSBfYS5jYWxsKG90aGVyRW5jb2RpbmdOYW1lc18xKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgIH0KCSAgICAvLyBDaGFyYWN0ZXJTZXRFQ0kodmFsdWU6IG51bWJlciAvKmludCovKSB7CgkgICAgLy8gICB0aGlzKG5ldyBJbnQzMkFycmF5IHt2YWx1ZX0pCgkgICAgLy8gfQoJICAgIC8vIENoYXJhY3RlclNldEVDSSh2YWx1ZTogbnVtYmVyIC8qaW50Ki8sIFN0cmluZy4uLiBvdGhlckVuY29kaW5nTmFtZXMpIHsKCSAgICAvLyAgIHRoaXMudmFsdWVzID0gbmV3IEludDMyQXJyYXkge3ZhbHVlfQoJICAgIC8vICAgdGhpcy5vdGhlckVuY29kaW5nTmFtZXMgPSBvdGhlckVuY29kaW5nTmFtZXMKCSAgICAvLyB9CgkgICAgLy8gQ2hhcmFjdGVyU2V0RUNJKHZhbHVlczogSW50MzJBcnJheSwgU3RyaW5nLi4uIG90aGVyRW5jb2RpbmdOYW1lcykgewoJICAgIC8vICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXMKCSAgICAvLyAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzCgkgICAgLy8gfQoJICAgIENoYXJhY3RlclNldEVDSS5wcm90b3R5cGUuZ2V0VmFsdWVJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZUlkZW50aWZpZXI7CgkgICAgfTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldE5hbWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm5hbWU7CgkgICAgfTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbMF07CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gdmFsdWUgY2hhcmFjdGVyIHNldCBFQ0kgdmFsdWUKCSAgICAgKiBAcmV0dXJuIHtAY29kZSBDaGFyYWN0ZXJTZXRFQ0l9IHJlcHJlc2VudGluZyBFQ0kgb2YgZ2l2ZW4gdmFsdWUsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwgYnV0CgkgICAgICogICB1bnN1cHBvcnRlZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIEVDSSB2YWx1ZSBpcyBpbnZhbGlkCgkgICAgICovCgkgICAgQ2hhcmFjdGVyU2V0RUNJLmdldENoYXJhY3RlclNldEVDSUJ5VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykgewoJICAgICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID49IDkwMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoJ2luY29yZWN0IHZhbHVlJyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGNoYXJhY3RlclNldCA9IENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJLmdldCh2YWx1ZSk7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNoYXJhY3RlclNldCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoJ2luY29yZWN0IHZhbHVlJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGNoYXJhY3RlclNldDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBuYW1lIGNoYXJhY3RlciBzZXQgRUNJIGVuY29kaW5nIG5hbWUKCSAgICAgKiBAcmV0dXJuIENoYXJhY3RlclNldEVDSSByZXByZXNlbnRpbmcgRUNJIGZvciBjaGFyYWN0ZXIgZW5jb2RpbmcsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwKCSAgICAgKiAgIGJ1dCB1bnN1cHBvcnRlZAoJICAgICAqLwoJICAgIENoYXJhY3RlclNldEVDSS5nZXRDaGFyYWN0ZXJTZXRFQ0lCeU5hbWUgPSBmdW5jdGlvbiAobmFtZSkgewoJICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gQ2hhcmFjdGVyU2V0RUNJLk5BTUVfVE9fRUNJLmdldChuYW1lKTsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY2hhcmFjdGVyU2V0KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgnaW5jb3JlY3QgdmFsdWUnKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gY2hhcmFjdGVyU2V0OwoJICAgIH07CgkgICAgQ2hhcmFjdGVyU2V0RUNJLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgQ2hhcmFjdGVyU2V0RUNJKSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLmdldE5hbWUoKSA9PT0gb3RoZXIuZ2V0TmFtZSgpOwoJICAgIH07CgkgICAgQ2hhcmFjdGVyU2V0RUNJLlZBTFVFX0lERU5USUZJRVJfVE9fRUNJID0gbmV3IE1hcCgpOwoJICAgIENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJID0gbmV3IE1hcCgpOwoJICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSSA9IG5ldyBNYXAoKTsKCSAgICAvLyBFbnVtIG5hbWUgaXMgYSBKYXZhIGVuY29kaW5nIHZhbGlkIGZvciBqYXZhLmxhbmcgYW5kIGphdmEuaW8KCSAgICAvLyBUWVBFU0NSSVBUUE9SVDogY2hhbmdlZCB0aGUgbWFpbiBsYWJlbCBmb3IgSVNPIGFzIHRoZSBUZXh0RW5jb2RlciBkaWQgbm90IHJlY29nbml6ZWQgdGhlbSBpbiB0aGUgZm9ybSBmcm9tIGphdmEKCSAgICAvLyAoZWcgSVNPODg1OV8xIG11c3QgYmUgSVNPODg1OTEgb3IgSVNPODg1OS0xIG9yIElTTy04ODU5LTEpCgkgICAgLy8gbGF0ZXIgb246IHdlbGwsIGV4Y2VwdCAxNiB3aWNoIGRvZXMgbm90IHdvcmsgd2l0aCBJU084ODU5MTYgc28gdXNlZCBJU08tODg1OS0xIGZvcm0gZm9yIGRlZmF1bHQKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3A0MzcgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3A0MzcsIEludDMyQXJyYXkuZnJvbShbMCwgMl0pLCAnQ3A0MzcnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMSwgSW50MzJBcnJheS5mcm9tKFsxLCAzXSksICdJU08tODg1OS0xJywgJ0lTTzg4NTkxJywgJ0lTTzg4NTlfMScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzIgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8yLCA0LCAnSVNPLTg4NTktMicsICdJU084ODU5MicsICdJU084ODU5XzInKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8zID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMywgNSwgJ0lTTy04ODU5LTMnLCAnSVNPODg1OTMnLCAnSVNPODg1OV8zJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzQsIDYsICdJU08tODg1OS00JywgJ0lTTzg4NTk0JywgJ0lTTzg4NTlfNCcpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV81LCA3LCAnSVNPLTg4NTktNScsICdJU084ODU5NScsICdJU084ODU5XzUnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV82ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfNiwgOCwgJ0lTTy04ODU5LTYnLCAnSVNPODg1OTYnLCAnSVNPODg1OV82Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzcsIDksICdJU08tODg1OS03JywgJ0lTTzg4NTk3JywgJ0lTTzg4NTlfNycpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV84LCAxMCwgJ0lTTy04ODU5LTgnLCAnSVNPODg1OTgnLCAnSVNPODg1OV84Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfOSA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzksIDExLCAnSVNPLTg4NTktOScsICdJU084ODU5OScsICdJU084ODU5XzknKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xMCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzEwLCAxMiwgJ0lTTy04ODU5LTEwJywgJ0lTTzg4NTkxMCcsICdJU084ODU5XzEwJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xMSwgMTMsICdJU08tODg1OS0xMScsICdJU084ODU5MTEnLCAnSVNPODg1OV8xMScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzEzID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTMsIDE1LCAnSVNPLTg4NTktMTMnLCAnSVNPODg1OTEzJywgJ0lTTzg4NTlfMTMnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzE0LCAxNiwgJ0lTTy04ODU5LTE0JywgJ0lTTzg4NTkxNCcsICdJU084ODU5XzE0Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xNSwgMTcsICdJU08tODg1OS0xNScsICdJU084ODU5MTUnLCAnSVNPODg1OV8xNScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzE2ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTYsIDE4LCAnSVNPLTg4NTktMTYnLCAnSVNPODg1OTE2JywgJ0lTTzg4NTlfMTYnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuU0pJUyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5TSklTLCAyMCwgJ1NKSVMnLCAnU2hpZnRfSklTJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1MCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTAsIDIxLCAnQ3AxMjUwJywgJ3dpbmRvd3MtMTI1MCcpOwoJICAgIENoYXJhY3RlclNldEVDSS5DcDEyNTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3AxMjUxLCAyMiwgJ0NwMTI1MScsICd3aW5kb3dzLTEyNTEnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3AxMjUyID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkNwMTI1MiwgMjMsICdDcDEyNTInLCAnd2luZG93cy0xMjUyJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1NiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTYsIDI0LCAnQ3AxMjU2JywgJ3dpbmRvd3MtMTI1NicpOwoJICAgIENoYXJhY3RlclNldEVDSS5Vbmljb2RlQmlnVW5tYXJrZWQgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVW5pY29kZUJpZ1VubWFya2VkLCAyNSwgJ1VuaWNvZGVCaWdVbm1hcmtlZCcsICdVVEYtMTZCRScsICdVbmljb2RlQmlnJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLlVURjggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVVRGOCwgMjYsICdVVEY4JywgJ1VURi04Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkFTQ0lJID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkFTQ0lJLCBJbnQzMkFycmF5LmZyb20oWzI3LCAxNzBdKSwgJ0FTQ0lJJywgJ1VTLUFTQ0lJJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkJpZzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQmlnNSwgMjgsICdCaWc1Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkdCMTgwMzAgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuR0IxODAzMCwgMjksICdHQjE4MDMwJywgJ0dCMjMxMicsICdFVUNfQ04nLCAnR0JLJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkVVQ19LUiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5FVUNfS1IsIDMwLCAnRVVDX0tSJywgJ0VVQy1LUicpOwoJICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0k7Cgl9KCkpOwoJZXhwb3J0cy5kZWZhdWx0ID0gQ2hhcmFjdGVyU2V0RUNJOwoKCX0oQ2hhcmFjdGVyU2V0RUNJKSk7CgoJdmFyIFN0cmluZ0VuY29kaW5nJDEgPSB7fTsKCgl2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNiA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZShVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbi5raW5kID0gJ1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDYuZGVmYXVsdCkpOwoJVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24kMS5kZWZhdWx0ID0gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ0VuY29kaW5nJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl8xJDEgPSBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiQxOwoJdmFyIENoYXJhY3RlclNldEVDSV8xJDIgPSBDaGFyYWN0ZXJTZXRFQ0k7CgkvKioKCSAqIFJlc3BvbnNpYmxlIGZvciBlbi9kZWNvZGluZyBzdHJpbmdzLgoJICovCgl2YXIgU3RyaW5nRW5jb2RpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nRW5jb2RpbmcoKSB7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIERlY29kZXMgc29tZSBVaW50OEFycmF5IHRvIGEgc3RyaW5nIGZvcm1hdC4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5kZWNvZGUgPSBmdW5jdGlvbiAoYnl0ZXMsIGVuY29kaW5nKSB7CgkgICAgICAgIHZhciBlbmNvZGluZ05hbWUgPSB0aGlzLmVuY29kaW5nTmFtZShlbmNvZGluZyk7CgkgICAgICAgIGlmICh0aGlzLmN1c3RvbURlY29kZXIpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmN1c3RvbURlY29kZXIoYnl0ZXMsIGVuY29kaW5nTmFtZSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gSW5jcmVhc2VzIGJyb3dzZXIgc3VwcG9ydC4KCSAgICAgICAgaWYgKHR5cGVvZiBUZXh0RGVjb2RlciA9PT0gJ3VuZGVmaW5lZCcgfHwgdGhpcy5zaG91bGREZWNvZGVPbkZhbGxiYWNrKGVuY29kaW5nTmFtZSkpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUZhbGxiYWNrKGJ5dGVzLCBlbmNvZGluZ05hbWUpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgVGV4dERlY29kZXIoZW5jb2RpbmdOYW1lKS5kZWNvZGUoYnl0ZXMpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ2hlY2tzIGlmIHRoZSBkZWNvZGluZyBtZXRob2Qgc2hvdWxkIHVzZSB0aGUgZmFsbGJhY2sgZm9yIGRlY29kaW5nCgkgICAgICogb25jZSBOb2RlIFRleHREZWNvZGVyIGRvZXNuJ3Qgc3VwcG9ydCBhbGwgZW5jb2RpbmcgZm9ybWF0cy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBlbmNvZGluZ05hbWUKCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5zaG91bGREZWNvZGVPbkZhbGxiYWNrID0gZnVuY3Rpb24gKGVuY29kaW5nTmFtZSkgewoJICAgICAgICByZXR1cm4gIVN0cmluZ0VuY29kaW5nLmlzQnJvd3NlcigpICYmIGVuY29kaW5nTmFtZSA9PT0gJ0lTTy04ODU5LTEnOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRW5jb2RlcyBzb21lIHN0cmluZyBpbnRvIGEgVWludDhBcnJheS4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5lbmNvZGUgPSBmdW5jdGlvbiAocywgZW5jb2RpbmcpIHsKCSAgICAgICAgdmFyIGVuY29kaW5nTmFtZSA9IHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKTsKCSAgICAgICAgaWYgKHRoaXMuY3VzdG9tRW5jb2RlcikgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tRW5jb2RlcihzLCBlbmNvZGluZ05hbWUpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEluY3JlYXNlcyBicm93c2VyIHN1cHBvcnQuCgkgICAgICAgIGlmICh0eXBlb2YgVGV4dEVuY29kZXIgPT09ICd1bmRlZmluZWQnKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGVGYWxsYmFjayhzKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBUZXh0RW5jb2RlciBvbmx5IGVuY29kZXMgdG8gVVRGOCBieSBkZWZhdWx0IGFzIHNwZWNpZmllZCBieSBlbmNvZGluZy5zcGVjLndoYXR3Zy5vcmcKCSAgICAgICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzKTsKCSAgICB9OwoJICAgIFN0cmluZ0VuY29kaW5nLmlzQnJvd3NlciA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHdpbmRvdykgPT09ICdbb2JqZWN0IFdpbmRvd10nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIHN0cmluZyB2YWx1ZSBmcm9tIHNvbWUgZW5jb2RpbmcgY2hhcmFjdGVyIHNldC4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5lbmNvZGluZ05hbWUgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHsKCSAgICAgICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycKCSAgICAgICAgICAgID8gZW5jb2RpbmcKCSAgICAgICAgICAgIDogZW5jb2RpbmcuZ2V0TmFtZSgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV0dXJucyBjaGFyYWN0ZXIgc2V0IGZyb20gc29tZSBlbmNvZGluZyBjaGFyYWN0ZXIgc2V0LgoJICAgICAqLwoJICAgIFN0cmluZ0VuY29kaW5nLmVuY29kaW5nQ2hhcmFjdGVyU2V0ID0gZnVuY3Rpb24gKGVuY29kaW5nKSB7CgkgICAgICAgIGlmIChlbmNvZGluZyBpbnN0YW5jZW9mIENoYXJhY3RlclNldEVDSV8xJDIuZGVmYXVsdCkgewoJICAgICAgICAgICAgcmV0dXJuIGVuY29kaW5nOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlOYW1lKGVuY29kaW5nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJ1bnMgYSBmYWxsYmFjayBmb3IgdGhlIG5hdGl2ZSBkZWNvZGluZyBmdW5jaW9uLgoJICAgICAqLwoJICAgIFN0cmluZ0VuY29kaW5nLmRlY29kZUZhbGxiYWNrID0gZnVuY3Rpb24gKGJ5dGVzLCBlbmNvZGluZykgewoJICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gdGhpcy5lbmNvZGluZ0NoYXJhY3RlclNldChlbmNvZGluZyk7CgkgICAgICAgIGlmIChTdHJpbmdFbmNvZGluZy5pc0RlY29kZUZhbGxiYWNrU3VwcG9ydGVkKGNoYXJhY3RlclNldCkpIHsKCSAgICAgICAgICAgIHZhciBzID0gJyc7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoXzEgPSBieXRlcy5sZW5ndGg7IGkgPCBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGggPSBieXRlc1tpXS50b1N0cmluZygxNik7CgkgICAgICAgICAgICAgICAgaWYgKGgubGVuZ3RoIDwgMikgewoJICAgICAgICAgICAgICAgICAgICBoID0gJzAnICsgaDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgcyArPSAnJScgKyBoOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuVW5pY29kZUJpZ1VubWFya2VkKSkgewoJICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQxNkFycmF5KGJ5dGVzLmJ1ZmZlcikpOwoJICAgICAgICB9CgkgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgiRW5jb2RpbmcgIiArIHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKSArICIgbm90IHN1cHBvcnRlZCBieSBmYWxsYmFjay4iKTsKCSAgICB9OwoJICAgIFN0cmluZ0VuY29kaW5nLmlzRGVjb2RlRmFsbGJhY2tTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoY2hhcmFjdGVyU2V0KSB7CgkgICAgICAgIHJldHVybiBjaGFyYWN0ZXJTZXQuZXF1YWxzKENoYXJhY3RlclNldEVDSV8xJDIuZGVmYXVsdC5VVEY4KSB8fAoJICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuSVNPODg1OV8xKSB8fAoJICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuQVNDSUkpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUnVucyBhIGZhbGxiYWNrIGZvciB0aGUgbmF0aXZlIGVuY29kaW5nIGZ1bmNpb24uCgkgICAgICoKCSAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNzE5Mjg0NS80MzY3NjgzCgkgICAgICovCgkgICAgU3RyaW5nRW5jb2RpbmcuZW5jb2RlRmFsbGJhY2sgPSBmdW5jdGlvbiAocykgewoJICAgICAgICB2YXIgZW5jb2RlZFVSSXN0cmluZyA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHMpKSk7CgkgICAgICAgIHZhciBjaGFyTGlzdCA9IGVuY29kZWRVUklzdHJpbmcuc3BsaXQoJycpOwoJICAgICAgICB2YXIgdWludEFycmF5ID0gW107CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhckxpc3QubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHVpbnRBcnJheS5wdXNoKGNoYXJMaXN0W2ldLmNoYXJDb2RlQXQoMCkpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh1aW50QXJyYXkpOwoJICAgIH07CgkgICAgcmV0dXJuIFN0cmluZ0VuY29kaW5nOwoJfSgpKTsKCVN0cmluZ0VuY29kaW5nJDEuZGVmYXVsdCA9IFN0cmluZ0VuY29kaW5nOwoKCS8qCgkgKiBDb3B5cmlnaHQgKEMpIDIwMTAgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ1V0aWxzJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS5uaW8uY2hhcnNldC5DaGFyc2V0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgl2YXIgRGVjb2RlSGludFR5cGVfMSQzID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBDaGFyYWN0ZXJTZXRFQ0lfMSQxID0gQ2hhcmFjdGVyU2V0RUNJOwoJdmFyIFN0cmluZ0VuY29kaW5nXzEkMSA9IFN0cmluZ0VuY29kaW5nJDE7CgkvKioKCSAqIENvbW1vbiBzdHJpbmctcmVsYXRlZCBmdW5jdGlvbnMuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBhdXRob3IgQWxleCBEdXByZQoJICovCgl2YXIgU3RyaW5nVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nVXRpbHMoKSB7CgkgICAgfQoJICAgIC8vIFNISUZUX0pJUy5lcXVhbHNJZ25vcmVDYXNlKFBMQVRGT1JNX0RFRkFVTFRfRU5DT0RJTkcpIHx8CgkgICAgLy8gRVVDX0pQLmVxdWFsc0lnbm9yZUNhc2UoUExBVEZPUk1fREVGQVVMVF9FTkNPRElORyk7CgkgICAgU3RyaW5nVXRpbHMuY2FzdEFzTm9uVXRmOENoYXIgPSBmdW5jdGlvbiAoY29kZSwgZW5jb2RpbmcpIHsKCSAgICAgICAgaWYgKGVuY29kaW5nID09PSB2b2lkIDApIHsgZW5jb2RpbmcgPSBudWxsOyB9CgkgICAgICAgIC8vIElTTyA4ODU5LTEgaXMgdGhlIEphdmEgZGVmYXVsdCBhcyBVVEYtOCBpcyBKYXZhU2NyaXB0cwoJICAgICAgICAvLyB5b3UgY2FuIHNlZSB0aGlzIG1ldGhvZCBhcyBhIEphdmEgdmVyc2lvbiBvZiBTdHJpbmcuZnJvbUNoYXJDb2RlCgkgICAgICAgIHZhciBlID0gZW5jb2RpbmcgPyBlbmNvZGluZy5nZXROYW1lKCkgOiB0aGlzLklTTzg4NTkxOwoJICAgICAgICAvLyB1c2UgcGFzc2VkIGZvcm1hdCAoZnJvbUNoYXJDb2RlIHdpbGwgcmV0dXJuIFVURjggZW5jb2RpbmcpCgkgICAgICAgIHJldHVybiBTdHJpbmdFbmNvZGluZ18xJDEuZGVmYXVsdC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoW2NvZGVdKSwgZSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYnl0ZXMgYnl0ZXMgZW5jb2RpbmcgYSBzdHJpbmcsIHdob3NlIGVuY29kaW5nIHNob3VsZCBiZSBndWVzc2VkCgkgICAgICogQHBhcmFtIGhpbnRzIGRlY29kZSBoaW50cyBpZiBhcHBsaWNhYmxlCgkgICAgICogQHJldHVybiBuYW1lIG9mIGd1ZXNzZWQgZW5jb2Rpbmc7IGF0IHRoZSBtb21lbnQgd2lsbCBvbmx5IGd1ZXNzIG9uZSBvZjoKCSAgICAgKiAge0BsaW5rICNTSElGVF9KSVN9LCB7QGxpbmsgI1VURjh9LCB7QGxpbmsgI0lTTzg4NTkxfSwgb3IgdGhlIHBsYXRmb3JtCgkgICAgICogIGRlZmF1bHQgZW5jb2RpbmcgaWYgbm9uZSBvZiB0aGVzZSBjYW4gcG9zc2libHkgYmUgY29ycmVjdAoJICAgICAqLwoJICAgIFN0cmluZ1V0aWxzLmd1ZXNzRW5jb2RpbmcgPSBmdW5jdGlvbiAoYnl0ZXMsIGhpbnRzKSB7CgkgICAgICAgIGlmIChoaW50cyAhPT0gbnVsbCAmJiBoaW50cyAhPT0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEkMy5kZWZhdWx0LkNIQVJBQ1RFUl9TRVQpKSB7CgkgICAgICAgICAgICByZXR1cm4gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEkMy5kZWZhdWx0LkNIQVJBQ1RFUl9TRVQpLnRvU3RyaW5nKCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRm9yIG5vdywgbWVyZWx5IHRyaWVzIHRvIGRpc3Rpbmd1aXNoIElTTy04ODU5LTEsIFVURi04IGFuZCBTaGlmdF9KSVMsCgkgICAgICAgIC8vIHdoaWNoIHNob3VsZCBiZSBieSBmYXIgdGhlIG1vc3QgY29tbW9uIGVuY29kaW5ncy4KCSAgICAgICAgdmFyIGxlbmd0aCA9IGJ5dGVzLmxlbmd0aDsKCSAgICAgICAgdmFyIGNhbkJlSVNPODg1OTEgPSB0cnVlOwoJICAgICAgICB2YXIgY2FuQmVTaGlmdEpJUyA9IHRydWU7CgkgICAgICAgIHZhciBjYW5CZVVURjggPSB0cnVlOwoJICAgICAgICB2YXIgdXRmOEJ5dGVzTGVmdCA9IDA7CgkgICAgICAgIC8vIGludCB1dGY4TG93Q2hhcnMgPSAwCgkgICAgICAgIHZhciB1dGYyQnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciB1dGYzQnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciB1dGY0Qnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciBzamlzQnl0ZXNMZWZ0ID0gMDsKCSAgICAgICAgLy8gaW50IHNqaXNMb3dDaGFycyA9IDAKCSAgICAgICAgdmFyIHNqaXNLYXRha2FuYUNoYXJzID0gMDsKCSAgICAgICAgLy8gaW50IHNqaXNEb3VibGVCeXRlc0NoYXJzID0gMAoJICAgICAgICB2YXIgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgIHZhciBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDsKCSAgICAgICAgdmFyIHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPSAwOwoJICAgICAgICB2YXIgc2ppc01heERvdWJsZUJ5dGVzV29yZExlbmd0aCA9IDA7CgkgICAgICAgIC8vIGludCBpc29Mb3dDaGFycyA9IDAKCSAgICAgICAgLy8gaW50IGlzb0hpZ2hDaGFycyA9IDAKCSAgICAgICAgdmFyIGlzb0hpZ2hPdGhlciA9IDA7CgkgICAgICAgIHZhciB1dGY4Ym9tID0gYnl0ZXMubGVuZ3RoID4gMyAmJgoJICAgICAgICAgICAgYnl0ZXNbMF0gPT09IC8qKGJ5dGUpICovIDB4RUYgJiYKCSAgICAgICAgICAgIGJ5dGVzWzFdID09PSAvKihieXRlKSAqLyAweEJCICYmCgkgICAgICAgICAgICBieXRlc1syXSA9PT0gLyooYnl0ZSkgKi8gMHhCRjsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGggJiYgKGNhbkJlSVNPODg1OTEgfHwgY2FuQmVTaGlmdEpJUyB8fCBjYW5CZVVURjgpOyBpKyspIHsKCSAgICAgICAgICAgIHZhciB2YWx1ZSA9IGJ5dGVzW2ldICYgMHhGRjsKCSAgICAgICAgICAgIC8vIFVURi04IHN0dWZmCgkgICAgICAgICAgICBpZiAoY2FuQmVVVEY4KSB7CgkgICAgICAgICAgICAgICAgaWYgKHV0ZjhCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDgwKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgY2FuQmVVVEY4ID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0LS07CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHZhbHVlICYgMHg4MCkgIT09IDApIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4NDApID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjhCeXRlc0xlZnQrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDIwKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjJCeXRlc0NoYXJzKys7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4MTApID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjNCeXRlc0NoYXJzKys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDA4KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRmNEJ5dGVzQ2hhcnMrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkJlVVRGOCA9IGZhbHNlOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfSAvLyBlbHNlIHsKCSAgICAgICAgICAgICAgICAvLyB1dGY4TG93Q2hhcnMrKwoJICAgICAgICAgICAgICAgIC8vIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIC8vIElTTy04ODU5LTEgc3R1ZmYKCSAgICAgICAgICAgIGlmIChjYW5CZUlTTzg4NTkxKSB7CgkgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMHg3RiAmJiB2YWx1ZSA8IDB4QTApIHsKCSAgICAgICAgICAgICAgICAgICAgY2FuQmVJU084ODU5MSA9IGZhbHNlOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA+IDB4OUYpIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMHhDMCB8fCB2YWx1ZSA9PT0gMHhENyB8fCB2YWx1ZSA9PT0gMHhGNykgewoJICAgICAgICAgICAgICAgICAgICAgICAgaXNvSGlnaE90aGVyKys7CgkgICAgICAgICAgICAgICAgICAgIH0gLy8gZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIGlzb0hpZ2hDaGFycysrCgkgICAgICAgICAgICAgICAgICAgIC8vIH0KCSAgICAgICAgICAgICAgICB9IC8vIGVsc2UgewoJICAgICAgICAgICAgICAgIC8vIGlzb0xvd0NoYXJzKysKCSAgICAgICAgICAgICAgICAvLyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBTaGlmdF9KSVMgc3R1ZmYKCSAgICAgICAgICAgIGlmIChjYW5CZVNoaWZ0SklTKSB7CgkgICAgICAgICAgICAgICAgaWYgKHNqaXNCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDB4NDAgfHwgdmFsdWUgPT09IDB4N0YgfHwgdmFsdWUgPiAweEZDKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVNoaWZ0SklTID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzamlzQnl0ZXNMZWZ0LS07CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IDB4ODAgfHwgdmFsdWUgPT09IDB4QTAgfHwgdmFsdWUgPiAweEVGKSB7CgkgICAgICAgICAgICAgICAgICAgIGNhbkJlU2hpZnRKSVMgPSBmYWxzZTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPiAweEEwICYmIHZhbHVlIDwgMHhFMCkgewoJICAgICAgICAgICAgICAgICAgICBzamlzS2F0YWthbmFDaGFycysrOwoJICAgICAgICAgICAgICAgICAgICBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDsKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCsrOwoJICAgICAgICAgICAgICAgICAgICBpZiAoc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA+IHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGgpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPSBzamlzQ3VyS2F0YWthbmFXb3JkTGVuZ3RoOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID4gMHg3RikgewoJICAgICAgICAgICAgICAgICAgICBzamlzQnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgIC8vIHNqaXNEb3VibGVCeXRlc0NoYXJzKysKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGgrKzsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPiBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gc2ppc0N1ckRvdWJsZUJ5dGVzV29yZExlbmd0aDsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gc2ppc0xvd0NoYXJzKysKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPSAwOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBpZiAoY2FuQmVVVEY4ICYmIHV0ZjhCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY2FuQmVTaGlmdEpJUyAmJiBzamlzQnl0ZXNMZWZ0ID4gMCkgewoJICAgICAgICAgICAgY2FuQmVTaGlmdEpJUyA9IGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIEVhc3kgLS0gaWYgdGhlcmUgaXMgQk9NIG9yIGF0IGxlYXN0IDEgdmFsaWQgbm90LXNpbmdsZSBieXRlIGNoYXJhY3RlciAoYW5kIG5vIGV2aWRlbmNlIGl0IGNhbid0IGJlIFVURi04KSwgZG9uZQoJICAgICAgICBpZiAoY2FuQmVVVEY4ICYmICh1dGY4Ym9tIHx8IHV0ZjJCeXRlc0NoYXJzICsgdXRmM0J5dGVzQ2hhcnMgKyB1dGY0Qnl0ZXNDaGFycyA+IDApKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuVVRGODsKCSAgICAgICAgfQoJICAgICAgICAvLyBFYXN5IC0tIGlmIGFzc3VtaW5nIFNoaWZ0X0pJUyBvciBhdCBsZWFzdCAzIHZhbGlkIGNvbnNlY3V0aXZlIG5vdC1hc2NpaSBjaGFyYWN0ZXJzIChhbmQgbm8gZXZpZGVuY2UgaXQgY2FuJ3QgYmUpLCBkb25lCgkgICAgICAgIGlmIChjYW5CZVNoaWZ0SklTICYmIChTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTIHx8IHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPj0gMyB8fCBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID49IDMpKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuU0hJRlRfSklTOwoJICAgICAgICB9CgkgICAgICAgIC8vIERpc3Rpbmd1aXNoaW5nIFNoaWZ0X0pJUyBhbmQgSVNPLTg4NTktMSBjYW4gYmUgYSBsaXR0bGUgdG91Z2ggZm9yIHNob3J0IHdvcmRzLiBUaGUgY3J1ZGUgaGV1cmlzdGljIGlzOgoJICAgICAgICAvLyAtIElmIHdlIHNhdwoJICAgICAgICAvLyAgIC0gb25seSB0d28gY29uc2VjdXRpdmUga2F0YWthbmEgY2hhcnMgaW4gdGhlIHdob2xlIHRleHQsIG9yCgkgICAgICAgIC8vICAgLSBhdCBsZWFzdCAxMCUgb2YgYnl0ZXMgdGhhdCBjb3VsZCBiZSAidXBwZXIiIG5vdC1hbHBoYW51bWVyaWMgTGF0aW4xLAoJICAgICAgICAvLyAtIHRoZW4gd2UgY29uY2x1ZGUgU2hpZnRfSklTLCBlbHNlIElTTy04ODU5LTEKCSAgICAgICAgaWYgKGNhbkJlSVNPODg1OTEgJiYgY2FuQmVTaGlmdEpJUykgewoJICAgICAgICAgICAgcmV0dXJuIChzamlzTWF4S2F0YWthbmFXb3JkTGVuZ3RoID09PSAyICYmIHNqaXNLYXRha2FuYUNoYXJzID09PSAyKSB8fCBpc29IaWdoT3RoZXIgKiAxMCA+PSBsZW5ndGgKCSAgICAgICAgICAgICAgICA/IFN0cmluZ1V0aWxzLlNISUZUX0pJUyA6IFN0cmluZ1V0aWxzLklTTzg4NTkxOwoJICAgICAgICB9CgkgICAgICAgIC8vIE90aGVyd2lzZSwgdHJ5IGluIG9yZGVyIElTTy04ODU5LTEsIFNoaWZ0IEpJUywgVVRGLTggYW5kIGZhbGwgYmFjayB0byBkZWZhdWx0IHBsYXRmb3JtIGVuY29kaW5nCgkgICAgICAgIGlmIChjYW5CZUlTTzg4NTkxKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuSVNPODg1OTE7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNhbkJlU2hpZnRKSVMpIHsKCSAgICAgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5TSElGVF9KSVM7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNhbkJlVVRGOCkgewoJICAgICAgICAgICAgcmV0dXJuIFN0cmluZ1V0aWxzLlVURjg7CgkgICAgICAgIH0KCSAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSB0YWtlIGEgd2lsZCBndWVzcyB3aXRoIHBsYXRmb3JtIGVuY29kaW5nCgkgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5QTEFURk9STV9ERUZBVUxUX0VOQ09ESU5HOwoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMzQzOTcxMS80MzY3NjgzCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYXBwZW5kIFRoZSBuZXcgc3RyaW5nIHRvIGFwcGVuZC4KCSAgICAgKiBAcGFyYW0gYXJncyBBcmd1bWV0cyB2YWx1ZXMgdG8gYmUgZm9ybWF0ZWQuCgkgICAgICovCgkgICAgU3RyaW5nVXRpbHMuZm9ybWF0ID0gZnVuY3Rpb24gKGFwcGVuZCkgewoJICAgICAgICB2YXIgYXJncyA9IFtdOwoJICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewoJICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgaSA9IC0xOwoJICAgICAgICBmdW5jdGlvbiBjYWxsYmFjayhleHAsIHAwLCBwMSwgcDIsIHAzLCBwNCkgewoJICAgICAgICAgICAgaWYgKGV4cCA9PT0gJyUlJykKCSAgICAgICAgICAgICAgICByZXR1cm4gJyUnOwoJICAgICAgICAgICAgaWYgKGFyZ3NbKytpXSA9PT0gdW5kZWZpbmVkKQoJICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7CgkgICAgICAgICAgICBleHAgPSBwMiA/IHBhcnNlSW50KHAyLnN1YnN0cigxKSkgOiB1bmRlZmluZWQ7CgkgICAgICAgICAgICB2YXIgYmFzZSA9IHAzID8gcGFyc2VJbnQocDMuc3Vic3RyKDEpKSA6IHVuZGVmaW5lZDsKCSAgICAgICAgICAgIHZhciB2YWw7CgkgICAgICAgICAgICBzd2l0Y2ggKHA0KSB7CgkgICAgICAgICAgICAgICAgY2FzZSAncyc6CgkgICAgICAgICAgICAgICAgICAgIHZhbCA9IGFyZ3NbaV07CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ2MnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBhcmdzW2ldWzBdOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICBjYXNlICdmJzoKCSAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChhcmdzW2ldKS50b0ZpeGVkKGV4cCk7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ3AnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFyZ3NbaV0pLnRvUHJlY2lzaW9uKGV4cCk7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ2UnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFyZ3NbaV0pLnRvRXhwb25lbnRpYWwoZXhwKTsKCSAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgY2FzZSAneCc6CgkgICAgICAgICAgICAgICAgICAgIHZhbCA9IHBhcnNlSW50KGFyZ3NbaV0pLnRvU3RyaW5nKGJhc2UgPyBiYXNlIDogMTYpOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICBjYXNlICdkJzoKCSAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChwYXJzZUludChhcmdzW2ldLCBiYXNlID8gYmFzZSA6IDEwKS50b1ByZWNpc2lvbihleHApKS50b0ZpeGVkKDApOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhbCA9IHR5cGVvZiB2YWwgPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkodmFsKSA6ICgrdmFsKS50b1N0cmluZyhiYXNlKTsKCSAgICAgICAgICAgIHZhciBzaXplID0gcGFyc2VJbnQocDEpOyAvKiBwYWRkaW5nIHNpemUgKi8KCSAgICAgICAgICAgIHZhciBjaCA9IHAxICYmIChwMVswXSArICcnKSA9PT0gJzAnID8gJzAnIDogJyAnOyAvKiBpc251bGw/ICovCgkgICAgICAgICAgICB3aGlsZSAodmFsLmxlbmd0aCA8IHNpemUpCgkgICAgICAgICAgICAgICAgdmFsID0gcDAgIT09IHVuZGVmaW5lZCA/IHZhbCArIGNoIDogY2ggKyB2YWw7IC8qIGlzbWludXM/ICovCgkgICAgICAgICAgICByZXR1cm4gdmFsOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZWdleCA9IC8lKC0pPygwP1swLTldKyk/KFsuXVswLTldKyk/KFsjXVswLTldKyk/KFtzY2ZwZXhkJV0pL2c7CgkgICAgICAgIHJldHVybiBhcHBlbmQucmVwbGFjZShyZWdleCwgY2FsbGJhY2spOwoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKi8KCSAgICBTdHJpbmdVdGlscy5nZXRCeXRlcyA9IGZ1bmN0aW9uIChzdHIsIGVuY29kaW5nKSB7CgkgICAgICAgIHJldHVybiBTdHJpbmdFbmNvZGluZ18xJDEuZGVmYXVsdC5lbmNvZGUoc3RyLCBlbmNvZGluZyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIHRoZSBjaGFyY29kZSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4IG9yIGF0IGluZGV4IHplcm8uCgkgICAgICovCgkgICAgU3RyaW5nVXRpbHMuZ2V0Q2hhckNvZGUgPSBmdW5jdGlvbiAoc3RyLCBpbmRleCkgewoJICAgICAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkgeyBpbmRleCA9IDA7IH0KCSAgICAgICAgcmV0dXJuIHN0ci5jaGFyQ29kZUF0KGluZGV4KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgY2hhciBmb3IgZ2l2ZW4gY2hhcmNvZGUKCSAgICAgKi8KCSAgICBTdHJpbmdVdGlscy5nZXRDaGFyQXQgPSBmdW5jdGlvbiAoY2hhckNvZGUpIHsKCSAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpOwoJICAgIH07CgkgICAgU3RyaW5nVXRpbHMuU0hJRlRfSklTID0gQ2hhcmFjdGVyU2V0RUNJXzEkMS5kZWZhdWx0LlNKSVMuZ2V0TmFtZSgpOyAvLyAiU0pJUyIKCSAgICBTdHJpbmdVdGlscy5HQjIzMTIgPSAnR0IyMzEyJzsKCSAgICBTdHJpbmdVdGlscy5JU084ODU5MSA9IENoYXJhY3RlclNldEVDSV8xJDEuZGVmYXVsdC5JU084ODU5XzEuZ2V0TmFtZSgpOyAvLyAiSVNPODg1OV8xIgoJICAgIFN0cmluZ1V0aWxzLkVVQ19KUCA9ICdFVUNfSlAnOwoJICAgIFN0cmluZ1V0aWxzLlVURjggPSBDaGFyYWN0ZXJTZXRFQ0lfMSQxLmRlZmF1bHQuVVRGOC5nZXROYW1lKCk7IC8vICJVVEY4IgoJICAgIFN0cmluZ1V0aWxzLlBMQVRGT1JNX0RFRkFVTFRfRU5DT0RJTkcgPSBTdHJpbmdVdGlscy5VVEY4OyAvLyAiVVRGOCIvL0NoYXJzZXQuZGVmYXVsdENoYXJzZXQoKS5uYW1lKCkKCSAgICBTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTID0gZmFsc2U7CgkgICAgcmV0dXJuIFN0cmluZ1V0aWxzOwoJfSgpKTsKCVN0cmluZ1V0aWxzJDEuZGVmYXVsdCA9IFN0cmluZ1V0aWxzOwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmdCdWlsZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBTdHJpbmdVdGlsc18xJDEgPSBTdHJpbmdVdGlscyQxOwoJdmFyIFN0cmluZ0J1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nQnVpbGRlcih2YWx1ZSkgewoJICAgICAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkgeyB2YWx1ZSA9ICcnOyB9CgkgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTsKCSAgICB9CgkgICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuZW5hYmxlRGVjb2RpbmcgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHsKCSAgICAgICAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nOwoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChzKSB7CgkgICAgICAgIGlmICh0eXBlb2YgcyA9PT0gJ3N0cmluZycpIHsKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gcy50b1N0cmluZygpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgaWYgKHRoaXMuZW5jb2RpbmcpIHsKCSAgICAgICAgICAgIC8vIHVzZSBwYXNzZWQgZm9ybWF0IChmcm9tQ2hhckNvZGUgd2lsbCByZXR1cm4gVVRGOCBlbmNvZGluZykKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gU3RyaW5nVXRpbHNfMSQxLmRlZmF1bHQuY2FzdEFzTm9uVXRmOENoYXIocywgdGhpcy5lbmNvZGluZyk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAvLyBjb3JyZWN0bHkgY29udmVydHMgZnJvbSBVVEYtOCwgYnV0IG5vdCBvdGhlciBlbmNvZGluZ3MKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShzKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZENoYXJzID0gZnVuY3Rpb24gKHN0ciwgb2Zmc2V0LCBsZW4pIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IG9mZnNldDsgb2Zmc2V0IDwgb2Zmc2V0ICsgbGVuOyBpKyspIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kKHN0cltpXSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfTsKCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5sZW5ndGggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmxlbmd0aDsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmNoYXJBdCA9IGZ1bmN0aW9uIChuKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmNoYXJBdChuKTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmRlbGV0ZUNoYXJBdCA9IGZ1bmN0aW9uIChuKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIHRoaXMudmFsdWUuc3Vic3RyaW5nKG4gKyAxKTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnNldENoYXJBdCA9IGZ1bmN0aW9uIChuLCBjKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIGMgKyB0aGlzLnZhbHVlLnN1YnN0cihuICsgMSk7CgkgICAgfTsKCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zdWJzdHJpbmcgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAbm90ZSBoZWxwZXIgbWV0aG9kIGZvciBSU1MgRXhwYW5kZWQKCSAgICAgKi8KCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zZXRMZW5ndGhUb1plcm8gPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSAnJzsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChuLCBjKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIGMgKyB0aGlzLnZhbHVlLnN1YnN0cihuICsgYy5sZW5ndGgpOwoJICAgIH07CgkgICAgcmV0dXJuIFN0cmluZ0J1aWxkZXI7Cgl9KCkpOwoJU3RyaW5nQnVpbGRlciQxLmRlZmF1bHQgPSBTdHJpbmdCdWlsZGVyOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0TWF0cml4JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqLwoJdmFyIEJpdEFycmF5XzEkMSA9IEJpdEFycmF5JDE7Cgl2YXIgU3lzdGVtXzEkMyA9IFN5c3RlbSQxOwoJdmFyIEFycmF5c18xID0gQXJyYXlzJDE7Cgl2YXIgU3RyaW5nQnVpbGRlcl8xJDIgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNyA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5SZXByZXNlbnRzIGEgMkQgbWF0cml4IG9mIGJpdHMuIEluIGZ1bmN0aW9uIGFyZ3VtZW50cyBiZWxvdywgYW5kIHRocm91Z2hvdXQgdGhlIGNvbW1vbgoJICogbW9kdWxlLCB4IGlzIHRoZSBjb2x1bW4gcG9zaXRpb24sIGFuZCB5IGlzIHRoZSByb3cgcG9zaXRpb24uIFRoZSBvcmRlcmluZyBpcyBhbHdheXMgeCwgeS4KCSAqIFRoZSBvcmlnaW4gaXMgYXQgdGhlIHRvcC1sZWZ0LjwvcD4KCSAqCgkgKiA8cD5JbnRlcm5hbGx5IHRoZSBiaXRzIGFyZSByZXByZXNlbnRlZCBpbiBhIDEtRCBhcnJheSBvZiAzMi1iaXQgaW50cy4gSG93ZXZlciwgZWFjaCByb3cgYmVnaW5zCgkgKiB3aXRoIGEgbmV3IGludC4gVGhpcyBpcyBkb25lIGludGVudGlvbmFsbHkgc28gdGhhdCB3ZSBjYW4gY29weSBvdXQgYSByb3cgaW50byBhIEJpdEFycmF5IHZlcnkKCSAqIGVmZmljaWVudGx5LjwvcD4KCSAqCgkgKiA8cD5UaGUgb3JkZXJpbmcgb2YgYml0cyBpcyByb3ctbWFqb3IuIFdpdGhpbiBlYWNoIGludCwgdGhlIGxlYXN0IHNpZ25pZmljYW50IGJpdHMgYXJlIHVzZWQgZmlyc3QsCgkgKiBtZWFuaW5nIHRoZXkgcmVwcmVzZW50IGxvd2VyIHggdmFsdWVzLiBUaGlzIGlzIGNvbXBhdGlibGUgd2l0aCBCaXRBcnJheSdzIGltcGxlbWVudGF0aW9uLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqLwoJdmFyIEJpdE1hdHJpeCAvKmltcGxlbWVudHMgQ2xvbmVhYmxlKi8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQ3JlYXRlcyBhbiBlbXB0eSBzcXVhcmUge0BsaW5rIEJpdE1hdHJpeH0uCgkgICAgICoKCSAgICAgKiBAcGFyYW0gZGltZW5zaW9uIGhlaWdodCBhbmQgd2lkdGgKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoZGltZW5zaW9uOiBudW1iZXIgLyppbnQqLykgewoJICAgIC8vICAgdGhpcyhkaW1lbnNpb24sIGRpbWVuc2lvbikKCSAgICAvLyB9CgkgICAgLyoqCgkgICAgICogQ3JlYXRlcyBhbiBlbXB0eSB7QGxpbmsgQml0TWF0cml4fS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB3aWR0aCBiaXQgbWF0cml4IHdpZHRoCgkgICAgICogQHBhcmFtIGhlaWdodCBiaXQgbWF0cml4IGhlaWdodAoJICAgICAqLwoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyIC8qaW50Ki8sIGhlaWdodDogbnVtYmVyIC8qaW50Ki8pIHsKCSAgICAvLyAgIGlmICh3aWR0aCA8IDEgfHwgaGVpZ2h0IDwgMSkgewoJICAgIC8vICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCJCb3RoIGRpbWVuc2lvbnMgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCIpCgkgICAgLy8gICB9CgkgICAgLy8gICB0aGlzLndpZHRoID0gd2lkdGgKCSAgICAvLyAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0CgkgICAgLy8gICB0aGlzLnJvd1NpemUgPSAod2lkdGggKyAzMSkgLyAzMgoJICAgIC8vICAgYml0cyA9IG5ldyBpbnRbcm93U2l6ZSAqIGhlaWdodF07CgkgICAgLy8gfQoJICAgIGZ1bmN0aW9uIEJpdE1hdHJpeCh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgcm93U2l6ZSAvKmludCovLCBiaXRzKSB7CgkgICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDsKCSAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7CgkgICAgICAgIHRoaXMucm93U2l6ZSA9IHJvd1NpemU7CgkgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGhlaWdodCB8fCBudWxsID09PSBoZWlnaHQpIHsKCSAgICAgICAgICAgIGhlaWdodCA9IHdpZHRoOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0OwoJICAgICAgICBpZiAod2lkdGggPCAxIHx8IGhlaWdodCA8IDEpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ0JvdGggZGltZW5zaW9ucyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gcm93U2l6ZSB8fCBudWxsID09PSByb3dTaXplKSB7CgkgICAgICAgICAgICByb3dTaXplID0gTWF0aC5mbG9vcigod2lkdGggKyAzMSkgLyAzMik7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yb3dTaXplID0gcm93U2l6ZTsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gYml0cyB8fCBudWxsID09PSBiaXRzKSB7CgkgICAgICAgICAgICB0aGlzLmJpdHMgPSBuZXcgSW50MzJBcnJheSh0aGlzLnJvd1NpemUgKiB0aGlzLmhlaWdodCk7CgkgICAgICAgIH0KCSAgICB9CgkgICAgLyoqCgkgICAgICogSW50ZXJwcmV0cyBhIDJEIGFycmF5IG9mIGJvb2xlYW5zIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0sIHdoZXJlICJ0cnVlIiBtZWFucyBhbiAib24iIGJpdC4KCSAgICAgKgoJICAgICAqIEBmdW5jdGlvbiBwYXJzZQoJICAgICAqIEBwYXJhbSBpbWFnZSBiaXRzIG9mIHRoZSBpbWFnZSwgYXMgYSByb3ctbWFqb3IgMkQgYXJyYXkuIEVsZW1lbnRzIGFyZSBhcnJheXMgcmVwcmVzZW50aW5nIHJvd3MKCSAgICAgKiBAcmV0dXJuIHtAbGluayBCaXRNYXRyaXh9IHJlcHJlc2VudGF0aW9uIG9mIGltYWdlCgkgICAgICovCgkgICAgQml0TWF0cml4LnBhcnNlRnJvbUJvb2xlYW5BcnJheSA9IGZ1bmN0aW9uIChpbWFnZSkgewoJICAgICAgICB2YXIgaGVpZ2h0ID0gaW1hZ2UubGVuZ3RoOwoJICAgICAgICB2YXIgd2lkdGggPSBpbWFnZVswXS5sZW5ndGg7CgkgICAgICAgIHZhciBiaXRzID0gbmV3IEJpdE1hdHJpeCh3aWR0aCwgaGVpZ2h0KTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWlnaHQ7IGkrKykgewoJICAgICAgICAgICAgdmFyIGltYWdlSSA9IGltYWdlW2ldOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB3aWR0aDsgaisrKSB7CgkgICAgICAgICAgICAgICAgaWYgKGltYWdlSVtqXSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLnNldChqLCBpKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKgoJICAgICAqIEBmdW5jdGlvbiBwYXJzZQoJICAgICAqIEBwYXJhbSBzdHJpbmdSZXByZXNlbnRhdGlvbgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcKCSAgICAgKiBAcGFyYW0gdW5zZXRTdHJpbmcKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucGFyc2VGcm9tU3RyaW5nID0gZnVuY3Rpb24gKHN0cmluZ1JlcHJlc2VudGF0aW9uLCBzZXRTdHJpbmcsIHVuc2V0U3RyaW5nKSB7CgkgICAgICAgIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbiA9PT0gbnVsbCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnc3RyaW5nUmVwcmVzZW50YXRpb24gY2Fubm90IGJlIG51bGwnKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IG5ldyBBcnJheShzdHJpbmdSZXByZXNlbnRhdGlvbi5sZW5ndGgpOwoJICAgICAgICB2YXIgYml0c1BvcyA9IDA7CgkgICAgICAgIHZhciByb3dTdGFydFBvcyA9IDA7CgkgICAgICAgIHZhciByb3dMZW5ndGggPSAtMTsKCSAgICAgICAgdmFyIG5Sb3dzID0gMDsKCSAgICAgICAgdmFyIHBvcyA9IDA7CgkgICAgICAgIHdoaWxlIChwb3MgPCBzdHJpbmdSZXByZXNlbnRhdGlvbi5sZW5ndGgpIHsKCSAgICAgICAgICAgIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbi5jaGFyQXQocG9zKSA9PT0gJ1xuJyB8fAoJICAgICAgICAgICAgICAgIHN0cmluZ1JlcHJlc2VudGF0aW9uLmNoYXJBdChwb3MpID09PSAnXHInKSB7CgkgICAgICAgICAgICAgICAgaWYgKGJpdHNQb3MgPiByb3dTdGFydFBvcykgewoJICAgICAgICAgICAgICAgICAgICBpZiAocm93TGVuZ3RoID09PSAtMSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcm93TGVuZ3RoID0gYml0c1BvcyAtIHJvd1N0YXJ0UG9zOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJpdHNQb3MgLSByb3dTdGFydFBvcyAhPT0gcm93TGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdyb3cgbGVuZ3RocyBkbyBub3QgbWF0Y2gnKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICByb3dTdGFydFBvcyA9IGJpdHNQb3M7CgkgICAgICAgICAgICAgICAgICAgIG5Sb3dzKys7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHBvcysrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSBpZiAoc3RyaW5nUmVwcmVzZW50YXRpb24uc3Vic3RyaW5nKHBvcywgcG9zICsgc2V0U3RyaW5nLmxlbmd0aCkgPT09IHNldFN0cmluZykgewoJICAgICAgICAgICAgICAgIHBvcyArPSBzZXRTdHJpbmcubGVuZ3RoOwoJICAgICAgICAgICAgICAgIGJpdHNbYml0c1Bvc10gPSB0cnVlOwoJICAgICAgICAgICAgICAgIGJpdHNQb3MrKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHN0cmluZ1JlcHJlc2VudGF0aW9uLnN1YnN0cmluZyhwb3MsIHBvcyArIHVuc2V0U3RyaW5nLmxlbmd0aCkgPT09IHVuc2V0U3RyaW5nKSB7CgkgICAgICAgICAgICAgICAgcG9zICs9IHVuc2V0U3RyaW5nLmxlbmd0aDsKCSAgICAgICAgICAgICAgICBiaXRzW2JpdHNQb3NdID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgYml0c1BvcysrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnaWxsZWdhbCBjaGFyYWN0ZXIgZW5jb3VudGVyZWQ6ICcgKyBzdHJpbmdSZXByZXNlbnRhdGlvbi5zdWJzdHJpbmcocG9zKSk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gbm8gRU9MIGF0IGVuZD8KCSAgICAgICAgaWYgKGJpdHNQb3MgPiByb3dTdGFydFBvcykgewoJICAgICAgICAgICAgaWYgKHJvd0xlbmd0aCA9PT0gLTEpIHsKCSAgICAgICAgICAgICAgICByb3dMZW5ndGggPSBiaXRzUG9zIC0gcm93U3RhcnRQb3M7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIGlmIChiaXRzUG9zIC0gcm93U3RhcnRQb3MgIT09IHJvd0xlbmd0aCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ3JvdyBsZW5ndGhzIGRvIG5vdCBtYXRjaCcpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgblJvd3MrKzsKCSAgICAgICAgfQoJICAgICAgICB2YXIgbWF0cml4ID0gbmV3IEJpdE1hdHJpeChyb3dMZW5ndGgsIG5Sb3dzKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiaXRzUG9zOyBpKyspIHsKCSAgICAgICAgICAgIGlmIChiaXRzW2ldKSB7CgkgICAgICAgICAgICAgICAgbWF0cml4LnNldChNYXRoLmZsb29yKGkgJSByb3dMZW5ndGgpLCBNYXRoLmZsb29yKGkgLyByb3dMZW5ndGgpKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbWF0cml4OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+R2V0cyB0aGUgcmVxdWVzdGVkIGJpdCwgd2hlcmUgdHJ1ZSBtZWFucyBibGFjay48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0geCBUaGUgaG9yaXpvbnRhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggY29sdW1uKQoJICAgICAqIEBwYXJhbSB5IFRoZSB2ZXJ0aWNhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggcm93KQoJICAgICAqIEByZXR1cm4gdmFsdWUgb2YgZ2l2ZW4gYml0IGluIG1hdHJpeAoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHggLyppbnQqLywgeSAvKmludCovKSB7CgkgICAgICAgIHZhciBvZmZzZXQgPSB5ICogdGhpcy5yb3dTaXplICsgTWF0aC5mbG9vcih4IC8gMzIpOwoJICAgICAgICByZXR1cm4gKCh0aGlzLmJpdHNbb2Zmc2V0XSA+Pj4gKHggJiAweDFmKSkgJiAxKSAhPT0gMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlNldHMgdGhlIGdpdmVuIGJpdCB0byB0cnVlLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB4IFRoZSBob3Jpem9udGFsIGNvbXBvbmVudCAoaS5lLiB3aGljaCBjb2x1bW4pCgkgICAgICogQHBhcmFtIHkgVGhlIHZlcnRpY2FsIGNvbXBvbmVudCAoaS5lLiB3aGljaCByb3cpCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdIHw9ICgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRjsKCSAgICB9OwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUudW5zZXQgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdICY9IH4oKDEgPDwgKHggJiAweDFmKSkgJiAweEZGRkZGRkZGKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkZsaXBzIHRoZSBnaXZlbiBiaXQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIHggVGhlIGhvcml6b250YWwgY29tcG9uZW50IChpLmUuIHdoaWNoIGNvbHVtbikKCSAgICAgKiBAcGFyYW0geSBUaGUgdmVydGljYWwgY29tcG9uZW50IChpLmUuIHdoaWNoIHJvdykKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmZsaXAgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdIF49ICgoMSA8PCAoeCAmIDB4MWYpKSAmIDB4RkZGRkZGRkYpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRXhjbHVzaXZlLW9yIChYT1IpOiBGbGlwIHRoZSBiaXQgaW4gdGhpcyB7QGNvZGUgQml0TWF0cml4fSBpZiB0aGUgY29ycmVzcG9uZGluZwoJICAgICAqIG1hc2sgYml0IGlzIHNldC4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBtYXNrIFhPUiBtYXNrCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAobWFzaykgewoJICAgICAgICBpZiAodGhpcy53aWR0aCAhPT0gbWFzay5nZXRXaWR0aCgpIHx8IHRoaXMuaGVpZ2h0ICE9PSBtYXNrLmdldEhlaWdodCgpCgkgICAgICAgICAgICB8fCB0aGlzLnJvd1NpemUgIT09IG1hc2suZ2V0Um93U2l6ZSgpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdpbnB1dCBtYXRyaXggZGltZW5zaW9ucyBkbyBub3QgbWF0Y2gnKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcm93QXJyYXkgPSBuZXcgQml0QXJyYXlfMSQxLmRlZmF1bHQoTWF0aC5mbG9vcih0aGlzLndpZHRoIC8gMzIpICsgMSk7CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIHZhciBvZmZzZXQgPSB5ICogcm93U2l6ZTsKCSAgICAgICAgICAgIHZhciByb3cgPSBtYXNrLmdldFJvdyh5LCByb3dBcnJheSkuZ2V0Qml0QXJyYXkoKTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgcm93U2l6ZTsgeCsrKSB7CgkgICAgICAgICAgICAgICAgYml0c1tvZmZzZXQgKyB4XSBePSByb3dbeF07CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIENsZWFycyBhbGwgYml0cyAoc2V0cyB0byBmYWxzZSkuCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIHZhciBtYXggPSBiaXRzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkrKykgewoJICAgICAgICAgICAgYml0c1tpXSA9IDA7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlNldHMgYSBzcXVhcmUgcmVnaW9uIG9mIHRoZSBiaXQgbWF0cml4IHRvIHRydWUuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGxlZnQgVGhlIGhvcml6b250YWwgcG9zaXRpb24gdG8gYmVnaW4gYXQgKGluY2x1c2l2ZSkKCSAgICAgKiBAcGFyYW0gdG9wIFRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiB0byBiZWdpbiBhdCAoaW5jbHVzaXZlKQoJICAgICAqIEBwYXJhbSB3aWR0aCBUaGUgd2lkdGggb2YgdGhlIHJlZ2lvbgoJICAgICAqIEBwYXJhbSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgcmVnaW9uCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXRSZWdpb24gPSBmdW5jdGlvbiAobGVmdCAvKmludCovLCB0b3AgLyppbnQqLywgd2lkdGggLyppbnQqLywgaGVpZ2h0IC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKHRvcCA8IDAgfHwgbGVmdCA8IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ0xlZnQgYW5kIHRvcCBtdXN0IGJlIG5vbm5lZ2F0aXZlJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGhlaWdodCA8IDEgfHwgd2lkdGggPCAxKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdIZWlnaHQgYW5kIHdpZHRoIG11c3QgYmUgYXQgbGVhc3QgMScpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByaWdodCA9IGxlZnQgKyB3aWR0aDsKCSAgICAgICAgdmFyIGJvdHRvbSA9IHRvcCArIGhlaWdodDsKCSAgICAgICAgaWYgKGJvdHRvbSA+IHRoaXMuaGVpZ2h0IHx8IHJpZ2h0ID4gdGhpcy53aWR0aCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnVGhlIHJlZ2lvbiBtdXN0IGZpdCBpbnNpZGUgdGhlIG1hdHJpeCcpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgeSA9IHRvcDsgeSA8IGJvdHRvbTsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHJvd1NpemU7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gbGVmdDsgeCA8IHJpZ2h0OyB4KyspIHsKCSAgICAgICAgICAgICAgICBiaXRzW29mZnNldCArIE1hdGguZmxvb3IoeCAvIDMyKV0gfD0gKCgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRik7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEEgZmFzdCBtZXRob2QgdG8gcmV0cmlldmUgb25lIHJvdyBvZiBkYXRhIGZyb20gdGhlIG1hdHJpeCBhcyBhIEJpdEFycmF5LgoJICAgICAqCgkgICAgICogQHBhcmFtIHkgVGhlIHJvdyB0byByZXRyaWV2ZQoJICAgICAqIEBwYXJhbSByb3cgQW4gb3B0aW9uYWwgY2FsbGVyLWFsbG9jYXRlZCBCaXRBcnJheSwgd2lsbCBiZSBhbGxvY2F0ZWQgaWYgbnVsbCBvciB0b28gc21hbGwKCSAgICAgKiBAcmV0dXJuIFRoZSByZXN1bHRpbmcgQml0QXJyYXkgLSB0aGlzIHJlZmVyZW5jZSBzaG91bGQgYWx3YXlzIGJlIHVzZWQgZXZlbiB3aGVuIHBhc3NpbmcKCSAgICAgKiAgICAgICAgIHlvdXIgb3duIHJvdwoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Um93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7CgkgICAgICAgIGlmIChyb3cgPT09IG51bGwgfHwgcm93ID09PSB1bmRlZmluZWQgfHwgcm93LmdldFNpemUoKSA8IHRoaXMud2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheV8xJDEuZGVmYXVsdCh0aGlzLndpZHRoKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHJvdy5jbGVhcigpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiByb3dTaXplOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHJvd1NpemU7IHgrKykgewoJICAgICAgICAgICAgcm93LnNldEJ1bGsoeCAqIDMyLCBiaXRzW29mZnNldCArIHhdKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcm93OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIHkgcm93IHRvIHNldAoJICAgICAqIEBwYXJhbSByb3cge0BsaW5rIEJpdEFycmF5fSB0byBjb3B5IGZyb20KCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLnNldFJvdyA9IGZ1bmN0aW9uICh5IC8qaW50Ki8sIHJvdykgewoJICAgICAgICBTeXN0ZW1fMSQzLmRlZmF1bHQuYXJyYXljb3B5KHJvdy5nZXRCaXRBcnJheSgpLCAwLCB0aGlzLmJpdHMsIHkgKiB0aGlzLnJvd1NpemUsIHRoaXMucm93U2l6ZSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBNb2RpZmllcyB0aGlzIHtAY29kZSBCaXRNYXRyaXh9IHRvIHJlcHJlc2VudCB0aGUgc2FtZSBidXQgcm90YXRlZCAxODAgZGVncmVlcwoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUucm90YXRlMTgwID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgdG9wUm93ID0gbmV3IEJpdEFycmF5XzEkMS5kZWZhdWx0KHdpZHRoKTsKCSAgICAgICAgdmFyIGJvdHRvbVJvdyA9IG5ldyBCaXRBcnJheV8xJDEuZGVmYXVsdCh3aWR0aCk7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IE1hdGguZmxvb3IoKGhlaWdodCArIDEpIC8gMik7IGkgPCBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICB0b3BSb3cgPSB0aGlzLmdldFJvdyhpLCB0b3BSb3cpOwoJICAgICAgICAgICAgYm90dG9tUm93ID0gdGhpcy5nZXRSb3coaGVpZ2h0IC0gMSAtIGksIGJvdHRvbVJvdyk7CgkgICAgICAgICAgICB0b3BSb3cucmV2ZXJzZSgpOwoJICAgICAgICAgICAgYm90dG9tUm93LnJldmVyc2UoKTsKCSAgICAgICAgICAgIHRoaXMuc2V0Um93KGksIGJvdHRvbVJvdyk7CgkgICAgICAgICAgICB0aGlzLnNldFJvdyhoZWlnaHQgLSAxIC0gaSwgdG9wUm93KTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICogVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZWN0aW5nIHRoZSBlbmNsb3NpbmcgcmVjdGFuZ2xlIG9mIGEgJ3B1cmUnIGJhcmNvZGUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIHtAY29kZSBsZWZ0LHRvcCx3aWR0aCxoZWlnaHR9IGVuY2xvc2luZyByZWN0YW5nbGUgb2YgYWxsIDEgYml0cywgb3IgbnVsbCBpZiBpdCBpcyBhbGwgd2hpdGUKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldEVuY2xvc2luZ1JlY3RhbmdsZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDsKCSAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuaGVpZ2h0OwoJICAgICAgICB2YXIgcm93U2l6ZSA9IHRoaXMucm93U2l6ZTsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIHZhciBsZWZ0ID0gd2lkdGg7CgkgICAgICAgIHZhciB0b3AgPSBoZWlnaHQ7CgkgICAgICAgIHZhciByaWdodCA9IC0xOwoJICAgICAgICB2YXIgYm90dG9tID0gLTE7CgkgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIHgzMiA9IDA7IHgzMiA8IHJvd1NpemU7IHgzMisrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHRoZUJpdHMgPSBiaXRzW3kgKiByb3dTaXplICsgeDMyXTsKCSAgICAgICAgICAgICAgICBpZiAodGhlQml0cyAhPT0gMCkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoeSA8IHRvcCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgdG9wID0geTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBpZiAoeSA+IGJvdHRvbSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tID0geTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBpZiAoeDMyICogMzIgPCBsZWZ0KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYml0ID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgoKHRoZUJpdHMgPDwgKDMxIC0gYml0KSkgJiAweEZGRkZGRkZGKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdCsrOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MzIgKiAzMiArIGJpdCkgPCBsZWZ0KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IHgzMiAqIDMyICsgYml0OwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGlmICh4MzIgKiAzMiArIDMxID4gcmlnaHQpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiaXQgPSAzMTsKCSAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgodGhlQml0cyA+Pj4gYml0KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdC0tOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MzIgKiAzMiArIGJpdCkgPiByaWdodCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0geDMyICogMzIgKyBiaXQ7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHJpZ2h0IDwgbGVmdCB8fCBib3R0b20gPCB0b3ApIHsKCSAgICAgICAgICAgIHJldHVybiBudWxsOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW2xlZnQsIHRvcCwgcmlnaHQgLSBsZWZ0ICsgMSwgYm90dG9tIC0gdG9wICsgMV0pOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZWN0aW5nIGEgY29ybmVyIG9mIGEgJ3B1cmUnIGJhcmNvZGUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIHtAY29kZSB4LHl9IGNvb3JkaW5hdGUgb2YgdG9wLWxlZnQtbW9zdCAxIGJpdCwgb3IgbnVsbCBpZiBpdCBpcyBhbGwgd2hpdGUKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldFRvcExlZnRPbkJpdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IDA7CgkgICAgICAgIHdoaWxlIChiaXRzT2Zmc2V0IDwgYml0cy5sZW5ndGggJiYgYml0c1tiaXRzT2Zmc2V0XSA9PT0gMCkgewoJICAgICAgICAgICAgYml0c09mZnNldCsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChiaXRzT2Zmc2V0ID09PSBiaXRzLmxlbmd0aCkgewoJICAgICAgICAgICAgcmV0dXJuIG51bGw7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHkgPSBiaXRzT2Zmc2V0IC8gcm93U2l6ZTsKCSAgICAgICAgdmFyIHggPSAoYml0c09mZnNldCAlIHJvd1NpemUpICogMzI7CgkgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgdmFyIGJpdCA9IDA7CgkgICAgICAgIHdoaWxlICgoKHRoZUJpdHMgPDwgKDMxIC0gYml0KSkgJiAweEZGRkZGRkZGKSA9PT0gMCkgewoJICAgICAgICAgICAgYml0Kys7CgkgICAgICAgIH0KCSAgICAgICAgeCArPSBiaXQ7CgkgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW3gsIHldKTsKCSAgICB9OwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Qm90dG9tUmlnaHRPbkJpdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IGJpdHMubGVuZ3RoIC0gMTsKCSAgICAgICAgd2hpbGUgKGJpdHNPZmZzZXQgPj0gMCAmJiBiaXRzW2JpdHNPZmZzZXRdID09PSAwKSB7CgkgICAgICAgICAgICBiaXRzT2Zmc2V0LS07CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGJpdHNPZmZzZXQgPCAwKSB7CgkgICAgICAgICAgICByZXR1cm4gbnVsbDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IoYml0c09mZnNldCAvIHJvd1NpemUpOwoJICAgICAgICB2YXIgeCA9IE1hdGguZmxvb3IoYml0c09mZnNldCAlIHJvd1NpemUpICogMzI7CgkgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgdmFyIGJpdCA9IDMxOwoJICAgICAgICB3aGlsZSAoKHRoZUJpdHMgPj4+IGJpdCkgPT09IDApIHsKCSAgICAgICAgICAgIGJpdC0tOwoJICAgICAgICB9CgkgICAgICAgIHggKz0gYml0OwoJICAgICAgICByZXR1cm4gSW50MzJBcnJheS5mcm9tKFt4LCB5XSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgbWF0cml4CgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMud2lkdGg7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSBoZWlnaHQgb2YgdGhlIG1hdHJpeAoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5oZWlnaHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSByb3cgc2l6ZSBvZiB0aGUgbWF0cml4CgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRSb3dTaXplID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yb3dTaXplOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHsKCSAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEJpdE1hdHJpeCkpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgb3RoZXIgPSBvOwoJICAgICAgICByZXR1cm4gdGhpcy53aWR0aCA9PT0gb3RoZXIud2lkdGggJiYgdGhpcy5oZWlnaHQgPT09IG90aGVyLmhlaWdodCAmJiB0aGlzLnJvd1NpemUgPT09IG90aGVyLnJvd1NpemUgJiYKCSAgICAgICAgICAgIEFycmF5c18xLmRlZmF1bHQuZXF1YWxzKHRoaXMuYml0cywgb3RoZXIuYml0cyk7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGhhc2ggPSB0aGlzLndpZHRoOwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy53aWR0aDsKCSAgICAgICAgaGFzaCA9IDMxICogaGFzaCArIHRoaXMuaGVpZ2h0OwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy5yb3dTaXplOwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgQXJyYXlzXzEuZGVmYXVsdC5oYXNoQ29kZSh0aGlzLmJpdHMpOwoJICAgICAgICByZXR1cm4gaGFzaDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIHVzaW5nICJYIiBmb3Igc2V0IGFuZCAiICIgZm9yIHVuc2V0IGJpdHMKCSAgICAgKi8KCSAgICAvKkBPdmVycmlkZSovCgkgICAgLy8gcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7CgkgICAgLy8gICByZXR1cm4gdG9TdHJpbmcoIjogIlgsICIgICIpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZXQgYml0CgkgICAgICogQHBhcmFtIHVuc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIHVuc2V0IGJpdAoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGVudGlyZSBtYXRyaXggdXRpbGl6aW5nIGdpdmVuIHN0cmluZ3MKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgdG9TdHJpbmcoc2V0U3RyaW5nOiBzdHJpbmcgPSAiWCAiLCB1bnNldFN0cmluZzogc3RyaW5nID0gIiAgIik6IHN0cmluZyB7CgkgICAgLy8gICByZXR1cm4gdGhpcy5idWlsZFRvU3RyaW5nKHNldFN0cmluZywgdW5zZXRTdHJpbmcsICJcbiIpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZXQgYml0CgkgICAgICogQHBhcmFtIHVuc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIHVuc2V0IGJpdAoJICAgICAqIEBwYXJhbSBsaW5lU2VwYXJhdG9yIG5ld2xpbmUgY2hhcmFjdGVyIGluIHN0cmluZyByZXByZXNlbnRhdGlvbgoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGVudGlyZSBtYXRyaXggdXRpbGl6aW5nIGdpdmVuIHN0cmluZ3MgYW5kIGxpbmUgc2VwYXJhdG9yCgkgICAgICogQGRlcHJlY2F0ZWQgY2FsbCB7QGxpbmsgI3RvU3RyaW5nKFN0cmluZyxTdHJpbmcpfSBvbmx5LCB3aGljaCB1c2VzIFxuIGxpbmUgc2VwYXJhdG9yIGFsd2F5cwoJICAgICAqLwoJICAgIC8vIEBEZXByZWNhdGVkCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIChzZXRTdHJpbmcsIHVuc2V0U3RyaW5nLCBsaW5lU2VwYXJhdG9yKSB7CgkgICAgICAgIGlmIChzZXRTdHJpbmcgPT09IHZvaWQgMCkgeyBzZXRTdHJpbmcgPSAnWCAnOyB9CgkgICAgICAgIGlmICh1bnNldFN0cmluZyA9PT0gdm9pZCAwKSB7IHVuc2V0U3RyaW5nID0gJyAgJzsgfQoJICAgICAgICBpZiAobGluZVNlcGFyYXRvciA9PT0gdm9pZCAwKSB7IGxpbmVTZXBhcmF0b3IgPSAnXG4nOyB9CgkgICAgICAgIHJldHVybiB0aGlzLmJ1aWxkVG9TdHJpbmcoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgbGluZVNlcGFyYXRvcik7CgkgICAgfTsKCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmJ1aWxkVG9TdHJpbmcgPSBmdW5jdGlvbiAoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgbGluZVNlcGFyYXRvcikgewoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXJfMSQyLmRlZmF1bHQoKTsKCSAgICAgICAgLy8gcmVzdWx0LmFwcGVuZChsaW5lU2VwYXJhdG9yKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwLCB3aWR0aCA9IHRoaXMud2lkdGg7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCh0aGlzLmdldCh4LCB5KSA/IHNldFN0cmluZyA6IHVuc2V0U3RyaW5nKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQobGluZVNlcGFyYXRvcik7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdC50b1N0cmluZygpOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgQml0TWF0cml4KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLnJvd1NpemUsIHRoaXMuYml0cy5zbGljZSgpKTsKCSAgICB9OwoJICAgIHJldHVybiBCaXRNYXRyaXg7Cgl9KCkpOwoJQml0TWF0cml4JDEuZGVmYXVsdCA9IEJpdE1hdHJpeDsKCgl2YXIgTm90Rm91bmRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb3RGb3VuZEV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNSA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBOb3RGb3VuZEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZChOb3RGb3VuZEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBOb3RGb3VuZEV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBOb3RGb3VuZEV4Y2VwdGlvbi5nZXROb3RGb3VuZEluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7CgkgICAgfTsKCSAgICBOb3RGb3VuZEV4Y2VwdGlvbi5raW5kID0gJ05vdEZvdW5kRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gTm90Rm91bmRFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDUuZGVmYXVsdCkpOwoJTm90Rm91bmRFeGNlcHRpb24kMS5kZWZhdWx0ID0gTm90Rm91bmRFeGNlcHRpb247CgoJLyoKCSAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMkYyA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24geyovCgl2YXIgQmluYXJpemVyXzEgPSBCaW5hcml6ZXIkMTsKCXZhciBCaXRBcnJheV8xID0gQml0QXJyYXkkMTsKCXZhciBCaXRNYXRyaXhfMSQ1ID0gQml0TWF0cml4JDE7Cgl2YXIgTm90Rm91bmRFeGNlcHRpb25fMSQ2ID0gTm90Rm91bmRFeGNlcHRpb24kMTsKCS8qKgoJICogVGhpcyBCaW5hcml6ZXIgaW1wbGVtZW50YXRpb24gdXNlcyB0aGUgb2xkIFpYaW5nIGdsb2JhbCBoaXN0b2dyYW0gYXBwcm9hY2guIEl0IGlzIHN1aXRhYmxlCgkgKiBmb3IgbG93LWVuZCBtb2JpbGUgZGV2aWNlcyB3aGljaCBkb24ndCBoYXZlIGVub3VnaCBDUFUgb3IgbWVtb3J5IHRvIHVzZSBhIGxvY2FsIHRocmVzaG9sZGluZwoJICogYWxnb3JpdGhtLiBIb3dldmVyLCBiZWNhdXNlIGl0IHBpY2tzIGEgZ2xvYmFsIGJsYWNrIHBvaW50LCBpdCBjYW5ub3QgaGFuZGxlIGRpZmZpY3VsdCBzaGFkb3dzCgkgKiBhbmQgZ3JhZGllbnRzLgoJICoKCSAqIEZhc3RlciBtb2JpbGUgZGV2aWNlcyBhbmQgYWxsIGRlc2t0b3AgYXBwbGljYXRpb25zIHNob3VsZCBwcm9iYWJseSB1c2UgSHlicmlkQmluYXJpemVyIGluc3RlYWQuCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGMoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcihzb3VyY2UpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5sdW1pbmFuY2VzID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkVNUFRZOwoJICAgICAgICBfdGhpcy5idWNrZXRzID0gbmV3IEludDMyQXJyYXkoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CVUNLRVRTKTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICAvLyBBcHBsaWVzIHNpbXBsZSBzaGFycGVuaW5nIHRvIHRoZSByb3cgZGF0YSB0byBpbXByb3ZlIHBlcmZvcm1hbmNlIG9mIHRoZSAxRCBSZWFkZXJzLgoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmdldEJsYWNrUm93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgaWYgKHJvdyA9PT0gdW5kZWZpbmVkIHx8IHJvdyA9PT0gbnVsbCB8fCByb3cuZ2V0U2l6ZSgpIDwgd2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheV8xLmRlZmF1bHQod2lkdGgpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgcm93LmNsZWFyKCk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5pbml0QXJyYXlzKHdpZHRoKTsKCSAgICAgICAgdmFyIGxvY2FsTHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRSb3coeSwgdGhpcy5sdW1pbmFuY2VzKTsKCSAgICAgICAgdmFyIGxvY2FsQnVja2V0cyA9IHRoaXMuYnVja2V0czsKCSAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICBsb2NhbEJ1Y2tldHNbKGxvY2FsTHVtaW5hbmNlc1t4XSAmIDB4ZmYpID4+IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfU0hJRlRdKys7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGJsYWNrUG9pbnQgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuZXN0aW1hdGVCbGFja1BvaW50KGxvY2FsQnVja2V0cyk7CgkgICAgICAgIGlmICh3aWR0aCA8IDMpIHsKCSAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgdmVyeSBzbWFsbCBpbWFnZXMKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgd2lkdGg7IHgrKykgewoJICAgICAgICAgICAgICAgIGlmICgobG9jYWxMdW1pbmFuY2VzW3hdICYgMHhmZikgPCBibGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgIHJvdy5zZXQoeCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdmFyIGxlZnQgPSBsb2NhbEx1bWluYW5jZXNbMF0gJiAweGZmOwoJICAgICAgICAgICAgdmFyIGNlbnRlciA9IGxvY2FsTHVtaW5hbmNlc1sxXSAmIDB4ZmY7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMTsgeCA8IHdpZHRoIC0gMTsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHJpZ2h0ID0gbG9jYWxMdW1pbmFuY2VzW3ggKyAxXSAmIDB4ZmY7CgkgICAgICAgICAgICAgICAgLy8gQSBzaW1wbGUgLTEgNCAtMSBib3ggZmlsdGVyIHdpdGggYSB3ZWlnaHQgb2YgMi4KCSAgICAgICAgICAgICAgICBpZiAoKChjZW50ZXIgKiA0KSAtIGxlZnQgLSByaWdodCkgLyAyIDwgYmxhY2tQb2ludCkgewoJICAgICAgICAgICAgICAgICAgICByb3cuc2V0KHgpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBsZWZ0ID0gY2VudGVyOwoJICAgICAgICAgICAgICAgIGNlbnRlciA9IHJpZ2h0OwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByb3c7CgkgICAgfTsKCSAgICAvLyBEb2VzIG5vdCBzaGFycGVuIHRoZSBkYXRhLCBhcyB0aGlzIGNhbGwgaXMgaW50ZW5kZWQgdG8gb25seSBiZSB1c2VkIGJ5IDJEIFJlYWRlcnMuCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBCaXRNYXRyaXhfMSQ1LmRlZmF1bHQod2lkdGgsIGhlaWdodCk7CgkgICAgICAgIC8vIFF1aWNrbHkgY2FsY3VsYXRlcyB0aGUgaGlzdG9ncmFtIGJ5IHNhbXBsaW5nIGZvdXIgcm93cyBmcm9tIHRoZSBpbWFnZS4gVGhpcyBwcm92ZWQgdG8gYmUKCSAgICAgICAgLy8gbW9yZSByb2J1c3Qgb24gdGhlIGJsYWNrYm94IHRlc3RzIHRoYW4gc2FtcGxpbmcgYSBkaWFnb25hbCBhcyB3ZSB1c2VkIHRvIGRvLgoJICAgICAgICB0aGlzLmluaXRBcnJheXMod2lkdGgpOwoJICAgICAgICB2YXIgbG9jYWxCdWNrZXRzID0gdGhpcy5idWNrZXRzOwoJICAgICAgICBmb3IgKHZhciB5ID0gMTsgeSA8IDU7IHkrKykgewoJICAgICAgICAgICAgdmFyIHJvdyA9IE1hdGguZmxvb3IoKGhlaWdodCAqIHkpIC8gNSk7CgkgICAgICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzXzEgPSBzb3VyY2UuZ2V0Um93KHJvdywgdGhpcy5sdW1pbmFuY2VzKTsKCSAgICAgICAgICAgIHZhciByaWdodCA9IE1hdGguZmxvb3IoKHdpZHRoICogNCkgLyA1KTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSBNYXRoLmZsb29yKHdpZHRoIC8gNSk7IHggPCByaWdodDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbG9jYWxMdW1pbmFuY2VzXzFbeF0gJiAweGZmOwoJICAgICAgICAgICAgICAgIGxvY2FsQnVja2V0c1twaXhlbCA+PiBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUXSsrOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciBibGFja1BvaW50ID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmVzdGltYXRlQmxhY2tQb2ludChsb2NhbEJ1Y2tldHMpOwoJICAgICAgICAvLyBXZSBkZWxheSByZWFkaW5nIHRoZSBlbnRpcmUgaW1hZ2UgbHVtaW5hbmNlIHVudGlsIHRoZSBibGFjayBwb2ludCBlc3RpbWF0aW9uIHN1Y2NlZWRzLgoJICAgICAgICAvLyBBbHRob3VnaCB3ZSBlbmQgdXAgcmVhZGluZyBmb3VyIHJvd3MgdHdpY2UsIGl0IGlzIGNvbnNpc3RlbnQgd2l0aCBvdXIgbW90dG8gb2YKCSAgICAgICAgLy8gImZhaWwgcXVpY2tseSIgd2hpY2ggaXMgbmVjZXNzYXJ5IGZvciBjb250aW51b3VzIHNjYW5uaW5nLgoJICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzID0gc291cmNlLmdldE1hdHJpeCgpOwoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHdpZHRoOwoJICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbG9jYWxMdW1pbmFuY2VzW29mZnNldCArIHhdICYgMHhmZjsKCSAgICAgICAgICAgICAgICBpZiAocGl4ZWwgPCBibGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgIG1hdHJpeC5zZXQoeCwgeSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBtYXRyaXg7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLnByb3RvdHlwZS5jcmVhdGVCaW5hcml6ZXIgPSBmdW5jdGlvbiAoc291cmNlKSB7CgkgICAgICAgIHJldHVybiBuZXcgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyKHNvdXJjZSk7CgkgICAgfTsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmluaXRBcnJheXMgPSBmdW5jdGlvbiAobHVtaW5hbmNlU2l6ZSAvKmludCovKSB7CgkgICAgICAgIGlmICh0aGlzLmx1bWluYW5jZXMubGVuZ3RoIDwgbHVtaW5hbmNlU2l6ZSkgewoJICAgICAgICAgICAgdGhpcy5sdW1pbmFuY2VzID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGx1bWluYW5jZVNpemUpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBidWNrZXRzID0gdGhpcy5idWNrZXRzOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQlVDS0VUUzsgeCsrKSB7CgkgICAgICAgICAgICBidWNrZXRzW3hdID0gMDsKCSAgICAgICAgfQoJICAgIH07CgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmVzdGltYXRlQmxhY2tQb2ludCA9IGZ1bmN0aW9uIChidWNrZXRzKSB7CgkgICAgICAgIC8vIEZpbmQgdGhlIHRhbGxlc3QgcGVhayBpbiB0aGUgaGlzdG9ncmFtLgoJICAgICAgICB2YXIgbnVtQnVja2V0cyA9IGJ1Y2tldHMubGVuZ3RoOwoJICAgICAgICB2YXIgbWF4QnVja2V0Q291bnQgPSAwOwoJICAgICAgICB2YXIgZmlyc3RQZWFrID0gMDsKCSAgICAgICAgdmFyIGZpcnN0UGVha1NpemUgPSAwOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bUJ1Y2tldHM7IHgrKykgewoJICAgICAgICAgICAgaWYgKGJ1Y2tldHNbeF0gPiBmaXJzdFBlYWtTaXplKSB7CgkgICAgICAgICAgICAgICAgZmlyc3RQZWFrID0geDsKCSAgICAgICAgICAgICAgICBmaXJzdFBlYWtTaXplID0gYnVja2V0c1t4XTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChidWNrZXRzW3hdID4gbWF4QnVja2V0Q291bnQpIHsKCSAgICAgICAgICAgICAgICBtYXhCdWNrZXRDb3VudCA9IGJ1Y2tldHNbeF07CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRmluZCB0aGUgc2Vjb25kLXRhbGxlc3QgcGVhayB3aGljaCBpcyBzb21ld2hhdCBmYXIgZnJvbSB0aGUgdGFsbGVzdCBwZWFrLgoJICAgICAgICB2YXIgc2Vjb25kUGVhayA9IDA7CgkgICAgICAgIHZhciBzZWNvbmRQZWFrU2NvcmUgPSAwOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bUJ1Y2tldHM7IHgrKykgewoJICAgICAgICAgICAgdmFyIGRpc3RhbmNlVG9CaWdnZXN0ID0geCAtIGZpcnN0UGVhazsKCSAgICAgICAgICAgIC8vIEVuY291cmFnZSBtb3JlIGRpc3RhbnQgc2Vjb25kIHBlYWtzIGJ5IG11bHRpcGx5aW5nIGJ5IHNxdWFyZSBvZiBkaXN0YW5jZS4KCSAgICAgICAgICAgIHZhciBzY29yZSA9IGJ1Y2tldHNbeF0gKiBkaXN0YW5jZVRvQmlnZ2VzdCAqIGRpc3RhbmNlVG9CaWdnZXN0OwoJICAgICAgICAgICAgaWYgKHNjb3JlID4gc2Vjb25kUGVha1Njb3JlKSB7CgkgICAgICAgICAgICAgICAgc2Vjb25kUGVhayA9IHg7CgkgICAgICAgICAgICAgICAgc2Vjb25kUGVha1Njb3JlID0gc2NvcmU7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTWFrZSBzdXJlIGZpcnN0UGVhayBjb3JyZXNwb25kcyB0byB0aGUgYmxhY2sgcGVhay4KCSAgICAgICAgaWYgKGZpcnN0UGVhayA+IHNlY29uZFBlYWspIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gZmlyc3RQZWFrOwoJICAgICAgICAgICAgZmlyc3RQZWFrID0gc2Vjb25kUGVhazsKCSAgICAgICAgICAgIHNlY29uZFBlYWsgPSB0ZW1wOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHRoZXJlIGlzIHRvbyBsaXR0bGUgY29udHJhc3QgaW4gdGhlIGltYWdlIHRvIHBpY2sgYSBtZWFuaW5nZnVsIGJsYWNrIHBvaW50LCB0aHJvdyByYXRoZXIKCSAgICAgICAgLy8gdGhhbiB3YXN0ZSB0aW1lIHRyeWluZyB0byBkZWNvZGUgdGhlIGltYWdlLCBhbmQgcmlzayBmYWxzZSBwb3NpdGl2ZXMuCgkgICAgICAgIGlmIChzZWNvbmRQZWFrIC0gZmlyc3RQZWFrIDw9IG51bUJ1Y2tldHMgLyAxNikgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRmluZCBhIHZhbGxleSBiZXR3ZWVuIHRoZW0gdGhhdCBpcyBsb3cgYW5kIGNsb3NlciB0byB0aGUgd2hpdGUgcGVhay4KCSAgICAgICAgdmFyIGJlc3RWYWxsZXkgPSBzZWNvbmRQZWFrIC0gMTsKCSAgICAgICAgdmFyIGJlc3RWYWxsZXlTY29yZSA9IC0xOwoJICAgICAgICBmb3IgKHZhciB4ID0gc2Vjb25kUGVhayAtIDE7IHggPiBmaXJzdFBlYWs7IHgtLSkgewoJICAgICAgICAgICAgdmFyIGZyb21GaXJzdCA9IHggLSBmaXJzdFBlYWs7CgkgICAgICAgICAgICB2YXIgc2NvcmUgPSBmcm9tRmlyc3QgKiBmcm9tRmlyc3QgKiAoc2Vjb25kUGVhayAtIHgpICogKG1heEJ1Y2tldENvdW50IC0gYnVja2V0c1t4XSk7CgkgICAgICAgICAgICBpZiAoc2NvcmUgPiBiZXN0VmFsbGV5U2NvcmUpIHsKCSAgICAgICAgICAgICAgICBiZXN0VmFsbGV5ID0geDsKCSAgICAgICAgICAgICAgICBiZXN0VmFsbGV5U2NvcmUgPSBzY29yZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gYmVzdFZhbGxleSA8PCBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUOwoJICAgIH07CgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CSVRTID0gNTsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUID0gOCAtIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUzsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX0JVQ0tFVFMgPSAxIDw8IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUzsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuRU1QVFkgPSBVaW50OENsYW1wZWRBcnJheS5mcm9tKFswXSk7CgkgICAgcmV0dXJuIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcjsKCX0oQmluYXJpemVyXzEuZGVmYXVsdCkpOwoJR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyJDEuZGVmYXVsdCA9IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcjsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fZXh0ZW5kcyRiID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEh5YnJpZEJpbmFyaXplciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyXzEgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMTsKCXZhciBCaXRNYXRyaXhfMSQ0ID0gQml0TWF0cml4JDE7CgkvKioKCSAqIFRoaXMgY2xhc3MgaW1wbGVtZW50cyBhIGxvY2FsIHRocmVzaG9sZGluZyBhbGdvcml0aG0sIHdoaWNoIHdoaWxlIHNsb3dlciB0aGFuIHRoZQoJICogR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBpcyBmYWlybHkgZWZmaWNpZW50IGZvciB3aGF0IGl0IGRvZXMuIEl0IGlzIGRlc2lnbmVkIGZvcgoJICogaGlnaCBmcmVxdWVuY3kgaW1hZ2VzIG9mIGJhcmNvZGVzIHdpdGggYmxhY2sgZGF0YSBvbiB3aGl0ZSBiYWNrZ3JvdW5kcy4gRm9yIHRoaXMgYXBwbGljYXRpb24sCgkgKiBpdCBkb2VzIGEgbXVjaCBiZXR0ZXIgam9iIHRoYW4gYSBnbG9iYWwgYmxhY2twb2ludCB3aXRoIHNldmVyZSBzaGFkb3dzIGFuZCBncmFkaWVudHMuCgkgKiBIb3dldmVyIGl0IHRlbmRzIHRvIHByb2R1Y2UgYXJ0aWZhY3RzIG9uIGxvd2VyIGZyZXF1ZW5jeSBpbWFnZXMgYW5kIGlzIHRoZXJlZm9yZSBub3QKCSAqIGEgZ29vZCBnZW5lcmFsIHB1cnBvc2UgYmluYXJpemVyIGZvciB1c2VzIG91dHNpZGUgWlhpbmcuCgkgKgoJICogVGhpcyBjbGFzcyBleHRlbmRzIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplciwgdXNpbmcgdGhlIG9sZGVyIGhpc3RvZ3JhbSBhcHByb2FjaCBmb3IgMUQgcmVhZGVycywKCSAqIGFuZCB0aGUgbmV3ZXIgbG9jYWwgYXBwcm9hY2ggZm9yIDJEIHJlYWRlcnMuIDFEIGRlY29kaW5nIHVzaW5nIGEgcGVyLXJvdyBoaXN0b2dyYW0gaXMgYWxyZWFkeQoJICogaW5oZXJlbnRseSBsb2NhbCwgYW5kIG9ubHkgZmFpbHMgZm9yIGhvcml6b250YWwgZ3JhZGllbnRzLiBXZSBjYW4gcmV2aXNpdCB0aGF0IHByb2JsZW0gbGF0ZXIsCgkgKiBidXQgZm9yIG5vdyBpdCB3YXMgbm90IGEgd2luIHRvIHVzZSBsb2NhbCBibG9ja3MgZm9yIDFELgoJICoKCSAqIFRoaXMgQmluYXJpemVyIGlzIHRoZSBkZWZhdWx0IGZvciB0aGUgdW5pdCB0ZXN0cyBhbmQgdGhlIHJlY29tbWVuZGVkIGNsYXNzIGZvciBsaWJyYXJ5IHVzZXJzLgoJICoKCSAqIEBhdXRob3IgZHN3aXRraW5AZ29vZ2xlLmNvbSAoRGFuaWVsIFN3aXRraW4pCgkgKi8KCXZhciBIeWJyaWRCaW5hcml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGIoSHlicmlkQmluYXJpemVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEh5YnJpZEJpbmFyaXplcihzb3VyY2UpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5tYXRyaXggPSBudWxsOwoJICAgICAgICByZXR1cm4gX3RoaXM7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIENhbGN1bGF0ZXMgdGhlIGZpbmFsIEJpdE1hdHJpeCBvbmNlIGZvciBhbGwgcmVxdWVzdHMuIFRoaXMgY291bGQgYmUgY2FsbGVkIG9uY2UgZnJvbSB0aGUKCSAgICAgKiBjb25zdHJ1Y3RvciBpbnN0ZWFkLCBidXQgdGhlcmUgYXJlIHNvbWUgYWR2YW50YWdlcyB0byBkb2luZyBpdCBsYXppbHksIHN1Y2ggYXMgbWFraW5nCgkgICAgICogcHJvZmlsaW5nIGVhc2llciwgYW5kIG5vdCBkb2luZyBoZWF2eSBsaWZ0aW5nIHdoZW4gY2FsbGVycyBkb24ndCBleHBlY3QgaXQuCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEh5YnJpZEJpbmFyaXplci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLm1hdHJpeCAhPT0gbnVsbCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4OwoJICAgICAgICB9CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgaWYgKHdpZHRoID49IEh5YnJpZEJpbmFyaXplci5NSU5JTVVNX0RJTUVOU0lPTiAmJiBoZWlnaHQgPj0gSHlicmlkQmluYXJpemVyLk1JTklNVU1fRElNRU5TSU9OKSB7CgkgICAgICAgICAgICB2YXIgbHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRNYXRyaXgoKTsKCSAgICAgICAgICAgIHZhciBzdWJXaWR0aCA9IHdpZHRoID4+IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKCh3aWR0aCAmIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0spICE9PSAwKSB7CgkgICAgICAgICAgICAgICAgc3ViV2lkdGgrKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhciBzdWJIZWlnaHQgPSBoZWlnaHQgPj4gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7CgkgICAgICAgICAgICBpZiAoKGhlaWdodCAmIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0spICE9PSAwKSB7CgkgICAgICAgICAgICAgICAgc3ViSGVpZ2h0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgYmxhY2tQb2ludHMgPSBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlQmxhY2tQb2ludHMobHVtaW5hbmNlcywgc3ViV2lkdGgsIHN1YkhlaWdodCwgd2lkdGgsIGhlaWdodCk7CgkgICAgICAgICAgICB2YXIgbmV3TWF0cml4ID0gbmV3IEJpdE1hdHJpeF8xJDQuZGVmYXVsdCh3aWR0aCwgaGVpZ2h0KTsKCSAgICAgICAgICAgIEh5YnJpZEJpbmFyaXplci5jYWxjdWxhdGVUaHJlc2hvbGRGb3JCbG9jayhsdW1pbmFuY2VzLCBzdWJXaWR0aCwgc3ViSGVpZ2h0LCB3aWR0aCwgaGVpZ2h0LCBibGFja1BvaW50cywgbmV3TWF0cml4KTsKCSAgICAgICAgICAgIHRoaXMubWF0cml4ID0gbmV3TWF0cml4OwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgLy8gSWYgdGhlIGltYWdlIGlzIHRvbyBzbWFsbCwgZmFsbCBiYWNrIHRvIHRoZSBnbG9iYWwgaGlzdG9ncmFtIGFwcHJvYWNoLgoJICAgICAgICAgICAgdGhpcy5tYXRyaXggPSBfc3VwZXIucHJvdG90eXBlLmdldEJsYWNrTWF0cml4LmNhbGwodGhpcyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEh5YnJpZEJpbmFyaXplci5wcm90b3R5cGUuY3JlYXRlQmluYXJpemVyID0gZnVuY3Rpb24gKHNvdXJjZSkgewoJICAgICAgICByZXR1cm4gbmV3IEh5YnJpZEJpbmFyaXplcihzb3VyY2UpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRm9yIGVhY2ggYmxvY2sgaW4gdGhlIGltYWdlLCBjYWxjdWxhdGUgdGhlIGF2ZXJhZ2UgYmxhY2sgcG9pbnQgdXNpbmcgYSA1eDUgZ3JpZAoJICAgICAqIG9mIHRoZSBibG9ja3MgYXJvdW5kIGl0LiBBbHNvIGhhbmRsZXMgdGhlIGNvcm5lciBjYXNlcyAoZnJhY3Rpb25hbCBibG9ja3MgYXJlIGNvbXB1dGVkIGJhc2VkCgkgICAgICogb24gdGhlIGxhc3QgcGl4ZWxzIGluIHRoZSByb3cvY29sdW1uIHdoaWNoIGFyZSBhbHNvIHVzZWQgaW4gdGhlIHByZXZpb3VzIGJsb2NrKS4KCSAgICAgKi8KCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlVGhyZXNob2xkRm9yQmxvY2sgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgc3ViV2lkdGggLyppbnQqLywgc3ViSGVpZ2h0IC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBibGFja1BvaW50cywgbWF0cml4KSB7CgkgICAgICAgIHZhciBtYXhZT2Zmc2V0ID0gaGVpZ2h0IC0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7CgkgICAgICAgIHZhciBtYXhYT2Zmc2V0ID0gd2lkdGggLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBzdWJIZWlnaHQ7IHkrKykgewoJICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKHlvZmZzZXQgPiBtYXhZT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgeW9mZnNldCA9IG1heFlPZmZzZXQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgdG9wXzEgPSBIeWJyaWRCaW5hcml6ZXIuY2FwKHksIDIsIHN1YkhlaWdodCAtIDMpOwoJICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBzdWJXaWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHhvZmZzZXQgPSB4IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgICAgIGlmICh4b2Zmc2V0ID4gbWF4WE9mZnNldCkgewoJICAgICAgICAgICAgICAgICAgICB4b2Zmc2V0ID0gbWF4WE9mZnNldDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgdmFyIGxlZnQgPSBIeWJyaWRCaW5hcml6ZXIuY2FwKHgsIDIsIHN1YldpZHRoIC0gMyk7CgkgICAgICAgICAgICAgICAgdmFyIHN1bSA9IDA7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgeiA9IC0yOyB6IDw9IDI7IHorKykgewoJICAgICAgICAgICAgICAgICAgICB2YXIgYmxhY2tSb3cgPSBibGFja1BvaW50c1t0b3BfMSArIHpdOwoJICAgICAgICAgICAgICAgICAgICBzdW0gKz0gYmxhY2tSb3dbbGVmdCAtIDJdICsgYmxhY2tSb3dbbGVmdCAtIDFdICsgYmxhY2tSb3dbbGVmdF0gKyBibGFja1Jvd1tsZWZ0ICsgMV0gKyBibGFja1Jvd1tsZWZ0ICsgMl07CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlID0gc3VtIC8gMjU7CgkgICAgICAgICAgICAgICAgSHlicmlkQmluYXJpemVyLnRocmVzaG9sZEJsb2NrKGx1bWluYW5jZXMsIHhvZmZzZXQsIHlvZmZzZXQsIGF2ZXJhZ2UsIHdpZHRoLCBtYXRyaXgpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FwID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8sIG1pbiAvKmludCovLCBtYXggLyppbnQqLykgewoJICAgICAgICByZXR1cm4gdmFsdWUgPCBtaW4gPyBtaW4gOiB2YWx1ZSA+IG1heCA/IG1heCA6IHZhbHVlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQXBwbGllcyBhIHNpbmdsZSB0aHJlc2hvbGQgdG8gYSBibG9jayBvZiBwaXhlbHMuCgkgICAgICovCgkgICAgSHlicmlkQmluYXJpemVyLnRocmVzaG9sZEJsb2NrID0gZnVuY3Rpb24gKGx1bWluYW5jZXMsIHhvZmZzZXQgLyppbnQqLywgeW9mZnNldCAvKmludCovLCB0aHJlc2hvbGQgLyppbnQqLywgc3RyaWRlIC8qaW50Ki8sIG1hdHJpeCkgewoJICAgICAgICBmb3IgKHZhciB5ID0gMCwgb2Zmc2V0ID0geW9mZnNldCAqIHN0cmlkZSArIHhvZmZzZXQ7IHkgPCBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsgeSsrLCBvZmZzZXQgKz0gc3RyaWRlKSB7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB4KyspIHsKCSAgICAgICAgICAgICAgICAvLyBDb21wYXJpc29uIG5lZWRzIHRvIGJlIDw9IHNvIHRoYXQgYmxhY2sgPT0gMCBwaXhlbHMgYXJlIGJsYWNrIGV2ZW4gaWYgdGhlIHRocmVzaG9sZCBpcyAwLgoJICAgICAgICAgICAgICAgIGlmICgobHVtaW5hbmNlc1tvZmZzZXQgKyB4XSAmIDB4RkYpIDw9IHRocmVzaG9sZCkgewoJICAgICAgICAgICAgICAgICAgICBtYXRyaXguc2V0KHhvZmZzZXQgKyB4LCB5b2Zmc2V0ICsgeSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDYWxjdWxhdGVzIGEgc2luZ2xlIGJsYWNrIHBvaW50IGZvciBlYWNoIGJsb2NrIG9mIHBpeGVscyBhbmQgc2F2ZXMgaXQgYXdheS4KCSAgICAgKiBTZWUgdGhlIGZvbGxvd2luZyB0aHJlYWQgZm9yIGEgZGlzY3Vzc2lvbiBvZiB0aGlzIGFsZ29yaXRobToKCSAgICAgKiAgaHR0cDovL2dyb3Vwcy5nb29nbGUuY29tL2dyb3VwL3p4aW5nL2Jyb3dzZV90aHJlYWQvdGhyZWFkL2QwNmVmYTJjMzVhN2RkYzAKCSAgICAgKi8KCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlQmxhY2tQb2ludHMgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgc3ViV2lkdGggLyppbnQqLywgc3ViSGVpZ2h0IC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHZhciBtYXhZT2Zmc2V0ID0gaGVpZ2h0IC0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7CgkgICAgICAgIHZhciBtYXhYT2Zmc2V0ID0gd2lkdGggLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsKCSAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOndoaXRlc3BhY2UKCSAgICAgICAgdmFyIGJsYWNrUG9pbnRzID0gbmV3IEFycmF5KHN1YkhlaWdodCk7IC8vIHN1YldpZHRoCgkgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgc3ViSGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGJsYWNrUG9pbnRzW3ldID0gbmV3IEludDMyQXJyYXkoc3ViV2lkdGgpOwoJICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKHlvZmZzZXQgPiBtYXhZT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgeW9mZnNldCA9IG1heFlPZmZzZXQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHN1YldpZHRoOyB4KyspIHsKCSAgICAgICAgICAgICAgICB2YXIgeG9mZnNldCA9IHggPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7CgkgICAgICAgICAgICAgICAgaWYgKHhvZmZzZXQgPiBtYXhYT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgICAgIHhvZmZzZXQgPSBtYXhYT2Zmc2V0OwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB2YXIgc3VtID0gMDsKCSAgICAgICAgICAgICAgICB2YXIgbWluID0gMHhGRjsKCSAgICAgICAgICAgICAgICB2YXIgbWF4ID0gMDsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciB5eSA9IDAsIG9mZnNldCA9IHlvZmZzZXQgKiB3aWR0aCArIHhvZmZzZXQ7IHl5IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHl5KyssIG9mZnNldCArPSB3aWR0aCkgewoJICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4eCA9IDA7IHh4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHh4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwaXhlbCA9IGx1bWluYW5jZXNbb2Zmc2V0ICsgeHhdICYgMHhGRjsKCSAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSBwaXhlbDsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0aWxsIGxvb2tpbmcgZm9yIGdvb2QgY29udHJhc3QKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwaXhlbCA8IG1pbikgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IHBpeGVsOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBpeGVsID4gbWF4KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gcGl4ZWw7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgLy8gc2hvcnQtY2lyY3VpdCBtaW4vbWF4IHRlc3RzIG9uY2UgZHluYW1pYyByYW5nZSBpcyBtZXQKCSAgICAgICAgICAgICAgICAgICAgaWYgKG1heCAtIG1pbiA+IEh5YnJpZEJpbmFyaXplci5NSU5fRFlOQU1JQ19SQU5HRSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmluaXNoIHRoZSByZXN0IG9mIHRoZSByb3dzIHF1aWNrbHkKCSAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoeXkrKywgb2Zmc2V0ICs9IHdpZHRoOyB5eSA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB5eSsrLCBvZmZzZXQgKz0gd2lkdGgpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4eCA9IDA7IHh4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHh4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtICs9IGx1bWluYW5jZXNbb2Zmc2V0ICsgeHhdICYgMHhGRjsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgLy8gVGhlIGRlZmF1bHQgZXN0aW1hdGUgaXMgdGhlIGF2ZXJhZ2Ugb2YgdGhlIHZhbHVlcyBpbiB0aGUgYmxvY2suCgkgICAgICAgICAgICAgICAgdmFyIGF2ZXJhZ2UgPSBzdW0gPj4gKEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSICogMik7CgkgICAgICAgICAgICAgICAgaWYgKG1heCAtIG1pbiA8PSBIeWJyaWRCaW5hcml6ZXIuTUlOX0RZTkFNSUNfUkFOR0UpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gSWYgdmFyaWF0aW9uIHdpdGhpbiB0aGUgYmxvY2sgaXMgbG93LCBhc3N1bWUgdGhpcyBpcyBhIGJsb2NrIHdpdGggb25seSBsaWdodCBvciBvbmx5CgkgICAgICAgICAgICAgICAgICAgIC8vIGRhcmsgcGl4ZWxzLiBJbiB0aGF0IGNhc2Ugd2UgZG8gbm90IHdhbnQgdG8gdXNlIHRoZSBhdmVyYWdlLCBhcyBpdCB3b3VsZCBkaXZpZGUgdGhpcwoJICAgICAgICAgICAgICAgICAgICAvLyBsb3cgY29udHJhc3QgYXJlYSBpbnRvIGJsYWNrIGFuZCB3aGl0ZSBwaXhlbHMsIGVzc2VudGlhbGx5IGNyZWF0aW5nIGRhdGEgb3V0IG9mIG5vaXNlLgoJICAgICAgICAgICAgICAgICAgICAvLwoJICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZGVmYXVsdCBhc3N1bXB0aW9uIGlzIHRoYXQgdGhlIGJsb2NrIGlzIGxpZ2h0L2JhY2tncm91bmQuIFNpbmNlIG5vIGVzdGltYXRlIGZvcgoJICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbGV2ZWwgb2YgZGFyayBwaXhlbHMgZXhpc3RzIGxvY2FsbHksIHVzZSBoYWxmIHRoZSBtaW4gZm9yIHRoZSBibG9jay4KCSAgICAgICAgICAgICAgICAgICAgYXZlcmFnZSA9IG1pbiAvIDI7CgkgICAgICAgICAgICAgICAgICAgIGlmICh5ID4gMCAmJiB4ID4gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29ycmVjdCB0aGUgIndoaXRlIGJhY2tncm91bmQiIGFzc3VtcHRpb24gZm9yIGJsb2NrcyB0aGF0IGhhdmUgbmVpZ2hib3JzIGJ5IGNvbXBhcmluZwoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHBpeGVscyBpbiB0aGlzIGJsb2NrIHRvIHRoZSBwcmV2aW91c2x5IGNhbGN1bGF0ZWQgYmxhY2sgcG9pbnRzLiBUaGlzIGlzIGJhc2VkIG9uCgkgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZmFjdCB0aGF0IGRhcmsgYmFyY29kZSBzeW1ib2xvZ3kgaXMgYWx3YXlzIHN1cnJvdW5kZWQgYnkgc29tZSBhbW91bnQgb2YgbGlnaHQKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJhY2tncm91bmQgZm9yIHdoaWNoIHJlYXNvbmFibGUgYmxhY2sgcG9pbnQgZXN0aW1hdGVzIHdlcmUgbWFkZS4gVGhlIGJwIGVzdGltYXRlZCBhdAoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGJvdW5kYXJpZXMgaXMgdXNlZCBmb3IgdGhlIGludGVyaW9yLgoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIChtaW4gPCBicCkgaXMgYXJiaXRyYXJ5IGJ1dCB3b3JrcyBiZXR0ZXIgdGhhbiBvdGhlciBoZXVyaXN0aWNzIHRoYXQgd2VyZSB0cmllZC4KCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50ID0gKGJsYWNrUG9pbnRzW3kgLSAxXVt4XSArICgyICogYmxhY2tQb2ludHNbeV1beCAtIDFdKSArIGJsYWNrUG9pbnRzW3kgLSAxXVt4IC0gMV0pIC8gNDsKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW4gPCBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZlcmFnZSA9IGF2ZXJhZ2VOZWlnaGJvckJsYWNrUG9pbnQ7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgYmxhY2tQb2ludHNbeV1beF0gPSBhdmVyYWdlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBibGFja1BvaW50czsKCSAgICB9OwoJICAgIC8vIFRoaXMgY2xhc3MgdXNlcyA1eDUgYmxvY2tzIHRvIGNvbXB1dGUgbG9jYWwgbHVtaW5hbmNlLCB3aGVyZSBlYWNoIGJsb2NrIGlzIDh4OCBwaXhlbHMuCgkgICAgLy8gU28gdGhpcyBpcyB0aGUgc21hbGxlc3QgZGltZW5zaW9uIGluIGVhY2ggYXhpcyB3ZSBjYW4gYWNjZXB0LgoJICAgIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSID0gMzsKCSAgICBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSA9IDEgPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7IC8vIC4uLjAxMDAuLi4wMAoJICAgIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0sgPSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSAtIDE7IC8vIC4uLjAwMTEuLi4xMQoJICAgIEh5YnJpZEJpbmFyaXplci5NSU5JTVVNX0RJTUVOU0lPTiA9IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFICogNTsKCSAgICBIeWJyaWRCaW5hcml6ZXIuTUlOX0RZTkFNSUNfUkFOR0UgPSAyNDsKCSAgICByZXR1cm4gSHlicmlkQmluYXJpemVyOwoJfShHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXJfMS5kZWZhdWx0KSk7Cgl2YXIgX2RlZmF1bHQkMiA9IEh5YnJpZEJpbmFyaXplciQxLmRlZmF1bHQgPSBIeWJyaWRCaW5hcml6ZXI7CgoJdmFyIFJHQkx1bWluYW5jZVNvdXJjZSQxID0ge307CgoJdmFyIEludmVydGVkTHVtaW5hbmNlU291cmNlJDEgPSB7fTsKCgl2YXIgTHVtaW5hbmNlU291cmNlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEx1bWluYW5jZVNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3RyaW5nQnVpbGRlcl8xJDEgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMSA9IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJDE7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nIHsqLwoJLyoqCgkgKiBUaGUgcHVycG9zZSBvZiB0aGlzIGNsYXNzIGhpZXJhcmNoeSBpcyB0byBhYnN0cmFjdCBkaWZmZXJlbnQgYml0bWFwIGltcGxlbWVudGF0aW9ucyBhY3Jvc3MKCSAqIHBsYXRmb3JtcyBpbnRvIGEgc3RhbmRhcmQgaW50ZXJmYWNlIGZvciByZXF1ZXN0aW5nIGdyZXlzY2FsZSBsdW1pbmFuY2UgdmFsdWVzLiBUaGUgaW50ZXJmYWNlCgkgKiBvbmx5IHByb3ZpZGVzIGltbXV0YWJsZSBtZXRob2RzOyB0aGVyZWZvcmUgY3JvcCBhbmQgcm90YXRpb24gY3JlYXRlIGNvcGllcy4gVGhpcyBpcyB0byBlbnN1cmUKCSAqIHRoYXQgb25lIFJlYWRlciBkb2VzIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsIGx1bWluYW5jZSBzb3VyY2UgYW5kIGxlYXZlIGl0IGluIGFuIHVua25vd24gc3RhdGUKCSAqIGZvciBvdGhlciBSZWFkZXJzIGluIHRoZSBjaGFpbi4KCSAqCgkgKiBAYXV0aG9yIGRzd2l0a2luQGdvb2dsZS5jb20gKERhbmllbCBTd2l0a2luKQoJICovCgl2YXIgTHVtaW5hbmNlU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEx1bWluYW5jZVNvdXJjZSh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7CgkgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0OwoJICAgIH0KCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgYml0bWFwLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLndpZHRoOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBUaGUgaGVpZ2h0IG9mIHRoZSBiaXRtYXAuCgkgICAgICovCgkgICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmhlaWdodDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNyb3BwaW5nLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIGNyb3BwZWQgaW1hZ2UgZGF0YS4gSW1wbGVtZW50YXRpb25zIG1heSBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZQoJICAgICAqIG9yaWdpbmFsIGRhdGEgcmF0aGVyIHRoYW4gYSBjb3B5LiBPbmx5IGNhbGxhYmxlIGlmIGlzQ3JvcFN1cHBvcnRlZCgpIGlzIHRydWUuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gbGVmdCBUaGUgbGVmdCBjb29yZGluYXRlLCB3aGljaCBtdXN0IGJlIGluIFswLGdldFdpZHRoKCkpCgkgICAgICogQHBhcmFtIHRvcCBUaGUgdG9wIGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0SGVpZ2h0KCkpCgkgICAgICogQHBhcmFtIHdpZHRoIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlIHRvIGNyb3AuCgkgICAgICogQHBhcmFtIGhlaWdodCBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC4KCSAgICAgKiBAcmV0dXJuIEEgY3JvcHBlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMS5kZWZhdWx0KCdUaGlzIGx1bWluYW5jZSBzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCBjcm9wcGluZy4nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNvdW50ZXItY2xvY2t3aXNlIHJvdGF0aW9uLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDkwIGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS4KCSAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMS5kZWZhdWx0KCdUaGlzIGx1bWluYW5jZSBzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCByb3RhdGlvbiBieSA5MCBkZWdyZWVzLicpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV0dXJucyBhIG5ldyBvYmplY3Qgd2l0aCByb3RhdGVkIGltYWdlIGRhdGEgYnkgNDUgZGVncmVlcyBjb3VudGVyY2xvY2t3aXNlLgoJICAgICAqIE9ubHkgY2FsbGFibGUgaWYge0BsaW5rICNpc1JvdGF0ZVN1cHBvcnRlZCgpfSBpcyB0cnVlLgoJICAgICAqCgkgICAgICogQHJldHVybiBBIHJvdGF0ZWQgdmVyc2lvbiBvZiB0aGlzIG9iamVjdC4KCSAgICAgKi8KCSAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnJvdGF0ZUNvdW50ZXJDbG9ja3dpc2U0NSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXzEuZGVmYXVsdCgnVGhpcyBsdW1pbmFuY2Ugc291cmNlIGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24gYnkgNDUgZGVncmVlcy4nKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgcm93ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHRoaXMud2lkdGgpOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXJfMSQxLmRlZmF1bHQoKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCB0aGlzLmhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgc291cmNlUm93ID0gdGhpcy5nZXRSb3coeSwgcm93KTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdGhpcy53aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGx1bWluYW5jZSA9IHNvdXJjZVJvd1t4XSAmIDB4RkY7CgkgICAgICAgICAgICAgICAgdmFyIGMgPSB2b2lkIDA7CgkgICAgICAgICAgICAgICAgaWYgKGx1bWluYW5jZSA8IDB4NDApIHsKCSAgICAgICAgICAgICAgICAgICAgYyA9ICcjJzsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAobHVtaW5hbmNlIDwgMHg4MCkgewoJICAgICAgICAgICAgICAgICAgICBjID0gJysnOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIGlmIChsdW1pbmFuY2UgPCAweEMwKSB7CgkgICAgICAgICAgICAgICAgICAgIGMgPSAnLic7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICBjID0gJyAnOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKGMpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCgnXG4nKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0LnRvU3RyaW5nKCk7CgkgICAgfTsKCSAgICByZXR1cm4gTHVtaW5hbmNlU291cmNlOwoJfSgpKTsKCUx1bWluYW5jZVNvdXJjZSQxLmRlZmF1bHQgPSBMdW1pbmFuY2VTb3VyY2U7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMkYSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnZlcnRlZEx1bWluYW5jZVNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgTHVtaW5hbmNlU291cmNlXzEkMSA9IEx1bWluYW5jZVNvdXJjZSQxOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogQSB3cmFwcGVyIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHdoaWNoIGludmVydHMgdGhlIGx1bWluYW5jZXMgaXQgcmV0dXJucyAtLSBibGFjayBiZWNvbWVzCgkgKiB3aGl0ZSBhbmQgdmljZSB2ZXJzYSwgYW5kIGVhY2ggdmFsdWUgYmVjb21lcyAoMjU1LXZhbHVlKS4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGEoSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UsIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UoZGVsZWdhdGUpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVsZWdhdGUuZ2V0V2lkdGgoKSwgZGVsZWdhdGUuZ2V0SGVpZ2h0KCkpIHx8IHRoaXM7CgkgICAgICAgIF90aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgdmFyIHNvdXJjZVJvdyA9IHRoaXMuZGVsZWdhdGUuZ2V0Um93KHksIHJvdyk7CgkgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3aWR0aDsgaSsrKSB7CgkgICAgICAgICAgICBzb3VyY2VSb3dbaV0gPSAvKihieXRlKSovICgyNTUgLSAoc291cmNlUm93W2ldICYgMHhGRikpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBzb3VyY2VSb3c7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmdldE1hdHJpeCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIG1hdHJpeCA9IHRoaXMuZGVsZWdhdGUuZ2V0TWF0cml4KCk7CgkgICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldFdpZHRoKCkgKiB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgaW52ZXJ0ZWRNYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkobGVuZ3RoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewoJICAgICAgICAgICAgaW52ZXJ0ZWRNYXRyaXhbaV0gPSAvKihieXRlKSovICgyNTUgLSAobWF0cml4W2ldICYgMHhGRikpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBpbnZlcnRlZE1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5pc0Nyb3BTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUuY3JvcChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLmlzUm90YXRlU3VwcG9ydGVkKCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIG9yaWdpbmFsIGRlbGVnYXRlIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHNpbmNlIGludmVydCB1bmRvZXMgaXRzZWxmCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUucm90YXRlQ291bnRlckNsb2Nrd2lzZSgpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1KCkpOwoJICAgIH07CgkgICAgcmV0dXJuIEludmVydGVkTHVtaW5hbmNlU291cmNlOwoJfShMdW1pbmFuY2VTb3VyY2VfMSQxLmRlZmF1bHQpKTsKCUludmVydGVkTHVtaW5hbmNlU291cmNlJDEuZGVmYXVsdCA9IEludmVydGVkTHVtaW5hbmNlU291cmNlOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDkgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoUkdCTHVtaW5hbmNlU291cmNlJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovCgkgLy8gcmVxdWlyZWQgYmVjYXVzZSBvZiBjaXJjdWxhciBkZXBlbmRlbmNpZXMgYmV0d2VlbiBMdW1pbmFuY2VTb3VyY2UgYW5kIEludmVydGVkTHVtaW5hbmNlU291cmNlCgl2YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2VfMSA9IEludmVydGVkTHVtaW5hbmNlU291cmNlJDE7Cgl2YXIgTHVtaW5hbmNlU291cmNlXzEgPSBMdW1pbmFuY2VTb3VyY2UkMTsKCXZhciBTeXN0ZW1fMSQyID0gU3lzdGVtJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNiA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBUaGlzIGNsYXNzIGlzIHVzZWQgdG8gaGVscCBkZWNvZGUgaW1hZ2VzIGZyb20gZmlsZXMgd2hpY2ggYXJyaXZlIGFzIFJHQiBkYXRhIGZyb20KCSAqIGFuIEFSR0IgcGl4ZWwgYXJyYXkuIEl0IGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24uCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBhdXRob3IgQmV0YW1pbm9zCgkgKi8KCXZhciBSR0JMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDkoUkdCTHVtaW5hbmNlU291cmNlLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIFJHQkx1bWluYW5jZVNvdXJjZShsdW1pbmFuY2VzLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgZGF0YVdpZHRoIC8qaW50Ki8sIGRhdGFIZWlnaHQgLyppbnQqLywgbGVmdCAvKmludCovLCB0b3AgLyppbnQqLykgewoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5kYXRhV2lkdGggPSBkYXRhV2lkdGg7CgkgICAgICAgIF90aGlzLmRhdGFIZWlnaHQgPSBkYXRhSGVpZ2h0OwoJICAgICAgICBfdGhpcy5sZWZ0ID0gbGVmdDsKCSAgICAgICAgX3RoaXMudG9wID0gdG9wOwoJICAgICAgICBpZiAobHVtaW5hbmNlcy5CWVRFU19QRVJfRUxFTUVOVCA9PT0gNCkgeyAvLyBJbnQzMkFycmF5CgkgICAgICAgICAgICB2YXIgc2l6ZSA9IHdpZHRoICogaGVpZ2h0OwoJICAgICAgICAgICAgdmFyIGx1bWluYW5jZXNVaW50OEFycmF5ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHNpemUpOwoJICAgICAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgc2l6ZTsgb2Zmc2V0KyspIHsKCSAgICAgICAgICAgICAgICB2YXIgcGl4ZWwgPSBsdW1pbmFuY2VzW29mZnNldF07CgkgICAgICAgICAgICAgICAgdmFyIHIgPSAocGl4ZWwgPj4gMTYpICYgMHhmZjsgLy8gcmVkCgkgICAgICAgICAgICAgICAgdmFyIGcyID0gKHBpeGVsID4+IDcpICYgMHgxZmU7IC8vIDIgKiBncmVlbgoJICAgICAgICAgICAgICAgIHZhciBiID0gcGl4ZWwgJiAweGZmOyAvLyBibHVlCgkgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGdyZWVuLWZhdm91cmluZyBhdmVyYWdlIGNoZWFwbHkKCSAgICAgICAgICAgICAgICBsdW1pbmFuY2VzVWludDhBcnJheVtvZmZzZXRdID0gLyooYnl0ZSkgKi8gKChyICsgZzIgKyBiKSAvIDQpICYgMHhGRjsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIF90aGlzLmx1bWluYW5jZXMgPSBsdW1pbmFuY2VzVWludDhBcnJheTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIF90aGlzLmx1bWluYW5jZXMgPSBsdW1pbmFuY2VzOwoJICAgICAgICB9CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGRhdGFXaWR0aCkgewoJICAgICAgICAgICAgX3RoaXMuZGF0YVdpZHRoID0gd2lkdGg7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gZGF0YUhlaWdodCkgewoJICAgICAgICAgICAgX3RoaXMuZGF0YUhlaWdodCA9IGhlaWdodDsKCSAgICAgICAgfQoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSBsZWZ0KSB7CgkgICAgICAgICAgICBfdGhpcy5sZWZ0ID0gMDsKCSAgICAgICAgfQoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSB0b3ApIHsKCSAgICAgICAgICAgIF90aGlzLnRvcCA9IDA7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKF90aGlzLmxlZnQgKyB3aWR0aCA+IF90aGlzLmRhdGFXaWR0aCB8fCBfdGhpcy50b3AgKyBoZWlnaHQgPiBfdGhpcy5kYXRhSGVpZ2h0KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNi5kZWZhdWx0KCdDcm9wIHJlY3RhbmdsZSBkb2VzIG5vdCBmaXQgd2l0aGluIGltYWdlIGRhdGEuJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICAvKkBPdmVycmlkZSovCgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgaWYgKHkgPCAwIHx8IHkgPj0gdGhpcy5nZXRIZWlnaHQoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDYuZGVmYXVsdCgnUmVxdWVzdGVkIHJvdyBpcyBvdXRzaWRlIHRoZSBpbWFnZTogJyArIHkpOwoJICAgICAgICB9CgkgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTsKCSAgICAgICAgaWYgKHJvdyA9PT0gbnVsbCB8fCByb3cgPT09IHVuZGVmaW5lZCB8fCByb3cubGVuZ3RoIDwgd2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh3aWR0aCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG9mZnNldCA9ICh5ICsgdGhpcy50b3ApICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7CgkgICAgICAgIFN5c3RlbV8xJDIuZGVmYXVsdC5hcnJheWNvcHkodGhpcy5sdW1pbmFuY2VzLCBvZmZzZXQsIHJvdywgMCwgd2lkdGgpOwoJICAgICAgICByZXR1cm4gcm93OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJHQkx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0TWF0cml4ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICAvLyBJZiB0aGUgY2FsbGVyIGFza3MgZm9yIHRoZSBlbnRpcmUgdW5kZXJseWluZyBpbWFnZSwgc2F2ZSB0aGUgY29weSBhbmQgZ2l2ZSB0aGVtIHRoZQoJICAgICAgICAvLyBvcmlnaW5hbCBkYXRhLiBUaGUgZG9jcyBzcGVjaWZpY2FsbHkgd2FybiB0aGF0IHJlc3VsdC5sZW5ndGggbXVzdCBiZSBpZ25vcmVkLgoJICAgICAgICBpZiAod2lkdGggPT09IHRoaXMuZGF0YVdpZHRoICYmIGhlaWdodCA9PT0gdGhpcy5kYXRhSGVpZ2h0KSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5sdW1pbmFuY2VzOwoJICAgICAgICB9CgkgICAgICAgIHZhciBhcmVhID0gd2lkdGggKiBoZWlnaHQ7CgkgICAgICAgIHZhciBtYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoYXJlYSk7CgkgICAgICAgIHZhciBpbnB1dE9mZnNldCA9IHRoaXMudG9wICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7CgkgICAgICAgIC8vIElmIHRoZSB3aWR0aCBtYXRjaGVzIHRoZSBmdWxsIHdpZHRoIG9mIHRoZSB1bmRlcmx5aW5nIGRhdGEsIHBlcmZvcm0gYSBzaW5nbGUgY29weS4KCSAgICAgICAgaWYgKHdpZHRoID09PSB0aGlzLmRhdGFXaWR0aCkgewoJICAgICAgICAgICAgU3lzdGVtXzEkMi5kZWZhdWx0LmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIDAsIGFyZWEpOwoJICAgICAgICAgICAgcmV0dXJuIG1hdHJpeDsKCSAgICAgICAgfQoJICAgICAgICAvLyBPdGhlcndpc2UgY29weSBvbmUgY3JvcHBlZCByb3cgYXQgYSB0aW1lLgoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb3V0cHV0T2Zmc2V0ID0geSAqIHdpZHRoOwoJICAgICAgICAgICAgU3lzdGVtXzEkMi5kZWZhdWx0LmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIG91dHB1dE9mZnNldCwgd2lkdGgpOwoJICAgICAgICAgICAgaW5wdXRPZmZzZXQgKz0gdGhpcy5kYXRhV2lkdGg7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBSR0JMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmlzQ3JvcFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHJldHVybiBuZXcgUkdCTHVtaW5hbmNlU291cmNlKHRoaXMubHVtaW5hbmNlcywgd2lkdGgsIGhlaWdodCwgdGhpcy5kYXRhV2lkdGgsIHRoaXMuZGF0YUhlaWdodCwgdGhpcy5sZWZ0ICsgbGVmdCwgdGhpcy50b3AgKyB0b3ApOwoJICAgIH07CgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2VfMS5kZWZhdWx0KHRoaXMpOwoJICAgIH07CgkgICAgcmV0dXJuIFJHQkx1bWluYW5jZVNvdXJjZTsKCX0oTHVtaW5hbmNlU291cmNlXzEuZGVmYXVsdCkpOwoJdmFyIF9kZWZhdWx0JDEgPSBSR0JMdW1pbmFuY2VTb3VyY2UkMS5kZWZhdWx0ID0gUkdCTHVtaW5hbmNlU291cmNlOwoKCXZhciBRUkNvZGVSZWFkZXIkMSA9IHt9OwoKCXZhciBCYXJjb2RlRm9ybWF0JDEgPSB7fTsKCgkvKgoJICogRGlyZWN0IHBvcnQgdG8gVHlwZVNjcmlwdCBvZiBaWGluZyBieSBBZHJpYW4gVG/ImWPEgwoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFyY29kZUZvcm1hdCQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogRW51bWVyYXRlcyBiYXJjb2RlIGZvcm1hdHMga25vd24gdG8gdGhpcyBwYWNrYWdlLiBQbGVhc2Uga2VlcCBhbHBoYWJldGl6ZWQuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEJhcmNvZGVGb3JtYXQ7CgkoZnVuY3Rpb24gKEJhcmNvZGVGb3JtYXQpIHsKCSAgICAvKiogQXp0ZWMgMkQgYmFyY29kZSBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJBWlRFQyJdID0gMF0gPSAiQVpURUMiOwoJICAgIC8qKiBDT0RBQkFSIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREFCQVIiXSA9IDFdID0gIkNPREFCQVIiOwoJICAgIC8qKiBDb2RlIDM5IDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREVfMzkiXSA9IDJdID0gIkNPREVfMzkiOwoJICAgIC8qKiBDb2RlIDkzIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREVfOTMiXSA9IDNdID0gIkNPREVfOTMiOwoJICAgIC8qKiBDb2RlIDEyOCAxRCBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJDT0RFXzEyOCJdID0gNF0gPSAiQ09ERV8xMjgiOwoJICAgIC8qKiBEYXRhIE1hdHJpeCAyRCBiYXJjb2RlIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkRBVEFfTUFUUklYIl0gPSA1XSA9ICJEQVRBX01BVFJJWCI7CgkgICAgLyoqIEVBTi04IDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkVBTl84Il0gPSA2XSA9ICJFQU5fOCI7CgkgICAgLyoqIEVBTi0xMyAxRCBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJFQU5fMTMiXSA9IDddID0gIkVBTl8xMyI7CgkgICAgLyoqIElURiAoSW50ZXJsZWF2ZWQgVHdvIG9mIEZpdmUpIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIklURiJdID0gOF0gPSAiSVRGIjsKCSAgICAvKiogTWF4aUNvZGUgMkQgYmFyY29kZSBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJNQVhJQ09ERSJdID0gOV0gPSAiTUFYSUNPREUiOwoJICAgIC8qKiBQREY0MTcgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUERGXzQxNyJdID0gMTBdID0gIlBERl80MTciOwoJICAgIC8qKiBRUiBDb2RlIDJEIGJhcmNvZGUgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUVJfQ09ERSJdID0gMTFdID0gIlFSX0NPREUiOwoJICAgIC8qKiBSU1MgMTQgKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlJTU18xNCJdID0gMTJdID0gIlJTU18xNCI7CgkgICAgLyoqIFJTUyBFWFBBTkRFRCAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUlNTX0VYUEFOREVEIl0gPSAxM10gPSAiUlNTX0VYUEFOREVEIjsKCSAgICAvKiogVVBDLUEgMUQgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiVVBDX0EiXSA9IDE0XSA9ICJVUENfQSI7CgkgICAgLyoqIFVQQy1FIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlVQQ19FIl0gPSAxNV0gPSAiVVBDX0UiOwoJICAgIC8qKiBVUEMvRUFOIGV4dGVuc2lvbiBmb3JtYXQuIE5vdCBhIHN0YW5kLWFsb25lIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlVQQ19FQU5fRVhURU5TSU9OIl0gPSAxNl0gPSAiVVBDX0VBTl9FWFRFTlNJT04iOwoJfSkoQmFyY29kZUZvcm1hdCB8fCAoQmFyY29kZUZvcm1hdCA9IHt9KSk7CglCYXJjb2RlRm9ybWF0JDEuZGVmYXVsdCA9IEJhcmNvZGVGb3JtYXQ7CgoJdmFyIFJlc3VsdCQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXN1bHQkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIFN5c3RlbV8xJDEgPSBTeXN0ZW0kMTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBiYXJjb2RlIHdpdGhpbiBhbiBpbWFnZS48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSB0ZXh0OiBzdHJpbmcsCgkgICAgLy8gICAgICAgICAgICAgICBVaW50OEFycmF5IHJhd0J5dGVzLAoJICAgIC8vICAgICAgICAgICAgICAgUmVzdWx0UG9jb25zdCByZXN1bHRQb2ludHM6IEludDMyQXJyYXksCgkgICAgLy8gICAgICAgICAgICAgICBCYXJjb2RlRm9ybWF0IGZvcm1hdCkgewoJICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmVzdWx0UG9pbnRzLCBmb3JtYXQsIFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpKQoJICAgIC8vIH0KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IodGV4dDogc3RyaW5nLAoJICAgIC8vICAgICAgICAgICAgICAgVWludDhBcnJheSByYXdCeXRlcywKCSAgICAvLyAgICAgICAgICAgICAgIFJlc3VsdFBvY29uc3QgcmVzdWx0UG9pbnRzOiBJbnQzMkFycmF5LAoJICAgIC8vICAgICAgICAgICAgICAgQmFyY29kZUZvcm1hdCBmb3JtYXQsCgkgICAgLy8gICAgICAgICAgICAgICBsb25nIHRpbWVzdGFtcCkgewoJICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoLAoJICAgIC8vICAgICAgICByZXN1bHRQb2ludHMsIGZvcm1hdCwgdGltZXN0YW1wKQoJICAgIC8vIH0KCSAgICBmdW5jdGlvbiBSZXN1bHQodGV4dCwgcmF3Qnl0ZXMsIG51bUJpdHMsIHJlc3VsdFBvaW50cywgZm9ybWF0LCB0aW1lc3RhbXApIHsKCSAgICAgICAgaWYgKG51bUJpdHMgPT09IHZvaWQgMCkgeyBudW1CaXRzID0gcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoOyB9CgkgICAgICAgIGlmICh0aW1lc3RhbXAgPT09IHZvaWQgMCkgeyB0aW1lc3RhbXAgPSBTeXN0ZW1fMSQxLmRlZmF1bHQuY3VycmVudFRpbWVNaWxsaXMoKTsgfQoJICAgICAgICB0aGlzLnRleHQgPSB0ZXh0OwoJICAgICAgICB0aGlzLnJhd0J5dGVzID0gcmF3Qnl0ZXM7CgkgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7CgkgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gcmVzdWx0UG9pbnRzOwoJICAgICAgICB0aGlzLmZvcm1hdCA9IGZvcm1hdDsKCSAgICAgICAgdGhpcy50aW1lc3RhbXAgPSB0aW1lc3RhbXA7CgkgICAgICAgIHRoaXMudGV4dCA9IHRleHQ7CgkgICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlczsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gbnVtQml0cyB8fCBudWxsID09PSBudW1CaXRzKSB7CgkgICAgICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IG51bGwgfHwgcmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludHMgPSByZXN1bHRQb2ludHM7CgkgICAgICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0OwoJICAgICAgICB0aGlzLnJlc3VsdE1ldGFkYXRhID0gbnVsbDsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gdGltZXN0YW1wIHx8IG51bGwgPT09IHRpbWVzdGFtcCkgewoJICAgICAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBTeXN0ZW1fMSQxLmRlZmF1bHQuY3VycmVudFRpbWVNaWxsaXMoKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHRoaXMudGltZXN0YW1wID0gdGltZXN0YW1wOwoJICAgICAgICB9CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcmF3IHRleHQgZW5jb2RlZCBieSB0aGUgYmFyY29kZQoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0VGV4dCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMudGV4dDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcmF3IGJ5dGVzIGVuY29kZWQgYnkgdGhlIGJhcmNvZGUsIGlmIGFwcGxpY2FibGUsIG90aGVyd2lzZSB7QGNvZGUgbnVsbH0KCSAgICAgKi8KCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlczsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aAoJICAgICAqIEBzaW5jZSAzLjMuMAoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0TnVtQml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMubnVtQml0czsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcG9pbnRzIHJlbGF0ZWQgdG8gdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGVzZSBhcmUgdHlwaWNhbGx5IHBvaW50cwoJICAgICAqICAgICAgICAgaWRlbnRpZnlpbmcgZmluZGVyIHBhdHRlcm5zIG9yIHRoZSBjb3JuZXJzIG9mIHRoZSBiYXJjb2RlLiBUaGUgZXhhY3QgbWVhbmluZyBpcwoJICAgICAqICAgICAgICAgc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkLgoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0UmVzdWx0UG9pbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHtAbGluayBCYXJjb2RlRm9ybWF0fSByZXByZXNlbnRpbmcgdGhlIGZvcm1hdCBvZiB0aGUgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkCgkgICAgICovCgkgICAgUmVzdWx0LnByb3RvdHlwZS5nZXRCYXJjb2RlRm9ybWF0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHtAbGluayBNYXB9IG1hcHBpbmcge0BsaW5rIFJlc3VsdE1ldGFkYXRhVHlwZX0ga2V5cyB0byB2YWx1ZXMuIE1heSBiZQoJICAgICAqICAge0Bjb2RlIG51bGx9LiBUaGlzIGNvbnRhaW5zIG9wdGlvbmFsIG1ldGFkYXRhIGFib3V0IHdoYXQgd2FzIGRldGVjdGVkIGFib3V0IHRoZSBiYXJjb2RlLAoJICAgICAqICAgbGlrZSBvcmllbnRhdGlvbi4KCSAgICAgKi8KCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFJlc3VsdE1ldGFkYXRhID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRNZXRhZGF0YTsKCSAgICB9OwoJICAgIFJlc3VsdC5wcm90b3R5cGUucHV0TWV0YWRhdGEgPSBmdW5jdGlvbiAodHlwZSwgdmFsdWUpIHsKCSAgICAgICAgaWYgKHRoaXMucmVzdWx0TWV0YWRhdGEgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHRoaXMucmVzdWx0TWV0YWRhdGEgPSBuZXcgTWFwKCk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YS5zZXQodHlwZSwgdmFsdWUpOwoJICAgIH07CgkgICAgUmVzdWx0LnByb3RvdHlwZS5wdXRBbGxNZXRhZGF0YSA9IGZ1bmN0aW9uIChtZXRhZGF0YSkgewoJICAgICAgICBpZiAobWV0YWRhdGEgIT09IG51bGwpIHsKCSAgICAgICAgICAgIGlmICh0aGlzLnJlc3VsdE1ldGFkYXRhID09PSBudWxsKSB7CgkgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG1ldGFkYXRhOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG5ldyBNYXAobWV0YWRhdGEpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZXN1bHQucHJvdG90eXBlLmFkZFJlc3VsdFBvaW50cyA9IGZ1bmN0aW9uIChuZXdQb2ludHMpIHsKCSAgICAgICAgdmFyIG9sZFBvaW50cyA9IHRoaXMucmVzdWx0UG9pbnRzOwoJICAgICAgICBpZiAob2xkUG9pbnRzID09PSBudWxsKSB7CgkgICAgICAgICAgICB0aGlzLnJlc3VsdFBvaW50cyA9IG5ld1BvaW50czsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChuZXdQb2ludHMgIT09IG51bGwgJiYgbmV3UG9pbnRzLmxlbmd0aCA+IDApIHsKCSAgICAgICAgICAgIHZhciBhbGxQb2ludHMgPSBuZXcgQXJyYXkob2xkUG9pbnRzLmxlbmd0aCArIG5ld1BvaW50cy5sZW5ndGgpOwoJICAgICAgICAgICAgU3lzdGVtXzEkMS5kZWZhdWx0LmFycmF5Y29weShvbGRQb2ludHMsIDAsIGFsbFBvaW50cywgMCwgb2xkUG9pbnRzLmxlbmd0aCk7CgkgICAgICAgICAgICBTeXN0ZW1fMSQxLmRlZmF1bHQuYXJyYXljb3B5KG5ld1BvaW50cywgMCwgYWxsUG9pbnRzLCBvbGRQb2ludHMubGVuZ3RoLCBuZXdQb2ludHMubGVuZ3RoKTsKCSAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gYWxsUG9pbnRzOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFRpbWVzdGFtcCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMudGltZXN0YW1wOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnRleHQ7CgkgICAgfTsKCSAgICByZXR1cm4gUmVzdWx0OwoJfSgpKTsKCVJlc3VsdCQxLmRlZmF1bHQgPSBSZXN1bHQ7CgoJdmFyIFJlc3VsdE1ldGFkYXRhVHlwZSQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA4IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXN1bHRNZXRhZGF0YVR5cGUkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogUmVwcmVzZW50cyBzb21lIHR5cGUgb2YgbWV0YWRhdGEgYWJvdXQgdGhlIHJlc3VsdCBvZiB0aGUgZGVjb2RpbmcgdGhhdCB0aGUgZGVjb2RlcgoJICogd2lzaGVzIHRvIGNvbW11bmljYXRlIGJhY2sgdG8gdGhlIGNhbGxlci4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUmVzdWx0TWV0YWRhdGFUeXBlOwoJKGZ1bmN0aW9uIChSZXN1bHRNZXRhZGF0YVR5cGUpIHsKCSAgICAvKioKCSAgICAgKiBVbnNwZWNpZmllZCwgYXBwbGljYXRpb24tc3BlY2lmaWMgbWV0YWRhdGEuIE1hcHMgdG8gYW4gdW5zcGVjaWZpZWQge0BsaW5rIE9iamVjdH0uCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiT1RIRVIiXSA9IDBdID0gIk9USEVSIjsKCSAgICAvKioKCSAgICAgKiBEZW5vdGVzIHRoZSBsaWtlbHkgYXBwcm94aW1hdGUgb3JpZW50YXRpb24gb2YgdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGlzIHZhbHVlCgkgICAgICogaXMgZ2l2ZW4gYXMgZGVncmVlcyByb3RhdGVkIGNsb2Nrd2lzZSBmcm9tIHRoZSBub3JtYWwsIHVwcmlnaHQgb3JpZW50YXRpb24uCgkgICAgICogRm9yIGV4YW1wbGUgYSAxRCBiYXJjb2RlIHdoaWNoIHdhcyBmb3VuZCBieSByZWFkaW5nIHRvcC10by1ib3R0b20gd291bGQgYmUKCSAgICAgKiBzYWlkIHRvIGhhdmUgb3JpZW50YXRpb24gIjkwIi4gVGhpcyBrZXkgbWFwcyB0byBhbiB7QGxpbmsgSW50ZWdlcn0gd2hvc2UKCSAgICAgKiB2YWx1ZSBpcyBpbiB0aGUgcmFuZ2UgWzAsMzYwKS4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJPUklFTlRBVElPTiJdID0gMV0gPSAiT1JJRU5UQVRJT04iOwoJICAgIC8qKgoJICAgICAqIDxwPjJEIGJhcmNvZGUgZm9ybWF0cyB0eXBpY2FsbHkgZW5jb2RlIHRleHQsIGJ1dCBhbGxvdyBmb3IgYSBzb3J0IG9mICdieXRlIG1vZGUnCgkgICAgICogd2hpY2ggaXMgc29tZXRpbWVzIHVzZWQgdG8gZW5jb2RlIGJpbmFyeSBkYXRhLiBXaGlsZSB7QGxpbmsgUmVzdWx0fSBtYWtlcyBhdmFpbGFibGUKCSAgICAgKiB0aGUgY29tcGxldGUgcmF3IGJ5dGVzIGluIHRoZSBiYXJjb2RlIGZvciB0aGVzZSBmb3JtYXRzLCBpdCBkb2VzIG5vdCBvZmZlciB0aGUgYnl0ZXMKCSAgICAgKiBmcm9tIHRoZSBieXRlIHNlZ21lbnRzIGFsb25lLjwvcD4KCSAgICAgKgoJICAgICAqIDxwPlRoaXMgbWFwcyB0byBhIHtAbGluayBqYXZhLnV0aWwuTGlzdH0gb2YgYnl0ZSBhcnJheXMgY29ycmVzcG9uZGluZyB0byB0aGUKCSAgICAgKiByYXcgYnl0ZXMgaW4gdGhlIGJ5dGUgc2VnbWVudHMgaW4gdGhlIGJhcmNvZGUsIGluIG9yZGVyLjwvcD4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJCWVRFX1NFR01FTlRTIl0gPSAyXSA9ICJCWVRFX1NFR01FTlRTIjsKCSAgICAvKioKCSAgICAgKiBFcnJvciBjb3JyZWN0aW9uIGxldmVsIHVzZWQsIGlmIGFwcGxpY2FibGUuIFRoZSB2YWx1ZSB0eXBlIGRlcGVuZHMgb24gdGhlCgkgICAgICogZm9ybWF0LCBidXQgaXMgdHlwaWNhbGx5IGEgU3RyaW5nLgoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwiXSA9IDNdID0gIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwiOwoJICAgIC8qKgoJICAgICAqIEZvciBzb21lIHBlcmlvZGljYWxzLCBpbmRpY2F0ZXMgdGhlIGlzc3VlIG51bWJlciBhcyBhbiB7QGxpbmsgSW50ZWdlcn0uCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiSVNTVUVfTlVNQkVSIl0gPSA0XSA9ICJJU1NVRV9OVU1CRVIiOwoJICAgIC8qKgoJICAgICAqIEZvciBzb21lIHByb2R1Y3RzLCBpbmRpY2F0ZXMgdGhlIHN1Z2dlc3RlZCByZXRhaWwgcHJpY2UgaW4gdGhlIGJhcmNvZGUgYXMgYQoJICAgICAqIGZvcm1hdHRlZCB7QGxpbmsgU3RyaW5nfS4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJTVUdHRVNURURfUFJJQ0UiXSA9IDVdID0gIlNVR0dFU1RFRF9QUklDRSI7CgkgICAgLyoqCgkgICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBwb3NzaWJsZSBjb3VudHJ5IG9mIG1hbnVmYWN0dXJlIGFzIGEge0BsaW5rIFN0cmluZ30gZGVub3RpbmcgdGhlCgkgICAgICogSVNPIGNvdW50cnkgY29kZS4gU29tZSBtYXAgdG8gbXVsdGlwbGUgcG9zc2libGUgY291bnRyaWVzLCBsaWtlICJVUy9DQSIuCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiUE9TU0lCTEVfQ09VTlRSWSJdID0gNl0gPSAiUE9TU0lCTEVfQ09VTlRSWSI7CgkgICAgLyoqCgkgICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBleHRlbnNpb24gdGV4dAoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIlVQQ19FQU5fRVhURU5TSU9OIl0gPSA3XSA9ICJVUENfRUFOX0VYVEVOU0lPTiI7CgkgICAgLyoqCgkgICAgICogUERGNDE3LXNwZWNpZmljIG1ldGFkYXRhCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiUERGNDE3X0VYVFJBX01FVEFEQVRBIl0gPSA4XSA9ICJQREY0MTdfRVhUUkFfTUVUQURBVEEiOwoJICAgIC8qKgoJICAgICAqIElmIHRoZSBjb2RlIGZvcm1hdCBzdXBwb3J0cyBzdHJ1Y3R1cmVkIGFwcGVuZCBhbmQgdGhlIGN1cnJlbnQgc2Nhbm5lZCBjb2RlIGlzIHBhcnQgb2Ygb25lIHRoZW4gdGhlCgkgICAgICogc2VxdWVuY2UgbnVtYmVyIGlzIGdpdmVuIHdpdGggaXQuCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0UiXSA9IDldID0gIlNUUlVDVFVSRURfQVBQRU5EX1NFUVVFTkNFIjsKCSAgICAvKioKCSAgICAgKiBJZiB0aGUgY29kZSBmb3JtYXQgc3VwcG9ydHMgc3RydWN0dXJlZCBhcHBlbmQgYW5kIHRoZSBjdXJyZW50IHNjYW5uZWQgY29kZSBpcyBwYXJ0IG9mIG9uZSB0aGVuIHRoZQoJICAgICAqIHBhcml0eSBpcyBnaXZlbiB3aXRoIGl0LgoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSJdID0gMTBdID0gIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSI7Cgl9KShSZXN1bHRNZXRhZGF0YVR5cGUgfHwgKFJlc3VsdE1ldGFkYXRhVHlwZSA9IHt9KSk7CglSZXN1bHRNZXRhZGF0YVR5cGUkMS5kZWZhdWx0ID0gUmVzdWx0TWV0YWRhdGFUeXBlOwoKCXZhciBEZWNvZGVyJDEgPSB7fTsKCgl2YXIgQ2hlY2tzdW1FeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkOCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGVja3N1bUV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNCA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBDaGVja3N1bUV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkOChDaGVja3N1bUV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBDaGVja3N1bUV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBDaGVja3N1bUV4Y2VwdGlvbi5nZXRDaGVja3N1bUluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IENoZWNrc3VtRXhjZXB0aW9uKCk7CgkgICAgfTsKCSAgICBDaGVja3N1bUV4Y2VwdGlvbi5raW5kID0gJ0NoZWNrc3VtRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gQ2hlY2tzdW1FeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDQuZGVmYXVsdCkpOwoJQ2hlY2tzdW1FeGNlcHRpb24kMS5kZWZhdWx0ID0gQ2hlY2tzdW1FeGNlcHRpb247CgoJdmFyIEdlbmVyaWNHRiQxID0ge307CgoJdmFyIEdlbmVyaWNHRlBvbHkkMSA9IHt9OwoKCXZhciBBYnN0cmFjdEdlbmVyaWNHRiQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdEdlbmVyaWNHRiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5UaGlzIGNsYXNzIGNvbnRhaW5zIHV0aWxpdHkgbWV0aG9kcyBmb3IgcGVyZm9ybWluZyBtYXRoZW1hdGljYWwgb3BlcmF0aW9ucyBvdmVyCgkgKiB0aGUgR2Fsb2lzIEZpZWxkcy4gT3BlcmF0aW9ucyB1c2UgYSBnaXZlbiBwcmltaXRpdmUgcG9seW5vbWlhbCBpbiBjYWxjdWxhdGlvbnMuPC9wPgoJICoKCSAqIDxwPlRocm91Z2hvdXQgdGhpcyBwYWNrYWdlLCBlbGVtZW50cyBvZiB0aGUgR0YgYXJlIHJlcHJlc2VudGVkIGFzIGFuIHtAY29kZSBpbnR9CgkgKiBmb3IgY29udmVuaWVuY2UgYW5kIHNwZWVkIChidXQgYXQgdGhlIGNvc3Qgb2YgbWVtb3J5KS4KCSAqIDwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBEYXZpZCBPbGl2aWVyCgkgKi8KCXZhciBBYnN0cmFjdEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBBYnN0cmFjdEdlbmVyaWNHRigpIHsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiAyIHRvIHRoZSBwb3dlciBvZiBhIGluIEdGKHNpemUpCgkgICAgICovCgkgICAgQWJzdHJhY3RHZW5lcmljR0YucHJvdG90eXBlLmV4cCA9IGZ1bmN0aW9uIChhKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmV4cFRhYmxlW2FdOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBiYXNlIDIgbG9nIG9mIGEgaW4gR0Yoc2l6ZSkKCSAgICAgKi8KCSAgICBBYnN0cmFjdEdlbmVyaWNHRi5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKGEgLyppbnQqLykgewoJICAgICAgICBpZiAoYSA9PT0gMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDUuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0aGlzLmxvZ1RhYmxlW2FdOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogSW1wbGVtZW50cyBib3RoIGFkZGl0aW9uIGFuZCBzdWJ0cmFjdGlvbiAtLSB0aGV5IGFyZSB0aGUgc2FtZSBpbiBHRihzaXplKS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gc3VtL2RpZmZlcmVuY2Ugb2YgYSBhbmQgYgoJICAgICAqLwoJICAgIEFic3RyYWN0R2VuZXJpY0dGLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHsKCSAgICAgICAgcmV0dXJuIGEgXiBiOwoJICAgIH07CgkgICAgcmV0dXJuIEFic3RyYWN0R2VuZXJpY0dGOwoJfSgpKTsKCUFic3RyYWN0R2VuZXJpY0dGJDEuZGVmYXVsdCA9IEFic3RyYWN0R2VuZXJpY0dGOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0dGUG9seSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5yZWVkc29sb21vbiB7Ki8KCXZhciBBYnN0cmFjdEdlbmVyaWNHRl8xJDEgPSBBYnN0cmFjdEdlbmVyaWNHRiQxOwoJdmFyIFN5c3RlbV8xID0gU3lzdGVtJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNCA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5SZXByZXNlbnRzIGEgcG9seW5vbWlhbCB3aG9zZSBjb2VmZmljaWVudHMgYXJlIGVsZW1lbnRzIG9mIGEgR0YuCgkgKiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBhcmUgaW1tdXRhYmxlLjwvcD4KCSAqCgkgKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdAoJICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEdlbmVyaWNHRlBvbHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGZpZWxkIHRoZSB7QGxpbmsgR2VuZXJpY0dGfSBpbnN0YW5jZSByZXByZXNlbnRpbmcgdGhlIGZpZWxkIHRvIHVzZQoJICAgICAqIHRvIHBlcmZvcm0gY29tcHV0YXRpb25zCgkgICAgICogQHBhcmFtIGNvZWZmaWNpZW50cyBjb2VmZmljaWVudHMgYXMgaW50cyByZXByZXNlbnRpbmcgZWxlbWVudHMgb2YgR0Yoc2l6ZSksIGFycmFuZ2VkCgkgICAgICogZnJvbSBtb3N0IHNpZ25pZmljYW50IChoaWdoZXN0LXBvd2VyIHRlcm0pIGNvZWZmaWNpZW50IHRvIGxlYXN0IHNpZ25pZmljYW50CgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYXJndW1lbnQgaXMgbnVsbCBvciBlbXB0eSwKCSAgICAgKiBvciBpZiBsZWFkaW5nIGNvZWZmaWNpZW50IGlzIDAgYW5kIHRoaXMgaXMgbm90IGEKCSAgICAgKiBjb25zdGFudCBwb2x5bm9taWFsICh0aGF0IGlzLCBpdCBpcyBub3QgdGhlIG1vbm9taWFsICIwIikKCSAgICAgKi8KCSAgICBmdW5jdGlvbiBHZW5lcmljR0ZQb2x5KGZpZWxkLCBjb2VmZmljaWVudHMpIHsKCSAgICAgICAgaWYgKGNvZWZmaWNpZW50cy5sZW5ndGggPT09IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLmZpZWxkID0gZmllbGQ7CgkgICAgICAgIHZhciBjb2VmZmljaWVudHNMZW5ndGggPSBjb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICBpZiAoY29lZmZpY2llbnRzTGVuZ3RoID4gMSAmJiBjb2VmZmljaWVudHNbMF0gPT09IDApIHsKCSAgICAgICAgICAgIC8vIExlYWRpbmcgdGVybSBtdXN0IGJlIG5vbi16ZXJvIGZvciBhbnl0aGluZyBleGNlcHQgdGhlIGNvbnN0YW50IHBvbHlub21pYWwgIjAiCgkgICAgICAgICAgICB2YXIgZmlyc3ROb25aZXJvID0gMTsKCSAgICAgICAgICAgIHdoaWxlIChmaXJzdE5vblplcm8gPCBjb2VmZmljaWVudHNMZW5ndGggJiYgY29lZmZpY2llbnRzW2ZpcnN0Tm9uWmVyb10gPT09IDApIHsKCSAgICAgICAgICAgICAgICBmaXJzdE5vblplcm8rKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChmaXJzdE5vblplcm8gPT09IGNvZWZmaWNpZW50c0xlbmd0aCkgewoJICAgICAgICAgICAgICAgIHRoaXMuY29lZmZpY2llbnRzID0gSW50MzJBcnJheS5mcm9tKFswXSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICB0aGlzLmNvZWZmaWNpZW50cyA9IG5ldyBJbnQzMkFycmF5KGNvZWZmaWNpZW50c0xlbmd0aCAtIGZpcnN0Tm9uWmVybyk7CgkgICAgICAgICAgICAgICAgU3lzdGVtXzEuZGVmYXVsdC5hcnJheWNvcHkoY29lZmZpY2llbnRzLCBmaXJzdE5vblplcm8sIHRoaXMuY29lZmZpY2llbnRzLCAwLCB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGgpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdGhpcy5jb2VmZmljaWVudHMgPSBjb2VmZmljaWVudHM7CgkgICAgICAgIH0KCSAgICB9CgkgICAgR2VuZXJpY0dGUG9seS5wcm90b3R5cGUuZ2V0Q29lZmZpY2llbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGRlZ3JlZSBvZiB0aGlzIHBvbHlub21pYWwKCSAgICAgKi8KCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5nZXREZWdyZWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGlzIHBvbHlub21pYWwgaXMgdGhlIG1vbm9taWFsICIwIgoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmlzWmVybyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY29lZmZpY2llbnRzWzBdID09PSAwOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBjb2VmZmljaWVudCBvZiB4XmRlZ3JlZSB0ZXJtIGluIHRoaXMgcG9seW5vbWlhbAoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmdldENvZWZmaWNpZW50ID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50c1t0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxIC0gZGVncmVlXTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gZXZhbHVhdGlvbiBvZiB0aGlzIHBvbHlub21pYWwgYXQgYSBnaXZlbiBwb2ludAoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmV2YWx1YXRlQXQgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7CgkgICAgICAgIGlmIChhID09PSAwKSB7CgkgICAgICAgICAgICAvLyBKdXN0IHJldHVybiB0aGUgeF4wIGNvZWZmaWNpZW50CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb2VmZmljaWVudCgwKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgY29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciByZXN1bHQ7CgkgICAgICAgIGlmIChhID09PSAxKSB7CgkgICAgICAgICAgICAvLyBKdXN0IHRoZSBzdW0gb2YgdGhlIGNvZWZmaWNpZW50cwoJICAgICAgICAgICAgcmVzdWx0ID0gMDsKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGNvZWZmaWNpZW50cy5sZW5ndGg7IGkgIT09IGxlbmd0aF8xOyBpKyspIHsKCSAgICAgICAgICAgICAgICB2YXIgY29lZmZpY2llbnQgPSBjb2VmZmljaWVudHNbaV07CgkgICAgICAgICAgICAgICAgcmVzdWx0ID0gQWJzdHJhY3RHZW5lcmljR0ZfMSQxLmRlZmF1bHQuYWRkT3JTdWJ0cmFjdChyZXN1bHQsIGNvZWZmaWNpZW50KTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgICAgIH0KCSAgICAgICAgcmVzdWx0ID0gY29lZmZpY2llbnRzWzBdOwoJICAgICAgICB2YXIgc2l6ZSA9IGNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgc2l6ZTsgaSsrKSB7CgkgICAgICAgICAgICByZXN1bHQgPSBBYnN0cmFjdEdlbmVyaWNHRl8xJDEuZGVmYXVsdC5hZGRPclN1YnRyYWN0KGZpZWxkLm11bHRpcGx5KGEsIHJlc3VsdCksIGNvZWZmaWNpZW50c1tpXSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoJ0dlbmVyaWNHRlBvbHlzIGRvIG5vdCBoYXZlIHNhbWUgR2VuZXJpY0dGIGZpZWxkJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRoaXMuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHJldHVybiBvdGhlcjsKCSAgICAgICAgfQoJICAgICAgICBpZiAob3RoZXIuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzbWFsbGVyQ29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciBsYXJnZXJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7CgkgICAgICAgIGlmIChzbWFsbGVyQ29lZmZpY2llbnRzLmxlbmd0aCA+IGxhcmdlckNvZWZmaWNpZW50cy5sZW5ndGgpIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gc21hbGxlckNvZWZmaWNpZW50czsKCSAgICAgICAgICAgIHNtYWxsZXJDb2VmZmljaWVudHMgPSBsYXJnZXJDb2VmZmljaWVudHM7CgkgICAgICAgICAgICBsYXJnZXJDb2VmZmljaWVudHMgPSB0ZW1wOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzdW1EaWZmID0gbmV3IEludDMyQXJyYXkobGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCk7CgkgICAgICAgIHZhciBsZW5ndGhEaWZmID0gbGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCAtIHNtYWxsZXJDb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICAvLyBDb3B5IGhpZ2gtb3JkZXIgdGVybXMgb25seSBmb3VuZCBpbiBoaWdoZXItZGVncmVlIHBvbHlub21pYWwncyBjb2VmZmljaWVudHMKCSAgICAgICAgU3lzdGVtXzEuZGVmYXVsdC5hcnJheWNvcHkobGFyZ2VyQ29lZmZpY2llbnRzLCAwLCBzdW1EaWZmLCAwLCBsZW5ndGhEaWZmKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IGxlbmd0aERpZmY7IGkgPCBsYXJnZXJDb2VmZmljaWVudHMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHN1bURpZmZbaV0gPSBBYnN0cmFjdEdlbmVyaWNHRl8xJDEuZGVmYXVsdC5hZGRPclN1YnRyYWN0KHNtYWxsZXJDb2VmZmljaWVudHNbaSAtIGxlbmd0aERpZmZdLCBsYXJnZXJDb2VmZmljaWVudHNbaV0pOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seSh0aGlzLmZpZWxkLCBzdW1EaWZmKTsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLm11bHRpcGx5ID0gZnVuY3Rpb24gKG90aGVyKSB7CgkgICAgICAgIGlmICghdGhpcy5maWVsZC5lcXVhbHMob3RoZXIuZmllbGQpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNC5kZWZhdWx0KCdHZW5lcmljR0ZQb2x5cyBkbyBub3QgaGF2ZSBzYW1lIEdlbmVyaWNHRiBmaWVsZCcpOwoJICAgICAgICB9CgkgICAgICAgIGlmICh0aGlzLmlzWmVybygpIHx8IG90aGVyLmlzWmVybygpKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGFDb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgdmFyIGFMZW5ndGggPSBhQ29lZmZpY2llbnRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciBiTGVuZ3RoID0gYkNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBwcm9kdWN0ID0gbmV3IEludDMyQXJyYXkoYUxlbmd0aCArIGJMZW5ndGggLSAxKTsKCSAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5maWVsZDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhTGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHZhciBhQ29lZmYgPSBhQ29lZmZpY2llbnRzW2ldOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBiTGVuZ3RoOyBqKyspIHsKCSAgICAgICAgICAgICAgICBwcm9kdWN0W2kgKyBqXSA9IEFic3RyYWN0R2VuZXJpY0dGXzEkMS5kZWZhdWx0LmFkZE9yU3VidHJhY3QocHJvZHVjdFtpICsgal0sIGZpZWxkLm11bHRpcGx5KGFDb2VmZiwgYkNvZWZmaWNpZW50c1tqXSkpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7CgkgICAgfTsKCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5tdWx0aXBseVNjYWxhciA9IGZ1bmN0aW9uIChzY2FsYXIgLyppbnQqLykgewoJICAgICAgICBpZiAoc2NhbGFyID09PSAwKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHNjYWxhciA9PT0gMSkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHNpemUgPSB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIHZhciBwcm9kdWN0ID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCSAgICAgICAgICAgIHByb2R1Y3RbaV0gPSBmaWVsZC5tdWx0aXBseShjb2VmZmljaWVudHNbaV0sIHNjYWxhcik7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG5ldyBHZW5lcmljR0ZQb2x5KGZpZWxkLCBwcm9kdWN0KTsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLm11bHRpcGx5QnlNb25vbWlhbCA9IGZ1bmN0aW9uIChkZWdyZWUgLyppbnQqLywgY29lZmZpY2llbnQgLyppbnQqLykgewoJICAgICAgICBpZiAoZGVncmVlIDwgMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDQuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIGlmIChjb2VmZmljaWVudCA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmllbGQuZ2V0WmVybygpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgdmFyIHNpemUgPSBjb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICB2YXIgcHJvZHVjdCA9IG5ldyBJbnQzMkFycmF5KHNpemUgKyBkZWdyZWUpOwoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykgewoJICAgICAgICAgICAgcHJvZHVjdFtpXSA9IGZpZWxkLm11bHRpcGx5KGNvZWZmaWNpZW50c1tpXSwgY29lZmZpY2llbnQpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7CgkgICAgfTsKCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5kaXZpZGUgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoJ0dlbmVyaWNHRlBvbHlzIGRvIG5vdCBoYXZlIHNhbWUgR2VuZXJpY0dGIGZpZWxkJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKG90aGVyLmlzWmVybygpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNC5kZWZhdWx0KCdEaXZpZGUgYnkgMCcpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIHZhciBxdW90aWVudCA9IGZpZWxkLmdldFplcm8oKTsKCSAgICAgICAgdmFyIHJlbWFpbmRlciA9IHRoaXM7CgkgICAgICAgIHZhciBkZW5vbWluYXRvckxlYWRpbmdUZXJtID0gb3RoZXIuZ2V0Q29lZmZpY2llbnQob3RoZXIuZ2V0RGVncmVlKCkpOwoJICAgICAgICB2YXIgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0gPSBmaWVsZC5pbnZlcnNlKGRlbm9taW5hdG9yTGVhZGluZ1Rlcm0pOwoJICAgICAgICB3aGlsZSAocmVtYWluZGVyLmdldERlZ3JlZSgpID49IG90aGVyLmdldERlZ3JlZSgpICYmICFyZW1haW5kZXIuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHZhciBkZWdyZWVEaWZmZXJlbmNlID0gcmVtYWluZGVyLmdldERlZ3JlZSgpIC0gb3RoZXIuZ2V0RGVncmVlKCk7CgkgICAgICAgICAgICB2YXIgc2NhbGUgPSBmaWVsZC5tdWx0aXBseShyZW1haW5kZXIuZ2V0Q29lZmZpY2llbnQocmVtYWluZGVyLmdldERlZ3JlZSgpKSwgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0pOwoJICAgICAgICAgICAgdmFyIHRlcm0gPSBvdGhlci5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZmVyZW5jZSwgc2NhbGUpOwoJICAgICAgICAgICAgdmFyIGl0ZXJhdGlvblF1b3RpZW50ID0gZmllbGQuYnVpbGRNb25vbWlhbChkZWdyZWVEaWZmZXJlbmNlLCBzY2FsZSk7CgkgICAgICAgICAgICBxdW90aWVudCA9IHF1b3RpZW50LmFkZE9yU3VidHJhY3QoaXRlcmF0aW9uUXVvdGllbnQpOwoJICAgICAgICAgICAgcmVtYWluZGVyID0gcmVtYWluZGVyLmFkZE9yU3VidHJhY3QodGVybSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIFtxdW90aWVudCwgcmVtYWluZGVyXTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJlc3VsdCA9ICcnOwoJICAgICAgICBmb3IgKHZhciBkZWdyZWUgPSB0aGlzLmdldERlZ3JlZSgpOyBkZWdyZWUgPj0gMDsgZGVncmVlLS0pIHsKCSAgICAgICAgICAgIHZhciBjb2VmZmljaWVudCA9IHRoaXMuZ2V0Q29lZmZpY2llbnQoZGVncmVlKTsKCSAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCAhPT0gMCkgewoJICAgICAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCA8IDApIHsKCSAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgLSAnOwoJICAgICAgICAgICAgICAgICAgICBjb2VmZmljaWVudCA9IC1jb2VmZmljaWVudDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgKyAnOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgPT09IDAgfHwgY29lZmZpY2llbnQgIT09IDEpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGFscGhhUG93ZXIgPSB0aGlzLmZpZWxkLmxvZyhjb2VmZmljaWVudCk7CgkgICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYVBvd2VyID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJzEnOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFscGhhUG93ZXIgPT09IDEpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnYSc7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJ2FeJzsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBhbHBoYVBvd2VyOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgIT09IDApIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKGRlZ3JlZSA9PT0gMSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICd4JzsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAneF4nOwoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGRlZ3JlZTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgcmV0dXJuIEdlbmVyaWNHRlBvbHk7Cgl9KCkpOwoJR2VuZXJpY0dGUG9seSQxLmRlZmF1bHQgPSBHZW5lcmljR0ZQb2x5OwoKCXZhciBBcml0aG1ldGljRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgX19leHRlbmRzJDcgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJpdGhtZXRpY0V4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkMyA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBBcml0aG1ldGljRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyQ3KEFyaXRobWV0aWNFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gQXJpdGhtZXRpY0V4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBBcml0aG1ldGljRXhjZXB0aW9uLmtpbmQgPSAnQXJpdGhtZXRpY0V4Y2VwdGlvbic7CgkgICAgcmV0dXJuIEFyaXRobWV0aWNFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDMuZGVmYXVsdCkpOwoJQXJpdGhtZXRpY0V4Y2VwdGlvbiQxLmRlZmF1bHQgPSBBcml0aG1ldGljRXhjZXB0aW9uOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDYgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0dGJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uLnJlZWRzb2xvbW9uIHsqLwoJdmFyIEdlbmVyaWNHRlBvbHlfMSQxID0gR2VuZXJpY0dGUG9seSQxOwoJdmFyIEFic3RyYWN0R2VuZXJpY0dGXzEgPSBBYnN0cmFjdEdlbmVyaWNHRiQxOwoJdmFyIEludGVnZXJfMSQxID0gSW50ZWdlciQxOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDMgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcml0aG1ldGljRXhjZXB0aW9uXzEgPSBBcml0aG1ldGljRXhjZXB0aW9uJDE7CgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgY29udGFpbnMgdXRpbGl0eSBtZXRob2RzIGZvciBwZXJmb3JtaW5nIG1hdGhlbWF0aWNhbCBvcGVyYXRpb25zIG92ZXIKCSAqIHRoZSBHYWxvaXMgRmllbGRzLiBPcGVyYXRpb25zIHVzZSBhIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsIGluIGNhbGN1bGF0aW9ucy48L3A+CgkgKgoJICogPHA+VGhyb3VnaG91dCB0aGlzIHBhY2thZ2UsIGVsZW1lbnRzIG9mIHRoZSBHRiBhcmUgcmVwcmVzZW50ZWQgYXMgYW4ge0Bjb2RlIGludH0KCSAqIGZvciBjb252ZW5pZW5jZSBhbmQgc3BlZWQgKGJ1dCBhdCB0aGUgY29zdCBvZiBtZW1vcnkpLgoJICogPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKiBAYXV0aG9yIERhdmlkIE9saXZpZXIKCSAqLwoJdmFyIEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkNihHZW5lcmljR0YsIF9zdXBlcik7CgkgICAgLyoqCgkgICAgICogQ3JlYXRlIGEgcmVwcmVzZW50YXRpb24gb2YgR0Yoc2l6ZSkgdXNpbmcgdGhlIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsLgoJICAgICAqCgkgICAgICogQHBhcmFtIHByaW1pdGl2ZSBpcnJlZHVjaWJsZSBwb2x5bm9taWFsIHdob3NlIGNvZWZmaWNpZW50cyBhcmUgcmVwcmVzZW50ZWQgYnkKCSAgICAgKiAgdGhlIGJpdHMgb2YgYW4gaW50LCB3aGVyZSB0aGUgbGVhc3Qtc2lnbmlmaWNhbnQgYml0IHJlcHJlc2VudHMgdGhlIGNvbnN0YW50CgkgICAgICogIGNvZWZmaWNpZW50CgkgICAgICogQHBhcmFtIHNpemUgdGhlIHNpemUgb2YgdGhlIGZpZWxkCgkgICAgICogQHBhcmFtIGIgdGhlIGZhY3RvciBiIGluIHRoZSBnZW5lcmF0b3IgcG9seW5vbWlhbCBjYW4gYmUgMC0gb3IgMS1iYXNlZAoJICAgICAqICAoZyh4KSA9ICh4K2FeYikoeCthXihiKzEpKS4uLih4K2FeKGIrMnQtMSkpKS4KCSAgICAgKiAgSW4gbW9zdCBjYXNlcyBpdCBzaG91bGQgYmUgMSwgYnV0IGZvciBRUiBjb2RlIGl0IGlzIDAuCgkgICAgICovCgkgICAgZnVuY3Rpb24gR2VuZXJpY0dGKHByaW1pdGl2ZSAvKmludCovLCBzaXplIC8qaW50Ki8sIGdlbmVyYXRvckJhc2UgLyppbnQqLykgewoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5wcmltaXRpdmUgPSBwcmltaXRpdmU7CgkgICAgICAgIF90aGlzLnNpemUgPSBzaXplOwoJICAgICAgICBfdGhpcy5nZW5lcmF0b3JCYXNlID0gZ2VuZXJhdG9yQmFzZTsKCSAgICAgICAgdmFyIGV4cFRhYmxlID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7CgkgICAgICAgIHZhciB4ID0gMTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCSAgICAgICAgICAgIGV4cFRhYmxlW2ldID0geDsKCSAgICAgICAgICAgIHggKj0gMjsgLy8gd2UncmUgYXNzdW1pbmcgdGhlIGdlbmVyYXRvciBhbHBoYSBpcyAyCgkgICAgICAgICAgICBpZiAoeCA+PSBzaXplKSB7CgkgICAgICAgICAgICAgICAgeCBePSBwcmltaXRpdmU7CgkgICAgICAgICAgICAgICAgeCAmPSBzaXplIC0gMTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBfdGhpcy5leHBUYWJsZSA9IGV4cFRhYmxlOwoJICAgICAgICB2YXIgbG9nVGFibGUgPSBuZXcgSW50MzJBcnJheShzaXplKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplIC0gMTsgaSsrKSB7CgkgICAgICAgICAgICBsb2dUYWJsZVtleHBUYWJsZVtpXV0gPSBpOwoJICAgICAgICB9CgkgICAgICAgIF90aGlzLmxvZ1RhYmxlID0gbG9nVGFibGU7CgkgICAgICAgIC8vIGxvZ1RhYmxlWzBdID09IDAgYnV0IHRoaXMgc2hvdWxkIG5ldmVyIGJlIHVzZWQKCSAgICAgICAgX3RoaXMuemVybyA9IG5ldyBHZW5lcmljR0ZQb2x5XzEkMS5kZWZhdWx0KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzBdKSk7CgkgICAgICAgIF90aGlzLm9uZSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEkMS5kZWZhdWx0KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzFdKSk7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRaZXJvID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy56ZXJvOwoJICAgIH07CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRPbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm9uZTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gdGhlIG1vbm9taWFsIHJlcHJlc2VudGluZyBjb2VmZmljaWVudCAqIHheZGVncmVlCgkgICAgICovCgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5idWlsZE1vbm9taWFsID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovLCBjb2VmZmljaWVudCAvKmludCovKSB7CgkgICAgICAgIGlmIChkZWdyZWUgPCAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkMy5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvZWZmaWNpZW50ID09PSAwKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy56ZXJvOwoJICAgICAgICB9CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheShkZWdyZWUgKyAxKTsKCSAgICAgICAgY29lZmZpY2llbnRzWzBdID0gY29lZmZpY2llbnQ7CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seV8xJDEuZGVmYXVsdCh0aGlzLCBjb2VmZmljaWVudHMpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBtdWx0aXBsaWNhdGl2ZSBpbnZlcnNlIG9mIGEKCSAgICAgKi8KCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmludmVyc2UgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7CgkgICAgICAgIGlmIChhID09PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgQXJpdGhtZXRpY0V4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5leHBUYWJsZVt0aGlzLnNpemUgLSB0aGlzLmxvZ1RhYmxlW2FdIC0gMV07CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHByb2R1Y3Qgb2YgYSBhbmQgYiBpbiBHRihzaXplKQoJICAgICAqLwoJICAgIEdlbmVyaWNHRi5wcm90b3R5cGUubXVsdGlwbHkgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGEgPT09IDAgfHwgYiA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIDA7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMuZXhwVGFibGVbKHRoaXMubG9nVGFibGVbYV0gKyB0aGlzLmxvZ1RhYmxlW2JdKSAlICh0aGlzLnNpemUgLSAxKV07CgkgICAgfTsKCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnNpemU7CgkgICAgfTsKCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmdldEdlbmVyYXRvckJhc2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRvckJhc2U7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICgnR0YoMHgnICsgSW50ZWdlcl8xJDEuZGVmYXVsdC50b0hleFN0cmluZyh0aGlzLnByaW1pdGl2ZSkgKyAnLCcgKyB0aGlzLnNpemUgKyAnKScpOwoJICAgIH07CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICByZXR1cm4gbyA9PT0gdGhpczsKCSAgICB9OwoJICAgIEdlbmVyaWNHRi5BWlRFQ19EQVRBXzEyID0gbmV3IEdlbmVyaWNHRigweDEwNjksIDQwOTYsIDEpOyAvLyB4XjEyICsgeF42ICsgeF41ICsgeF4zICsgMQoJICAgIEdlbmVyaWNHRi5BWlRFQ19EQVRBXzEwID0gbmV3IEdlbmVyaWNHRigweDQwOSwgMTAyNCwgMSk7IC8vIHheMTAgKyB4XjMgKyAxCgkgICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfNiA9IG5ldyBHZW5lcmljR0YoMHg0MywgNjQsIDEpOyAvLyB4XjYgKyB4ICsgMQoJICAgIEdlbmVyaWNHRi5BWlRFQ19QQVJBTSA9IG5ldyBHZW5lcmljR0YoMHgxMywgMTYsIDEpOyAvLyB4XjQgKyB4ICsgMQoJICAgIEdlbmVyaWNHRi5RUl9DT0RFX0ZJRUxEXzI1NiA9IG5ldyBHZW5lcmljR0YoMHgwMTFkLCAyNTYsIDApOyAvLyB4XjggKyB4XjQgKyB4XjMgKyB4XjIgKyAxCgkgICAgR2VuZXJpY0dGLkRBVEFfTUFUUklYX0ZJRUxEXzI1NiA9IG5ldyBHZW5lcmljR0YoMHgwMTJkLCAyNTYsIDEpOyAvLyB4XjggKyB4XjUgKyB4XjMgKyB4XjIgKyAxCgkgICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfOCA9IEdlbmVyaWNHRi5EQVRBX01BVFJJWF9GSUVMRF8yNTY7CgkgICAgR2VuZXJpY0dGLk1BWElDT0RFX0ZJRUxEXzY0ID0gR2VuZXJpY0dGLkFaVEVDX0RBVEFfNjsKCSAgICByZXR1cm4gR2VuZXJpY0dGOwoJfShBYnN0cmFjdEdlbmVyaWNHRl8xLmRlZmF1bHQpKTsKCUdlbmVyaWNHRiQxLmRlZmF1bHQgPSBHZW5lcmljR0Y7CgoJdmFyIFJlZWRTb2xvbW9uRGVjb2RlciQxID0ge307CgoJdmFyIFJlZWRTb2xvbW9uRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgX19leHRlbmRzJDUgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVlZFNvbG9tb25FeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDIgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgUmVlZFNvbG9tb25FeGNlcHRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDUoUmVlZFNvbG9tb25FeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gUmVlZFNvbG9tb25FeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgUmVlZFNvbG9tb25FeGNlcHRpb24ua2luZCA9ICdSZWVkU29sb21vbkV4Y2VwdGlvbic7CgkgICAgcmV0dXJuIFJlZWRTb2xvbW9uRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQyLmRlZmF1bHQpKTsKCVJlZWRTb2xvbW9uRXhjZXB0aW9uJDEuZGVmYXVsdCA9IFJlZWRTb2xvbW9uRXhjZXB0aW9uOwoKCXZhciBJbGxlZ2FsU3RhdGVFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkNCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbGxlZ2FsU3RhdGVFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDEgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgSWxsZWdhbFN0YXRlRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyQ0KElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgSWxsZWdhbFN0YXRlRXhjZXB0aW9uLmtpbmQgPSAnSWxsZWdhbFN0YXRlRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gSWxsZWdhbFN0YXRlRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQxLmRlZmF1bHQpKTsKCUlsbGVnYWxTdGF0ZUV4Y2VwdGlvbiQxLmRlZmF1bHQgPSBJbGxlZ2FsU3RhdGVFeGNlcHRpb247CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWVkU29sb21vbkRlY29kZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24ucmVlZHNvbG9tb24geyovCgl2YXIgR2VuZXJpY0dGXzEkMSA9IEdlbmVyaWNHRiQxOwoJdmFyIEdlbmVyaWNHRlBvbHlfMSA9IEdlbmVyaWNHRlBvbHkkMTsKCXZhciBSZWVkU29sb21vbkV4Y2VwdGlvbl8xID0gUmVlZFNvbG9tb25FeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsU3RhdGVFeGNlcHRpb25fMSA9IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5JbXBsZW1lbnRzIFJlZWQtU29sb21vbiBkZWNvZGluZywgYXMgdGhlIG5hbWUgaW1wbGllcy48L3A+CgkgKgoJICogPHA+VGhlIGFsZ29yaXRobSB3aWxsIG5vdCBiZSBleHBsYWluZWQgaGVyZSwgYnV0IHRoZSBmb2xsb3dpbmcgcmVmZXJlbmNlcyB3ZXJlIGhlbHBmdWwKCSAqIGluIGNyZWF0aW5nIHRoaXMgaW1wbGVtZW50YXRpb246PC9wPgoJICoKCSAqIDx1bD4KCSAqIDxsaT5CcnVjZSBNYWdncy4KCSAqIDxhIGhyZWY9Imh0dHA6Ly93d3cuY3MuY211LmVkdS9hZnMvY3MuY211LmVkdS9wcm9qZWN0L3BzY2ljby1ndXliL3JlYWx3b3JsZC93d3cvcnNfZGVjb2RlLnBzIj4KCSAqICJEZWNvZGluZyBSZWVkLVNvbG9tb24gQ29kZXMiPC9hPiAoc2VlIGRpc2N1c3Npb24gb2YgRm9ybmV5J3MgRm9ybXVsYSk8L2xpPgoJICogPGxpPkouSS4gSGFsbC4gPGEgaHJlZj0id3d3Lm10aC5tc3UuZWR1L35qaGFsbC9jbGFzc2VzL2NvZGVub3Rlcy9HUlMucGRmIj4KCSAqICJDaGFwdGVyIDUuIEdlbmVyYWxpemVkIFJlZWQtU29sb21vbiBDb2RlcyI8L2E+CgkgKiAoc2VlIGRpc2N1c3Npb24gb2YgRXVjbGlkZWFuIGFsZ29yaXRobSk8L2xpPgoJICogPC91bD4KCSAqCgkgKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdAoJICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBhdXRob3IgV2lsbGlhbSBSdWNrbGlkZ2UKCSAqIEBhdXRob3Igc2FuZm9yZHNxdWlyZXMKCSAqLwoJdmFyIFJlZWRTb2xvbW9uRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBSZWVkU29sb21vbkRlY29kZXIoZmllbGQpIHsKCSAgICAgICAgdGhpcy5maWVsZCA9IGZpZWxkOwoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5EZWNvZGVzIGdpdmVuIHNldCBvZiByZWNlaXZlZCBjb2Rld29yZHMsIHdoaWNoIGluY2x1ZGUgYm90aCBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uCgkgICAgICogY29kZXdvcmRzLiBSZWFsbHksIHRoaXMgbWVhbnMgaXQgdXNlcyBSZWVkLVNvbG9tb24gdG8gZGV0ZWN0IGFuZCBjb3JyZWN0IGVycm9ycywgaW4tcGxhY2UsCgkgICAgICogaW4gdGhlIGlucHV0LjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSByZWNlaXZlZCBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcwoJICAgICAqIEBwYXJhbSB0d29TIG51bWJlciBvZiBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyBhdmFpbGFibGUKCSAgICAgKiBAdGhyb3dzIFJlZWRTb2xvbW9uRXhjZXB0aW9uIGlmIGRlY29kaW5nIGZhaWxzIGZvciBhbnkgcmVhc29uCgkgICAgICovCgkgICAgUmVlZFNvbG9tb25EZWNvZGVyLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAocmVjZWl2ZWQsIHR3b1MgLyppbnQqLykgewoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICB2YXIgcG9seSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEuZGVmYXVsdChmaWVsZCwgcmVjZWl2ZWQpOwoJICAgICAgICB2YXIgc3luZHJvbWVDb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheSh0d29TKTsKCSAgICAgICAgdmFyIG5vRXJyb3IgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR3b1M7IGkrKykgewoJICAgICAgICAgICAgdmFyIGV2YWxSZXN1bHQgPSBwb2x5LmV2YWx1YXRlQXQoZmllbGQuZXhwKGkgKyBmaWVsZC5nZXRHZW5lcmF0b3JCYXNlKCkpKTsKCSAgICAgICAgICAgIHN5bmRyb21lQ29lZmZpY2llbnRzW3N5bmRyb21lQ29lZmZpY2llbnRzLmxlbmd0aCAtIDEgLSBpXSA9IGV2YWxSZXN1bHQ7CgkgICAgICAgICAgICBpZiAoZXZhbFJlc3VsdCAhPT0gMCkgewoJICAgICAgICAgICAgICAgIG5vRXJyb3IgPSBmYWxzZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBpZiAobm9FcnJvcikgewoJICAgICAgICAgICAgcmV0dXJuOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzeW5kcm9tZSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEuZGVmYXVsdChmaWVsZCwgc3luZHJvbWVDb2VmZmljaWVudHMpOwoJICAgICAgICB2YXIgc2lnbWFPbWVnYSA9IHRoaXMucnVuRXVjbGlkZWFuQWxnb3JpdGhtKGZpZWxkLmJ1aWxkTW9ub21pYWwodHdvUywgMSksIHN5bmRyb21lLCB0d29TKTsKCSAgICAgICAgdmFyIHNpZ21hID0gc2lnbWFPbWVnYVswXTsKCSAgICAgICAgdmFyIG9tZWdhID0gc2lnbWFPbWVnYVsxXTsKCSAgICAgICAgdmFyIGVycm9yTG9jYXRpb25zID0gdGhpcy5maW5kRXJyb3JMb2NhdGlvbnMoc2lnbWEpOwoJICAgICAgICB2YXIgZXJyb3JNYWduaXR1ZGVzID0gdGhpcy5maW5kRXJyb3JNYWduaXR1ZGVzKG9tZWdhLCBlcnJvckxvY2F0aW9ucyk7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXJyb3JMb2NhdGlvbnMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHJlY2VpdmVkLmxlbmd0aCAtIDEgLSBmaWVsZC5sb2coZXJyb3JMb2NhdGlvbnNbaV0pOwoJICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbl8xLmRlZmF1bHQoJ0JhZCBlcnJvciBsb2NhdGlvbicpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVjZWl2ZWRbcG9zaXRpb25dID0gR2VuZXJpY0dGXzEkMS5kZWZhdWx0LmFkZE9yU3VidHJhY3QocmVjZWl2ZWRbcG9zaXRpb25dLCBlcnJvck1hZ25pdHVkZXNbaV0pOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZWVkU29sb21vbkRlY29kZXIucHJvdG90eXBlLnJ1bkV1Y2xpZGVhbkFsZ29yaXRobSA9IGZ1bmN0aW9uIChhLCBiLCBSIC8qaW50Ki8pIHsKCSAgICAgICAgLy8gQXNzdW1lIGEncyBkZWdyZWUgaXMgPj0gYidzCgkgICAgICAgIGlmIChhLmdldERlZ3JlZSgpIDwgYi5nZXREZWdyZWUoKSkgewoJICAgICAgICAgICAgdmFyIHRlbXAgPSBhOwoJICAgICAgICAgICAgYSA9IGI7CgkgICAgICAgICAgICBiID0gdGVtcDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICB2YXIgckxhc3QgPSBhOwoJICAgICAgICB2YXIgciA9IGI7CgkgICAgICAgIHZhciB0TGFzdCA9IGZpZWxkLmdldFplcm8oKTsKCSAgICAgICAgdmFyIHQgPSBmaWVsZC5nZXRPbmUoKTsKCSAgICAgICAgLy8gUnVuIEV1Y2xpZGVhbiBhbGdvcml0aG0gdW50aWwgcidzIGRlZ3JlZSBpcyBsZXNzIHRoYW4gUi8yCgkgICAgICAgIHdoaWxlIChyLmdldERlZ3JlZSgpID49IChSIC8gMiB8IDApKSB7CgkgICAgICAgICAgICB2YXIgckxhc3RMYXN0ID0gckxhc3Q7CgkgICAgICAgICAgICB2YXIgdExhc3RMYXN0ID0gdExhc3Q7CgkgICAgICAgICAgICByTGFzdCA9IHI7CgkgICAgICAgICAgICB0TGFzdCA9IHQ7CgkgICAgICAgICAgICAvLyBEaXZpZGUgckxhc3RMYXN0IGJ5IHJMYXN0LCB3aXRoIHF1b3RpZW50IGluIHEgYW5kIHJlbWFpbmRlciBpbiByCgkgICAgICAgICAgICBpZiAockxhc3QuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgICAgICAvLyBPb3BzLCBFdWNsaWRlYW4gYWxnb3JpdGhtIGFscmVhZHkgdGVybWluYXRlZD8KCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVlZFNvbG9tb25FeGNlcHRpb25fMS5kZWZhdWx0KCdyX3tpLTF9IHdhcyB6ZXJvJyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByID0gckxhc3RMYXN0OwoJICAgICAgICAgICAgdmFyIHEgPSBmaWVsZC5nZXRaZXJvKCk7CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3JMZWFkaW5nVGVybSA9IHJMYXN0LmdldENvZWZmaWNpZW50KHJMYXN0LmdldERlZ3JlZSgpKTsKCSAgICAgICAgICAgIHZhciBkbHRJbnZlcnNlID0gZmllbGQuaW52ZXJzZShkZW5vbWluYXRvckxlYWRpbmdUZXJtKTsKCSAgICAgICAgICAgIHdoaWxlIChyLmdldERlZ3JlZSgpID49IHJMYXN0LmdldERlZ3JlZSgpICYmICFyLmlzWmVybygpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRlZ3JlZURpZmYgPSByLmdldERlZ3JlZSgpIC0gckxhc3QuZ2V0RGVncmVlKCk7CgkgICAgICAgICAgICAgICAgdmFyIHNjYWxlID0gZmllbGQubXVsdGlwbHkoci5nZXRDb2VmZmljaWVudChyLmdldERlZ3JlZSgpKSwgZGx0SW52ZXJzZSk7CgkgICAgICAgICAgICAgICAgcSA9IHEuYWRkT3JTdWJ0cmFjdChmaWVsZC5idWlsZE1vbm9taWFsKGRlZ3JlZURpZmYsIHNjYWxlKSk7CgkgICAgICAgICAgICAgICAgciA9IHIuYWRkT3JTdWJ0cmFjdChyTGFzdC5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZiwgc2NhbGUpKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHQgPSBxLm11bHRpcGx5KHRMYXN0KS5hZGRPclN1YnRyYWN0KHRMYXN0TGFzdCk7CgkgICAgICAgICAgICBpZiAoci5nZXREZWdyZWUoKSA+PSByTGFzdC5nZXREZWdyZWUoKSkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25fMS5kZWZhdWx0KCdEaXZpc2lvbiBhbGdvcml0aG0gZmFpbGVkIHRvIHJlZHVjZSBwb2x5bm9taWFsPycpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciBzaWdtYVRpbGRlQXRaZXJvID0gdC5nZXRDb2VmZmljaWVudCgwKTsKCSAgICAgICAgaWYgKHNpZ21hVGlsZGVBdFplcm8gPT09IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbl8xLmRlZmF1bHQoJ3NpZ21hVGlsZGUoMCkgd2FzIHplcm8nKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgaW52ZXJzZSA9IGZpZWxkLmludmVyc2Uoc2lnbWFUaWxkZUF0WmVybyk7CgkgICAgICAgIHZhciBzaWdtYSA9IHQubXVsdGlwbHlTY2FsYXIoaW52ZXJzZSk7CgkgICAgICAgIHZhciBvbWVnYSA9IHIubXVsdGlwbHlTY2FsYXIoaW52ZXJzZSk7CgkgICAgICAgIHJldHVybiBbc2lnbWEsIG9tZWdhXTsKCSAgICB9OwoJICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUuZmluZEVycm9yTG9jYXRpb25zID0gZnVuY3Rpb24gKGVycm9yTG9jYXRvcikgewoJICAgICAgICAvLyBUaGlzIGlzIGEgZGlyZWN0IGFwcGxpY2F0aW9uIG9mIENoaWVuJ3Mgc2VhcmNoCgkgICAgICAgIHZhciBudW1FcnJvcnMgPSBlcnJvckxvY2F0b3IuZ2V0RGVncmVlKCk7CgkgICAgICAgIGlmIChudW1FcnJvcnMgPT09IDEpIHsgLy8gc2hvcnRjdXQKCSAgICAgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW2Vycm9yTG9jYXRvci5nZXRDb2VmZmljaWVudCgxKV0pOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSBuZXcgSW50MzJBcnJheShudW1FcnJvcnMpOwoJICAgICAgICB2YXIgZSA9IDA7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZmllbGQuZ2V0U2l6ZSgpICYmIGUgPCBudW1FcnJvcnM7IGkrKykgewoJICAgICAgICAgICAgaWYgKGVycm9yTG9jYXRvci5ldmFsdWF0ZUF0KGkpID09PSAwKSB7CgkgICAgICAgICAgICAgICAgcmVzdWx0W2VdID0gZmllbGQuaW52ZXJzZShpKTsKCSAgICAgICAgICAgICAgICBlKys7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGUgIT09IG51bUVycm9ycykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IFJlZWRTb2xvbW9uRXhjZXB0aW9uXzEuZGVmYXVsdCgnRXJyb3IgbG9jYXRvciBkZWdyZWUgZG9lcyBub3QgbWF0Y2ggbnVtYmVyIG9mIHJvb3RzJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUuZmluZEVycm9yTWFnbml0dWRlcyA9IGZ1bmN0aW9uIChlcnJvckV2YWx1YXRvciwgZXJyb3JMb2NhdGlvbnMpIHsKCSAgICAgICAgLy8gVGhpcyBpcyBkaXJlY3RseSBhcHBseWluZyBGb3JuZXkncyBGb3JtdWxhCgkgICAgICAgIHZhciBzID0gZXJyb3JMb2NhdGlvbnMubGVuZ3RoOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEludDMyQXJyYXkocyk7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgczsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgeGlJbnZlcnNlID0gZmllbGQuaW52ZXJzZShlcnJvckxvY2F0aW9uc1tpXSk7CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSAxOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzOyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaikgewoJICAgICAgICAgICAgICAgICAgICAvLyBkZW5vbWluYXRvciA9IGZpZWxkLm11bHRpcGx5KGRlbm9taW5hdG9yLAoJICAgICAgICAgICAgICAgICAgICAvLyAgICBHZW5lcmljR0YuYWRkT3JTdWJ0cmFjdCgxLCBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKSkpCgkgICAgICAgICAgICAgICAgICAgIC8vIEFib3ZlIHNob3VsZCB3b3JrIGJ1dCBmYWlscyBvbiBzb21lIEFwcGxlIGFuZCBMaW51eCBKREtzIGR1ZSB0byBhIEhvdHNwb3QgYnVnLgoJICAgICAgICAgICAgICAgICAgICAvLyBCZWxvdyBpcyBhIGZ1bm55LWxvb2tpbmcgd29ya2Fyb3VuZCBmcm9tIFN0ZXZlbiBQYXJrZXMKCSAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm0gPSBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKTsKCSAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm1QbHVzMSA9ICh0ZXJtICYgMHgxKSA9PT0gMCA/IHRlcm0gfCAxIDogdGVybSAmIH4xOwoJICAgICAgICAgICAgICAgICAgICBkZW5vbWluYXRvciA9IGZpZWxkLm11bHRpcGx5KGRlbm9taW5hdG9yLCB0ZXJtUGx1czEpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZpZWxkLm11bHRpcGx5KGVycm9yRXZhbHVhdG9yLmV2YWx1YXRlQXQoeGlJbnZlcnNlKSwgZmllbGQuaW52ZXJzZShkZW5vbWluYXRvcikpOwoJICAgICAgICAgICAgaWYgKGZpZWxkLmdldEdlbmVyYXRvckJhc2UoKSAhPT0gMCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZpZWxkLm11bHRpcGx5KHJlc3VsdFtpXSwgeGlJbnZlcnNlKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgcmV0dXJuIFJlZWRTb2xvbW9uRGVjb2RlcjsKCX0oKSk7CglSZWVkU29sb21vbkRlY29kZXIkMS5kZWZhdWx0ID0gUmVlZFNvbG9tb25EZWNvZGVyOwoKCXZhciBCaXRNYXRyaXhQYXJzZXIkMSA9IHt9OwoKCXZhciBWZXJzaW9uJDEgPSB7fTsKCgl2YXIgRm9ybWF0SW5mb3JtYXRpb24kMSA9IHt9OwoKCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbCA9IHt9OwoKCXZhciBBcmd1bWVudEV4Y2VwdGlvbiQxID0ge307CgoJdmFyIF9fZXh0ZW5kcyQzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFyZ3VtZW50RXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBFeGNlcHRpb25fMSA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkMyhBcmd1bWVudEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBBcmd1bWVudEV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0FyZ3VtZW50RXhjZXB0aW9uJzsKCSAgICByZXR1cm4gQXJndW1lbnRFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xLmRlZmF1bHQpKTsKCUFyZ3VtZW50RXhjZXB0aW9uJDEuZGVmYXVsdCA9IEFyZ3VtZW50RXhjZXB0aW9uOwoKCShmdW5jdGlvbiAoZXhwb3J0cykgewoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CglleHBvcnRzLkVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzID0gdm9pZCAwOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBBcmd1bWVudEV4Y2VwdGlvbl8xID0gQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJdmFyIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzOwoJKGZ1bmN0aW9uIChFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcykgewoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzWyJMIl0gPSAwXSA9ICJMIjsKCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1tFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1siTSJdID0gMV0gPSAiTSI7CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbIlEiXSA9IDJdID0gIlEiOwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzWyJIIl0gPSAzXSA9ICJIIjsKCX0pKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzID0gZXhwb3J0cy5FcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyB8fCAoZXhwb3J0cy5FcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyA9IHt9KSk7CgkvKioKCSAqIDxwPlNlZSBJU08gMTgwMDQ6MjAwNiwgNi41LjEuIFRoaXMgZW51bSBlbmNhcHN1bGF0ZXMgdGhlIGZvdXIgZXJyb3IgY29ycmVjdGlvbiBsZXZlbHMKCSAqIGRlZmluZWQgYnkgdGhlIFFSIGNvZGUgc3RhbmRhcmQuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBFcnJvckNvcnJlY3Rpb25MZXZlbCh2YWx1ZSwgc3RyaW5nVmFsdWUsIGJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuc3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZTsKCSAgICAgICAgdGhpcy5iaXRzID0gYml0czsKCSAgICAgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2V0KGJpdHMsIHRoaXMpOwoJICAgICAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5GT1JfVkFMVUUuc2V0KHZhbHVlLCB0aGlzKTsKCSAgICB9CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKCSAgICB9OwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5nZXRCaXRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRzOwoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZnJvbVN0cmluZyA9IGZ1bmN0aW9uIChzKSB7CgkgICAgICAgIHN3aXRjaCAocykgewoJICAgICAgICAgICAgY2FzZSAnTCc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5MOwoJICAgICAgICAgICAgY2FzZSAnTSc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5NOwoJICAgICAgICAgICAgY2FzZSAnUSc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5ROwoJICAgICAgICAgICAgY2FzZSAnSCc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5IOwoJICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEFyZ3VtZW50RXhjZXB0aW9uXzEuZGVmYXVsdChzICsgJ25vdCBhdmFpbGFibGUnKTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTsKCSAgICB9OwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG90aGVyID0gbzsKCSAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUgPT09IG90aGVyLnZhbHVlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJpdHMgaW50IGNvbnRhaW5pbmcgdGhlIHR3byBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSdzIGVycm9yIGNvcnJlY3Rpb24gbGV2ZWwKCSAgICAgKiBAcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsIHJlcHJlc2VudGluZyB0aGUgZW5jb2RlZCBlcnJvciBjb3JyZWN0aW9uIGxldmVsCgkgICAgICovCgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZm9yQml0cyA9IGZ1bmN0aW9uIChiaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGJpdHMgPCAwIHx8IGJpdHMgPj0gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2l6ZSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuZ2V0KGJpdHMpOwoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMgPSBuZXcgTWFwKCk7CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX1ZBTFVFID0gbmV3IE1hcCgpOwoJICAgIC8qKiBMID0gfjclIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5MID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLkwsICdMJywgMHgwMSk7CgkgICAgLyoqIE0gPSB+MTUlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5NID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLk0sICdNJywgMHgwMCk7CgkgICAgLyoqIFEgPSB+MjUlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5RID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLlEsICdRJywgMHgwMyk7CgkgICAgLyoqIEggPSB+MzAlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5IID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLkgsICdIJywgMHgwMik7CgkgICAgcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IEVycm9yQ29ycmVjdGlvbkxldmVsOwoKCX0oRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDYgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRm9ybWF0SW5mb3JtYXRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbF8xID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWw7Cgl2YXIgSW50ZWdlcl8xID0gSW50ZWdlciQxOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgYSBRUiBDb2RlJ3MgZm9ybWF0IGluZm9ybWF0aW9uLCBpbmNsdWRpbmcgdGhlIGRhdGEgbWFzayB1c2VkIGFuZAoJICogZXJyb3IgY29ycmVjdGlvbiBsZXZlbC48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBzZWUgRGF0YU1hc2sKCSAqIEBzZWUgRXJyb3JDb3JyZWN0aW9uTGV2ZWwKCSAqLwoJdmFyIEZvcm1hdEluZm9ybWF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEZvcm1hdEluZm9ybWF0aW9uKGZvcm1hdEluZm8gLyppbnQqLykgewoJICAgICAgICAvLyBCaXRzIDMsNAoJICAgICAgICB0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWxfMS5kZWZhdWx0LmZvckJpdHMoKGZvcm1hdEluZm8gPj4gMykgJiAweDAzKTsKCSAgICAgICAgLy8gQm90dG9tIDMgYml0cwoJICAgICAgICB0aGlzLmRhdGFNYXNrID0gLyooYnl0ZSkgKi8gKGZvcm1hdEluZm8gJiAweDA3KTsKCSAgICB9CgkgICAgRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyA9IGZ1bmN0aW9uIChhIC8qaW50Ki8sIGIgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gSW50ZWdlcl8xLmRlZmF1bHQuYml0Q291bnQoYSBeIGIpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIG1hc2tlZEZvcm1hdEluZm8xIGZvcm1hdCBpbmZvIGluZGljYXRvciwgd2l0aCBtYXNrIHN0aWxsIGFwcGxpZWQKCSAgICAgKiBAcGFyYW0gbWFza2VkRm9ybWF0SW5mbzIgc2Vjb25kIGNvcHkgb2Ygc2FtZSBpbmZvOyBib3RoIGFyZSBjaGVja2VkIGF0IHRoZSBzYW1lIHRpbWUKCSAgICAgKiAgdG8gZXN0YWJsaXNoIGJlc3QgbWF0Y2gKCSAgICAgKiBAcmV0dXJuIGluZm9ybWF0aW9uIGFib3V0IHRoZSBmb3JtYXQgaXQgc3BlY2lmaWVzLCBvciB7QGNvZGUgbnVsbH0KCSAgICAgKiAgaWYgZG9lc24ndCBzZWVtIHRvIG1hdGNoIGFueSBrbm93biBwYXR0ZXJuCgkgICAgICovCgkgICAgRm9ybWF0SW5mb3JtYXRpb24uZGVjb2RlRm9ybWF0SW5mb3JtYXRpb24gPSBmdW5jdGlvbiAobWFza2VkRm9ybWF0SW5mbzEgLyppbnQqLywgbWFza2VkRm9ybWF0SW5mbzIgLyppbnQqLykgewoJICAgICAgICB2YXIgZm9ybWF0SW5mbyA9IEZvcm1hdEluZm9ybWF0aW9uLmRvRGVjb2RlRm9ybWF0SW5mb3JtYXRpb24obWFza2VkRm9ybWF0SW5mbzEsIG1hc2tlZEZvcm1hdEluZm8yKTsKCSAgICAgICAgaWYgKGZvcm1hdEluZm8gIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiBmb3JtYXRJbmZvOwoJICAgICAgICB9CgkgICAgICAgIC8vIFNob3VsZCByZXR1cm4gbnVsbCwgYnV0LCBzb21lIFFSIGNvZGVzIGFwcGFyZW50bHkKCSAgICAgICAgLy8gZG8gbm90IG1hc2sgdGhpcyBpbmZvLiBUcnkgYWdhaW4gYnkgYWN0dWFsbHkgbWFza2luZyB0aGUgcGF0dGVybgoJICAgICAgICAvLyBmaXJzdAoJICAgICAgICByZXR1cm4gRm9ybWF0SW5mb3JtYXRpb24uZG9EZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihtYXNrZWRGb3JtYXRJbmZvMSBeIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX01BU0tfUVIsIG1hc2tlZEZvcm1hdEluZm8yIF4gRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fTUFTS19RUik7CgkgICAgfTsKCSAgICBGb3JtYXRJbmZvcm1hdGlvbi5kb0RlY29kZUZvcm1hdEluZm9ybWF0aW9uID0gZnVuY3Rpb24gKG1hc2tlZEZvcm1hdEluZm8xIC8qaW50Ki8sIG1hc2tlZEZvcm1hdEluZm8yIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGVfMSwgX2E7CgkgICAgICAgIC8vIEZpbmQgdGhlIGludCBpbiBGT1JNQVRfSU5GT19ERUNPREVfTE9PS1VQIHdpdGggZmV3ZXN0IGJpdHMgZGlmZmVyaW5nCgkgICAgICAgIHZhciBiZXN0RGlmZmVyZW5jZSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwoJICAgICAgICB2YXIgYmVzdEZvcm1hdEluZm8gPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyQ2KEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX0RFQ09ERV9MT09LVVApLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRlY29kZUluZm8gPSBfYy52YWx1ZTsKCSAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0SW5mbyA9IGRlY29kZUluZm9bMF07CgkgICAgICAgICAgICAgICAgaWYgKHRhcmdldEluZm8gPT09IG1hc2tlZEZvcm1hdEluZm8xIHx8IHRhcmdldEluZm8gPT09IG1hc2tlZEZvcm1hdEluZm8yKSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGFuIGV4YWN0IG1hdGNoCgkgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRm9ybWF0SW5mb3JtYXRpb24oZGVjb2RlSW5mb1sxXSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHZhciBiaXRzRGlmZmVyZW5jZSA9IEZvcm1hdEluZm9ybWF0aW9uLm51bUJpdHNEaWZmZXJpbmcobWFza2VkRm9ybWF0SW5mbzEsIHRhcmdldEluZm8pOwoJICAgICAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgICAgIGJlc3RGb3JtYXRJbmZvID0gZGVjb2RlSW5mb1sxXTsKCSAgICAgICAgICAgICAgICAgICAgYmVzdERpZmZlcmVuY2UgPSBiaXRzRGlmZmVyZW5jZTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgaWYgKG1hc2tlZEZvcm1hdEluZm8xICE9PSBtYXNrZWRGb3JtYXRJbmZvMikgewoJICAgICAgICAgICAgICAgICAgICAvLyBhbHNvIHRyeSB0aGUgb3RoZXIgb3B0aW9uCgkgICAgICAgICAgICAgICAgICAgIGJpdHNEaWZmZXJlbmNlID0gRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyhtYXNrZWRGb3JtYXRJbmZvMiwgdGFyZ2V0SW5mbyk7CgkgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBiZXN0Rm9ybWF0SW5mbyA9IGRlY29kZUluZm9bMV07CgkgICAgICAgICAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gSGFtbWluZyBkaXN0YW5jZSBvZiB0aGUgMzIgbWFza2VkIGNvZGVzIGlzIDcsIGJ5IGNvbnN0cnVjdGlvbiwgc28gPD0gMyBiaXRzCgkgICAgICAgIC8vIGRpZmZlcmluZyBtZWFucyB3ZSBmb3VuZCBhIG1hdGNoCgkgICAgICAgIGlmIChiZXN0RGlmZmVyZW5jZSA8PSAzKSB7CgkgICAgICAgICAgICByZXR1cm4gbmV3IEZvcm1hdEluZm9ybWF0aW9uKGJlc3RGb3JtYXRJbmZvKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbnVsbDsKCSAgICB9OwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5nZXRFcnJvckNvcnJlY3Rpb25MZXZlbCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JDb3JyZWN0aW9uTGV2ZWw7CgkgICAgfTsKCSAgICBGb3JtYXRJbmZvcm1hdGlvbi5wcm90b3R5cGUuZ2V0RGF0YU1hc2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRhdGFNYXNrOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICh0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsLmdldEJpdHMoKSA8PCAzKSB8IHRoaXMuZGF0YU1hc2s7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgRm9ybWF0SW5mb3JtYXRpb24ucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7CgkgICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBGb3JtYXRJbmZvcm1hdGlvbikpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgb3RoZXIgPSBvOwoJICAgICAgICByZXR1cm4gdGhpcy5lcnJvckNvcnJlY3Rpb25MZXZlbCA9PT0gb3RoZXIuZXJyb3JDb3JyZWN0aW9uTGV2ZWwgJiYKCSAgICAgICAgICAgIHRoaXMuZGF0YU1hc2sgPT09IG90aGVyLmRhdGFNYXNrOwoJICAgIH07CgkgICAgRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fTUFTS19RUiA9IDB4NTQxMjsKCSAgICAvKioKCSAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYsIEFubmV4IEMsIFRhYmxlIEMuMQoJICAgICAqLwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX0RFQ09ERV9MT09LVVAgPSBbCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1NDEyLCAweDAwXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1MTI1LCAweDAxXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1RTdDLCAweDAyXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1QjRCLCAweDAzXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0NUY5LCAweDA0XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0MENFLCAweDA1XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0Rjk3LCAweDA2XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0QUEwLCAweDA3XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3N0M0LCAweDA4XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3MkYzLCAweDA5XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3REFBLCAweDBBXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3ODlELCAweDBCXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2NjJGLCAweDBDXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2MzE4LCAweDBEXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2QzQxLCAweDBFXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2OTc2LCAweDBGXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxNjg5LCAweDEwXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxM0JFLCAweDExXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxQ0U3LCAweDEyXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxOUQwLCAweDEzXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwNzYyLCAweDE0XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwMjU1LCAweDE1XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwRDBDLCAweDE2XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwODNCLCAweDE3XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzNTVGLCAweDE4XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzMDY4LCAweDE5XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzRjMxLCAweDFBXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzQTA2LCAweDFCXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyNEI0LCAweDFDXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyMTgzLCAweDFEXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyRURBLCAweDFFXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyQkVELCAweDFGXSksCgkgICAgXTsKCSAgICByZXR1cm4gRm9ybWF0SW5mb3JtYXRpb247Cgl9KCkpOwoJRm9ybWF0SW5mb3JtYXRpb24kMS5kZWZhdWx0ID0gRm9ybWF0SW5mb3JtYXRpb247CgoJdmFyIEVDQmxvY2tzJDEgPSB7fTsKCgl2YXIgX192YWx1ZXMkNSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykgewoJICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwOwoJICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pOwoJICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHJldHVybiB7CgkgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7CgkgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/ICJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiIgOiAiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpOwoJfTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ0Jsb2NrcyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIHNldCBvZiBlcnJvci1jb3JyZWN0aW9uIGJsb2NrcyBpbiBvbmUgc3ltYm9sIHZlcnNpb24uIE1vc3QgdmVyc2lvbnMgd2lsbAoJICogdXNlIGJsb2NrcyBvZiBkaWZmZXJpbmcgc2l6ZXMgd2l0aGluIG9uZSB2ZXJzaW9uLCBzbywgdGhpcyBlbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yCgkgKiBlYWNoIHNldCBvZiBibG9ja3MuIEl0IGFsc28gaG9sZHMgdGhlIG51bWJlciBvZiBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyBwZXIgYmxvY2sgc2luY2UgaXQKCSAqIHdpbGwgYmUgdGhlIHNhbWUgYWNyb3NzIGFsbCBibG9ja3Mgd2l0aGluIG9uZSB2ZXJzaW9uLjwvcD4KCSAqLwoJdmFyIEVDQmxvY2tzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEVDQmxvY2tzKGVjQ29kZXdvcmRzUGVyQmxvY2sgLyppbnQqLykgewoJICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTsKCSAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayA9IGVjQ29kZXdvcmRzUGVyQmxvY2s7CgkgICAgICAgIHRoaXMuZWNCbG9ja3MgPSBlY0Jsb2NrczsKCSAgICB9CgkgICAgRUNCbG9ja3MucHJvdG90eXBlLmdldEVDQ29kZXdvcmRzUGVyQmxvY2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmVjQ29kZXdvcmRzUGVyQmxvY2s7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0TnVtQmxvY2tzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIHRvdGFsID0gMDsKCSAgICAgICAgdmFyIGVjQmxvY2tzID0gdGhpcy5lY0Jsb2NrczsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIGVjQmxvY2tzXzEgPSBfX3ZhbHVlcyQ1KGVjQmxvY2tzKSwgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCk7ICFlY0Jsb2Nrc18xXzEuZG9uZTsgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tzXzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbCArPSBlY0Jsb2NrLmdldENvdW50KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChlY0Jsb2Nrc18xXzEgJiYgIWVjQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGVjQmxvY2tzXzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2Nrc18xKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdG90YWw7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0VG90YWxFQ0NvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayAqIHRoaXMuZ2V0TnVtQmxvY2tzKCk7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0RUNCbG9ja3MgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmVjQmxvY2tzOwoJICAgIH07CgkgICAgcmV0dXJuIEVDQmxvY2tzOwoJfSgpKTsKCUVDQmxvY2tzJDEuZGVmYXVsdCA9IEVDQmxvY2tzOwoKCXZhciBFQ0IkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ0IkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yIG9uZSBlcnJvci1jb3JyZWN0aW9uIGJsb2NrIGluIG9uZSBzeW1ib2wgdmVyc2lvbi4KCSAqIFRoaXMgaW5jbHVkZXMgdGhlIG51bWJlciBvZiBkYXRhIGNvZGV3b3JkcywgYW5kIHRoZSBudW1iZXIgb2YgdGltZXMgYSBibG9jayB3aXRoIHRoZXNlCgkgKiBwYXJhbWV0ZXJzIGlzIHVzZWQgY29uc2VjdXRpdmVseSBpbiB0aGUgUVIgY29kZSB2ZXJzaW9uJ3MgZm9ybWF0LjwvcD4KCSAqLwoJdmFyIEVDQiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBFQ0IoY291bnQgLyppbnQqLywgZGF0YUNvZGV3b3JkcyAvKmludCovKSB7CgkgICAgICAgIHRoaXMuY291bnQgPSBjb3VudDsKCSAgICAgICAgdGhpcy5kYXRhQ29kZXdvcmRzID0gZGF0YUNvZGV3b3JkczsKCSAgICB9CgkgICAgRUNCLnByb3RvdHlwZS5nZXRDb3VudCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY291bnQ7CgkgICAgfTsKCSAgICBFQ0IucHJvdG90eXBlLmdldERhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRhdGFDb2Rld29yZHM7CgkgICAgfTsKCSAgICByZXR1cm4gRUNCOwoJfSgpKTsKCUVDQiQxLmRlZmF1bHQgPSBFQ0I7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX3ZhbHVlcyQ0ID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFZlcnNpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBCaXRNYXRyaXhfMSQzID0gQml0TWF0cml4JDE7Cgl2YXIgRm9ybWF0SW5mb3JtYXRpb25fMSQxID0gRm9ybWF0SW5mb3JtYXRpb24kMTsKCXZhciBFQ0Jsb2Nrc18xID0gRUNCbG9ja3MkMTsKCXZhciBFQ0JfMSA9IEVDQiQxOwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xJDIgPSBGb3JtYXRFeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQyID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7CgkvKioKCSAqIFNlZSBJU08gMTgwMDQ6MjAwNiBBbm5leCBECgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFZlcnNpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gVmVyc2lvbih2ZXJzaW9uTnVtYmVyIC8qaW50Ki8sIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzKSB7CgkgICAgICAgIHZhciBlXzEsIF9hOwoJICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTsKCSAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMudmVyc2lvbk51bWJlciA9IHZlcnNpb25OdW1iZXI7CgkgICAgICAgIHRoaXMuYWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVyczsKCSAgICAgICAgdGhpcy5lY0Jsb2NrcyA9IGVjQmxvY2tzOwoJICAgICAgICB2YXIgdG90YWwgPSAwOwoJICAgICAgICB2YXIgZWNDb2Rld29yZHMgPSBlY0Jsb2Nrc1swXS5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7CgkgICAgICAgIHZhciBlY2JBcnJheSA9IGVjQmxvY2tzWzBdLmdldEVDQmxvY2tzKCk7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICBmb3IgKHZhciBlY2JBcnJheV8xID0gX192YWx1ZXMkNChlY2JBcnJheSksIGVjYkFycmF5XzFfMSA9IGVjYkFycmF5XzEubmV4dCgpOyAhZWNiQXJyYXlfMV8xLmRvbmU7IGVjYkFycmF5XzFfMSA9IGVjYkFycmF5XzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGVjQmxvY2sgPSBlY2JBcnJheV8xXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgdG90YWwgKz0gZWNCbG9jay5nZXRDb3VudCgpICogKGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpICsgZWNDb2Rld29yZHMpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoZWNiQXJyYXlfMV8xICYmICFlY2JBcnJheV8xXzEuZG9uZSAmJiAoX2EgPSBlY2JBcnJheV8xLnJldHVybikpIF9hLmNhbGwoZWNiQXJyYXlfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy50b3RhbENvZGV3b3JkcyA9IHRvdGFsOwoJICAgIH0KCSAgICBWZXJzaW9uLnByb3RvdHlwZS5nZXRWZXJzaW9uTnVtYmVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52ZXJzaW9uTnVtYmVyOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0VG90YWxDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnRvdGFsQ29kZXdvcmRzOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0RGltZW5zaW9uRm9yVmVyc2lvbiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDE3ICsgNCAqIHRoaXMudmVyc2lvbk51bWJlcjsKCSAgICB9OwoJICAgIFZlcnNpb24ucHJvdG90eXBlLmdldEVDQmxvY2tzRm9yTGV2ZWwgPSBmdW5jdGlvbiAoZWNMZXZlbCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lY0Jsb2Nrc1tlY0xldmVsLmdldFZhbHVlKCldOwoJICAgICAgICAvLyBUWVBFU0NSSVBUUE9SVDogb3JpZ2luYWwgd2FzIHVzaW5nIG9yZGluYWwsIGFuZCB1c2luZyB0aGUgb3JkZXIgb2YgbGV2ZWxzIGFzIGRlZmluZWQgaW4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwgZW51bSAoTE1RSCkKCSAgICAgICAgLy8gSSB3aWxsIHVzZSB0aGUgZGlyZWN0IHZhbHVlIGZyb20gRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXMgZW51bSB3aGljaCBpbiB0eXBlc2NyaXB0IGdvZXMgdG8gYSBudW1iZXIKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkRlZHVjZXMgdmVyc2lvbiBpbmZvcm1hdGlvbiBwdXJlbHkgZnJvbSBRUiBDb2RlIGRpbWVuc2lvbnMuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGRpbWVuc2lvbiBkaW1lbnNpb24gaW4gbW9kdWxlcwoJICAgICAqIEByZXR1cm4gVmVyc2lvbiBmb3IgYSBRUiBDb2RlIG9mIHRoYXQgZGltZW5zaW9uCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgZGltZW5zaW9uIGlzIG5vdCAxIG1vZCA0CgkgICAgICovCgkgICAgVmVyc2lvbi5nZXRQcm92aXNpb25hbFZlcnNpb25Gb3JEaW1lbnNpb24gPSBmdW5jdGlvbiAoZGltZW5zaW9uIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGRpbWVuc2lvbiAlIDQgIT09IDEpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMSQyLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmVyc2lvbkZvck51bWJlcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyo6IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEkMi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlciA9IGZ1bmN0aW9uICh2ZXJzaW9uTnVtYmVyIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKHZlcnNpb25OdW1iZXIgPCAxIHx8IHZlcnNpb25OdW1iZXIgPiA0MCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDIuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBWZXJzaW9uLlZFUlNJT05TW3ZlcnNpb25OdW1iZXIgLSAxXTsKCSAgICB9OwoJICAgIFZlcnNpb24uZGVjb2RlVmVyc2lvbkluZm9ybWF0aW9uID0gZnVuY3Rpb24gKHZlcnNpb25CaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGJlc3REaWZmZXJlbmNlID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgICAgIHZhciBiZXN0VmVyc2lvbiA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgVmVyc2lvbi5WRVJTSU9OX0RFQ09ERV9JTkZPLmxlbmd0aDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgdGFyZ2V0VmVyc2lvbiA9IFZlcnNpb24uVkVSU0lPTl9ERUNPREVfSU5GT1tpXTsKCSAgICAgICAgICAgIC8vIERvIHRoZSB2ZXJzaW9uIGluZm8gYml0cyBtYXRjaCBleGFjdGx5PyBkb25lLgoJICAgICAgICAgICAgaWYgKHRhcmdldFZlcnNpb24gPT09IHZlcnNpb25CaXRzKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlcihpICsgNyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBPdGhlcndpc2Ugc2VlIGlmIHRoaXMgaXMgdGhlIGNsb3Nlc3QgdG8gYSByZWFsIHZlcnNpb24gaW5mbyBiaXQgc3RyaW5nCgkgICAgICAgICAgICAvLyB3ZSBoYXZlIHNlZW4gc28gZmFyCgkgICAgICAgICAgICB2YXIgYml0c0RpZmZlcmVuY2UgPSBGb3JtYXRJbmZvcm1hdGlvbl8xJDEuZGVmYXVsdC5udW1CaXRzRGlmZmVyaW5nKHZlcnNpb25CaXRzLCB0YXJnZXRWZXJzaW9uKTsKCSAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgYmVzdFZlcnNpb24gPSBpICsgNzsKCSAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIFdlIGNhbiB0b2xlcmF0ZSB1cCB0byAzIGJpdHMgb2YgZXJyb3Igc2luY2Ugbm8gdHdvIHZlcnNpb24gaW5mbyBjb2Rld29yZHMgd2lsbAoJICAgICAgICAvLyBkaWZmZXIgaW4gbGVzcyB0aGFuIDggYml0cy4KCSAgICAgICAgaWYgKGJlc3REaWZmZXJlbmNlIDw9IDMpIHsKCSAgICAgICAgICAgIHJldHVybiBWZXJzaW9uLmdldFZlcnNpb25Gb3JOdW1iZXIoYmVzdFZlcnNpb24pOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHdlIGRpZG4ndCBmaW5kIGEgY2xvc2UgZW5vdWdoIG1hdGNoLCBmYWlsCgkgICAgICAgIHJldHVybiBudWxsOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogU2VlIElTTyAxODAwNDoyMDA2IEFubmV4IEUKCSAgICAgKi8KCSAgICBWZXJzaW9uLnByb3RvdHlwZS5idWlsZEZ1bmN0aW9uUGF0dGVybiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpOwoJICAgICAgICB2YXIgYml0TWF0cml4ID0gbmV3IEJpdE1hdHJpeF8xJDMuZGVmYXVsdChkaW1lbnNpb24pOwoJICAgICAgICAvLyBUb3AgbGVmdCBmaW5kZXIgcGF0dGVybiArIHNlcGFyYXRvciArIGZvcm1hdAoJICAgICAgICBiaXRNYXRyaXguc2V0UmVnaW9uKDAsIDAsIDksIDkpOwoJICAgICAgICAvLyBUb3AgcmlnaHQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXQKCSAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbihkaW1lbnNpb24gLSA4LCAwLCA4LCA5KTsKCSAgICAgICAgLy8gQm90dG9tIGxlZnQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXQKCSAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCBkaW1lbnNpb24gLSA4LCA5LCA4KTsKCSAgICAgICAgLy8gQWxpZ25tZW50IHBhdHRlcm5zCgkgICAgICAgIHZhciBtYXggPSB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHgrKykgewoJICAgICAgICAgICAgdmFyIGkgPSB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzW3hdIC0gMjsKCSAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgbWF4OyB5KyspIHsKCSAgICAgICAgICAgICAgICBpZiAoKHggPT09IDAgJiYgKHkgPT09IDAgfHwgeSA9PT0gbWF4IC0gMSkpIHx8ICh4ID09PSBtYXggLSAxICYmIHkgPT09IDApKSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIE5vIGFsaWdubWVudCBwYXR0ZXJucyBuZWFyIHRoZSB0aHJlZSBmaW5kZXIgcGF0dGVybnMKCSAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24odGhpcy5hbGlnbm1lbnRQYXR0ZXJuQ2VudGVyc1t5XSAtIDIsIGksIDUsIDUpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIFZlcnRpY2FsIHRpbWluZyBwYXR0ZXJuCgkgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oNiwgOSwgMSwgZGltZW5zaW9uIC0gMTcpOwoJICAgICAgICAvLyBIb3Jpem9udGFsIHRpbWluZyBwYXR0ZXJuCgkgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oOSwgNiwgZGltZW5zaW9uIC0gMTcsIDEpOwoJICAgICAgICBpZiAodGhpcy52ZXJzaW9uTnVtYmVyID4gNikgewoJICAgICAgICAgICAgLy8gVmVyc2lvbiBpbmZvLCB0b3AgcmlnaHQKCSAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oZGltZW5zaW9uIC0gMTEsIDAsIDMsIDYpOwoJICAgICAgICAgICAgLy8gVmVyc2lvbiBpbmZvLCBib3R0b20gbGVmdAoJICAgICAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCBkaW1lbnNpb24gLSAxMSwgNiwgMyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdE1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBWZXJzaW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICcnICsgdGhpcy52ZXJzaW9uTnVtYmVyOwoJICAgIH07CgkgICAgLyoqCgkgICAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYgQW5uZXggRC4KCSAgICAgICAqIEVsZW1lbnQgaSByZXByZXNlbnRzIHRoZSByYXcgdmVyc2lvbiBiaXRzIHRoYXQgc3BlY2lmeSB2ZXJzaW9uIGkgKyA3CgkgICAgICAgKi8KCSAgICBWZXJzaW9uLlZFUlNJT05fREVDT0RFX0lORk8gPSBJbnQzMkFycmF5LmZyb20oWwoJICAgICAgICAweDA3Qzk0LCAweDA4NUJDLCAweDA5QTk5LCAweDBBNEQzLCAweDBCQkY2LAoJICAgICAgICAweDBDNzYyLCAweDBEODQ3LCAweDBFNjBELCAweDBGOTI4LCAweDEwQjc4LAoJICAgICAgICAweDExNDVELCAweDEyQTE3LCAweDEzNTMyLCAweDE0OUE2LCAweDE1NjgzLAoJICAgICAgICAweDE2OEM5LCAweDE3N0VDLCAweDE4RUM0LCAweDE5MUUxLCAweDFBRkFCLAoJICAgICAgICAweDFCMDhFLCAweDFDQzFBLCAweDFEMzNGLCAweDFFRDc1LCAweDFGMjUwLAoJICAgICAgICAweDIwOUQ1LCAweDIxNkYwLCAweDIyOEJBLCAweDIzNzlGLCAweDI0QjBCLAoJICAgICAgICAweDI1NDJFLCAweDI2QTY0LCAweDI3NTQxLCAweDI4QzY5CgkgICAgXSk7CgkgICAgLyoqCgkgICAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYgNi41LjEgVGFibGUgOQoJICAgICAgICovCgkgICAgVmVyc2lvbi5WRVJTSU9OUyA9IFsKCSAgICAgICAgbmV3IFZlcnNpb24oMSwgbmV3IEludDMyQXJyYXkoMCksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoNywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxMCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxMywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxNywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgOSkpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMiwgSW50MzJBcnJheS5mcm9tKFs2LCAxOF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDEwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAzNCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE2LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAyOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAyMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMywgSW50MzJBcnJheS5mcm9tKFs2LCAyMl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE1LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA1NSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA0NCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oNCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA4MCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAyNCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA5KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbig1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDEwOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCA0MykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExKSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTIpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDYsIEludDMyQXJyYXkuZnJvbShbNiwgMzRdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgNjgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDcsIEludDMyQXJyYXkuZnJvbShbNiwgMjIsIDM4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDc4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDMxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTMpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxNCkpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oOCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNCwgNDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgOTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMzgpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzOSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxOCksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE5KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDksIEludDMyQXJyYXkuZnJvbShbNiwgMjYsIDQ2XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCAzNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDM3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTAsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDUwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDY4KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgNjkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDMpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA0NCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxOSksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDIwKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDExLCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIwLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA4MSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA1MCksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDUxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTIpLCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTIsIEludDMyQXJyYXkuZnJvbShbNiwgMzIsIDU4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDkyKSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgOTMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMzYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAyMCksIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDEzLCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2Ml0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMzcpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAzOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAyMCksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDEyLCAxMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDEyKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDYsIDY2XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA0MCksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDQxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDE3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNSwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDgsIDcwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDg3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgODgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgNDEpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCA0MikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNiwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDk4KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgOTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNywgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCA0NikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMTkpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAyMCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTcsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU0LCA3OF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxMDcpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAxMDgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjIpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDE4LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NiwgODJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgMTIwKSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDksIDQzKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxOSwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDE5LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1OCwgODZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTEzKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTE0KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDQ0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDQ1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDE3LCAyMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDksIDEzKSwgbmV3IEVDQl8xLmRlZmF1bHQoMTYsIDE0KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyMCwgSW50MzJBcnJheS5mcm9tKFs2LCAzNCwgNjIsIDkwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDEwNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDEwOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgzLCA0MSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCA0MikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDIxLCBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1MCwgNzIsIDk0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgNDIpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDIyLCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1MCwgNzQsIDk4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDExMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNywgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNiwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMzQsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyMywgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4LCAxMDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIxKSwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgMTIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTQsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNiwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDI0LCBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1NCwgODAsIDEwNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMTcpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMTgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTYsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMwLCAxNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE3KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyNSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTBdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMTA2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTA3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDgsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjIsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMjYsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAxMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxMTUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjgsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMzMsIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDI3LCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2MiwgOTAsIDExOF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAxMjIpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjIsIDQ1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMjMpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNiwgMjQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTIsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjgsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyOCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0LCA5OCwgMTIyXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDExNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAxMTgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgzMSwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzEsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyOSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4LCAxMDIsIDEyNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCAxMTYpLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCAxMTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjEsIDQ1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjMpLCBuZXcgRUNCXzEuZGVmYXVsdCgzNywgMjQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjYsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzMCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTIsIDc4LCAxMDQsIDEzMF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAxMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMTE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCA0NyksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCA0OCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNSwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjMsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjUsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzMSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTYsIDgyLCAxMDgsIDEzNF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxMywgMTE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjksIDQ3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQyLCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIzLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDI4LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzIsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYwLCA4NiwgMTEyLCAxMzhdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDExNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzUsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDM1LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzMsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0LCAxNDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMSwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjksIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQ2LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzQsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYyLCA5MCwgMTE4LCAxNDZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNDQsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNywgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNTksIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDM1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NCwgNzgsIDEwMiwgMTI2LCAxNTBdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTIsIDEyMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDEyMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxMiwgNDcpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNiwgNDgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMzksIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTQsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQxLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzYsIEludDMyQXJyYXkuZnJvbShbNiwgMjQsIDUwLCA3NiwgMTAyLCAxMjgsIDE1NF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMjEpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgMTIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzQsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQ2LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDY0LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzcsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDU0LCA4MCwgMTA2LCAxMzIsIDE1OF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgMTIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIzKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDI5LCA0NiksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCA0NykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0OSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjQsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNDYsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzOCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTAsIDEzNiwgMTYyXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDEyMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDE4LCAxMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzIsIDQ3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQ4LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0MiwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgzMiwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDM5LCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1NCwgODIsIDExMCwgMTM4LCAxNjZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjAsIDExNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCg0MCwgNDcpLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCA0OCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0MywgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMiwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNjcsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbig0MCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTgsIDg2LCAxMTQsIDE0MiwgMTcwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCAxMTgpLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTgsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzEsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDM0LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDM0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgyMCwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCg2MSwgMTYpKSkKCSAgICBdOwoJICAgIHJldHVybiBWZXJzaW9uOwoJfSgpKTsKCVZlcnNpb24kMS5kZWZhdWx0ID0gVmVyc2lvbjsKCgl2YXIgRGF0YU1hc2sgPSB7fTsKCgkoZnVuY3Rpb24gKGV4cG9ydHMpIHsKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJZXhwb3J0cy5EYXRhTWFza1ZhbHVlcyA9IHZvaWQgMDsKCXZhciBEYXRhTWFza1ZhbHVlczsKCShmdW5jdGlvbiAoRGF0YU1hc2tWYWx1ZXMpIHsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzAwMCJdID0gMF0gPSAiREFUQV9NQVNLXzAwMCI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18wMDEiXSA9IDFdID0gIkRBVEFfTUFTS18wMDEiOwoJICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzWyJEQVRBX01BU0tfMDEwIl0gPSAyXSA9ICJEQVRBX01BU0tfMDEwIjsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzAxMSJdID0gM10gPSAiREFUQV9NQVNLXzAxMSI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18xMDAiXSA9IDRdID0gIkRBVEFfTUFTS18xMDAiOwoJICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzWyJEQVRBX01BU0tfMTAxIl0gPSA1XSA9ICJEQVRBX01BU0tfMTAxIjsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzExMCJdID0gNl0gPSAiREFUQV9NQVNLXzExMCI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18xMTEiXSA9IDddID0gIkRBVEFfTUFTS18xMTEiOwoJfSkoRGF0YU1hc2tWYWx1ZXMgPSBleHBvcnRzLkRhdGFNYXNrVmFsdWVzIHx8IChleHBvcnRzLkRhdGFNYXNrVmFsdWVzID0ge30pKTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGRhdGEgbWFza3MgZm9yIHRoZSBkYXRhIGJpdHMgaW4gYSBRUiBjb2RlLCBwZXIgSVNPIDE4MDA0OjIwMDYgNi44LiBJbXBsZW1lbnRhdGlvbnMKCSAqIG9mIHRoaXMgY2xhc3MgY2FuIHVuLW1hc2sgYSByYXcgQml0TWF0cml4LiBGb3Igc2ltcGxpY2l0eSwgdGhleSB3aWxsIHVubWFzayB0aGUgZW50aXJlIEJpdE1hdHJpeCwKCSAqIGluY2x1ZGluZyBhcmVhcyB1c2VkIGZvciBmaW5kZXIgcGF0dGVybnMsIHRpbWluZyBwYXR0ZXJucywgZXRjLiBUaGVzZSBhcmVhcyBzaG91bGQgYmUgdW51c2VkCgkgKiBhZnRlciB0aGUgcG9pbnQgdGhleSBhcmUgdW5tYXNrZWQgYW55d2F5LjwvcD4KCSAqCgkgKiA8cD5Ob3RlIHRoYXQgdGhlIGRpYWdyYW0gaW4gc2VjdGlvbiA2LjguMSBpcyBtaXNsZWFkaW5nIHNpbmNlIGl0IGluZGljYXRlcyB0aGF0IGkgaXMgY29sdW1uIHBvc2l0aW9uCgkgKiBhbmQgaiBpcyByb3cgcG9zaXRpb24uIEluIGZhY3QsIGFzIHRoZSB0ZXh0IHNheXMsIGkgaXMgcm93IHBvc2l0aW9uIGFuZCBqIGlzIGNvbHVtbiBwb3NpdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERhdGFNYXNrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8vIFNlZSBJU08gMTgwMDQ6MjAwNiA2LjguMQoJICAgIGZ1bmN0aW9uIERhdGFNYXNrKHZhbHVlLCBpc01hc2tlZCkgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuaXNNYXNrZWQgPSBpc01hc2tlZDsKCSAgICB9CgkgICAgLy8gRW5kIG9mIGVudW0gY29uc3RhbnRzLgoJICAgIC8qKgoJICAgICAqIDxwPkltcGxlbWVudGF0aW9ucyBvZiB0aGlzIG1ldGhvZCByZXZlcnNlIHRoZSBkYXRhIG1hc2tpbmcgcHJvY2VzcyBhcHBsaWVkIHRvIGEgUVIgQ29kZSBhbmQKCSAgICAgKiBtYWtlIGl0cyBiaXRzIHJlYWR5IHRvIHJlYWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGJpdHMgcmVwcmVzZW50YXRpb24gb2YgUVIgQ29kZSBiaXRzCgkgICAgICogQHBhcmFtIGRpbWVuc2lvbiBkaW1lbnNpb24gb2YgUVIgQ29kZSwgcmVwcmVzZW50ZWQgYnkgYml0cywgYmVpbmcgdW5tYXNrZWQKCSAgICAgKi8KCSAgICBEYXRhTWFzay5wcm90b3R5cGUudW5tYXNrQml0TWF0cml4ID0gZnVuY3Rpb24gKGJpdHMsIGRpbWVuc2lvbiAvKmludCovKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGltZW5zaW9uOyBpKyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGltZW5zaW9uOyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAodGhpcy5pc01hc2tlZChpLCBqKSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLmZsaXAoaiwgaSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBEYXRhTWFzay52YWx1ZXMgPSBuZXcgTWFwKFsKCSAgICAgICAgLyoqCgkgICAgICAgICAqIDAwMDogbWFzayBiaXRzIGZvciB3aGljaCAoeCArIHkpIG1vZCAyID09IDAKCSAgICAgICAgICovCgkgICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDAwLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMCwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoKGkgKyBqKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAwMDE6IG1hc2sgYml0cyBmb3Igd2hpY2ggeCBtb2QgMiA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMDEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKGkgJiAweDAxKSA9PT0gMDsgfSldLAoJICAgICAgICAvKioKCSAgICAgICAgICogMDEwOiBtYXNrIGJpdHMgZm9yIHdoaWNoIHkgbW9kIDMgPT0gMAoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDEwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuIGogJSAzID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAwMTE6IG1hc2sgYml0cyBmb3Igd2hpY2ggKHggKyB5KSBtb2QgMyA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAxMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKGkgKyBqKSAlIDMgPT09IDA7IH0pXSwKCSAgICAgICAgLyoqCgkgICAgICAgICAqIDEwMDogbWFzayBiaXRzIGZvciB3aGljaCAoeC8yICsgeS8zKSBtb2QgMiA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMCwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMDAsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKChNYXRoLmZsb29yKGkgLyAyKSArIE1hdGguZmxvb3IoaiAvIDMpKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAxMDE6IG1hc2sgYml0cyBmb3Igd2hpY2ggeHkgbW9kIDIgKyB4eSBtb2QgMyA9PSAwCgkgICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0IHh5IG1vZCA2ID09IDAKCSAgICAgICAgICovCgkgICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTAxLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMSwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoaSAqIGopICUgNiA9PT0gMDsgfSldLAoJICAgICAgICAvKioKCSAgICAgICAgICogMTEwOiBtYXNrIGJpdHMgZm9yIHdoaWNoICh4eSBtb2QgMiArIHh5IG1vZCAzKSBtb2QgMiA9PSAwCgkgICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0IHh5IG1vZCA2IDwgMwoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTEwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSAqIGopICUgNikgPCAzOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAxMTE6IG1hc2sgYml0cyBmb3Igd2hpY2ggKCh4K3kpbW9kIDIgKyB4eSBtb2QgMykgbW9kIDIgPT0gMAoJICAgICAgICAgKiBlcXVpdmFsZW50bHksIHN1Y2ggdGhhdCAoeCArIHkgKyB4eSBtb2QgMykgbW9kIDIgPT0gMAoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTEsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTExLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSArIGogKyAoKGkgKiBqKSAlIDMpKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgXSk7CgkgICAgcmV0dXJuIERhdGFNYXNrOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IERhdGFNYXNrOwoKCX0oRGF0YU1hc2spKTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdE1hdHJpeFBhcnNlciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgVmVyc2lvbl8xJDEgPSBWZXJzaW9uJDE7Cgl2YXIgRm9ybWF0SW5mb3JtYXRpb25fMSA9IEZvcm1hdEluZm9ybWF0aW9uJDE7Cgl2YXIgRGF0YU1hc2tfMSA9IERhdGFNYXNrOwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xJDEgPSBGb3JtYXRFeGNlcHRpb24kMTsKCS8qKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEJpdE1hdHJpeFBhcnNlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYml0TWF0cml4IHtAbGluayBCaXRNYXRyaXh9IHRvIHBhcnNlCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgZGltZW5zaW9uIGlzIG5vdCA+PSAyMSBhbmQgMSBtb2QgNAoJICAgICAqLwoJICAgIGZ1bmN0aW9uIEJpdE1hdHJpeFBhcnNlcihiaXRNYXRyaXgpIHsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IGJpdE1hdHJpeC5nZXRIZWlnaHQoKTsKCSAgICAgICAgaWYgKGRpbWVuc2lvbiA8IDIxIHx8IChkaW1lbnNpb24gJiAweDAzKSAhPT0gMSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0TWF0cml4ID0gYml0TWF0cml4OwoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5SZWFkcyBmb3JtYXQgaW5mb3JtYXRpb24gZnJvbSBvbmUgb2YgaXRzIHR3byBsb2NhdGlvbnMgd2l0aGluIHRoZSBRUiBDb2RlLjwvcD4KCSAgICAgKgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEZvcm1hdEluZm9ybWF0aW9ufSBlbmNhcHN1bGF0aW5nIHRoZSBRUiBDb2RlJ3MgZm9ybWF0IGluZm8KCSAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIGZvcm1hdCBpbmZvcm1hdGlvbiBsb2NhdGlvbnMgY2Fubm90IGJlIHBhcnNlZCBhcwoJICAgICAqIHRoZSB2YWxpZCBlbmNvZGluZyBvZiBmb3JtYXQgaW5mb3JtYXRpb24KCSAgICAgKi8KCSAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRGb3JtYXRJbmZvcm1hdGlvbiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgaWYgKHRoaXMucGFyc2VkRm9ybWF0SW5mbyAhPT0gbnVsbCAmJiB0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VkRm9ybWF0SW5mbzsKCSAgICAgICAgfQoJICAgICAgICAvLyBSZWFkIHRvcC1sZWZ0IGZvcm1hdCBpbmZvIGJpdHMKCSAgICAgICAgdmFyIGZvcm1hdEluZm9CaXRzMSA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrKSB7CgkgICAgICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoaSwgOCwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgfQoJICAgICAgICAvLyAuLiBhbmQgc2tpcCBhIGJpdCBpbiB0aGUgdGltaW5nIHBhdHRlcm4gLi4uCgkgICAgICAgIGZvcm1hdEluZm9CaXRzMSA9IHRoaXMuY29weUJpdCg3LCA4LCBmb3JtYXRJbmZvQml0czEpOwoJICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoOCwgOCwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgZm9ybWF0SW5mb0JpdHMxID0gdGhpcy5jb3B5Qml0KDgsIDcsIGZvcm1hdEluZm9CaXRzMSk7CgkgICAgICAgIC8vIC4uIGFuZCBza2lwIGEgYml0IGluIHRoZSB0aW1pbmcgcGF0dGVybiAuLi4KCSAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7CgkgICAgICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoOCwgaiwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBSZWFkIHRoZSB0b3AtcmlnaHQvYm90dG9tLWxlZnQgcGF0dGVybiB0b28KCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgZm9ybWF0SW5mb0JpdHMyID0gMDsKCSAgICAgICAgdmFyIGpNaW4gPSBkaW1lbnNpb24gLSA3OwoJICAgICAgICBmb3IgKHZhciBqID0gZGltZW5zaW9uIC0gMTsgaiA+PSBqTWluOyBqLS0pIHsKCSAgICAgICAgICAgIGZvcm1hdEluZm9CaXRzMiA9IHRoaXMuY29weUJpdCg4LCBqLCBmb3JtYXRJbmZvQml0czIpOwoJICAgICAgICB9CgkgICAgICAgIGZvciAodmFyIGkgPSBkaW1lbnNpb24gLSA4OyBpIDwgZGltZW5zaW9uOyBpKyspIHsKCSAgICAgICAgICAgIGZvcm1hdEluZm9CaXRzMiA9IHRoaXMuY29weUJpdChpLCA4LCBmb3JtYXRJbmZvQml0czIpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9IEZvcm1hdEluZm9ybWF0aW9uXzEuZGVmYXVsdC5kZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihmb3JtYXRJbmZvQml0czEsIGZvcm1hdEluZm9CaXRzMik7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZEZvcm1hdEluZm87CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+UmVhZHMgdmVyc2lvbiBpbmZvcm1hdGlvbiBmcm9tIG9uZSBvZiBpdHMgdHdvIGxvY2F0aW9ucyB3aXRoaW4gdGhlIFFSIENvZGUuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiB7QGxpbmsgVmVyc2lvbn0gZW5jYXBzdWxhdGluZyB0aGUgUVIgQ29kZSdzIHZlcnNpb24KCSAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIHZlcnNpb24gaW5mb3JtYXRpb24gbG9jYXRpb25zIGNhbm5vdCBiZSBwYXJzZWQgYXMKCSAgICAgKiB0aGUgdmFsaWQgZW5jb2Rpbmcgb2YgdmVyc2lvbiBpbmZvcm1hdGlvbgoJICAgICAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUucmVhZFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZFZlcnNpb24gIT09IG51bGwgJiYgdGhpcy5wYXJzZWRWZXJzaW9uICE9PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgcHJvdmlzaW9uYWxWZXJzaW9uID0gTWF0aC5mbG9vcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7CgkgICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24gPD0gNikgewoJICAgICAgICAgICAgcmV0dXJuIFZlcnNpb25fMSQxLmRlZmF1bHQuZ2V0VmVyc2lvbkZvck51bWJlcihwcm92aXNpb25hbFZlcnNpb24pOwoJICAgICAgICB9CgkgICAgICAgIC8vIFJlYWQgdG9wLXJpZ2h0IHZlcnNpb24gaW5mbzogMyB3aWRlIGJ5IDYgdGFsbAoJICAgICAgICB2YXIgdmVyc2lvbkJpdHMgPSAwOwoJICAgICAgICB2YXIgaWpNaW4gPSBkaW1lbnNpb24gLSAxMTsKCSAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gZGltZW5zaW9uIC0gOTsgaSA+PSBpak1pbjsgaS0tKSB7CgkgICAgICAgICAgICAgICAgdmVyc2lvbkJpdHMgPSB0aGlzLmNvcHlCaXQoaSwgaiwgdmVyc2lvbkJpdHMpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbl8xJDEuZGVmYXVsdC5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpOwoJICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7CgkgICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uOwoJICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgLy8gSG1tLCBmYWlsZWQuIFRyeSBib3R0b20gbGVmdDogNiB3aWRlIGJ5IDMgdGFsbAoJICAgICAgICB2ZXJzaW9uQml0cyA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSA1OyBpID49IDA7IGktLSkgewoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IGRpbWVuc2lvbiAtIDk7IGogPj0gaWpNaW47IGotLSkgewoJICAgICAgICAgICAgICAgIHZlcnNpb25CaXRzID0gdGhpcy5jb3B5Qml0KGksIGosIHZlcnNpb25CaXRzKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbl8xJDEuZGVmYXVsdC5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpOwoJICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7CgkgICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uOwoJICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5jb3B5Qml0ID0gZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovLCB2ZXJzaW9uQml0cyAvKmludCovKSB7CgkgICAgICAgIHZhciBiaXQgPSB0aGlzLmlzTWlycm9yID8gdGhpcy5iaXRNYXRyaXguZ2V0KGosIGkpIDogdGhpcy5iaXRNYXRyaXguZ2V0KGksIGopOwoJICAgICAgICByZXR1cm4gYml0ID8gKHZlcnNpb25CaXRzIDw8IDEpIHwgMHgxIDogdmVyc2lvbkJpdHMgPDwgMTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlJlYWRzIHRoZSBiaXRzIGluIHRoZSB7QGxpbmsgQml0TWF0cml4fSByZXByZXNlbnRpbmcgdGhlIGZpbmRlciBwYXR0ZXJuIGluIHRoZQoJICAgICAqIGNvcnJlY3Qgb3JkZXIgaW4gb3JkZXIgdG8gcmVjb25zdHJ1Y3QgdGhlIGNvZGV3b3JkcyBieXRlcyBjb250YWluZWQgd2l0aGluIHRoZQoJICAgICAqIFFSIENvZGUuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZQoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBleGFjdCBudW1iZXIgb2YgYnl0ZXMgZXhwZWN0ZWQgaXMgbm90IHJlYWQKCSAgICAgKi8KCSAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBmb3JtYXRJbmZvID0gdGhpcy5yZWFkRm9ybWF0SW5mb3JtYXRpb24oKTsKCSAgICAgICAgdmFyIHZlcnNpb24gPSB0aGlzLnJlYWRWZXJzaW9uKCk7CgkgICAgICAgIC8vIEdldCB0aGUgZGF0YSBtYXNrIGZvciB0aGUgZm9ybWF0IHVzZWQgaW4gdGhpcyBRUiBDb2RlLiBUaGlzIHdpbGwgZXhjbHVkZQoJICAgICAgICAvLyBzb21lIGJpdHMgZnJvbSByZWFkaW5nIGFzIHdlIHdpbmQgdGhyb3VnaCB0aGUgYml0IG1hdHJpeC4KCSAgICAgICAgdmFyIGRhdGFNYXNrID0gRGF0YU1hc2tfMS5kZWZhdWx0LnZhbHVlcy5nZXQoZm9ybWF0SW5mby5nZXREYXRhTWFzaygpKTsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICBkYXRhTWFzay51bm1hc2tCaXRNYXRyaXgodGhpcy5iaXRNYXRyaXgsIGRpbWVuc2lvbik7CgkgICAgICAgIHZhciBmdW5jdGlvblBhdHRlcm4gPSB2ZXJzaW9uLmJ1aWxkRnVuY3Rpb25QYXR0ZXJuKCk7CgkgICAgICAgIHZhciByZWFkaW5nVXAgPSB0cnVlOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkodmVyc2lvbi5nZXRUb3RhbENvZGV3b3JkcygpKTsKCSAgICAgICAgdmFyIHJlc3VsdE9mZnNldCA9IDA7CgkgICAgICAgIHZhciBjdXJyZW50Qnl0ZSA9IDA7CgkgICAgICAgIHZhciBiaXRzUmVhZCA9IDA7CgkgICAgICAgIC8vIFJlYWQgY29sdW1ucyBpbiBwYWlycywgZnJvbSByaWdodCB0byBsZWZ0CgkgICAgICAgIGZvciAodmFyIGogPSBkaW1lbnNpb24gLSAxOyBqID4gMDsgaiAtPSAyKSB7CgkgICAgICAgICAgICBpZiAoaiA9PT0gNikgewoJICAgICAgICAgICAgICAgIC8vIFNraXAgd2hvbGUgY29sdW1uIHdpdGggdmVydGljYWwgYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgICAgICAgICAgICAvLyBzYXZlcyB0aW1lIGFuZCBtYWtlcyB0aGUgb3RoZXIgY29kZSBwcm9jZWVkIG1vcmUgY2xlYW5seQoJICAgICAgICAgICAgICAgIGotLTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIC8vIFJlYWQgYWx0ZXJuYXRpbmdseSBmcm9tIGJvdHRvbSB0byB0b3AgdGhlbiB0b3AgdG8gYm90dG9tCgkgICAgICAgICAgICBmb3IgKHZhciBjb3VudCA9IDA7IGNvdW50IDwgZGltZW5zaW9uOyBjb3VudCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGkgPSByZWFkaW5nVXAgPyBkaW1lbnNpb24gLSAxIC0gY291bnQgOiBjb3VudDsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCAyOyBjb2wrKykgewoJICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgYml0cyBjb3ZlcmVkIGJ5IHRoZSBmdW5jdGlvbiBwYXR0ZXJuCgkgICAgICAgICAgICAgICAgICAgIGlmICghZnVuY3Rpb25QYXR0ZXJuLmdldChqIC0gY29sLCBpKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVhZCBhIGJpdAoJICAgICAgICAgICAgICAgICAgICAgICAgYml0c1JlYWQrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCeXRlIDw8PSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYml0TWF0cml4LmdldChqIC0gY29sLCBpKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSd2ZSBtYWRlIGEgd2hvbGUgYnl0ZSwgc2F2ZSBpdCBvZmYKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzUmVhZCA9PT0gOCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRPZmZzZXQrK10gPSAvKihieXRlKSAqLyBjdXJyZW50Qnl0ZTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaXRzUmVhZCA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEJ5dGUgPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVhZGluZ1VwID0gIXJlYWRpbmdVcDsgLy8gcmVhZGluZ1VwIF49IHRydWU7IC8vIHJlYWRpbmdVcCA9ICFyZWFkaW5nVXA7IC8vIHN3aXRjaCBkaXJlY3Rpb25zCgkgICAgICAgIH0KCSAgICAgICAgaWYgKHJlc3VsdE9mZnNldCAhPT0gdmVyc2lvbi5nZXRUb3RhbENvZGV3b3JkcygpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEkMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldmVydCB0aGUgbWFzayByZW1vdmFsIGRvbmUgd2hpbGUgcmVhZGluZyB0aGUgY29kZSB3b3Jkcy4gVGhlIGJpdCBtYXRyaXggc2hvdWxkIHJldmVydCB0byBpdHMgb3JpZ2luYWwgc3RhdGUuCgkgICAgICovCgkgICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5yZW1hc2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gPT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybjsgLy8gV2UgaGF2ZSBubyBmb3JtYXQgaW5mb3JtYXRpb24sIGFuZCBoYXZlIG5vIGRhdGEgbWFzawoJICAgICAgICB9CgkgICAgICAgIHZhciBkYXRhTWFzayA9IERhdGFNYXNrXzEuZGVmYXVsdC52YWx1ZXNbdGhpcy5wYXJzZWRGb3JtYXRJbmZvLmdldERhdGFNYXNrKCldOwoJICAgICAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5iaXRNYXRyaXguZ2V0SGVpZ2h0KCk7CgkgICAgICAgIGRhdGFNYXNrLnVubWFza0JpdE1hdHJpeCh0aGlzLmJpdE1hdHJpeCwgZGltZW5zaW9uKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFByZXBhcmUgdGhlIHBhcnNlciBmb3IgYSBtaXJyb3JlZCBvcGVyYXRpb24uCgkgICAgICogVGhpcyBmbGFnIGhhcyBlZmZlY3Qgb25seSBvbiB0aGUge0BsaW5rICNyZWFkRm9ybWF0SW5mb3JtYXRpb24oKX0gYW5kIHRoZQoJICAgICAqIHtAbGluayAjcmVhZFZlcnNpb24oKX0uIEJlZm9yZSBwcm9jZWVkaW5nIHdpdGgge0BsaW5rICNyZWFkQ29kZXdvcmRzKCl9IHRoZQoJICAgICAqIHtAbGluayAjbWlycm9yKCl9IG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkLgoJICAgICAqCgkgICAgICogQHBhcmFtIG1pcnJvciBXaGV0aGVyIHRvIHJlYWQgdmVyc2lvbiBhbmQgZm9ybWF0IGluZm9ybWF0aW9uIG1pcnJvcmVkLgoJICAgICAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUuc2V0TWlycm9yID0gZnVuY3Rpb24gKGlzTWlycm9yKSB7CgkgICAgICAgIHRoaXMucGFyc2VkVmVyc2lvbiA9IG51bGw7CgkgICAgICAgIHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9IG51bGw7CgkgICAgICAgIHRoaXMuaXNNaXJyb3IgPSBpc01pcnJvcjsKCSAgICB9OwoJICAgIC8qKiBNaXJyb3IgdGhlIGJpdCBtYXRyaXggaW4gb3JkZXIgdG8gYXR0ZW1wdCBhIHNlY29uZCByZWFkaW5nLiAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUubWlycm9yID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgYml0TWF0cml4ID0gdGhpcy5iaXRNYXRyaXg7CgkgICAgICAgIGZvciAodmFyIHggPSAwLCB3aWR0aCA9IGJpdE1hdHJpeC5nZXRXaWR0aCgpOyB4IDwgd2lkdGg7IHgrKykgewoJICAgICAgICAgICAgZm9yICh2YXIgeSA9IHggKyAxLCBoZWlnaHQgPSBiaXRNYXRyaXguZ2V0SGVpZ2h0KCk7IHkgPCBoZWlnaHQ7IHkrKykgewoJICAgICAgICAgICAgICAgIGlmIChiaXRNYXRyaXguZ2V0KHgsIHkpICE9PSBiaXRNYXRyaXguZ2V0KHksIHgpKSB7CgkgICAgICAgICAgICAgICAgICAgIGJpdE1hdHJpeC5mbGlwKHksIHgpOwoJICAgICAgICAgICAgICAgICAgICBiaXRNYXRyaXguZmxpcCh4LCB5KTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHJldHVybiBCaXRNYXRyaXhQYXJzZXI7Cgl9KCkpOwoJQml0TWF0cml4UGFyc2VyJDEuZGVmYXVsdCA9IEJpdE1hdHJpeFBhcnNlcjsKCgl2YXIgRGF0YUJsb2NrJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDMgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGF0YUJsb2NrJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQxID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIGJsb2NrIG9mIGRhdGEgd2l0aGluIGEgUVIgQ29kZS4gUVIgQ29kZXMgbWF5IHNwbGl0IHRoZWlyIGRhdGEgaW50bwoJICogbXVsdGlwbGUgYmxvY2tzLCBlYWNoIG9mIHdoaWNoIGlzIGEgdW5pdCBvZiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3Jkcy4gRWFjaAoJICogaXMgcmVwcmVzZW50ZWQgYnkgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERhdGFCbG9jayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBEYXRhQmxvY2sobnVtRGF0YUNvZGV3b3JkcyAvKmludCovLCBjb2Rld29yZHMpIHsKCSAgICAgICAgdGhpcy5udW1EYXRhQ29kZXdvcmRzID0gbnVtRGF0YUNvZGV3b3JkczsKCSAgICAgICAgdGhpcy5jb2Rld29yZHMgPSBjb2Rld29yZHM7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIDxwPldoZW4gUVIgQ29kZXMgdXNlIG11bHRpcGxlIGRhdGEgYmxvY2tzLCB0aGV5IGFyZSBhY3R1YWxseSBpbnRlcmxlYXZlZC4KCSAgICAgKiBUaGF0IGlzLCB0aGUgZmlyc3QgYnl0ZSBvZiBkYXRhIGJsb2NrIDEgdG8gbiBpcyB3cml0dGVuLCB0aGVuIHRoZSBzZWNvbmQgYnl0ZXMsIGFuZCBzbyBvbi4gVGhpcwoJICAgICAqIG1ldGhvZCB3aWxsIHNlcGFyYXRlIHRoZSBkYXRhIGludG8gb3JpZ2luYWwgYmxvY2tzLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSByYXdDb2Rld29yZHMgYnl0ZXMgYXMgcmVhZCBkaXJlY3RseSBmcm9tIHRoZSBRUiBDb2RlCgkgICAgICogQHBhcmFtIHZlcnNpb24gdmVyc2lvbiBvZiB0aGUgUVIgQ29kZQoJICAgICAqIEBwYXJhbSBlY0xldmVsIGVycm9yLWNvcnJlY3Rpb24gbGV2ZWwgb2YgdGhlIFFSIENvZGUKCSAgICAgKiBAcmV0dXJuIERhdGFCbG9ja3MgY29udGFpbmluZyBvcmlnaW5hbCBieXRlcywgImRlLWludGVybGVhdmVkIiBmcm9tIHJlcHJlc2VudGF0aW9uIGluIHRoZQoJICAgICAqICAgICAgICAgUVIgQ29kZQoJICAgICAqLwoJICAgIERhdGFCbG9jay5nZXREYXRhQmxvY2tzID0gZnVuY3Rpb24gKHJhd0NvZGV3b3JkcywgdmVyc2lvbiwgZWNMZXZlbCkgewoJICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjsKCSAgICAgICAgaWYgKHJhd0NvZGV3b3Jkcy5sZW5ndGggIT09IHZlcnNpb24uZ2V0VG90YWxDb2Rld29yZHMoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEZpZ3VyZSBvdXQgdGhlIG51bWJlciBhbmQgc2l6ZSBvZiBkYXRhIGJsb2NrcyB1c2VkIGJ5IHRoaXMgdmVyc2lvbiBhbmQKCSAgICAgICAgLy8gZXJyb3IgY29ycmVjdGlvbiBsZXZlbAoJICAgICAgICB2YXIgZWNCbG9ja3MgPSB2ZXJzaW9uLmdldEVDQmxvY2tzRm9yTGV2ZWwoZWNMZXZlbCk7CgkgICAgICAgIC8vIEZpcnN0IGNvdW50IHRoZSB0b3RhbCBudW1iZXIgb2YgZGF0YSBibG9ja3MKCSAgICAgICAgdmFyIHRvdGFsQmxvY2tzID0gMDsKCSAgICAgICAgdmFyIGVjQmxvY2tBcnJheSA9IGVjQmxvY2tzLmdldEVDQmxvY2tzKCk7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICBmb3IgKHZhciBlY0Jsb2NrQXJyYXlfMSA9IF9fdmFsdWVzJDMoZWNCbG9ja0FycmF5KSwgZWNCbG9ja0FycmF5XzFfMSA9IGVjQmxvY2tBcnJheV8xLm5leHQoKTsgIWVjQmxvY2tBcnJheV8xXzEuZG9uZTsgZWNCbG9ja0FycmF5XzFfMSA9IGVjQmxvY2tBcnJheV8xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgIHZhciBlY0Jsb2NrID0gZWNCbG9ja0FycmF5XzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbEJsb2NrcyArPSBlY0Jsb2NrLmdldENvdW50KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChlY0Jsb2NrQXJyYXlfMV8xICYmICFlY0Jsb2NrQXJyYXlfMV8xLmRvbmUgJiYgKF9hID0gZWNCbG9ja0FycmF5XzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2NrQXJyYXlfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTm93IGVzdGFibGlzaCBEYXRhQmxvY2tzIG9mIHRoZSBhcHByb3ByaWF0ZSBzaXplIGFuZCBudW1iZXIgb2YgZGF0YSBjb2Rld29yZHMKCSAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheSh0b3RhbEJsb2Nrcyk7CgkgICAgICAgIHZhciBudW1SZXN1bHRCbG9ja3MgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgZWNCbG9ja0FycmF5XzIgPSBfX3ZhbHVlcyQzKGVjQmxvY2tBcnJheSksIGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCk7ICFlY0Jsb2NrQXJyYXlfMl8xLmRvbmU7IGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tBcnJheV8yXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlY0Jsb2NrLmdldENvdW50KCk7IGkrKykgewoJICAgICAgICAgICAgICAgICAgICB2YXIgbnVtRGF0YUNvZGV3b3JkcyA9IGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpOwoJICAgICAgICAgICAgICAgICAgICB2YXIgbnVtQmxvY2tDb2Rld29yZHMgPSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCkgKyBudW1EYXRhQ29kZXdvcmRzOwoJICAgICAgICAgICAgICAgICAgICByZXN1bHRbbnVtUmVzdWx0QmxvY2tzKytdID0gbmV3IERhdGFCbG9jayhudW1EYXRhQ29kZXdvcmRzLCBuZXcgVWludDhBcnJheShudW1CbG9ja0NvZGV3b3JkcykpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGVjQmxvY2tBcnJheV8yXzEgJiYgIWVjQmxvY2tBcnJheV8yXzEuZG9uZSAmJiAoX2IgPSBlY0Jsb2NrQXJyYXlfMi5yZXR1cm4pKSBfYi5jYWxsKGVjQmxvY2tBcnJheV8yKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICAvLyBBbGwgYmxvY2tzIGhhdmUgdGhlIHNhbWUgYW1vdW50IG9mIGRhdGEsIGV4Y2VwdCB0aGF0IHRoZSBsYXN0IG4KCSAgICAgICAgLy8gKHdoZXJlIG4gbWF5IGJlIDApIGhhdmUgMSBtb3JlIGJ5dGUuIEZpZ3VyZSBvdXQgd2hlcmUgdGhlc2Ugc3RhcnQuCgkgICAgICAgIHZhciBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGxvbmdlckJsb2Nrc1N0YXJ0QXQgPSByZXN1bHQubGVuZ3RoIC0gMTsKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IGNoZWNrIGxlbmd0aCBpcyBjb3JyZWN0IGhlcmUKCSAgICAgICAgd2hpbGUgKGxvbmdlckJsb2Nrc1N0YXJ0QXQgPj0gMCkgewoJICAgICAgICAgICAgdmFyIG51bUNvZGV3b3JkcyA9IHJlc3VsdFtsb25nZXJCbG9ja3NTdGFydEF0XS5jb2Rld29yZHMubGVuZ3RoOwoJICAgICAgICAgICAgaWYgKG51bUNvZGV3b3JkcyA9PT0gc2hvcnRlckJsb2Nrc1RvdGFsQ29kZXdvcmRzKSB7CgkgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBsb25nZXJCbG9ja3NTdGFydEF0LS07CgkgICAgICAgIH0KCSAgICAgICAgbG9uZ2VyQmxvY2tzU3RhcnRBdCsrOwoJICAgICAgICB2YXIgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHMgPSBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgLSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7CgkgICAgICAgIC8vIFRoZSBsYXN0IGVsZW1lbnRzIG9mIHJlc3VsdCBtYXkgYmUgMSBlbGVtZW50IGxvbmdlcgoJICAgICAgICAvLyBmaXJzdCBmaWxsIG91dCBhcyBtYW55IGVsZW1lbnRzIGFzIGFsbCBvZiB0aGVtIGhhdmUKCSAgICAgICAgdmFyIHJhd0NvZGV3b3Jkc09mZnNldCA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHM7IGkrKykgewoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBudW1SZXN1bHRCbG9ja3M7IGorKykgewoJICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaV0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIEZpbGwgb3V0IHRoZSBsYXN0IGRhdGEgYmxvY2sgaW4gdGhlIGxvbmdlciBvbmVzCgkgICAgICAgIGZvciAodmFyIGogPSBsb25nZXJCbG9ja3NTdGFydEF0OyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHsKCSAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHNdID0gcmF3Q29kZXdvcmRzW3Jhd0NvZGV3b3Jkc09mZnNldCsrXTsKCSAgICAgICAgfQoJICAgICAgICAvLyBOb3cgYWRkIGluIGVycm9yIGNvcnJlY3Rpb24gYmxvY2tzCgkgICAgICAgIHZhciBtYXggPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IHNob3J0ZXJCbG9ja3NOdW1EYXRhQ29kZXdvcmRzOyBpIDwgbWF4OyBpKyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHsKCSAgICAgICAgICAgICAgICB2YXIgaU9mZnNldCA9IGogPCBsb25nZXJCbG9ja3NTdGFydEF0ID8gaSA6IGkgKyAxOwoJICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaU9mZnNldF0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgfTsKCSAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldE51bURhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm51bURhdGFDb2Rld29yZHM7CgkgICAgfTsKCSAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldENvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY29kZXdvcmRzOwoJICAgIH07CgkgICAgcmV0dXJuIERhdGFCbG9jazsKCX0oKSk7CglEYXRhQmxvY2skMS5kZWZhdWx0ID0gRGF0YUJsb2NrOwoKCXZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEgPSB7fTsKCgl2YXIgQml0U291cmNlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdFNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbiB7Ki8KCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5UaGlzIHByb3ZpZGVzIGFuIGVhc3kgYWJzdHJhY3Rpb24gdG8gcmVhZCBiaXRzIGF0IGEgdGltZSBmcm9tIGEgc2VxdWVuY2Ugb2YgYnl0ZXMsIHdoZXJlIHRoZQoJICogbnVtYmVyIG9mIGJpdHMgcmVhZCBpcyBub3Qgb2Z0ZW4gYSBtdWx0aXBsZSBvZiA4LjwvcD4KCSAqCgkgKiA8cD5UaGlzIGNsYXNzIGlzIHRocmVhZC1zYWZlIGJ1dCBub3QgcmVlbnRyYW50IC0tIHVubGVzcyB0aGUgY2FsbGVyIG1vZGlmaWVzIHRoZSBieXRlcyBhcnJheQoJICogaXQgcGFzc2VkIGluLCBpbiB3aGljaCBjYXNlIGFsbCBiZXRzIGFyZSBvZmYuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBCaXRTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJ5dGVzIGJ5dGVzIGZyb20gd2hpY2ggdGhpcyB3aWxsIHJlYWQgYml0cy4gQml0cyB3aWxsIGJlIHJlYWQgZnJvbSB0aGUgZmlyc3QgYnl0ZSBmaXJzdC4KCSAgICAgKiBCaXRzIGFyZSByZWFkIHdpdGhpbiBhIGJ5dGUgZnJvbSBtb3N0LXNpZ25pZmljYW50IHRvIGxlYXN0LXNpZ25pZmljYW50IGJpdC4KCSAgICAgKi8KCSAgICBmdW5jdGlvbiBCaXRTb3VyY2UoYnl0ZXMpIHsKCSAgICAgICAgdGhpcy5ieXRlcyA9IGJ5dGVzOwoJICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSAwOwoJICAgICAgICB0aGlzLmJpdE9mZnNldCA9IDA7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaW5kZXggb2YgbmV4dCBiaXQgaW4gY3VycmVudCBieXRlIHdoaWNoIHdvdWxkIGJlIHJlYWQgYnkgdGhlIG5leHQgY2FsbCB0byB7QGxpbmsgI3JlYWRCaXRzKGludCl9LgoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuZ2V0Qml0T2Zmc2V0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRPZmZzZXQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIG5leHQgYnl0ZSBpbiBpbnB1dCBieXRlIGFycmF5IHdoaWNoIHdvdWxkIGJlIHJlYWQgYnkgdGhlIG5leHQgY2FsbCB0byB7QGxpbmsgI3JlYWRCaXRzKGludCl9LgoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuZ2V0Qnl0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYnl0ZU9mZnNldDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBudW1CaXRzIG51bWJlciBvZiBiaXRzIHRvIHJlYWQKCSAgICAgKiBAcmV0dXJuIGludCByZXByZXNlbnRpbmcgdGhlIGJpdHMgcmVhZC4gVGhlIGJpdHMgd2lsbCBhcHBlYXIgYXMgdGhlIGxlYXN0LXNpZ25pZmljYW50CgkgICAgICogICAgICAgICBiaXRzIG9mIHRoZSBpbnQKCSAgICAgKiBAdGhyb3dzIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBpZiBudW1CaXRzIGlzbid0IGluIFsxLDMyXSBvciBtb3JlIHRoYW4gaXMgYXZhaWxhYmxlCgkgICAgICovCgkgICAgQml0U291cmNlLnByb3RvdHlwZS5yZWFkQml0cyA9IGZ1bmN0aW9uIChudW1CaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKG51bUJpdHMgPCAxIHx8IG51bUJpdHMgPiAzMiB8fCBudW1CaXRzID4gdGhpcy5hdmFpbGFibGUoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xLmRlZmF1bHQoJycgKyBudW1CaXRzKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcmVzdWx0ID0gMDsKCSAgICAgICAgdmFyIGJpdE9mZnNldCA9IHRoaXMuYml0T2Zmc2V0OwoJICAgICAgICB2YXIgYnl0ZU9mZnNldCA9IHRoaXMuYnl0ZU9mZnNldDsKCSAgICAgICAgdmFyIGJ5dGVzID0gdGhpcy5ieXRlczsKCSAgICAgICAgLy8gRmlyc3QsIHJlYWQgcmVtYWluZGVyIGZyb20gY3VycmVudCBieXRlCgkgICAgICAgIGlmIChiaXRPZmZzZXQgPiAwKSB7CgkgICAgICAgICAgICB2YXIgYml0c0xlZnQgPSA4IC0gYml0T2Zmc2V0OwoJICAgICAgICAgICAgdmFyIHRvUmVhZCA9IG51bUJpdHMgPCBiaXRzTGVmdCA/IG51bUJpdHMgOiBiaXRzTGVmdDsKCSAgICAgICAgICAgIHZhciBiaXRzVG9Ob3RSZWFkID0gYml0c0xlZnQgLSB0b1JlYWQ7CgkgICAgICAgICAgICB2YXIgbWFzayA9ICgweEZGID4+ICg4IC0gdG9SZWFkKSkgPDwgYml0c1RvTm90UmVhZDsKCSAgICAgICAgICAgIHJlc3VsdCA9IChieXRlc1tieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQ7CgkgICAgICAgICAgICBudW1CaXRzIC09IHRvUmVhZDsKCSAgICAgICAgICAgIGJpdE9mZnNldCArPSB0b1JlYWQ7CgkgICAgICAgICAgICBpZiAoYml0T2Zmc2V0ID09PSA4KSB7CgkgICAgICAgICAgICAgICAgYml0T2Zmc2V0ID0gMDsKCSAgICAgICAgICAgICAgICBieXRlT2Zmc2V0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTmV4dCByZWFkIHdob2xlIGJ5dGVzCgkgICAgICAgIGlmIChudW1CaXRzID4gMCkgewoJICAgICAgICAgICAgd2hpbGUgKG51bUJpdHMgPj0gOCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdCA9IChyZXN1bHQgPDwgOCkgfCAoYnl0ZXNbYnl0ZU9mZnNldF0gJiAweEZGKTsKCSAgICAgICAgICAgICAgICBieXRlT2Zmc2V0Kys7CgkgICAgICAgICAgICAgICAgbnVtQml0cyAtPSA4OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8gRmluYWxseSByZWFkIGEgcGFydGlhbCBieXRlCgkgICAgICAgICAgICBpZiAobnVtQml0cyA+IDApIHsKCSAgICAgICAgICAgICAgICB2YXIgYml0c1RvTm90UmVhZCA9IDggLSBudW1CaXRzOwoJICAgICAgICAgICAgICAgIHZhciBtYXNrID0gKDB4RkYgPj4gYml0c1RvTm90UmVhZCkgPDwgYml0c1RvTm90UmVhZDsKCSAgICAgICAgICAgICAgICByZXN1bHQgPSAocmVzdWx0IDw8IG51bUJpdHMpIHwgKChieXRlc1tieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQpOwoJICAgICAgICAgICAgICAgIGJpdE9mZnNldCArPSBudW1CaXRzOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0T2Zmc2V0ID0gYml0T2Zmc2V0OwoJICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSBieXRlT2Zmc2V0OwoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgYml0cyB0aGF0IGNhbiBiZSByZWFkIHN1Y2Nlc3NmdWxseQoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuYXZhaWxhYmxlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gOCAqICh0aGlzLmJ5dGVzLmxlbmd0aCAtIHRoaXMuYnl0ZU9mZnNldCkgLSB0aGlzLmJpdE9mZnNldDsKCSAgICB9OwoJICAgIHJldHVybiBCaXRTb3VyY2U7Cgl9KCkpOwoJQml0U291cmNlJDEuZGVmYXVsdCA9IEJpdFNvdXJjZTsKCgl2YXIgRGVjb2RlclJlc3VsdCQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNvZGVyUmVzdWx0JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki8KCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBtYXRyaXggb2YgYml0cy4gVGhpcyB0eXBpY2FsbHkKCSAqIGFwcGxpZXMgdG8gMkQgYmFyY29kZSBmb3JtYXRzLiBGb3Igbm93IGl0IGNvbnRhaW5zIHRoZSByYXcgYnl0ZXMgb2J0YWluZWQsCgkgKiBhcyB3ZWxsIGFzIGEgU3RyaW5nIGludGVycHJldGF0aW9uIG9mIHRob3NlIGJ5dGVzLCBpZiBhcHBsaWNhYmxlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGVjb2RlclJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocmF3Qnl0ZXM6IFVpbnQ4QXJyYXksCgkgICAgLy8gICAgICAgICAgICAgICAgICAgICAgdGV4dDogc3RyaW5nLAoJICAgIC8vICAgICAgICAgICAgICAgICAgICAgIExpc3Q8VWludDhBcnJheT4gYnl0ZVNlZ21lbnRzLAoJICAgIC8vICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBlY0xldmVsKSB7CgkgICAgLy8gICB0aGlzKHJhd0J5dGVzLCB0ZXh0LCBieXRlU2VnbWVudHMsIGVjTGV2ZWwsIC0xLCAtMSkKCSAgICAvLyB9CgkgICAgZnVuY3Rpb24gRGVjb2RlclJlc3VsdChyYXdCeXRlcywgdGV4dCwgYnl0ZVNlZ21lbnRzLCBlY0xldmVsLCBzdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXIsIHN0cnVjdHVyZWRBcHBlbmRQYXJpdHkpIHsKCSAgICAgICAgaWYgKHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciA9PT0gdm9pZCAwKSB7IHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciA9IC0xOyB9CgkgICAgICAgIGlmIChzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID09PSB2b2lkIDApIHsgc3RydWN0dXJlZEFwcGVuZFBhcml0eSA9IC0xOyB9CgkgICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlczsKCSAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDsKCSAgICAgICAgdGhpcy5ieXRlU2VnbWVudHMgPSBieXRlU2VnbWVudHM7CgkgICAgICAgIHRoaXMuZWNMZXZlbCA9IGVjTGV2ZWw7CgkgICAgICAgIHRoaXMuc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyOwoJICAgICAgICB0aGlzLnN0cnVjdHVyZWRBcHBlbmRQYXJpdHkgPSBzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5OwoJICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCB8fCByYXdCeXRlcyA9PT0gbnVsbCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiByYXcgYnl0ZXMgcmVwcmVzZW50aW5nIHRoZSByZXN1bHQsIG9yIHtAY29kZSBudWxsfSBpZiBub3QgYXBwbGljYWJsZQoJICAgICAqLwoJICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlczsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aAoJICAgICAqIEBzaW5jZSAzLjMuMAoJICAgICAqLwoJICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldE51bUJpdHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm51bUJpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gbnVtQml0cyBvdmVycmlkZXMgdGhlIG51bWJlciBvZiBiaXRzIHRoYXQgYXJlIHZhbGlkIGluIHtAbGluayAjZ2V0UmF3Qnl0ZXMoKX0KCSAgICAgKiBAc2luY2UgMy4zLjAKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXROdW1CaXRzID0gZnVuY3Rpb24gKG51bUJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLm51bUJpdHMgPSBudW1CaXRzOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0ZXh0IHJlcHJlc2VudGF0aW9uIG9mIHRoZSByZXN1bHQKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50ZXh0OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBsaXN0IG9mIGJ5dGUgc2VnbWVudHMgaW4gdGhlIHJlc3VsdCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0Qnl0ZVNlZ21lbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5ieXRlU2VnbWVudHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIG5hbWUgb2YgZXJyb3IgY29ycmVjdGlvbiBsZXZlbCB1c2VkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGUKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFQ0xldmVsID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lY0xldmVsOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgZXJyb3JzIGNvcnJlY3RlZCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0RXJyb3JzQ29ycmVjdGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnNDb3JyZWN0ZWQ7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRFcnJvcnNDb3JyZWN0ZWQgPSBmdW5jdGlvbiAoZXJyb3JzQ29ycmVjdGVkIC8qSW50ZWdlciovKSB7CgkgICAgICAgIHRoaXMuZXJyb3JzQ29ycmVjdGVkID0gZXJyb3JzQ29ycmVjdGVkOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgZXJhc3VyZXMgY29ycmVjdGVkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGUKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFcmFzdXJlcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZXJhc3VyZXM7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRFcmFzdXJlcyA9IGZ1bmN0aW9uIChlcmFzdXJlcyAvKkludGVnZXIqLykgewoJICAgICAgICB0aGlzLmVyYXN1cmVzID0gZXJhc3VyZXM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGFyYml0cmFyeSBhZGRpdGlvbmFsIG1ldGFkYXRhCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0T3RoZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm90aGVyOwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuc2V0T3RoZXIgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgdGhpcy5vdGhlciA9IG90aGVyOwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuaGFzU3RydWN0dXJlZEFwcGVuZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc3RydWN0dXJlZEFwcGVuZFBhcml0eSA+PSAwICYmIHRoaXMuc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID49IDA7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRTdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5OwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0U3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXI7CgkgICAgfTsKCSAgICByZXR1cm4gRGVjb2RlclJlc3VsdDsKCX0oKSk7CglEZWNvZGVyUmVzdWx0JDEuZGVmYXVsdCA9IERlY29kZXJSZXN1bHQ7CgoJdmFyIE1vZGUgPSB7fTsKCgkoZnVuY3Rpb24gKGV4cG9ydHMpIHsKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJZXhwb3J0cy5Nb2RlVmFsdWVzID0gdm9pZCAwOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7Cgl2YXIgTW9kZVZhbHVlczsKCShmdW5jdGlvbiAoTW9kZVZhbHVlcykgewoJICAgIE1vZGVWYWx1ZXNbTW9kZVZhbHVlc1siVEVSTUlOQVRPUiJdID0gMF0gPSAiVEVSTUlOQVRPUiI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJOVU1FUklDIl0gPSAxXSA9ICJOVU1FUklDIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkFMUEhBTlVNRVJJQyJdID0gMl0gPSAiQUxQSEFOVU1FUklDIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIlNUUlVDVFVSRURfQVBQRU5EIl0gPSAzXSA9ICJTVFJVQ1RVUkVEX0FQUEVORCI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJCWVRFIl0gPSA0XSA9ICJCWVRFIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkVDSSJdID0gNV0gPSAiRUNJIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIktBTkpJIl0gPSA2XSA9ICJLQU5KSSI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJGTkMxX0ZJUlNUX1BPU0lUSU9OIl0gPSA3XSA9ICJGTkMxX0ZJUlNUX1BPU0lUSU9OIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkZOQzFfU0VDT05EX1BPU0lUSU9OIl0gPSA4XSA9ICJGTkMxX1NFQ09ORF9QT1NJVElPTiI7CgkgICAgLyoqIFNlZSBHQlQgMTgyODQtMjAwMDsgIkhhbnppIiBpcyBhIHRyYW5zbGl0ZXJhdGlvbiBvZiB0aGlzIG1vZGUgbmFtZS4gKi8KCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkhBTlpJIl0gPSA5XSA9ICJIQU5aSSI7Cgl9KShNb2RlVmFsdWVzID0gZXhwb3J0cy5Nb2RlVmFsdWVzIHx8IChleHBvcnRzLk1vZGVWYWx1ZXMgPSB7fSkpOwoJLyoqCgkgKiA8cD5TZWUgSVNPIDE4MDA0OjIwMDYsIDYuNC4xLCBUYWJsZXMgMiBhbmQgMy4gVGhpcyBlbnVtIGVuY2Fwc3VsYXRlcyB0aGUgdmFyaW91cyBtb2RlcyBpbiB3aGljaAoJICogZGF0YSBjYW4gYmUgZW5jb2RlZCB0byBiaXRzIGluIHRoZSBRUiBjb2RlIHN0YW5kYXJkLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgTW9kZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBNb2RlKHZhbHVlLCBzdHJpbmdWYWx1ZSwgY2hhcmFjdGVyQ291bnRCaXRzRm9yVmVyc2lvbnMsIGJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuc3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZTsKCSAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9ucyA9IGNoYXJhY3RlckNvdW50Qml0c0ZvclZlcnNpb25zOwoJICAgICAgICB0aGlzLmJpdHMgPSBiaXRzOwoJICAgICAgICBNb2RlLkZPUl9CSVRTLnNldChiaXRzLCB0aGlzKTsKCSAgICAgICAgTW9kZS5GT1JfVkFMVUUuc2V0KHZhbHVlLCB0aGlzKTsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJpdHMgZm91ciBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSBkYXRhIG1vZGUKCSAgICAgKiBAcmV0dXJuIE1vZGUgZW5jb2RlZCBieSB0aGVzZSBiaXRzCgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYml0cyBkbyBub3QgY29ycmVzcG9uZCB0byBhIGtub3duIG1vZGUKCSAgICAgKi8KCSAgICBNb2RlLmZvckJpdHMgPSBmdW5jdGlvbiAoYml0cyAvKmludCovKSB7CgkgICAgICAgIHZhciBtb2RlID0gTW9kZS5GT1JfQklUUy5nZXQoYml0cyk7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IG1vZGUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG1vZGU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gdmVyc2lvbiB2ZXJzaW9uIGluIHF1ZXN0aW9uCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgYml0cyB1c2VkLCBpbiB0aGlzIFFSIENvZGUgc3ltYm9sIHtAbGluayBWZXJzaW9ufSwgdG8gZW5jb2RlIHRoZQoJICAgICAqICAgICAgICAgY291bnQgb2YgY2hhcmFjdGVycyB0aGF0IHdpbGwgZm9sbG93IGVuY29kZWQgaW4gdGhpcyBNb2RlCgkgICAgICovCgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0Q2hhcmFjdGVyQ291bnRCaXRzID0gZnVuY3Rpb24gKHZlcnNpb24pIHsKCSAgICAgICAgdmFyIHZlcnNpb25OdW1iZXIgPSB2ZXJzaW9uLmdldFZlcnNpb25OdW1iZXIoKTsKCSAgICAgICAgdmFyIG9mZnNldDsKCSAgICAgICAgaWYgKHZlcnNpb25OdW1iZXIgPD0gOSkgewoJICAgICAgICAgICAgb2Zmc2V0ID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmICh2ZXJzaW9uTnVtYmVyIDw9IDI2KSB7CgkgICAgICAgICAgICBvZmZzZXQgPSAxOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgb2Zmc2V0ID0gMjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5jaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9uc1tvZmZzZXRdOwoJICAgIH07CgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlOwoJICAgIH07CgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYml0czsKCSAgICB9OwoJICAgIE1vZGUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7CgkgICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBNb2RlKSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlID09PSBvdGhlci52YWx1ZTsKCSAgICB9OwoJICAgIE1vZGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTsKCSAgICB9OwoJICAgIE1vZGUuRk9SX0JJVFMgPSBuZXcgTWFwKCk7CgkgICAgTW9kZS5GT1JfVkFMVUUgPSBuZXcgTWFwKCk7CgkgICAgTW9kZS5URVJNSU5BVE9SID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5URVJNSU5BVE9SLCAnVEVSTUlOQVRPUicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDAwKTsgLy8gTm90IHJlYWxseSBhIG1vZGUuLi4KCSAgICBNb2RlLk5VTUVSSUMgPSBuZXcgTW9kZShNb2RlVmFsdWVzLk5VTUVSSUMsICdOVU1FUklDJywgSW50MzJBcnJheS5mcm9tKFsxMCwgMTIsIDE0XSksIDB4MDEpOwoJICAgIE1vZGUuQUxQSEFOVU1FUklDID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5BTFBIQU5VTUVSSUMsICdBTFBIQU5VTUVSSUMnLCBJbnQzMkFycmF5LmZyb20oWzksIDExLCAxM10pLCAweDAyKTsKCSAgICBNb2RlLlNUUlVDVFVSRURfQVBQRU5EID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5TVFJVQ1RVUkVEX0FQUEVORCwgJ1NUUlVDVFVSRURfQVBQRU5EJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDMpOyAvLyBOb3Qgc3VwcG9ydGVkCgkgICAgTW9kZS5CWVRFID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5CWVRFLCAnQllURScsIEludDMyQXJyYXkuZnJvbShbOCwgMTYsIDE2XSksIDB4MDQpOwoJICAgIE1vZGUuRUNJID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5FQ0ksICdFQ0knLCBJbnQzMkFycmF5LmZyb20oWzAsIDAsIDBdKSwgMHgwNyk7IC8vIGNoYXJhY3RlciBjb3VudHMgZG9uJ3QgYXBwbHkKCSAgICBNb2RlLktBTkpJID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5LQU5KSSwgJ0tBTkpJJywgSW50MzJBcnJheS5mcm9tKFs4LCAxMCwgMTJdKSwgMHgwOCk7CgkgICAgTW9kZS5GTkMxX0ZJUlNUX1BPU0lUSU9OID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5GTkMxX0ZJUlNUX1BPU0lUSU9OLCAnRk5DMV9GSVJTVF9QT1NJVElPTicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDA1KTsKCSAgICBNb2RlLkZOQzFfU0VDT05EX1BPU0lUSU9OID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5GTkMxX1NFQ09ORF9QT1NJVElPTiwgJ0ZOQzFfU0VDT05EX1BPU0lUSU9OJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDkpOwoJICAgIC8qKiBTZWUgR0JUIDE4Mjg0LTIwMDA7ICJIYW56aSIgaXMgYSB0cmFuc2xpdGVyYXRpb24gb2YgdGhpcyBtb2RlIG5hbWUuICovCgkgICAgTW9kZS5IQU5aSSA9IG5ldyBNb2RlKE1vZGVWYWx1ZXMuSEFOWkksICdIQU5aSScsIEludDMyQXJyYXkuZnJvbShbOCwgMTAsIDEyXSksIDB4MEQpOwoJICAgIHJldHVybiBNb2RlOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IE1vZGU7CgoJfShNb2RlKSk7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlLmRlY29kZXIgeyovCgl2YXIgQml0U291cmNlXzEgPSBCaXRTb3VyY2UkMTsKCXZhciBDaGFyYWN0ZXJTZXRFQ0lfMSA9IENoYXJhY3RlclNldEVDSTsKCXZhciBEZWNvZGVyUmVzdWx0XzEgPSBEZWNvZGVyUmVzdWx0JDE7Cgl2YXIgU3RyaW5nVXRpbHNfMSA9IFN0cmluZ1V0aWxzJDE7Cgl2YXIgRm9ybWF0RXhjZXB0aW9uXzEgPSBGb3JtYXRFeGNlcHRpb24kMTsKCXZhciBTdHJpbmdCdWlsZGVyXzEgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgU3RyaW5nRW5jb2RpbmdfMSA9IFN0cmluZ0VuY29kaW5nJDE7Cgl2YXIgTW9kZV8xID0gTW9kZTsKCS8qaW1wb3J0IGphdmEuaW8uVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbjsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsqLwoJLyppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlFSIENvZGVzIGNhbiBlbmNvZGUgdGV4dCBhcyBiaXRzIGluIG9uZSBvZiBzZXZlcmFsIG1vZGVzLCBhbmQgY2FuIHVzZSBtdWx0aXBsZSBtb2RlcwoJICogaW4gb25lIFFSIENvZGUuIFRoaXMgY2xhc3MgZGVjb2RlcyB0aGUgYml0cyBiYWNrIGludG8gdGV4dC48L3A+CgkgKgoJICogPHA+U2VlIElTTyAxODAwNDoyMDA2LCA2LjQuMyAtIDYuNC43PC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIERlY29kZWRCaXRTdHJlYW1QYXJzZXIoKSB7CgkgICAgfQoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlID0gZnVuY3Rpb24gKGJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cykgewoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRTb3VyY2VfMS5kZWZhdWx0KGJ5dGVzKTsKCSAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBTdHJpbmdCdWlsZGVyXzEuZGVmYXVsdCgpOwoJICAgICAgICB2YXIgYnl0ZVNlZ21lbnRzID0gbmV3IEFycmF5KCk7IC8vIDEKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IEkgZG8gbm90IHVzZSBjb25zdHJ1Y3RvciB3aXRoIHNpemUgMSBhcyBpbiBvcmlnaW5hbCBKYXZhIG1lYW5zIGNhcGFjaXR5IGFuZCB0aGUgYXJyYXkgbGVuZ3RoIGlzIGNoZWNrZWQgYmVsb3cKCSAgICAgICAgdmFyIHN5bWJvbFNlcXVlbmNlID0gLTE7CgkgICAgICAgIHZhciBwYXJpdHlEYXRhID0gLTE7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICB2YXIgY3VycmVudENoYXJhY3RlclNldEVDSSA9IG51bGw7CgkgICAgICAgICAgICB2YXIgZmMxSW5FZmZlY3QgPSBmYWxzZTsKCSAgICAgICAgICAgIHZhciBtb2RlID0gdm9pZCAwOwoJICAgICAgICAgICAgZG8gewoJICAgICAgICAgICAgICAgIC8vIFdoaWxlIHN0aWxsIGFub3RoZXIgc2VnbWVudCB0byByZWFkLi4uCgkgICAgICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA0KSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIE9LLCBhc3N1bWUgd2UncmUgZG9uZS4gUmVhbGx5LCBhIFRFUk1JTkFUT1IgbW9kZSBzaG91bGQgaGF2ZSBiZWVuIHJlY29yZGVkIGhlcmUKCSAgICAgICAgICAgICAgICAgICAgbW9kZSA9IE1vZGVfMS5kZWZhdWx0LlRFUk1JTkFUT1I7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICB2YXIgbW9kZUJpdHMgPSBiaXRzLnJlYWRCaXRzKDQpOwoJICAgICAgICAgICAgICAgICAgICBtb2RlID0gTW9kZV8xLmRlZmF1bHQuZm9yQml0cyhtb2RlQml0cyk7IC8vIG1vZGUgaXMgZW5jb2RlZCBieSA0IGJpdHMKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgc3dpdGNoIChtb2RlKSB7CgkgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuVEVSTUlOQVRPUjoKCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LkZOQzFfRklSU1RfUE9TSVRJT046CgkgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuRk5DMV9TRUNPTkRfUE9TSVRJT046CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBkbyBsaXR0bGUgd2l0aCBGTkMxIGV4Y2VwdCBhbHRlciB0aGUgcGFyc2VkIHJlc3VsdCBhIGJpdCBhY2NvcmRpbmcgdG8gdGhlIHNwZWMKCSAgICAgICAgICAgICAgICAgICAgICAgIGZjMUluRWZmZWN0ID0gdHJ1ZTsKCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LlNUUlVDVFVSRURfQVBQRU5EOgoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCAxNikgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXF1ZW5jZSBudW1iZXIgYW5kIHBhcml0eSBpcyBhZGRlZCBsYXRlciB0byB0aGUgcmVzdWx0IG1ldGFkYXRhCgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWFkIG5leHQgOCBiaXRzIChzeW1ib2wgc2VxdWVuY2UgIykgYW5kIDggYml0cyAoZGF0YTogcGFyaXR5KSwgdGhlbiBjb250aW51ZQoJICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sU2VxdWVuY2UgPSBiaXRzLnJlYWRCaXRzKDgpOwoJICAgICAgICAgICAgICAgICAgICAgICAgcGFyaXR5RGF0YSA9IGJpdHMucmVhZEJpdHMoOCk7CgkgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlXzEuZGVmYXVsdC5FQ0k6CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3VudCBkb2Vzbid0IGFwcGx5IHRvIEVDSQoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5wYXJzZUVDSVZhbHVlKGJpdHMpOwoJICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENoYXJhY3RlclNldEVDSSA9IENoYXJhY3RlclNldEVDSV8xLmRlZmF1bHQuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlWYWx1ZSh2YWx1ZSk7CgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlclNldEVDSSA9PT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlXzEuZGVmYXVsdC5IQU5aSToKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpcnN0IGhhbmRsZSBIYW56aSBtb2RlIHdoaWNoIGRvZXMgbm90IHN0YXJ0IHdpdGggY2hhcmFjdGVyIGNvdW50CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGluZXNlIG1vZGUgY29udGFpbnMgYSBzdWIgc2V0IGluZGljYXRvciByaWdodCBhZnRlciBtb2RlIGluZGljYXRvcgoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnNldCA9IGJpdHMucmVhZEJpdHMoNCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRIYW56aSA9IGJpdHMucmVhZEJpdHMobW9kZS5nZXRDaGFyYWN0ZXJDb3VudEJpdHModmVyc2lvbikpOwoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNldCA9PT0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5HQjIzMTJfU1VCU0VUKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVIYW56aVNlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudEhhbnppKTsKCSAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gIk5vcm1hbCIgUVIgY29kZSBtb2RlczoKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvdyBtYW55IGNoYXJhY3RlcnMgd2lsbCBmb2xsb3csIGVuY29kZWQgaW4gdGhpcyBtb2RlPwoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gYml0cy5yZWFkQml0cyhtb2RlLmdldENoYXJhY3RlckNvdW50Qml0cyh2ZXJzaW9uKSk7CgkgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG1vZGUpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0Lk5VTUVSSUM6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlTnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuQUxQSEFOVU1FUklDOgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFscGhhbnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCwgZmMxSW5FZmZlY3QpOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LkJZVEU6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCwgY3VycmVudENoYXJhY3RlclNldEVDSSwgYnl0ZVNlZ21lbnRzLCBoaW50cyk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuS0FOSkk6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlS2FuamlTZWdtZW50KGJpdHMsIHJlc3VsdCwgY291bnQpOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSB3aGlsZSAobW9kZSAhPT0gTW9kZV8xLmRlZmF1bHQuVEVSTUlOQVRPUik7CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlhZSAvKjogSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgIC8vIGZyb20gcmVhZEJpdHMoKSBjYWxscwoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbmV3IERlY29kZXJSZXN1bHRfMS5kZWZhdWx0KGJ5dGVzLCByZXN1bHQudG9TdHJpbmcoKSwgYnl0ZVNlZ21lbnRzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiBieXRlU2VnbWVudHMsIGVjTGV2ZWwgPT09IG51bGwgPyBudWxsIDogZWNMZXZlbC50b1N0cmluZygpLCBzeW1ib2xTZXF1ZW5jZSwgcGFyaXR5RGF0YSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZWUgc3BlY2lmaWNhdGlvbiBHQlQgMTgyODQtMjAwMAoJICAgICAqLwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlSGFuemlTZWdtZW50ID0gZnVuY3Rpb24gKGJpdHMsIHJlc3VsdCwgY291bnQgLyppbnQqLykgewoJICAgICAgICAvLyBEb24ndCBjcmFzaCB0cnlpbmcgdG8gcmVhZCBtb3JlIGJpdHMgdGhhbiB3ZSBoYXZlIGF2YWlsYWJsZS4KCSAgICAgICAgaWYgKGNvdW50ICogMTMgPiBiaXRzLmF2YWlsYWJsZSgpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEVhY2ggY2hhcmFjdGVyIHdpbGwgcmVxdWlyZSAyIGJ5dGVzLiBSZWFkIHRoZSBjaGFyYWN0ZXJzIGFzIDItYnl0ZSBwYWlycwoJICAgICAgICAvLyBhbmQgZGVjb2RlIGFzIEdCMjMxMiBhZnRlcndhcmRzCgkgICAgICAgIHZhciBidWZmZXIgPSBuZXcgVWludDhBcnJheSgyICogY291bnQpOwoJICAgICAgICB2YXIgb2Zmc2V0ID0gMDsKCSAgICAgICAgd2hpbGUgKGNvdW50ID4gMCkgewoJICAgICAgICAgICAgLy8gRWFjaCAxMyBiaXRzIGVuY29kZXMgYSAyLWJ5dGUgY2hhcmFjdGVyCgkgICAgICAgICAgICB2YXIgdHdvQnl0ZXMgPSBiaXRzLnJlYWRCaXRzKDEzKTsKCSAgICAgICAgICAgIHZhciBhc3NlbWJsZWRUd29CeXRlcyA9ICgoKHR3b0J5dGVzIC8gMHgwNjApIDw8IDgpICYgMHhGRkZGRkZGRikgfCAodHdvQnl0ZXMgJSAweDA2MCk7CgkgICAgICAgICAgICBpZiAoYXNzZW1ibGVkVHdvQnl0ZXMgPCAweDAwM0JGKSB7CgkgICAgICAgICAgICAgICAgLy8gSW4gdGhlIDB4QTFBMSB0byAweEFBRkUgcmFuZ2UKCSAgICAgICAgICAgICAgICBhc3NlbWJsZWRUd29CeXRlcyArPSAweDBBMUExOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgLy8gSW4gdGhlIDB4QjBBMSB0byAweEZBRkUgcmFuZ2UKCSAgICAgICAgICAgICAgICBhc3NlbWJsZWRUd29CeXRlcyArPSAweDBBNkExOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgYnVmZmVyW29mZnNldF0gPSAvKihieXRlKSAqLyAoKGFzc2VtYmxlZFR3b0J5dGVzID4+IDgpICYgMHhGRik7CgkgICAgICAgICAgICBidWZmZXJbb2Zmc2V0ICsgMV0gPSAvKihieXRlKSAqLyAoYXNzZW1ibGVkVHdvQnl0ZXMgJiAweEZGKTsKCSAgICAgICAgICAgIG9mZnNldCArPSAyOwoJICAgICAgICAgICAgY291bnQtLTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZ18xLmRlZmF1bHQuZGVjb2RlKGJ1ZmZlciwgU3RyaW5nVXRpbHNfMS5kZWZhdWx0LkdCMjMxMikpOwoJICAgICAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IFRPRE86IGltcGxlbWVudCBHQjIzMTIgZGVjb2RlLiBTdHJpbmdWaWV3IGZyb20gTUROIGNvdWxkIGJlIGEgc3RhcnRpbmcgcG9pbnQKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdChpZ25vcmVkKTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVLYW5qaVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovKSB7CgkgICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLgoJICAgICAgICBpZiAoY291bnQgKiAxMyA+IGJpdHMuYXZhaWxhYmxlKCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRWFjaCBjaGFyYWN0ZXIgd2lsbCByZXF1aXJlIDIgYnl0ZXMuIFJlYWQgdGhlIGNoYXJhY3RlcnMgYXMgMi1ieXRlIHBhaXJzCgkgICAgICAgIC8vIGFuZCBkZWNvZGUgYXMgU2hpZnRfSklTIGFmdGVyd2FyZHMKCSAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDIgKiBjb3VudCk7CgkgICAgICAgIHZhciBvZmZzZXQgPSAwOwoJICAgICAgICB3aGlsZSAoY291bnQgPiAwKSB7CgkgICAgICAgICAgICAvLyBFYWNoIDEzIGJpdHMgZW5jb2RlcyBhIDItYnl0ZSBjaGFyYWN0ZXIKCSAgICAgICAgICAgIHZhciB0d29CeXRlcyA9IGJpdHMucmVhZEJpdHMoMTMpOwoJICAgICAgICAgICAgdmFyIGFzc2VtYmxlZFR3b0J5dGVzID0gKCgodHdvQnl0ZXMgLyAweDBDMCkgPDwgOCkgJiAweEZGRkZGRkZGKSB8ICh0d29CeXRlcyAlIDB4MEMwKTsKCSAgICAgICAgICAgIGlmIChhc3NlbWJsZWRUd29CeXRlcyA8IDB4MDFGMDApIHsKCSAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHg4MTQwIHRvIDB4OUZGQyByYW5nZQoJICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MDgxNDA7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHhFMDQwIHRvIDB4RUJCRiByYW5nZQoJICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MEMxNDA7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBidWZmZXJbb2Zmc2V0XSA9IC8qKGJ5dGUpICovIChhc3NlbWJsZWRUd29CeXRlcyA+PiA4KTsKCSAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQgKyAxXSA9IC8qKGJ5dGUpICovIGFzc2VtYmxlZFR3b0J5dGVzOwoJICAgICAgICAgICAgb2Zmc2V0ICs9IDI7CgkgICAgICAgICAgICBjb3VudC0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIFNoaWZ0X0pJUyBtYXkgbm90IGJlIHN1cHBvcnRlZCBpbiBzb21lIGVudmlyb25tZW50czoKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoU3RyaW5nRW5jb2RpbmdfMS5kZWZhdWx0LmRlY29kZShidWZmZXIsIFN0cmluZ1V0aWxzXzEuZGVmYXVsdC5TSElGVF9KSVMpKTsKCSAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBUT0RPOiBpbXBsZW1lbnQgU0hJRlRfSklTIGRlY29kZS4gU3RyaW5nVmlldyBmcm9tIE1ETiBjb3VsZCBiZSBhIHN0YXJ0aW5nIHBvaW50CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyo6IFVuc3VwcG9ydGVkRW5jb2RpbmdFeGNlcHRpb24qLykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoaWdub3JlZCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLCBieXRlU2VnbWVudHMsIGhpbnRzKSB7CgkgICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLgoJICAgICAgICBpZiAoOCAqIGNvdW50ID4gYml0cy5hdmFpbGFibGUoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcmVhZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoY291bnQpOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKCSAgICAgICAgICAgIHJlYWRCeXRlc1tpXSA9IC8qKGJ5dGUpICovIGJpdHMucmVhZEJpdHMoOCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGVuY29kaW5nOwoJICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlclNldEVDSSA9PT0gbnVsbCkgewoJICAgICAgICAgICAgLy8gVGhlIHNwZWMgaXNuJ3QgY2xlYXIgb24gdGhpcyBtb2RlOyBzZWUKCSAgICAgICAgICAgIC8vIHNlY3Rpb24gNi40LjU6IHQgZG9lcyBub3Qgc2F5IHdoaWNoIGVuY29kaW5nIHRvIGFzc3VtaW5nCgkgICAgICAgICAgICAvLyB1cG9uIGRlY29kaW5nLiBJIGhhdmUgc2VlbiBJU08tODg1OS0xIHVzZWQgYXMgd2VsbCBhcwoJICAgICAgICAgICAgLy8gU2hpZnRfSklTIC0tIHdpdGhvdXQgYW55dGhpbmcgbGlrZSBhbiBFQ0kgZGVzaWduYXRvciB0bwoJICAgICAgICAgICAgLy8gZ2l2ZSBhIGhpbnQuCgkgICAgICAgICAgICBlbmNvZGluZyA9IFN0cmluZ1V0aWxzXzEuZGVmYXVsdC5ndWVzc0VuY29kaW5nKHJlYWRCeXRlcywgaGludHMpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgZW5jb2RpbmcgPSBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLmdldE5hbWUoKTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZ18xLmRlZmF1bHQuZGVjb2RlKHJlYWRCeXRlcywgZW5jb2RpbmcpKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdChpZ25vcmVkKTsKCSAgICAgICAgfQoJICAgICAgICBieXRlU2VnbWVudHMucHVzaChyZWFkQnl0ZXMpOwoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykgewoJICAgICAgICBpZiAodmFsdWUgPj0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5BTFBIQU5VTUVSSUNfQ0hBUlMubGVuZ3RoKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkFMUEhBTlVNRVJJQ19DSEFSU1t2YWx1ZV07CgkgICAgfTsKCSAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFscGhhbnVtZXJpY1NlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBmYzFJbkVmZmVjdCkgewoJICAgICAgICAvLyBSZWFkIHR3byBjaGFyYWN0ZXJzIGF0IGEgdGltZQoJICAgICAgICB2YXIgc3RhcnQgPSByZXN1bHQubGVuZ3RoKCk7CgkgICAgICAgIHdoaWxlIChjb3VudCA+IDEpIHsKCSAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTEpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIG5leHRUd29DaGFyc0JpdHMgPSBiaXRzLnJlYWRCaXRzKDExKTsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcihuZXh0VHdvQ2hhcnNCaXRzIC8gNDUpKSk7CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKG5leHRUd29DaGFyc0JpdHMgJSA0NSkpOwoJICAgICAgICAgICAgY291bnQgLT0gMjsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY291bnQgPT09IDEpIHsKCSAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZTogb25lIGNoYXJhY3RlciBsZWZ0CgkgICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDYpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcihiaXRzLnJlYWRCaXRzKDYpKSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gU2VlIHNlY3Rpb24gNi40LjguMSwgNi40LjguMgoJICAgICAgICBpZiAoZmMxSW5FZmZlY3QpIHsKCSAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gbWFzc2FnZSB0aGUgcmVzdWx0IGEgYml0IGlmIGluIGFuIEZOQzEgbW9kZToKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IHJlc3VsdC5sZW5ndGgoKTsgaSsrKSB7CgkgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jaGFyQXQoaSkgPT09ICclJykgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IHJlc3VsdC5sZW5ndGgoKSAtIDEgJiYgcmVzdWx0LmNoYXJBdChpICsgMSkgPT09ICclJykgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gJSUgaXMgcmVuZGVyZWQgYXMgJQoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRlbGV0ZUNoYXJBdChpICsgMSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbiBhbHBoYSBtb2RlLCAlIHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gRk5DMSBzZXBhcmF0b3IgMHgxRAoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldENoYXJBdChpLCBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MUQpKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVOdW1lcmljU2VnbWVudCA9IGZ1bmN0aW9uIChiaXRzLCByZXN1bHQsIGNvdW50IC8qaW50Ki8pIHsKCSAgICAgICAgLy8gUmVhZCB0aHJlZSBkaWdpdHMgYXQgYSB0aW1lCgkgICAgICAgIHdoaWxlIChjb3VudCA+PSAzKSB7CgkgICAgICAgICAgICAvLyBFYWNoIDEwIGJpdHMgZW5jb2RlcyB0aHJlZSBkaWdpdHMKCSAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTApIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIHRocmVlRGlnaXRzQml0cyA9IGJpdHMucmVhZEJpdHMoMTApOwoJICAgICAgICAgICAgaWYgKHRocmVlRGlnaXRzQml0cyA+PSAxMDAwKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcih0aHJlZURpZ2l0c0JpdHMgLyAxMDApKSk7CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodGhyZWVEaWdpdHNCaXRzIC8gMTApICUgMTApKTsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIodGhyZWVEaWdpdHNCaXRzICUgMTApKTsKCSAgICAgICAgICAgIGNvdW50IC09IDM7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvdW50ID09PSAyKSB7CgkgICAgICAgICAgICAvLyBUd28gZGlnaXRzIGxlZnQgb3ZlciB0byByZWFkLCBlbmNvZGVkIGluIDcgYml0cwoJICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA3KSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhciB0d29EaWdpdHNCaXRzID0gYml0cy5yZWFkQml0cyg3KTsKCSAgICAgICAgICAgIGlmICh0d29EaWdpdHNCaXRzID49IDEwMCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodHdvRGlnaXRzQml0cyAvIDEwKSkpOwoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcih0d29EaWdpdHNCaXRzICUgMTApKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChjb3VudCA9PT0gMSkgewoJICAgICAgICAgICAgLy8gT25lIGRpZ2l0IGxlZnQgb3ZlciB0byByZWFkCgkgICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDQpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIGRpZ2l0Qml0cyA9IGJpdHMucmVhZEJpdHMoNCk7CgkgICAgICAgICAgICBpZiAoZGlnaXRCaXRzID49IDEwKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoZGlnaXRCaXRzKSk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIucGFyc2VFQ0lWYWx1ZSA9IGZ1bmN0aW9uIChiaXRzKSB7CgkgICAgICAgIHZhciBmaXJzdEJ5dGUgPSBiaXRzLnJlYWRCaXRzKDgpOwoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4ODApID09PSAwKSB7CgkgICAgICAgICAgICAvLyBqdXN0IG9uZSBieXRlCgkgICAgICAgICAgICByZXR1cm4gZmlyc3RCeXRlICYgMHg3RjsKCSAgICAgICAgfQoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4QzApID09PSAweDgwKSB7CgkgICAgICAgICAgICAvLyB0d28gYnl0ZXMKCSAgICAgICAgICAgIHZhciBzZWNvbmRCeXRlID0gYml0cy5yZWFkQml0cyg4KTsKCSAgICAgICAgICAgIHJldHVybiAoKChmaXJzdEJ5dGUgJiAweDNGKSA8PCA4KSAmIDB4RkZGRkZGRkYpIHwgc2Vjb25kQnl0ZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4RTApID09PSAweEMwKSB7CgkgICAgICAgICAgICAvLyB0aHJlZSBieXRlcwoJICAgICAgICAgICAgdmFyIHNlY29uZFRoaXJkQnl0ZXMgPSBiaXRzLnJlYWRCaXRzKDE2KTsKCSAgICAgICAgICAgIHJldHVybiAoKChmaXJzdEJ5dGUgJiAweDFGKSA8PCAxNikgJiAweEZGRkZGRkZGKSB8IHNlY29uZFRoaXJkQnl0ZXM7CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFNlZSBJU08gMTgwMDQ6MjAwNiwgNi40LjQgVGFibGUgNQoJICAgICAqLwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuQUxQSEFOVU1FUklDX0NIQVJTID0gJzAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiAkJSorLS4vOic7CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5HQjIzMTJfU1VCU0VUID0gMTsKCSAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcjsKCX0oKSk7CglEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEuZGVmYXVsdCA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXI7CgoJdmFyIFFSQ29kZURlY29kZXJNZXRhRGF0YSQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDEzIFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShRUkNvZGVEZWNvZGVyTWV0YURhdGEkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLyoqCgkgKiBNZXRhLWRhdGEgY29udGFpbmVyIGZvciBRUiBDb2RlIGRlY29kaW5nLiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBtYXkgYmUgdXNlZCB0byBjb252ZXkgaW5mb3JtYXRpb24gYmFjayB0byB0aGUKCSAqIGRlY29kaW5nIGNhbGxlci4gQ2FsbGVycyBhcmUgZXhwZWN0ZWQgdG8gcHJvY2VzcyB0aGlzLgoJICoKCSAqIEBzZWUgY29tLmdvb2dsZS56eGluZy5jb21tb24uRGVjb2RlclJlc3VsdCNnZXRPdGhlcigpCgkgKi8KCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUVJDb2RlRGVjb2Rlck1ldGFEYXRhKG1pcnJvcmVkKSB7CgkgICAgICAgIHRoaXMubWlycm9yZWQgPSBtaXJyb3JlZDsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0cnVlIGlmIHRoZSBRUiBDb2RlIHdhcyBtaXJyb3JlZC4KCSAgICAgKi8KCSAgICBRUkNvZGVEZWNvZGVyTWV0YURhdGEucHJvdG90eXBlLmlzTWlycm9yZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm1pcnJvcmVkOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQXBwbHkgdGhlIHJlc3VsdCBwb2ludHMnIG9yZGVyIGNvcnJlY3Rpb24gZHVlIHRvIG1pcnJvcmluZy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBwb2ludHMgQXJyYXkgb2YgcG9pbnRzIHRvIGFwcGx5IG1pcnJvciBjb3JyZWN0aW9uIHRvLgoJICAgICAqLwoJICAgIFFSQ29kZURlY29kZXJNZXRhRGF0YS5wcm90b3R5cGUuYXBwbHlNaXJyb3JlZENvcnJlY3Rpb24gPSBmdW5jdGlvbiAocG9pbnRzKSB7CgkgICAgICAgIGlmICghdGhpcy5taXJyb3JlZCB8fCBwb2ludHMgPT09IG51bGwgfHwgcG9pbnRzLmxlbmd0aCA8IDMpIHsKCSAgICAgICAgICAgIHJldHVybjsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYm90dG9tTGVmdCA9IHBvaW50c1swXTsKCSAgICAgICAgcG9pbnRzWzBdID0gcG9pbnRzWzJdOwoJICAgICAgICBwb2ludHNbMl0gPSBib3R0b21MZWZ0OwoJICAgICAgICAvLyBObyBuZWVkIHRvICdmaXgnIHRvcC1sZWZ0IGFuZCBhbGlnbm1lbnQgcGF0dGVybi4KCSAgICB9OwoJICAgIHJldHVybiBRUkNvZGVEZWNvZGVyTWV0YURhdGE7Cgl9KCkpOwoJUVJDb2RlRGVjb2Rlck1ldGFEYXRhJDEuZGVmYXVsdCA9IFFSQ29kZURlY29kZXJNZXRhRGF0YTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDIgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVjb2RlciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZWNvZGVyIHsqLwoJdmFyIENoZWNrc3VtRXhjZXB0aW9uXzEgPSBDaGVja3N1bUV4Y2VwdGlvbiQxOwoJdmFyIEJpdE1hdHJpeF8xJDIgPSBCaXRNYXRyaXgkMTsKCXZhciBHZW5lcmljR0ZfMSA9IEdlbmVyaWNHRiQxOwoJdmFyIFJlZWRTb2xvbW9uRGVjb2Rlcl8xID0gUmVlZFNvbG9tb25EZWNvZGVyJDE7Cgl2YXIgQml0TWF0cml4UGFyc2VyXzEgPSBCaXRNYXRyaXhQYXJzZXIkMTsKCXZhciBEYXRhQmxvY2tfMSA9IERhdGFCbG9jayQxOwoJdmFyIERlY29kZWRCaXRTdHJlYW1QYXJzZXJfMSA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXIkMTsKCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSQxID0gUVJDb2RlRGVjb2Rlck1ldGFEYXRhJDE7CgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlRoZSBtYWluIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgUVIgQ29kZSBkZWNvZGluZyAtLSBhcyBvcHBvc2VkIHRvIGxvY2F0aW5nIGFuZCBleHRyYWN0aW5nCgkgKiB0aGUgUVIgQ29kZSBmcm9tIGFuIGltYWdlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBEZWNvZGVyKCkgewoJICAgICAgICB0aGlzLnJzRGVjb2RlciA9IG5ldyBSZWVkU29sb21vbkRlY29kZXJfMS5kZWZhdWx0KEdlbmVyaWNHRl8xLmRlZmF1bHQuUVJfQ09ERV9GSUVMRF8yNTYpOwoJICAgIH0KCSAgICAvLyBwdWJsaWMgZGVjb2RlKGltYWdlOiBib29sZWFuW11bXSk6IERlY29kZXJSZXN1bHQgLyp0aHJvd3MgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiovIHsKCSAgICAvLyAgIHJldHVybiBkZWNvZGUoaW1hZ2UsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIDxwPkNvbnZlbmllbmNlIG1ldGhvZCB0aGF0IGNhbiBkZWNvZGUgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEgMkQgYXJyYXkgb2YgYm9vbGVhbnMuCgkgICAgICogInRydWUiIGlzIHRha2VuIHRvIG1lYW4gYSBibGFjayBtb2R1bGUuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGltYWdlIGJvb2xlYW5zIHJlcHJlc2VudGluZyB3aGl0ZS9ibGFjayBRUiBDb2RlIG1vZHVsZXMKCSAgICAgKiBAcGFyYW0gaGludHMgZGVjb2RpbmcgaGludHMgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBpbmZsdWVuY2UgZGVjb2RpbmcKCSAgICAgKiBAcmV0dXJuIHRleHQgYW5kIGJ5dGVzIGVuY29kZWQgd2l0aGluIHRoZSBRUiBDb2RlCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgdGhlIFFSIENvZGUgY2Fubm90IGJlIGRlY29kZWQKCSAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHMKCSAgICAgKi8KCSAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCb29sZWFuQXJyYXkgPSBmdW5jdGlvbiAoaW1hZ2UsIGhpbnRzKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeChCaXRNYXRyaXhfMSQyLmRlZmF1bHQucGFyc2VGcm9tQm9vbGVhbkFycmF5KGltYWdlKSwgaGludHMpOwoJICAgIH07CgkgICAgLy8gcHVibGljIGRlY29kZUJpdE1hdHJpeChiaXRzOiBCaXRNYXRyaXgpOiBEZWNvZGVyUmVzdWx0IC8qdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uLCBGb3JtYXRFeGNlcHRpb24qLyB7CgkgICAgLy8gICByZXR1cm4gZGVjb2RlKGJpdHMsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIDxwPkRlY29kZXMgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0uIEEgMSBvciAidHJ1ZSIgaXMgdGFrZW4gdG8gbWVhbiBhIGJsYWNrIG1vZHVsZS48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0gYml0cyBib29sZWFucyByZXByZXNlbnRpbmcgd2hpdGUvYmxhY2sgUVIgQ29kZSBtb2R1bGVzCgkgICAgICogQHBhcmFtIGhpbnRzIGRlY29kaW5nIGhpbnRzIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gaW5mbHVlbmNlIGRlY29kaW5nCgkgICAgICogQHJldHVybiB0ZXh0IGFuZCBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZQoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBRUiBDb2RlIGNhbm5vdCBiZSBkZWNvZGVkCgkgICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzCgkgICAgICovCgkgICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQml0TWF0cml4ID0gZnVuY3Rpb24gKGJpdHMsIGhpbnRzKSB7CgkgICAgICAgIC8vIENvbnN0cnVjdCBhIHBhcnNlciBhbmQgcmVhZCB2ZXJzaW9uLCBlcnJvci1jb3JyZWN0aW9uIGxldmVsCgkgICAgICAgIHZhciBwYXJzZXIgPSBuZXcgQml0TWF0cml4UGFyc2VyXzEuZGVmYXVsdChiaXRzKTsKCSAgICAgICAgdmFyIGV4ID0gbnVsbDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeFBhcnNlcihwYXJzZXIsIGhpbnRzKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZSAvKjogRm9ybWF0RXhjZXB0aW9uLCBDaGVja3N1bUV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICBleCA9IGU7CgkgICAgICAgIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIC8vIFJldmVydCB0aGUgYml0IG1hdHJpeAoJICAgICAgICAgICAgcGFyc2VyLnJlbWFzaygpOwoJICAgICAgICAgICAgLy8gV2lsbCBiZSBhdHRlbXB0aW5nIGEgbWlycm9yZWQgcmVhZGluZyBvZiB0aGUgdmVyc2lvbiBhbmQgZm9ybWF0IGluZm8uCgkgICAgICAgICAgICBwYXJzZXIuc2V0TWlycm9yKHRydWUpOwoJICAgICAgICAgICAgLy8gUHJlZW1wdGl2ZWx5IHJlYWQgdGhlIHZlcnNpb24uCgkgICAgICAgICAgICBwYXJzZXIucmVhZFZlcnNpb24oKTsKCSAgICAgICAgICAgIC8vIFByZWVtcHRpdmVseSByZWFkIHRoZSBmb3JtYXQgaW5mb3JtYXRpb24uCgkgICAgICAgICAgICBwYXJzZXIucmVhZEZvcm1hdEluZm9ybWF0aW9uKCk7CgkgICAgICAgICAgICAvKgoJICAgICAgICAgICAgICogU2luY2Ugd2UncmUgaGVyZSwgdGhpcyBtZWFucyB3ZSBoYXZlIHN1Y2Nlc3NmdWxseSBkZXRlY3RlZCBzb21lIGtpbmQKCSAgICAgICAgICAgICAqIG9mIHZlcnNpb24gYW5kIGZvcm1hdCBpbmZvcm1hdGlvbiB3aGVuIG1pcnJvcmVkLiBUaGlzIGlzIGEgZ29vZCBzaWduLAoJICAgICAgICAgICAgICogdGhhdCB0aGUgUVIgY29kZSBtYXkgYmUgbWlycm9yZWQsIGFuZCB3ZSBzaG91bGQgdHJ5IG9uY2UgbW9yZSB3aXRoIGEKCSAgICAgICAgICAgICAqIG1pcnJvcmVkIGNvbnRlbnQuCgkgICAgICAgICAgICAgKi8KCSAgICAgICAgICAgIC8vIFByZXBhcmUgZm9yIGEgbWlycm9yZWQgcmVhZGluZy4KCSAgICAgICAgICAgIHBhcnNlci5taXJyb3IoKTsKCSAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRlY29kZUJpdE1hdHJpeFBhcnNlcihwYXJzZXIsIGhpbnRzKTsKCSAgICAgICAgICAgIC8vIFN1Y2Nlc3MhIE5vdGlmeSB0aGUgY2FsbGVyIHRoYXQgdGhlIGNvZGUgd2FzIG1pcnJvcmVkLgoJICAgICAgICAgICAgcmVzdWx0LnNldE90aGVyKG5ldyBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSQxLmRlZmF1bHQodHJ1ZSkpOwoJICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZSAvKkZvcm1hdEV4Y2VwdGlvbiB8IENoZWNrc3VtRXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgIC8vIFRocm93IHRoZSBleGNlcHRpb24gZnJvbSB0aGUgb3JpZ2luYWwgcmVhZGluZwoJICAgICAgICAgICAgaWYgKGV4ICE9PSBudWxsKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgZXg7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0aHJvdyBlOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCaXRNYXRyaXhQYXJzZXIgPSBmdW5jdGlvbiAocGFyc2VyLCBoaW50cykgewoJICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjsKCSAgICAgICAgdmFyIHZlcnNpb24gPSBwYXJzZXIucmVhZFZlcnNpb24oKTsKCSAgICAgICAgdmFyIGVjTGV2ZWwgPSBwYXJzZXIucmVhZEZvcm1hdEluZm9ybWF0aW9uKCkuZ2V0RXJyb3JDb3JyZWN0aW9uTGV2ZWwoKTsKCSAgICAgICAgLy8gUmVhZCBjb2Rld29yZHMKCSAgICAgICAgdmFyIGNvZGV3b3JkcyA9IHBhcnNlci5yZWFkQ29kZXdvcmRzKCk7CgkgICAgICAgIC8vIFNlcGFyYXRlIGludG8gZGF0YSBibG9ja3MKCSAgICAgICAgdmFyIGRhdGFCbG9ja3MgPSBEYXRhQmxvY2tfMS5kZWZhdWx0LmdldERhdGFCbG9ja3MoY29kZXdvcmRzLCB2ZXJzaW9uLCBlY0xldmVsKTsKCSAgICAgICAgLy8gQ291bnQgdG90YWwgbnVtYmVyIG9mIGRhdGEgYnl0ZXMKCSAgICAgICAgdmFyIHRvdGFsQnl0ZXMgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgZGF0YUJsb2Nrc18xID0gX192YWx1ZXMkMihkYXRhQmxvY2tzKSwgZGF0YUJsb2Nrc18xXzEgPSBkYXRhQmxvY2tzXzEubmV4dCgpOyAhZGF0YUJsb2Nrc18xXzEuZG9uZTsgZGF0YUJsb2Nrc18xXzEgPSBkYXRhQmxvY2tzXzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRhdGFCbG9jayA9IGRhdGFCbG9ja3NfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgIHRvdGFsQnl0ZXMgKz0gZGF0YUJsb2NrLmdldE51bURhdGFDb2Rld29yZHMoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMV8xICYmICFkYXRhQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGRhdGFCbG9ja3NfMS5yZXR1cm4pKSBfYS5jYWxsKGRhdGFCbG9ja3NfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkodG90YWxCeXRlcyk7CgkgICAgICAgIHZhciByZXN1bHRPZmZzZXQgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgLy8gRXJyb3ItY29ycmVjdCBhbmQgY29weSBkYXRhIGJsb2NrcyB0b2dldGhlciBpbnRvIGEgc3RyZWFtIG9mIGJ5dGVzCgkgICAgICAgICAgICBmb3IgKHZhciBkYXRhQmxvY2tzXzIgPSBfX3ZhbHVlcyQyKGRhdGFCbG9ja3MpLCBkYXRhQmxvY2tzXzJfMSA9IGRhdGFCbG9ja3NfMi5uZXh0KCk7ICFkYXRhQmxvY2tzXzJfMS5kb25lOyBkYXRhQmxvY2tzXzJfMSA9IGRhdGFCbG9ja3NfMi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZGF0YUJsb2NrID0gZGF0YUJsb2Nrc18yXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgdmFyIGNvZGV3b3JkQnl0ZXMgPSBkYXRhQmxvY2suZ2V0Q29kZXdvcmRzKCk7CgkgICAgICAgICAgICAgICAgdmFyIG51bURhdGFDb2Rld29yZHMgPSBkYXRhQmxvY2suZ2V0TnVtRGF0YUNvZGV3b3JkcygpOwoJICAgICAgICAgICAgICAgIHRoaXMuY29ycmVjdEVycm9ycyhjb2Rld29yZEJ5dGVzLCBudW1EYXRhQ29kZXdvcmRzKTsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bURhdGFDb2Rld29yZHM7IGkrKykgewoJICAgICAgICAgICAgICAgICAgICByZXN1bHRCeXRlc1tyZXN1bHRPZmZzZXQrK10gPSBjb2Rld29yZEJ5dGVzW2ldOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMl8xICYmICFkYXRhQmxvY2tzXzJfMS5kb25lICYmIChfYiA9IGRhdGFCbG9ja3NfMi5yZXR1cm4pKSBfYi5jYWxsKGRhdGFCbG9ja3NfMik7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRGVjb2RlIHRoZSBjb250ZW50cyBvZiB0aGF0IHN0cmVhbSBvZiBieXRlcwoJICAgICAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcl8xLmRlZmF1bHQuZGVjb2RlKHJlc3VsdEJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5HaXZlbiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyByZWNlaXZlZCwgcG9zc2libHkgY29ycnVwdGVkIGJ5IGVycm9ycywgYXR0ZW1wdHMgdG8KCSAgICAgKiBjb3JyZWN0IHRoZSBlcnJvcnMgaW4tcGxhY2UgdXNpbmcgUmVlZC1Tb2xvbW9uIGVycm9yIGNvcnJlY3Rpb24uPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGNvZGV3b3JkQnl0ZXMgZGF0YSBhbmQgZXJyb3IgY29ycmVjdGlvbiBjb2Rld29yZHMKCSAgICAgKiBAcGFyYW0gbnVtRGF0YUNvZGV3b3JkcyBudW1iZXIgb2YgY29kZXdvcmRzIHRoYXQgYXJlIGRhdGEgYnl0ZXMKCSAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHMKCSAgICAgKi8KCSAgICBEZWNvZGVyLnByb3RvdHlwZS5jb3JyZWN0RXJyb3JzID0gZnVuY3Rpb24gKGNvZGV3b3JkQnl0ZXMsIG51bURhdGFDb2Rld29yZHMgLyppbnQqLykgewoJICAgICAgICAvLyBjb25zdCBudW1Db2Rld29yZHMgPSBjb2Rld29yZEJ5dGVzLmxlbmd0aDsKCSAgICAgICAgLy8gRmlyc3QgcmVhZCBpbnRvIGFuIGFycmF5IG9mIGludHMKCSAgICAgICAgdmFyIGNvZGV3b3Jkc0ludHMgPSBuZXcgSW50MzJBcnJheShjb2Rld29yZEJ5dGVzKTsKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG5vdCByZWFseSBuZWNlc3NhcnkgdG8gdHJhbnNmb3JtIHRvIGludHM/IGNvdWxkIHJlZGVzaWduIGV2ZXJ5dGhpbmcgdG8gd29yayB3aXRoIHVuc2lnbmVkIGJ5dGVzPwoJICAgICAgICAvLyBjb25zdCBjb2Rld29yZHNJbnRzID0gbmV3IEludDMyQXJyYXkobnVtQ29kZXdvcmRzKQoJICAgICAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IG51bUNvZGV3b3JkczsgaSsrKSB7CgkgICAgICAgIC8vICAgY29kZXdvcmRzSW50c1tpXSA9IGNvZGV3b3JkQnl0ZXNbaV0gJiAweEZGCgkgICAgICAgIC8vIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHRoaXMucnNEZWNvZGVyLmRlY29kZShjb2Rld29yZHNJbnRzLCBjb2Rld29yZEJ5dGVzLmxlbmd0aCAtIG51bURhdGFDb2Rld29yZHMpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChpZ25vcmVkIC8qOiBSZWVkU29sb21vbkV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgQ2hlY2tzdW1FeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29weSBiYWNrIGludG8gYXJyYXkgb2YgYnl0ZXMgLS0gb25seSBuZWVkIHRvIHdvcnJ5IGFib3V0IHRoZSBieXRlcyB0aGF0IHdlcmUgZGF0YQoJICAgICAgICAvLyBXZSBkb24ndCBjYXJlIGFib3V0IGVycm9ycyBpbiB0aGUgZXJyb3ItY29ycmVjdGlvbiBjb2Rld29yZHMKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1EYXRhQ29kZXdvcmRzOyBpKyspIHsKCSAgICAgICAgICAgIGNvZGV3b3JkQnl0ZXNbaV0gPSAvKihieXRlKSAqLyBjb2Rld29yZHNJbnRzW2ldOwoJICAgICAgICB9CgkgICAgfTsKCSAgICByZXR1cm4gRGVjb2RlcjsKCX0oKSk7CglEZWNvZGVyJDEuZGVmYXVsdCA9IERlY29kZXI7CgoJdmFyIERldGVjdG9yJDEgPSB7fTsKCgl2YXIgTWF0aFV0aWxzJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMTIgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdGhVdGlscyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5kZXRlY3RvciB7Ki8KCS8qKgoJICogR2VuZXJhbCBtYXRoLXJlbGF0ZWQgYW5kIG51bWVyaWMgdXRpbGl0eSBmdW5jdGlvbnMuCgkgKi8KCXZhciBNYXRoVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gTWF0aFV0aWxzKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiBFbmRzIHVwIGJlaW5nIGEgYml0IGZhc3RlciB0aGFuIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0uIFRoaXMgbWVyZWx5IHJvdW5kcyBpdHMKCSAgICAgKiBhcmd1bWVudCB0byB0aGUgbmVhcmVzdCBpbnQsIHdoZXJlIHguNSByb3VuZHMgdXAgdG8geCsxLiBTZW1hbnRpY3Mgb2YgdGhpcyBzaG9ydGN1dAoJICAgICAqIGRpZmZlciBzbGlnaHRseSBmcm9tIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0gaW4gdGhhdCBoYWxmIHJvdW5kcyBkb3duIGZvciBuZWdhdGl2ZQoJICAgICAqIHZhbHVlcy4gLTIuNSByb3VuZHMgdG8gLTMsIG5vdCAtMi4gRm9yIHB1cnBvc2VzIGhlcmUgaXQgbWFrZXMgbm8gZGlmZmVyZW5jZS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBkIHJlYWwgdmFsdWUgdG8gcm91bmQKCSAgICAgKiBAcmV0dXJuIG5lYXJlc3Qge0Bjb2RlIGludH0KCSAgICAgKi8KCSAgICBNYXRoVXRpbHMucm91bmQgPSBmdW5jdGlvbiAoZCAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE5hTiA9PT0gZCkKCSAgICAgICAgICAgIHJldHVybiAwOwoJICAgICAgICBpZiAoZCA8PSBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUikKCSAgICAgICAgICAgIHJldHVybiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUjsKCSAgICAgICAgaWYgKGQgPj0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpCgkgICAgICAgICAgICByZXR1cm4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgICAgIHJldHVybiAvKihpbnQpICovIChkICsgKGQgPCAwLjAgPyAtMC41IDogMC41KSkgfCAwOwoJICAgIH07CgkgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG1heWJlIHJlbW92ZSByb3VuZCBtZXRob2QgYW5kIGNhbGwgZGlyZWN0bHkgTWF0aC5yb3VuZCwgaXQgbG9va3MgbGlrZSBpdCBkb2Vzbid0IG1ha2Ugc2Vuc2UgZm9yIGpzCgkgICAgLyoqCgkgICAgICogQHBhcmFtIGFYIHBvaW50IEEgeCBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGFZIHBvaW50IEEgeSBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGJYIHBvaW50IEIgeCBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGJZIHBvaW50IEIgeSBjb29yZGluYXRlCgkgICAgICogQHJldHVybiBFdWNsaWRlYW4gZGlzdGFuY2UgYmV0d2VlbiBwb2ludHMgQSBhbmQgQgoJICAgICAqLwoJICAgIE1hdGhVdGlscy5kaXN0YW5jZSA9IGZ1bmN0aW9uIChhWCAvKmZsb2F0fGludCovLCBhWSAvKmZsb2F0fGludCovLCBiWCAvKmZsb2F0fGludCovLCBiWSAvKmZsb2F0fGludCovKSB7CgkgICAgICAgIHZhciB4RGlmZiA9IGFYIC0gYlg7CgkgICAgICAgIHZhciB5RGlmZiA9IGFZIC0gYlk7CgkgICAgICAgIHJldHVybiAvKihmbG9hdCkgKi8gTWF0aC5zcXJ0KHhEaWZmICogeERpZmYgKyB5RGlmZiAqIHlEaWZmKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBhWCBwb2ludCBBIHggY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBhWSBwb2ludCBBIHkgY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBiWCBwb2ludCBCIHggY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBiWSBwb2ludCBCIHkgY29vcmRpbmF0ZQoJICAgICAqIEByZXR1cm4gRXVjbGlkZWFuIGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzIEEgYW5kIEIKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgc3RhdGljIGRpc3RhbmNlKGFYOiBudW1iZXIgLyppbnQqLywgYVk6IG51bWJlciAvKmludCovLCBiWDogbnVtYmVyIC8qaW50Ki8sIGJZOiBudW1iZXIgLyppbnQqLyk6IGZsb2F0IHsKCSAgICAvLyAgIGNvbnN0IHhEaWZmID0gYVggLSBiWAoJICAgIC8vICAgY29uc3QgeURpZmYgPSBhWSAtIGJZCgkgICAgLy8gICByZXR1cm4gKGZsb2F0KSBNYXRoLnNxcnQoeERpZmYgKiB4RGlmZiArIHlEaWZmICogeURpZmYpOwoJICAgIC8vIH0KCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYXJyYXkgdmFsdWVzIHRvIHN1bQoJICAgICAqIEByZXR1cm4gc3VtIG9mIHZhbHVlcyBpbiBhcnJheQoJICAgICAqLwoJICAgIE1hdGhVdGlscy5zdW0gPSBmdW5jdGlvbiAoYXJyYXkpIHsKCSAgICAgICAgdmFyIGNvdW50ID0gMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gYXJyYXkubGVuZ3RoOyBpICE9PSBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgYSA9IGFycmF5W2ldOwoJICAgICAgICAgICAgY291bnQgKz0gYTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gY291bnQ7CgkgICAgfTsKCSAgICByZXR1cm4gTWF0aFV0aWxzOwoJfSgpKTsKCU1hdGhVdGlscyQxLmRlZmF1bHQgPSBNYXRoVXRpbHM7CgoJdmFyIERldGVjdG9yUmVzdWx0JDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KERldGVjdG9yUmVzdWx0JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGV0ZWN0aW5nIGEgYmFyY29kZSBpbiBhbiBpbWFnZS4gVGhpcyBpbmNsdWRlcyB0aGUgcmF3CgkgKiBtYXRyaXggb2YgYmxhY2svd2hpdGUgcGl4ZWxzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGJhcmNvZGUsIGFuZCBwb3NzaWJseSBwb2ludHMgb2YgaW50ZXJlc3QKCSAqIGluIHRoZSBpbWFnZSwgbGlrZSB0aGUgbG9jYXRpb24gb2YgZmluZGVyIHBhdHRlcm5zIG9yIGNvcm5lcnMgb2YgdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGV0ZWN0b3JSZXN1bHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gRGV0ZWN0b3JSZXN1bHQoYml0cywgcG9pbnRzKSB7CgkgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7CgkgICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzOwoJICAgIH0KCSAgICBEZXRlY3RvclJlc3VsdC5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYml0czsKCSAgICB9OwoJICAgIERldGVjdG9yUmVzdWx0LnByb3RvdHlwZS5nZXRQb2ludHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnBvaW50czsKCSAgICB9OwoJICAgIHJldHVybiBEZXRlY3RvclJlc3VsdDsKCX0oKSk7CglEZXRlY3RvclJlc3VsdCQxLmRlZmF1bHQgPSBEZXRlY3RvclJlc3VsdDsKCgl2YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSQxID0ge307CgoJdmFyIERlZmF1bHRHcmlkU2FtcGxlciQxID0ge307CgoJdmFyIEdyaWRTYW1wbGVyJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRTYW1wbGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDUgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBJbXBsZW1lbnRhdGlvbnMgb2YgdGhpcyBjbGFzcyBjYW4sIGdpdmVuIGxvY2F0aW9ucyBvZiBmaW5kZXIgcGF0dGVybnMgZm9yIGEgUVIgY29kZSBpbiBhbgoJICogaW1hZ2UsIHNhbXBsZSB0aGUgcmlnaHQgcG9pbnRzIGluIHRoZSBpbWFnZSB0byByZWNvbnN0cnVjdCB0aGUgUVIgY29kZSwgYWNjb3VudGluZyBmb3IKCSAqIHBlcnNwZWN0aXZlIGRpc3RvcnRpb24uIEl0IGlzIGFic3RyYWN0ZWQgc2luY2UgaXQgaXMgcmVsYXRpdmVseSBleHBlbnNpdmUgYW5kIHNob3VsZCBiZSBhbGxvd2VkCgkgKiB0byB0YWtlIGFkdmFudGFnZSBvZiBwbGF0Zm9ybS1zcGVjaWZpYyBvcHRpbWl6ZWQgaW1wbGVtZW50YXRpb25zLCBsaWtlIFN1bidzIEphdmEgQWR2YW5jZWQKCSAqIEltYWdpbmcgbGlicmFyeSwgYnV0IHdoaWNoIG1heSBub3QgYmUgYXZhaWxhYmxlIGluIG90aGVyIGVudmlyb25tZW50cyBzdWNoIGFzIEoyTUUsIGFuZCB2aWNlCgkgKiB2ZXJzYS4KCSAqCgkgKiBUaGUgaW1wbGVtZW50YXRpb24gdXNlZCBjYW4gYmUgY29udHJvbGxlZCBieSBjYWxsaW5nIHtAbGluayAjc2V0R3JpZFNhbXBsZXIoR3JpZFNhbXBsZXIpfQoJICogd2l0aCBhbiBpbnN0YW5jZSBvZiBhIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgdGhpcyBpbnRlcmZhY2UuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEdyaWRTYW1wbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEdyaWRTYW1wbGVyKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5DaGVja3MgYSBzZXQgb2YgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIHRyYW5zZm9ybWVkIHRvIHNhbXBsZSBwb2ludHMgb24gYW4gaW1hZ2UgYWdhaW5zdAoJICAgICAqIHRoZSBpbWFnZSdzIGRpbWVuc2lvbnMgdG8gc2VlIGlmIHRoZSBwb2ludCBhcmUgZXZlbiB3aXRoaW4gdGhlIGltYWdlLjwvcD4KCSAgICAgKgoJICAgICAqIDxwPlRoaXMgbWV0aG9kIHdpbGwgYWN0dWFsbHkgIm51ZGdlIiB0aGUgZW5kcG9pbnRzIGJhY2sgb250byB0aGUgaW1hZ2UgaWYgdGhleSBhcmUgZm91bmQgdG8gYmUKCSAgICAgKiBiYXJlbHkgKGxlc3MgdGhhbiAxIHBpeGVsKSBvZmYgdGhlIGltYWdlLiBUaGlzIGFjY291bnRzIGZvciBpbXBlcmZlY3QgZGV0ZWN0aW9uIG9mIGZpbmRlcgoJICAgICAqIHBhdHRlcm5zIGluIGFuIGltYWdlIHdoZXJlIHRoZSBRUiBDb2RlIHJ1bnMgYWxsIHRoZSB3YXkgdG8gdGhlIGltYWdlIGJvcmRlci48L3A+CgkgICAgICoKCSAgICAgKiA8cD5Gb3IgZWZmaWNpZW5jeSwgdGhlIG1ldGhvZCB3aWxsIGNoZWNrIHBvaW50cyBmcm9tIGVpdGhlciBlbmQgb2YgdGhlIGxpbmUgdW50aWwgb25lIGlzIGZvdW5kCgkgICAgICogdG8gYmUgd2l0aGluIHRoZSBpbWFnZS4gQmVjYXVzZSB0aGUgc2V0IG9mIHBvaW50cyBhcmUgYXNzdW1lZCB0byBiZSBsaW5lYXIsIHRoaXMgaXMgdmFsaWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGltYWdlIGltYWdlIGludG8gd2hpY2ggdGhlIHBvaW50cyBzaG91bGQgbWFwCgkgICAgICogQHBhcmFtIHBvaW50cyBhY3R1YWwgcG9pbnRzIGluIHgxLHkxLC4uLix4bix5biBmb3JtCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhbiBlbmRwb2ludCBpcyBsaWVzIG91dHNpZGUgdGhlIGltYWdlIGJvdW5kYXJpZXMKCSAgICAgKi8KCSAgICBHcmlkU2FtcGxlci5jaGVja0FuZE51ZGdlUG9pbnRzID0gZnVuY3Rpb24gKGltYWdlLCBwb2ludHMpIHsKCSAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IGltYWdlLmdldEhlaWdodCgpOwoJICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gc3RhcnQgdW50aWwgd2Ugc2VlIHNvbWUgdGhhdCBhcmUgT0s6CgkgICAgICAgIHZhciBudWRnZWQgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBwb2ludHMubGVuZ3RoICYmIG51ZGdlZDsgb2Zmc2V0ICs9IDIpIHsKCSAgICAgICAgICAgIHZhciB4ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0XSk7CgkgICAgICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IocG9pbnRzW29mZnNldCArIDFdKTsKCSAgICAgICAgICAgIGlmICh4IDwgLTEgfHwgeCA+IHdpZHRoIHx8IHkgPCAtMSB8fCB5ID4gaGVpZ2h0KSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBudWRnZWQgPSBmYWxzZTsKCSAgICAgICAgICAgIGlmICh4ID09PSAtMSkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gMC4wOwoJICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIGlmICh4ID09PSB3aWR0aCkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gd2lkdGggLSAxOwoJICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAoeSA9PT0gLTEpIHsKCSAgICAgICAgICAgICAgICBwb2ludHNbb2Zmc2V0ICsgMV0gPSAwLjA7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHkgPT09IGhlaWdodCkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IGhlaWdodCAtIDE7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gZW5kOgoJICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSBwb2ludHMubGVuZ3RoIC0gMjsgb2Zmc2V0ID49IDAgJiYgbnVkZ2VkOyBvZmZzZXQgLT0gMikgewoJICAgICAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKHBvaW50c1tvZmZzZXRdKTsKCSAgICAgICAgICAgIHZhciB5ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0ICsgMV0pOwoJICAgICAgICAgICAgaWYgKHggPCAtMSB8fCB4ID4gd2lkdGggfHwgeSA8IC0xIHx8IHkgPiBoZWlnaHQpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQ1LmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIG51ZGdlZCA9IGZhbHNlOwoJICAgICAgICAgICAgaWYgKHggPT09IC0xKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSAwLjA7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHggPT09IHdpZHRoKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSB3aWR0aCAtIDE7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmICh5ID09PSAtMSkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IDAuMDsKCSAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSBpZiAoeSA9PT0gaGVpZ2h0KSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldCArIDFdID0gaGVpZ2h0IC0gMTsKCSAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICByZXR1cm4gR3JpZFNhbXBsZXI7Cgl9KCkpOwoJR3JpZFNhbXBsZXIkMS5kZWZhdWx0ID0gR3JpZFNhbXBsZXI7CgoJdmFyIFBlcnNwZWN0aXZlVHJhbnNmb3JtJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFBlcnNwZWN0aXZlVHJhbnNmb3JtJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyoqCgkgKiA8cD5UaGlzIGNsYXNzIGltcGxlbWVudHMgYSBwZXJzcGVjdGl2ZSB0cmFuc2Zvcm0gaW4gdHdvIGRpbWVuc2lvbnMuIEdpdmVuIGZvdXIgc291cmNlIGFuZCBmb3VyCgkgKiBkZXN0aW5hdGlvbiBwb2ludHMsIGl0IHdpbGwgY29tcHV0ZSB0aGUgdHJhbnNmb3JtYXRpb24gaW1wbGllZCBiZXR3ZWVuIHRoZW0uIFRoZSBjb2RlIGlzIGJhc2VkCgkgKiBkaXJlY3RseSB1cG9uIHNlY3Rpb24gMy40LjIgb2YgR2VvcmdlIFdvbGJlcmcncyAiRGlnaXRhbCBJbWFnZSBXYXJwaW5nIjsgc2VlIHBhZ2VzIDU0LTU2LjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUGVyc3BlY3RpdmVUcmFuc2Zvcm0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUGVyc3BlY3RpdmVUcmFuc2Zvcm0oYTExIC8qZmxvYXQqLywgYTIxIC8qZmxvYXQqLywgYTMxIC8qZmxvYXQqLywgYTEyIC8qZmxvYXQqLywgYTIyIC8qZmxvYXQqLywgYTMyIC8qZmxvYXQqLywgYTEzIC8qZmxvYXQqLywgYTIzIC8qZmxvYXQqLywgYTMzIC8qZmxvYXQqLykgewoJICAgICAgICB0aGlzLmExMSA9IGExMTsKCSAgICAgICAgdGhpcy5hMjEgPSBhMjE7CgkgICAgICAgIHRoaXMuYTMxID0gYTMxOwoJICAgICAgICB0aGlzLmExMiA9IGExMjsKCSAgICAgICAgdGhpcy5hMjIgPSBhMjI7CgkgICAgICAgIHRoaXMuYTMyID0gYTMyOwoJICAgICAgICB0aGlzLmExMyA9IGExMzsKCSAgICAgICAgdGhpcy5hMjMgPSBhMjM7CgkgICAgICAgIHRoaXMuYTMzID0gYTMzOwoJICAgIH0KCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9RdWFkcmlsYXRlcmFsID0gZnVuY3Rpb24gKHgwIC8qZmxvYXQqLywgeTAgLypmbG9hdCovLCB4MSAvKmZsb2F0Ki8sIHkxIC8qZmxvYXQqLywgeDIgLypmbG9hdCovLCB5MiAvKmZsb2F0Ki8sIHgzIC8qZmxvYXQqLywgeTMgLypmbG9hdCovLCB4MHAgLypmbG9hdCovLCB5MHAgLypmbG9hdCovLCB4MXAgLypmbG9hdCovLCB5MXAgLypmbG9hdCovLCB4MnAgLypmbG9hdCovLCB5MnAgLypmbG9hdCovLCB4M3AgLypmbG9hdCovLCB5M3AgLypmbG9hdCovKSB7CgkgICAgICAgIHZhciBxVG9TID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm0ucXVhZHJpbGF0ZXJhbFRvU3F1YXJlKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5Myk7CgkgICAgICAgIHZhciBzVG9RID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHgwcCwgeTBwLCB4MXAsIHkxcCwgeDJwLCB5MnAsIHgzcCwgeTNwKTsKCSAgICAgICAgcmV0dXJuIHNUb1EudGltZXMocVRvUyk7CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5wcm90b3R5cGUudHJhbnNmb3JtUG9pbnRzID0gZnVuY3Rpb24gKHBvaW50cykgewoJICAgICAgICB2YXIgbWF4ID0gcG9pbnRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGExMSA9IHRoaXMuYTExOwoJICAgICAgICB2YXIgYTEyID0gdGhpcy5hMTI7CgkgICAgICAgIHZhciBhMTMgPSB0aGlzLmExMzsKCSAgICAgICAgdmFyIGEyMSA9IHRoaXMuYTIxOwoJICAgICAgICB2YXIgYTIyID0gdGhpcy5hMjI7CgkgICAgICAgIHZhciBhMjMgPSB0aGlzLmEyMzsKCSAgICAgICAgdmFyIGEzMSA9IHRoaXMuYTMxOwoJICAgICAgICB2YXIgYTMyID0gdGhpcy5hMzI7CgkgICAgICAgIHZhciBhMzMgPSB0aGlzLmEzMzsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkgKz0gMikgewoJICAgICAgICAgICAgdmFyIHggPSBwb2ludHNbaV07CgkgICAgICAgICAgICB2YXIgeSA9IHBvaW50c1tpICsgMV07CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSBhMTMgKiB4ICsgYTIzICogeSArIGEzMzsKCSAgICAgICAgICAgIHBvaW50c1tpXSA9IChhMTEgKiB4ICsgYTIxICogeSArIGEzMSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHBvaW50c1tpICsgMV0gPSAoYTEyICogeCArIGEyMiAqIHkgKyBhMzIpIC8gZGVub21pbmF0b3I7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50cmFuc2Zvcm1Qb2ludHNXaXRoVmFsdWVzID0gZnVuY3Rpb24gKHhWYWx1ZXMsIHlWYWx1ZXMpIHsKCSAgICAgICAgdmFyIGExMSA9IHRoaXMuYTExOwoJICAgICAgICB2YXIgYTEyID0gdGhpcy5hMTI7CgkgICAgICAgIHZhciBhMTMgPSB0aGlzLmExMzsKCSAgICAgICAgdmFyIGEyMSA9IHRoaXMuYTIxOwoJICAgICAgICB2YXIgYTIyID0gdGhpcy5hMjI7CgkgICAgICAgIHZhciBhMjMgPSB0aGlzLmEyMzsKCSAgICAgICAgdmFyIGEzMSA9IHRoaXMuYTMxOwoJICAgICAgICB2YXIgYTMyID0gdGhpcy5hMzI7CgkgICAgICAgIHZhciBhMzMgPSB0aGlzLmEzMzsKCSAgICAgICAgdmFyIG4gPSB4VmFsdWVzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHsKCSAgICAgICAgICAgIHZhciB4ID0geFZhbHVlc1tpXTsKCSAgICAgICAgICAgIHZhciB5ID0geVZhbHVlc1tpXTsKCSAgICAgICAgICAgIHZhciBkZW5vbWluYXRvciA9IGExMyAqIHggKyBhMjMgKiB5ICsgYTMzOwoJICAgICAgICAgICAgeFZhbHVlc1tpXSA9IChhMTEgKiB4ICsgYTIxICogeSArIGEzMSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHlWYWx1ZXNbaV0gPSAoYTEyICogeCArIGEyMiAqIHkgKyBhMzIpIC8gZGVub21pbmF0b3I7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnNxdWFyZVRvUXVhZHJpbGF0ZXJhbCA9IGZ1bmN0aW9uICh4MCAvKmZsb2F0Ki8sIHkwIC8qZmxvYXQqLywgeDEgLypmbG9hdCovLCB5MSAvKmZsb2F0Ki8sIHgyIC8qZmxvYXQqLywgeTIgLypmbG9hdCovLCB4MyAvKmZsb2F0Ki8sIHkzIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgZHgzID0geDAgLSB4MSArIHgyIC0geDM7CgkgICAgICAgIHZhciBkeTMgPSB5MCAtIHkxICsgeTIgLSB5MzsKCSAgICAgICAgaWYgKGR4MyA9PT0gMC4wICYmIGR5MyA9PT0gMC4wKSB7CgkgICAgICAgICAgICAvLyBBZmZpbmUKCSAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0oeDEgLSB4MCwgeDIgLSB4MSwgeDAsIHkxIC0geTAsIHkyIC0geTEsIHkwLCAwLjAsIDAuMCwgMS4wKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHZhciBkeDEgPSB4MSAtIHgyOwoJICAgICAgICAgICAgdmFyIGR4MiA9IHgzIC0geDI7CgkgICAgICAgICAgICB2YXIgZHkxID0geTEgLSB5MjsKCSAgICAgICAgICAgIHZhciBkeTIgPSB5MyAtIHkyOwoJICAgICAgICAgICAgdmFyIGRlbm9taW5hdG9yID0gZHgxICogZHkyIC0gZHgyICogZHkxOwoJICAgICAgICAgICAgdmFyIGExMyA9IChkeDMgKiBkeTIgLSBkeDIgKiBkeTMpIC8gZGVub21pbmF0b3I7CgkgICAgICAgICAgICB2YXIgYTIzID0gKGR4MSAqIGR5MyAtIGR4MyAqIGR5MSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0oeDEgLSB4MCArIGExMyAqIHgxLCB4MyAtIHgwICsgYTIzICogeDMsIHgwLCB5MSAtIHkwICsgYTEzICogeTEsIHkzIC0geTAgKyBhMjMgKiB5MywgeTAsIGExMywgYTIzLCAxLjApOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9TcXVhcmUgPSBmdW5jdGlvbiAoeDAgLypmbG9hdCovLCB5MCAvKmZsb2F0Ki8sIHgxIC8qZmxvYXQqLywgeTEgLypmbG9hdCovLCB4MiAvKmZsb2F0Ki8sIHkyIC8qZmxvYXQqLywgeDMgLypmbG9hdCovLCB5MyAvKmZsb2F0Ki8pIHsKCSAgICAgICAgLy8gSGVyZSwgdGhlIGFkam9pbnQgc2VydmVzIGFzIHRoZSBpbnZlcnNlOgoJICAgICAgICByZXR1cm4gUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5MykuYnVpbGRBZGpvaW50KCk7CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5wcm90b3R5cGUuYnVpbGRBZGpvaW50ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBBZGpvaW50IGlzIHRoZSB0cmFuc3Bvc2Ugb2YgdGhlIGNvZmFjdG9yIG1hdHJpeDoKCSAgICAgICAgcmV0dXJuIG5ldyBQZXJzcGVjdGl2ZVRyYW5zZm9ybSh0aGlzLmEyMiAqIHRoaXMuYTMzIC0gdGhpcy5hMjMgKiB0aGlzLmEzMiwgdGhpcy5hMjMgKiB0aGlzLmEzMSAtIHRoaXMuYTIxICogdGhpcy5hMzMsIHRoaXMuYTIxICogdGhpcy5hMzIgLSB0aGlzLmEyMiAqIHRoaXMuYTMxLCB0aGlzLmExMyAqIHRoaXMuYTMyIC0gdGhpcy5hMTIgKiB0aGlzLmEzMywgdGhpcy5hMTEgKiB0aGlzLmEzMyAtIHRoaXMuYTEzICogdGhpcy5hMzEsIHRoaXMuYTEyICogdGhpcy5hMzEgLSB0aGlzLmExMSAqIHRoaXMuYTMyLCB0aGlzLmExMiAqIHRoaXMuYTIzIC0gdGhpcy5hMTMgKiB0aGlzLmEyMiwgdGhpcy5hMTMgKiB0aGlzLmEyMSAtIHRoaXMuYTExICogdGhpcy5hMjMsIHRoaXMuYTExICogdGhpcy5hMjIgLSB0aGlzLmExMiAqIHRoaXMuYTIxKTsKCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50aW1lcyA9IGZ1bmN0aW9uIChvdGhlcikgewoJICAgICAgICByZXR1cm4gbmV3IFBlcnNwZWN0aXZlVHJhbnNmb3JtKHRoaXMuYTExICogb3RoZXIuYTExICsgdGhpcy5hMjEgKiBvdGhlci5hMTIgKyB0aGlzLmEzMSAqIG90aGVyLmExMywgdGhpcy5hMTEgKiBvdGhlci5hMjEgKyB0aGlzLmEyMSAqIG90aGVyLmEyMiArIHRoaXMuYTMxICogb3RoZXIuYTIzLCB0aGlzLmExMSAqIG90aGVyLmEzMSArIHRoaXMuYTIxICogb3RoZXIuYTMyICsgdGhpcy5hMzEgKiBvdGhlci5hMzMsIHRoaXMuYTEyICogb3RoZXIuYTExICsgdGhpcy5hMjIgKiBvdGhlci5hMTIgKyB0aGlzLmEzMiAqIG90aGVyLmExMywgdGhpcy5hMTIgKiBvdGhlci5hMjEgKyB0aGlzLmEyMiAqIG90aGVyLmEyMiArIHRoaXMuYTMyICogb3RoZXIuYTIzLCB0aGlzLmExMiAqIG90aGVyLmEzMSArIHRoaXMuYTIyICogb3RoZXIuYTMyICsgdGhpcy5hMzIgKiBvdGhlci5hMzMsIHRoaXMuYTEzICogb3RoZXIuYTExICsgdGhpcy5hMjMgKiBvdGhlci5hMTIgKyB0aGlzLmEzMyAqIG90aGVyLmExMywgdGhpcy5hMTMgKiBvdGhlci5hMjEgKyB0aGlzLmEyMyAqIG90aGVyLmEyMiArIHRoaXMuYTMzICogb3RoZXIuYTIzLCB0aGlzLmExMyAqIG90aGVyLmEzMSArIHRoaXMuYTIzICogb3RoZXIuYTMyICsgdGhpcy5hMzMgKiBvdGhlci5hMzMpOwoJICAgIH07CgkgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtOwoJfSgpKTsKCVBlcnNwZWN0aXZlVHJhbnNmb3JtJDEuZGVmYXVsdCA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDIgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVmYXVsdEdyaWRTYW1wbGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJdmFyIEdyaWRTYW1wbGVyXzEgPSBHcmlkU2FtcGxlciQxOwoJdmFyIEJpdE1hdHJpeF8xJDEgPSBCaXRNYXRyaXgkMTsKCXZhciBQZXJzcGVjdGl2ZVRyYW5zZm9ybV8xJDEgPSBQZXJzcGVjdGl2ZVRyYW5zZm9ybSQxOwoJdmFyIE5vdEZvdW5kRXhjZXB0aW9uXzEkNCA9IE5vdEZvdW5kRXhjZXB0aW9uJDE7CgkvKioKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBEZWZhdWx0R3JpZFNhbXBsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDIoRGVmYXVsdEdyaWRTYW1wbGVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIERlZmF1bHRHcmlkU2FtcGxlcigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICAvKkBPdmVycmlkZSovCgkgICAgRGVmYXVsdEdyaWRTYW1wbGVyLnByb3RvdHlwZS5zYW1wbGVHcmlkID0gZnVuY3Rpb24gKGltYWdlLCBkaW1lbnNpb25YIC8qaW50Ki8sIGRpbWVuc2lvblkgLyppbnQqLywgcDFUb1ggLypmbG9hdCovLCBwMVRvWSAvKmZsb2F0Ki8sIHAyVG9YIC8qZmxvYXQqLywgcDJUb1kgLypmbG9hdCovLCBwM1RvWCAvKmZsb2F0Ki8sIHAzVG9ZIC8qZmxvYXQqLywgcDRUb1ggLypmbG9hdCovLCBwNFRvWSAvKmZsb2F0Ki8sIHAxRnJvbVggLypmbG9hdCovLCBwMUZyb21ZIC8qZmxvYXQqLywgcDJGcm9tWCAvKmZsb2F0Ki8sIHAyRnJvbVkgLypmbG9hdCovLCBwM0Zyb21YIC8qZmxvYXQqLywgcDNGcm9tWSAvKmZsb2F0Ki8sIHA0RnJvbVggLypmbG9hdCovLCBwNEZyb21ZIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgdHJhbnNmb3JtID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm1fMSQxLmRlZmF1bHQucXVhZHJpbGF0ZXJhbFRvUXVhZHJpbGF0ZXJhbChwMVRvWCwgcDFUb1ksIHAyVG9YLCBwMlRvWSwgcDNUb1gsIHAzVG9ZLCBwNFRvWCwgcDRUb1ksIHAxRnJvbVgsIHAxRnJvbVksIHAyRnJvbVgsIHAyRnJvbVksIHAzRnJvbVgsIHAzRnJvbVksIHA0RnJvbVgsIHA0RnJvbVkpOwoJICAgICAgICByZXR1cm4gdGhpcy5zYW1wbGVHcmlkV2l0aFRyYW5zZm9ybShpbWFnZSwgZGltZW5zaW9uWCwgZGltZW5zaW9uWSwgdHJhbnNmb3JtKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBEZWZhdWx0R3JpZFNhbXBsZXIucHJvdG90eXBlLnNhbXBsZUdyaWRXaXRoVHJhbnNmb3JtID0gZnVuY3Rpb24gKGltYWdlLCBkaW1lbnNpb25YIC8qaW50Ki8sIGRpbWVuc2lvblkgLyppbnQqLywgdHJhbnNmb3JtKSB7CgkgICAgICAgIGlmIChkaW1lbnNpb25YIDw9IDAgfHwgZGltZW5zaW9uWSA8PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXhfMSQxLmRlZmF1bHQoZGltZW5zaW9uWCwgZGltZW5zaW9uWSk7CgkgICAgICAgIHZhciBwb2ludHMgPSBuZXcgRmxvYXQzMkFycmF5KDIgKiBkaW1lbnNpb25YKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBkaW1lbnNpb25ZOyB5KyspIHsKCSAgICAgICAgICAgIHZhciBtYXggPSBwb2ludHMubGVuZ3RoOwoJICAgICAgICAgICAgdmFyIGlWYWx1ZSA9IHkgKyAwLjU7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1heDsgeCArPSAyKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW3hdID0gKHggLyAyKSArIDAuNTsKCSAgICAgICAgICAgICAgICBwb2ludHNbeCArIDFdID0gaVZhbHVlOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50cyhwb2ludHMpOwoJICAgICAgICAgICAgLy8gUXVpY2sgY2hlY2sgdG8gc2VlIGlmIHBvaW50cyB0cmFuc2Zvcm1lZCB0byBzb21ldGhpbmcgaW5zaWRlIHRoZSBpbWFnZQoJICAgICAgICAgICAgLy8gc3VmZmljaWVudCB0byBjaGVjayB0aGUgZW5kcG9pbnRzCgkgICAgICAgICAgICBHcmlkU2FtcGxlcl8xLmRlZmF1bHQuY2hlY2tBbmROdWRnZVBvaW50cyhpbWFnZSwgcG9pbnRzKTsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHggKz0gMikgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KE1hdGguZmxvb3IocG9pbnRzW3hdKSwgTWF0aC5mbG9vcihwb2ludHNbeCArIDFdKSkpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJsYWNrKC1pc2gpIHBpeGVsCgkgICAgICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4IC8gMiwgeSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjYXRjaCAoYWlvb2JlIC8qOiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24qLykgewoJICAgICAgICAgICAgICAgIC8vIFRoaXMgZmVlbHMgd3JvbmcsIGJ1dCwgc29tZXRpbWVzIGlmIHRoZSBmaW5kZXIgcGF0dGVybnMgYXJlIG1pc2lkZW50aWZpZWQsIHRoZSByZXN1bHRpbmcKCSAgICAgICAgICAgICAgICAvLyB0cmFuc2Zvcm0gZ2V0cyAidHdpc3RlZCIgc3VjaCB0aGF0IGl0IG1hcHMgYSBzdHJhaWdodCBsaW5lIG9mIHBvaW50cyB0byBhIHNldCBvZiBwb2ludHMKCSAgICAgICAgICAgICAgICAvLyB3aG9zZSBlbmRwb2ludHMgYXJlIGluIGJvdW5kcywgYnV0IG90aGVycyBhcmUgbm90LiBUaGVyZSBpcyBwcm9iYWJseSBzb21lIG1hdGhlbWF0aWNhbAoJICAgICAgICAgICAgICAgIC8vIHdheSB0byBkZXRlY3QgdGhpcyBhYm91dCB0aGUgdHJhbnNmb3JtYXRpb24gdGhhdCBJIGRvbid0IGtub3cgeWV0LgoJICAgICAgICAgICAgICAgIC8vIFRoaXMgcmVzdWx0cyBpbiBhbiB1Z2x5IHJ1bnRpbWUgZXhjZXB0aW9uIGRlc3BpdGUgb3VyIGNsZXZlciBjaGVja3MgYWJvdmUgLS0gY2FuJ3QgaGF2ZQoJICAgICAgICAgICAgICAgIC8vIHRoYXQuIFdlIGNvdWxkIGNoZWNrIGVhY2ggcG9pbnQncyBjb29yZGluYXRlcyBidXQgdGhhdCBmZWVscyBkdXBsaWNhdGl2ZS4gV2Ugc2V0dGxlIGZvcgoJICAgICAgICAgICAgICAgIC8vIGNhdGNoaW5nIGFuZCB3cmFwcGluZyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24uCgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNC5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICByZXR1cm4gRGVmYXVsdEdyaWRTYW1wbGVyOwoJfShHcmlkU2FtcGxlcl8xLmRlZmF1bHQpKTsKCURlZmF1bHRHcmlkU2FtcGxlciQxLmRlZmF1bHQgPSBEZWZhdWx0R3JpZFNhbXBsZXI7CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRTYW1wbGVySW5zdGFuY2UkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIERlZmF1bHRHcmlkU2FtcGxlcl8xID0gRGVmYXVsdEdyaWRTYW1wbGVyJDE7Cgl2YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBHcmlkU2FtcGxlckluc3RhbmNlKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiBTZXRzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiBHcmlkU2FtcGxlciB1c2VkIGJ5IHRoZSBsaWJyYXJ5LiBPbmUgZ2xvYmFsCgkgICAgICogaW5zdGFuY2UgaXMgc3RvcmVkLCB3aGljaCBtYXkgc291bmQgcHJvYmxlbWF0aWMuIEJ1dCwgdGhlIGltcGxlbWVudGF0aW9uIHByb3ZpZGVkCgkgICAgICogb3VnaHQgdG8gYmUgYXBwcm9wcmlhdGUgZm9yIHRoZSBlbnRpcmUgcGxhdGZvcm0sIGFuZCBhbGwgdXNlcyBvZiB0aGlzIGxpYnJhcnkKCSAgICAgKiBpbiB0aGUgd2hvbGUgbGlmZXRpbWUgb2YgdGhlIEpWTS4gRm9yIGluc3RhbmNlLCBhbiBBbmRyb2lkIGFjdGl2aXR5IGNhbiBzd2FwIGluCgkgICAgICogYW4gaW1wbGVtZW50YXRpb24gdGhhdCB0YWtlcyBhZHZhbnRhZ2Ugb2YgbmF0aXZlIHBsYXRmb3JtIGxpYnJhcmllcy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBuZXdHcmlkU2FtcGxlciBUaGUgcGxhdGZvcm0tc3BlY2lmaWMgb2JqZWN0IHRvIGluc3RhbGwuCgkgICAgICovCgkgICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5zZXRHcmlkU2FtcGxlciA9IGZ1bmN0aW9uIChuZXdHcmlkU2FtcGxlcikgewoJICAgICAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3R3JpZFNhbXBsZXI7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIEdyaWRTYW1wbGVyCgkgICAgICovCgkgICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIEdyaWRTYW1wbGVySW5zdGFuY2UuZ3JpZFNhbXBsZXI7CgkgICAgfTsKCSAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3IERlZmF1bHRHcmlkU2FtcGxlcl8xLmRlZmF1bHQoKTsKCSAgICByZXR1cm4gR3JpZFNhbXBsZXJJbnN0YW5jZTsKCX0oKSk7CglHcmlkU2FtcGxlckluc3RhbmNlJDEuZGVmYXVsdCA9IEdyaWRTYW1wbGVySW5zdGFuY2U7CgoJdmFyIFJlc3VsdFBvaW50JDEgPSB7fTsKCgl2YXIgRmxvYXQkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGbG9hdCQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKioKCSAqIFBvbnlmaWxsIGZvciBKYXZhJ3MgRmxvYXQgY2xhc3MuCgkgKi8KCXZhciBGbG9hdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBGbG9hdCgpIHsKCSAgICB9CgkgICAgLyoqCgkgICAgICogU2luY1RTIGhhcyBubyBkaWZmZXJlbmNlIGJldHdlZW4gaW50IGFuZCBmbG9hdCwgdGhlcmUncyBhbGwgbnVtYmVycywKCSAgICAgKiB0aGlzIGlzIHVzZWQgb25seSB0byBwb2x5ZmlsbCBKYXZhIGNvZGUuCgkgICAgICovCgkgICAgRmxvYXQuZmxvYXRUb0ludEJpdHMgPSBmdW5jdGlvbiAoZikgewoJICAgICAgICByZXR1cm4gZjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFRoZSBmbG9hdCBtYXggdmFsdWUgaW4gSlMgaXMgdGhlIG51bWJlciBtYXggdmFsdWUuCgkgICAgICovCgkgICAgRmxvYXQuTUFYX1ZBTFVFID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgcmV0dXJuIEZsb2F0OwoJfSgpKTsKCUZsb2F0JDEuZGVmYXVsdCA9IEZsb2F0OwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzdWx0UG9pbnQkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCXZhciBNYXRoVXRpbHNfMSQxID0gTWF0aFV0aWxzJDE7Cgl2YXIgRmxvYXRfMSA9IEZsb2F0JDE7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIHBvaW50IG9mIGludGVyZXN0IGluIGFuIGltYWdlIGNvbnRhaW5pbmcgYSBiYXJjb2RlLiBUeXBpY2FsbHksIHRoaXMKCSAqIHdvdWxkIGJlIHRoZSBsb2NhdGlvbiBvZiBhIGZpbmRlciBwYXR0ZXJuIG9yIHRoZSBjb3JuZXIgb2YgdGhlIGJhcmNvZGUsIGZvciBleGFtcGxlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUmVzdWx0UG9pbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUmVzdWx0UG9pbnQoeCwgeSkgewoJICAgICAgICB0aGlzLnggPSB4OwoJICAgICAgICB0aGlzLnkgPSB5OwoJICAgIH0KCSAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUuZ2V0WCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMueDsKCSAgICB9OwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5nZXRZID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy55OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgUmVzdWx0UG9pbnQpIHsKCSAgICAgICAgICAgIHZhciBvdGhlclBvaW50ID0gb3RoZXI7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy54ID09PSBvdGhlclBvaW50LnggJiYgdGhpcy55ID09PSBvdGhlclBvaW50Lnk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDMxICogRmxvYXRfMS5kZWZhdWx0LmZsb2F0VG9JbnRCaXRzKHRoaXMueCkgKyBGbG9hdF8xLmRlZmF1bHQuZmxvYXRUb0ludEJpdHModGhpcy55KTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiAnKCcgKyB0aGlzLnggKyAnLCcgKyB0aGlzLnkgKyAnKSc7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBPcmRlcnMgYW4gYXJyYXkgb2YgdGhyZWUgUmVzdWx0UG9pbnRzIGluIGFuIG9yZGVyIFtBLEIsQ10gc3VjaCB0aGF0IEFCIGlzIGxlc3MgdGhhbiBBQwoJICAgICAqIGFuZCBCQyBpcyBsZXNzIHRoYW4gQUMsIGFuZCB0aGUgYW5nbGUgYmV0d2VlbiBCQyBhbmQgQkEgaXMgbGVzcyB0aGFuIDE4MCBkZWdyZWVzLgoJICAgICAqCgkgICAgICogQHBhcmFtIHBhdHRlcm5zIGFycmF5IG9mIHRocmVlIHtAY29kZSBSZXN1bHRQb2ludH0gdG8gb3JkZXIKCSAgICAgKi8KCSAgICBSZXN1bHRQb2ludC5vcmRlckJlc3RQYXR0ZXJucyA9IGZ1bmN0aW9uIChwYXR0ZXJucykgewoJICAgICAgICAvLyBGaW5kIGRpc3RhbmNlcyBiZXR3ZWVuIHBhdHRlcm4gY2VudGVycwoJICAgICAgICB2YXIgemVyb09uZURpc3RhbmNlID0gdGhpcy5kaXN0YW5jZShwYXR0ZXJuc1swXSwgcGF0dGVybnNbMV0pOwoJICAgICAgICB2YXIgb25lVHdvRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHBhdHRlcm5zWzFdLCBwYXR0ZXJuc1syXSk7CgkgICAgICAgIHZhciB6ZXJvVHdvRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHBhdHRlcm5zWzBdLCBwYXR0ZXJuc1syXSk7CgkgICAgICAgIHZhciBwb2ludEE7CgkgICAgICAgIHZhciBwb2ludEI7CgkgICAgICAgIHZhciBwb2ludEM7CgkgICAgICAgIC8vIEFzc3VtZSBvbmUgY2xvc2VzdCB0byBvdGhlciB0d28gaXMgQjsgQSBhbmQgQyB3aWxsIGp1c3QgYmUgZ3Vlc3NlcyBhdCBmaXJzdAoJICAgICAgICBpZiAob25lVHdvRGlzdGFuY2UgPj0gemVyb09uZURpc3RhbmNlICYmIG9uZVR3b0Rpc3RhbmNlID49IHplcm9Ud29EaXN0YW5jZSkgewoJICAgICAgICAgICAgcG9pbnRCID0gcGF0dGVybnNbMF07CgkgICAgICAgICAgICBwb2ludEEgPSBwYXR0ZXJuc1sxXTsKCSAgICAgICAgICAgIHBvaW50QyA9IHBhdHRlcm5zWzJdOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgaWYgKHplcm9Ud29EaXN0YW5jZSA+PSBvbmVUd29EaXN0YW5jZSAmJiB6ZXJvVHdvRGlzdGFuY2UgPj0gemVyb09uZURpc3RhbmNlKSB7CgkgICAgICAgICAgICBwb2ludEIgPSBwYXR0ZXJuc1sxXTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBhdHRlcm5zWzBdOwoJICAgICAgICAgICAgcG9pbnRDID0gcGF0dGVybnNbMl07CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICBwb2ludEIgPSBwYXR0ZXJuc1syXTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBhdHRlcm5zWzBdOwoJICAgICAgICAgICAgcG9pbnRDID0gcGF0dGVybnNbMV07CgkgICAgICAgIH0KCSAgICAgICAgLy8gVXNlIGNyb3NzIHByb2R1Y3QgdG8gZmlndXJlIG91dCB3aGV0aGVyIEEgYW5kIEMgYXJlIGNvcnJlY3Qgb3IgZmxpcHBlZC4KCSAgICAgICAgLy8gVGhpcyBhc2tzIHdoZXRoZXIgQkMgeCBCQSBoYXMgYSBwb3NpdGl2ZSB6IGNvbXBvbmVudCwgd2hpY2ggaXMgdGhlIGFycmFuZ2VtZW50CgkgICAgICAgIC8vIHdlIHdhbnQgZm9yIEEsIEIsIEMuIElmIGl0J3MgbmVnYXRpdmUsIHRoZW4gd2UndmUgZ290IGl0IGZsaXBwZWQgYXJvdW5kIGFuZAoJICAgICAgICAvLyBzaG91bGQgc3dhcCBBIGFuZCBDLgoJICAgICAgICBpZiAodGhpcy5jcm9zc1Byb2R1Y3RaKHBvaW50QSwgcG9pbnRCLCBwb2ludEMpIDwgMC4wKSB7CgkgICAgICAgICAgICB2YXIgdGVtcCA9IHBvaW50QTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBvaW50QzsKCSAgICAgICAgICAgIHBvaW50QyA9IHRlbXA7CgkgICAgICAgIH0KCSAgICAgICAgcGF0dGVybnNbMF0gPSBwb2ludEE7CgkgICAgICAgIHBhdHRlcm5zWzFdID0gcG9pbnRCOwoJICAgICAgICBwYXR0ZXJuc1syXSA9IHBvaW50QzsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBwYXR0ZXJuMSBmaXJzdCBwYXR0ZXJuCgkgICAgICogQHBhcmFtIHBhdHRlcm4yIHNlY29uZCBwYXR0ZXJuCgkgICAgICogQHJldHVybiBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMKCSAgICAgKi8KCSAgICBSZXN1bHRQb2ludC5kaXN0YW5jZSA9IGZ1bmN0aW9uIChwYXR0ZXJuMSwgcGF0dGVybjIpIHsKCSAgICAgICAgcmV0dXJuIE1hdGhVdGlsc18xJDEuZGVmYXVsdC5kaXN0YW5jZShwYXR0ZXJuMS54LCBwYXR0ZXJuMS55LCBwYXR0ZXJuMi54LCBwYXR0ZXJuMi55KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIHogY29tcG9uZW50IG9mIHRoZSBjcm9zcyBwcm9kdWN0IGJldHdlZW4gdmVjdG9ycyBCQyBhbmQgQkEuCgkgICAgICovCgkgICAgUmVzdWx0UG9pbnQuY3Jvc3NQcm9kdWN0WiA9IGZ1bmN0aW9uIChwb2ludEEsIHBvaW50QiwgcG9pbnRDKSB7CgkgICAgICAgIHZhciBiWCA9IHBvaW50Qi54OwoJICAgICAgICB2YXIgYlkgPSBwb2ludEIueTsKCSAgICAgICAgcmV0dXJuICgocG9pbnRDLnggLSBiWCkgKiAocG9pbnRBLnkgLSBiWSkpIC0gKChwb2ludEMueSAtIGJZKSAqIChwb2ludEEueCAtIGJYKSk7CgkgICAgfTsKCSAgICByZXR1cm4gUmVzdWx0UG9pbnQ7Cgl9KCkpOwoJUmVzdWx0UG9pbnQkMS5kZWZhdWx0ID0gUmVzdWx0UG9pbnQ7CgoJdmFyIEFsaWdubWVudFBhdHRlcm5GaW5kZXIkMSA9IHt9OwoKCXZhciBBbGlnbm1lbnRQYXR0ZXJuJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fZXh0ZW5kcyQxID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFsaWdubWVudFBhdHRlcm4kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovCgl2YXIgUmVzdWx0UG9pbnRfMSQzID0gUmVzdWx0UG9pbnQkMTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGFuIGFsaWdubWVudCBwYXR0ZXJuLCB3aGljaCBhcmUgdGhlIHNtYWxsZXIgc3F1YXJlIHBhdHRlcm5zIGZvdW5kIGluCgkgKiBhbGwgYnV0IHRoZSBzaW1wbGVzdCBRUiBDb2Rlcy48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEFsaWdubWVudFBhdHRlcm4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDEoQWxpZ25tZW50UGF0dGVybiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpczsKCSAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZXJtaW5lcyBpZiB0aGlzIGFsaWdubWVudCBwYXR0ZXJuICJhYm91dCBlcXVhbHMiIGFuIGFsaWdubWVudCBwYXR0ZXJuIGF0IHRoZSBzdGF0ZWQKCSAgICAgKiBwb3NpdGlvbiBhbmQgc2l6ZSAtLSBtZWFuaW5nLCBpdCBpcyBhdCBuZWFybHkgdGhlIHNhbWUgY2VudGVyIHdpdGggbmVhcmx5IHRoZSBzYW1lIHNpemUuPC9wPgoJICAgICAqLwoJICAgIEFsaWdubWVudFBhdHRlcm4ucHJvdG90eXBlLmFib3V0RXF1YWxzID0gZnVuY3Rpb24gKG1vZHVsZVNpemUgLypmbG9hdCovLCBpIC8qZmxvYXQqLywgaiAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE1hdGguYWJzKGkgLSB0aGlzLmdldFkoKSkgPD0gbW9kdWxlU2l6ZSAmJiBNYXRoLmFicyhqIC0gdGhpcy5nZXRYKCkpIDw9IG1vZHVsZVNpemUpIHsKCSAgICAgICAgICAgIHZhciBtb2R1bGVTaXplRGlmZiA9IE1hdGguYWJzKG1vZHVsZVNpemUgLSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVNpemVEaWZmIDw9IDEuMCB8fCBtb2R1bGVTaXplRGlmZiA8PSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29tYmluZXMgdGhpcyBvYmplY3QncyBjdXJyZW50IGVzdGltYXRlIG9mIGEgZmluZGVyIHBhdHRlcm4gcG9zaXRpb24gYW5kIG1vZHVsZSBzaXplCgkgICAgICogd2l0aCBhIG5ldyBlc3RpbWF0ZS4gSXQgcmV0dXJucyBhIG5ldyB7QGNvZGUgRmluZGVyUGF0dGVybn0gY29udGFpbmluZyBhbiBhdmVyYWdlIG9mIHRoZSB0d28uCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybi5wcm90b3R5cGUuY29tYmluZUVzdGltYXRlID0gZnVuY3Rpb24gKGkgLypmbG9hdCovLCBqIC8qZmxvYXQqLywgbmV3TW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHsKCSAgICAgICAgdmFyIGNvbWJpbmVkWCA9ICh0aGlzLmdldFgoKSArIGopIC8gMi4wOwoJICAgICAgICB2YXIgY29tYmluZWRZID0gKHRoaXMuZ2V0WSgpICsgaSkgLyAyLjA7CgkgICAgICAgIHZhciBjb21iaW5lZE1vZHVsZVNpemUgPSAodGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplICsgbmV3TW9kdWxlU2l6ZSkgLyAyLjA7CgkgICAgICAgIHJldHVybiBuZXcgQWxpZ25tZW50UGF0dGVybihjb21iaW5lZFgsIGNvbWJpbmVkWSwgY29tYmluZWRNb2R1bGVTaXplKTsKCSAgICB9OwoJICAgIHJldHVybiBBbGlnbm1lbnRQYXR0ZXJuOwoJfShSZXN1bHRQb2ludF8xJDMuZGVmYXVsdCkpOwoJQWxpZ25tZW50UGF0dGVybiQxLmRlZmF1bHQgPSBBbGlnbm1lbnRQYXR0ZXJuOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX192YWx1ZXMkMSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykgewoJICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwOwoJICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pOwoJICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHJldHVybiB7CgkgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7CgkgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/ICJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiIgOiAiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpOwoJfTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbGlnbm1lbnRQYXR0ZXJuRmluZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBBbGlnbm1lbnRQYXR0ZXJuXzEgPSBBbGlnbm1lbnRQYXR0ZXJuJDE7Cgl2YXIgTm90Rm91bmRFeGNlcHRpb25fMSQzID0gTm90Rm91bmRFeGNlcHRpb24kMTsKCS8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgYXR0ZW1wdHMgdG8gZmluZCBhbGlnbm1lbnQgcGF0dGVybnMgaW4gYSBRUiBDb2RlLiBBbGlnbm1lbnQgcGF0dGVybnMgbG9vayBsaWtlIGZpbmRlcgoJICogcGF0dGVybnMgYnV0IGFyZSBzbWFsbGVyIGFuZCBhcHBlYXIgYXQgcmVndWxhciBpbnRlcnZhbHMgdGhyb3VnaG91dCB0aGUgaW1hZ2UuPC9wPgoJICoKCSAqIDxwPkF0IHRoZSBtb21lbnQgdGhpcyBvbmx5IGxvb2tzIGZvciB0aGUgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAqCgkgKiA8cD5UaGlzIGlzIG1vc3RseSBhIHNpbXBsaWZpZWQgY29weSBvZiB7QGxpbmsgRmluZGVyUGF0dGVybkZpbmRlcn0uIEl0IGlzIGNvcGllZCwKCSAqIHBhc3RlZCBhbmQgc3RyaXBwZWQgZG93biBoZXJlIGZvciBtYXhpbXVtIHBlcmZvcm1hbmNlIGJ1dCBkb2VzIHVuZm9ydHVuYXRlbHkgZHVwbGljYXRlCgkgKiBzb21lIGNvZGUuPC9wPgoJICoKCSAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQuIEVhY2ggdGhyZWFkIG11c3QgYWxsb2NhdGUgaXRzIG93biBvYmplY3QuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8qKgoJICAgICAqIDxwPkNyZWF0ZXMgYSBmaW5kZXIgdGhhdCB3aWxsIGxvb2sgaW4gYSBwb3J0aW9uIG9mIHRoZSB3aG9sZSBpbWFnZS48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0gaW1hZ2UgaW1hZ2UgdG8gc2VhcmNoCgkgICAgICogQHBhcmFtIHN0YXJ0WCBsZWZ0IGNvbHVtbiBmcm9tIHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZwoJICAgICAqIEBwYXJhbSBzdGFydFkgdG9wIHJvdyBmcm9tIHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZwoJICAgICAqIEBwYXJhbSB3aWR0aCB3aWR0aCBvZiByZWdpb24gdG8gc2VhcmNoCgkgICAgICogQHBhcmFtIGhlaWdodCBoZWlnaHQgb2YgcmVnaW9uIHRvIHNlYXJjaAoJICAgICAqIEBwYXJhbSBtb2R1bGVTaXplIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBzbyBmYXIKCSAgICAgKi8KCSAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyKGltYWdlLCBzdGFydFggLyppbnQqLywgc3RhcnRZIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBtb2R1bGVTaXplIC8qZmxvYXQqLywgcmVzdWx0UG9pbnRDYWxsYmFjaykgewoJICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7CgkgICAgICAgIHRoaXMuc3RhcnRYID0gc3RhcnRYOwoJICAgICAgICB0aGlzLnN0YXJ0WSA9IHN0YXJ0WTsKCSAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoOwoJICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDsKCSAgICAgICAgdGhpcy5tb2R1bGVTaXplID0gbW9kdWxlU2l6ZTsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gcmVzdWx0UG9pbnRDYWxsYmFjazsKCSAgICAgICAgdGhpcy5wb3NzaWJsZUNlbnRlcnMgPSBbXTsgLy8gbmV3IEFycmF5PGFueT4oNSkpCgkgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBhcnJheSBpbml0aWFsaXphdGlvbiB3aXRob3V0IHNpemUgYXMgdGhlIGxlbmd0aCBpcyBjaGVja2VkIGJlbG93CgkgICAgICAgIHRoaXMuY3Jvc3NDaGVja1N0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSgzKTsKCSAgICB9CgkgICAgLyoqCgkgICAgICogPHA+VGhpcyBtZXRob2QgYXR0ZW1wdHMgdG8gZmluZCB0aGUgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBwYXR0ZXJuIGluIHRoZSBpbWFnZS4gSXQgaXMgYSBiaXQgbWVzc3kgc2luY2UKCSAgICAgKiBpdCdzIHByZXR0eSBwZXJmb3JtYW5jZS1jcml0aWNhbCBhbmQgc28gaXMgd3JpdHRlbiB0byBiZSBmYXN0IGZvcmVtb3N0LjwvcD4KCSAgICAgKgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBub3QgZm91bmQKCSAgICAgKi8KCSAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgc3RhcnRYID0gdGhpcy5zdGFydFg7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmhlaWdodDsKCSAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDsKCSAgICAgICAgdmFyIG1heEogPSBzdGFydFggKyB3aWR0aDsKCSAgICAgICAgdmFyIG1pZGRsZUkgPSB0aGlzLnN0YXJ0WSArIChoZWlnaHQgLyAyKTsKCSAgICAgICAgLy8gV2UgYXJlIGxvb2tpbmcgZm9yIGJsYWNrL3doaXRlL2JsYWNrIG1vZHVsZXMgaW4gMToxOjEgcmF0aW8KCSAgICAgICAgLy8gdGhpcyB0cmFja3MgdGhlIG51bWJlciBvZiBibGFjay93aGl0ZS9ibGFjayBtb2R1bGVzIHNlZW4gc28gZmFyCgkgICAgICAgIHZhciBzdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoMyk7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIGZvciAodmFyIGlHZW4gPSAwOyBpR2VuIDwgaGVpZ2h0OyBpR2VuKyspIHsKCSAgICAgICAgICAgIC8vIFNlYXJjaCBmcm9tIG1pZGRsZSBvdXR3YXJkcwoJICAgICAgICAgICAgdmFyIGkgPSBtaWRkbGVJICsgKChpR2VuICYgMHgwMSkgPT09IDAgPyBNYXRoLmZsb29yKChpR2VuICsgMSkgLyAyKSA6IC1NYXRoLmZsb29yKChpR2VuICsgMSkgLyAyKSk7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwOwoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IDA7CgkgICAgICAgICAgICB2YXIgaiA9IHN0YXJ0WDsKCSAgICAgICAgICAgIC8vIEJ1cm4gb2ZmIGxlYWRpbmcgd2hpdGUgcGl4ZWxzIGJlZm9yZSBhbnl0aGluZyBlbHNlOyBpZiB3ZSBzdGFydCBpbiB0aGUgbWlkZGxlIG9mCgkgICAgICAgICAgICAvLyBhIHdoaXRlIHJ1biwgaXQgZG9lc24ndCBtYWtlIHNlbnNlIHRvIGNvdW50IGl0cyBsZW5ndGgsIHNpbmNlIHdlIGRvbid0IGtub3cgaWYgdGhlCgkgICAgICAgICAgICAvLyB3aGl0ZSBydW4gY29udGludWVkIHRvIHRoZSBsZWZ0IG9mIHRoZSBzdGFydCBwb2ludAoJICAgICAgICAgICAgd2hpbGUgKGogPCBtYXhKICYmICFpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICBqKys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gMDsKCSAgICAgICAgICAgIHdoaWxlIChqIDwgbWF4SikgewoJICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2sgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gMSkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMV0rKzsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gQ291bnRpbmcgd2hpdGUgcGl4ZWxzCgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN0YXRlID09PSAyKSB7IC8vIEEgd2lubmVyPwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvdW5kUGF0dGVybkNyb3NzKHN0YXRlQ291bnQpKSB7IC8vIFllcwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBqKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCAhPT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1lZDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gc3RhdGVDb3VudFsyXTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gMTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsrK2N1cnJlbnRTdGF0ZV0rKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsgLy8gV2hpdGUgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gMSkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBqKys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAodGhpcy5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSkgewoJICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIG1heEopOwoJICAgICAgICAgICAgICAgIGlmIChjb25maXJtZWQgIT09IG51bGwpIHsKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1lZDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gSG1tLCBub3RoaW5nIHdlIHNhdyB3YXMgb2JzZXJ2ZWQgYW5kIGNvbmZpcm1lZCB0d2ljZS4gSWYgd2UgaGFkCgkgICAgICAgIC8vIGFueSBndWVzcyBhdCBhbGwsIHJldHVybiBpdC4KCSAgICAgICAgaWYgKHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aCAhPT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zc2libGVDZW50ZXJzWzBdOwoJICAgICAgICB9CgkgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbl8xJDMuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogR2l2ZW4gYSBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCBzZWVuIGFuZCBhbiBlbmQgcG9zaXRpb24sCgkgICAgICogZmlndXJlcyB0aGUgbG9jYXRpb24gb2YgdGhlIGNlbnRlciBvZiB0aGlzIGJsYWNrL3doaXRlL2JsYWNrIHJ1bi4KCSAgICAgKi8KCSAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCwgZW5kIC8qaW50Ki8pIHsKCSAgICAgICAgcmV0dXJuIChlbmQgLSBzdGF0ZUNvdW50WzJdKSAtIHN0YXRlQ291bnRbMV0gLyAyLjA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8xIHJhdGlvcwoJICAgICAqICAgICAgICAgdXNlZCBieSBhbGlnbm1lbnQgcGF0dGVybnMgdG8gYmUgY29uc2lkZXJlZCBhIG1hdGNoCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybkZpbmRlci5wcm90b3R5cGUuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkgewoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMubW9kdWxlU2l6ZTsKCSAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpKyspIHsKCSAgICAgICAgICAgIGlmIChNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFtpXSkgPj0gbWF4VmFyaWFuY2UpIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5BZnRlciBhIGhvcml6b250YWwgc2NhbiBmaW5kcyBhIHBvdGVudGlhbCBhbGlnbm1lbnQgcGF0dGVybiwgdGhpcyBtZXRob2QKCSAgICAgKiAiY3Jvc3MtY2hlY2tzIiBieSBzY2FubmluZyBkb3duIHZlcnRpY2FsbHkgdGhyb3VnaCB0aGUgY2VudGVyIG9mIHRoZSBwb3NzaWJsZQoJICAgICAqIGFsaWdubWVudCBwYXR0ZXJuIHRvIHNlZSBpZiB0aGUgc2FtZSBwcm9wb3J0aW9uIGlzIGRldGVjdGVkLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGFydEkgcm93IHdoZXJlIGFuIGFsaWdubWVudCBwYXR0ZXJuIHdhcyBkZXRlY3RlZAoJICAgICAqIEBwYXJhbSBjZW50ZXJKIGNlbnRlciBvZiB0aGUgc2VjdGlvbiB0aGF0IGFwcGVhcnMgdG8gY3Jvc3MgYW4gYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gbWF4Q291bnQgbWF4aW11bSByZWFzb25hYmxlIG51bWJlciBvZiBtb2R1bGVzIHRoYXQgc2hvdWxkIGJlCgkgICAgICogb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcmV0dXJuIHZlcnRpY2FsIGNlbnRlciBvZiBhbGlnbm1lbnQgcGF0dGVybiwgb3Ige0BsaW5rIEZsb2F0I05hTn0gaWYgbm90IGZvdW5kCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja1ZlcnRpY2FsID0gZnVuY3Rpb24gKHN0YXJ0SSAvKmludCovLCBjZW50ZXJKIC8qaW50Ki8sIG1heENvdW50IC8qaW50Ki8sIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTsKCSAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7CgkgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICAvLyBTdGFydCBjb3VudGluZyB1cCBmcm9tIGNlbnRlcgoJICAgICAgICB2YXIgaSA9IHN0YXJ0STsKCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIGFscmVhZHkgdG9vIG1hbnkgbW9kdWxlcyBpbiB0aGlzIHN0YXRlIG9yIHJhbiBvZmYgdGhlIGVkZ2U6CgkgICAgICAgIGlmIChpIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbMF0gPD0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMF0rKzsKCSAgICAgICAgICAgIGktLTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFswXSA+IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIC8vIE5vdyBhbHNvIGNvdW50IGRvd24gZnJvbSBjZW50ZXIKCSAgICAgICAgaSA9IHN0YXJ0SSArIDE7CgkgICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJIHx8IHN0YXRlQ291bnRbMV0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaSA8IG1heEkgJiYgIWltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzJdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzJdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbMl0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdOwoJICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSAyICogb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkgPyBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaSkgOiBOYU47CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5UaGlzIGlzIGNhbGxlZCB3aGVuIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4uIEl0IHdpbGwKCSAgICAgKiBjcm9zcyBjaGVjayB3aXRoIGEgdmVydGljYWwgc2NhbiwgYW5kIGlmIHN1Y2Nlc3NmdWwsIHdpbGwgc2VlIGlmIHRoaXMgcGF0dGVybiBoYWQgYmVlbgoJICAgICAqIGZvdW5kIG9uIGEgcHJldmlvdXMgaG9yaXpvbnRhbCBzY2FuLiBJZiBzbywgd2UgY29uc2lkZXIgaXQgY29uZmlybWVkIGFuZCBjb25jbHVkZSB3ZSBoYXZlCgkgICAgICogZm91bmQgdGhlIGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGF0ZUNvdW50IHJlYWRpbmcgc3RhdGUgbW9kdWxlIGNvdW50cyBmcm9tIGhvcml6b250YWwgc2NhbgoJICAgICAqIEBwYXJhbSBpIHJvdyB3aGVyZSBhbGlnbm1lbnQgcGF0dGVybiBtYXkgYmUgZm91bmQKCSAgICAgKiBAcGFyYW0gaiBlbmQgb2YgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4gaW4gcm93CgkgICAgICogQHJldHVybiB7QGxpbmsgQWxpZ25tZW50UGF0dGVybn0gaWYgd2UgaGF2ZSBmb3VuZCB0aGUgc2FtZSBwYXR0ZXJuIHR3aWNlLCBvciBudWxsIGlmIG5vdAoJICAgICAqLwoJICAgIEFsaWdubWVudFBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmhhbmRsZVBvc3NpYmxlQ2VudGVyID0gZnVuY3Rpb24gKHN0YXRlQ291bnQsIGkgLyppbnQqLywgaiAvKmludCovKSB7CgkgICAgICAgIHZhciBlXzEsIF9hOwoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdOwoJICAgICAgICB2YXIgY2VudGVySiA9IEFsaWdubWVudFBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBqKTsKCSAgICAgICAgdmFyIGNlbnRlckkgPSB0aGlzLmNyb3NzQ2hlY2tWZXJ0aWNhbChpLCAvKihpbnQpICovIGNlbnRlckosIDIgKiBzdGF0ZUNvdW50WzFdLCBzdGF0ZUNvdW50VG90YWwpOwoJICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7CgkgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IChzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0pIC8gMy4wOwoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzJDEodGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgICAgIHZhciBjZW50ZXIgPSBfYy52YWx1ZTsKCSAgICAgICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgYWJvdXQgdGhlIHNhbWUgY2VudGVyIGFuZCBtb2R1bGUgc2l6ZToKCSAgICAgICAgICAgICAgICAgICAgaWYgKGNlbnRlci5hYm91dEVxdWFscyhlc3RpbWF0ZWRNb2R1bGVTaXplLCBjZW50ZXJJLCBjZW50ZXJKKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNlbnRlci5jb21iaW5lRXN0aW1hdGUoY2VudGVySSwgY2VudGVySiwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBIYWRuJ3QgZm91bmQgdGhpcyBiZWZvcmU7IHNhdmUgaXQKCSAgICAgICAgICAgIHZhciBwb2ludCA9IG5ldyBBbGlnbm1lbnRQYXR0ZXJuXzEuZGVmYXVsdChjZW50ZXJKLCBjZW50ZXJJLCBlc3RpbWF0ZWRNb2R1bGVTaXplKTsKCSAgICAgICAgICAgIHRoaXMucG9zc2libGVDZW50ZXJzLnB1c2gocG9pbnQpOwoJICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gbnVsbCAmJiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjay5mb3VuZFBvc3NpYmxlUmVzdWx0UG9pbnQocG9pbnQpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBudWxsOwoJICAgIH07CgkgICAgcmV0dXJuIEFsaWdubWVudFBhdHRlcm5GaW5kZXI7Cgl9KCkpOwoJQWxpZ25tZW50UGF0dGVybkZpbmRlciQxLmRlZmF1bHQgPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyOwoKCXZhciBGaW5kZXJQYXR0ZXJuRmluZGVyJDEgPSB7fTsKCgl2YXIgRmluZGVyUGF0dGVybiQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRmluZGVyUGF0dGVybiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZXRlY3RvciB7Ki8KCXZhciBSZXN1bHRQb2ludF8xJDIgPSBSZXN1bHRQb2ludCQxOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgYSBmaW5kZXIgcGF0dGVybiwgd2hpY2ggYXJlIHRoZSB0aHJlZSBzcXVhcmUgcGF0dGVybnMgZm91bmQgaW4KCSAqIHRoZSBjb3JuZXJzIG9mIFFSIENvZGVzLiBJdCBhbHNvIGVuY2Fwc3VsYXRlcyBhIGNvdW50IG9mIHNpbWlsYXIgZmluZGVyIHBhdHRlcm5zLAoJICogYXMgYSBjb252ZW5pZW5jZSB0byB0aGUgZmluZGVyJ3MgYm9va2tlZXBpbmcuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBGaW5kZXJQYXR0ZXJuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyhGaW5kZXJQYXR0ZXJuLCBfc3VwZXIpOwoJICAgIC8vIEZpbmRlclBhdHRlcm4ocG9zWDogbnVtYmVyLypmbG9hdCovLCBwb3NZOiBudW1iZXIvKmZsb2F0Ki8sIGVzdGltYXRlZE1vZHVsZVNpemU6IG51bWJlci8qZmxvYXQqLykgewoJICAgIC8vICAgdGhpcyhwb3NYLCBwb3NZLCBlc3RpbWF0ZWRNb2R1bGVTaXplLCAxKQoJICAgIC8vIH0KCSAgICBmdW5jdGlvbiBGaW5kZXJQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8sIGNvdW50IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpczsKCSAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIF90aGlzLmNvdW50ID0gY291bnQ7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNvdW50KSB7CgkgICAgICAgICAgICBfdGhpcy5jb3VudCA9IDE7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplOwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybi5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvdW50OwoJICAgIH07CgkgICAgLyoKCSAgICB2b2lkIGluY3JlbWVudENvdW50KCkgewoJICAgICAgdGhpcy5jb3VudCsrCgkgICAgfQoJICAgICAqLwoJICAgIC8qKgoJICAgICAqIDxwPkRldGVybWluZXMgaWYgdGhpcyBmaW5kZXIgcGF0dGVybiAiYWJvdXQgZXF1YWxzIiBhIGZpbmRlciBwYXR0ZXJuIGF0IHRoZSBzdGF0ZWQKCSAgICAgKiBwb3NpdGlvbiBhbmQgc2l6ZSAtLSBtZWFuaW5nLCBpdCBpcyBhdCBuZWFybHkgdGhlIHNhbWUgY2VudGVyIHdpdGggbmVhcmx5IHRoZSBzYW1lIHNpemUuPC9wPgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm4ucHJvdG90eXBlLmFib3V0RXF1YWxzID0gZnVuY3Rpb24gKG1vZHVsZVNpemUgLypmbG9hdCovLCBpIC8qZmxvYXQqLywgaiAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE1hdGguYWJzKGkgLSB0aGlzLmdldFkoKSkgPD0gbW9kdWxlU2l6ZSAmJiBNYXRoLmFicyhqIC0gdGhpcy5nZXRYKCkpIDw9IG1vZHVsZVNpemUpIHsKCSAgICAgICAgICAgIHZhciBtb2R1bGVTaXplRGlmZiA9IE1hdGguYWJzKG1vZHVsZVNpemUgLSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVNpemVEaWZmIDw9IDEuMCB8fCBtb2R1bGVTaXplRGlmZiA8PSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29tYmluZXMgdGhpcyBvYmplY3QncyBjdXJyZW50IGVzdGltYXRlIG9mIGEgZmluZGVyIHBhdHRlcm4gcG9zaXRpb24gYW5kIG1vZHVsZSBzaXplCgkgICAgICogd2l0aCBhIG5ldyBlc3RpbWF0ZS4gSXQgcmV0dXJucyBhIG5ldyB7QGNvZGUgRmluZGVyUGF0dGVybn0gY29udGFpbmluZyBhIHdlaWdodGVkIGF2ZXJhZ2UKCSAgICAgKiBiYXNlZCBvbiBjb3VudC4KCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5jb21iaW5lRXN0aW1hdGUgPSBmdW5jdGlvbiAoaSAvKmZsb2F0Ki8sIGogLypmbG9hdCovLCBuZXdNb2R1bGVTaXplIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgY29tYmluZWRDb3VudCA9IHRoaXMuY291bnQgKyAxOwoJICAgICAgICB2YXIgY29tYmluZWRYID0gKHRoaXMuY291bnQgKiB0aGlzLmdldFgoKSArIGopIC8gY29tYmluZWRDb3VudDsKCSAgICAgICAgdmFyIGNvbWJpbmVkWSA9ICh0aGlzLmNvdW50ICogdGhpcy5nZXRZKCkgKyBpKSAvIGNvbWJpbmVkQ291bnQ7CgkgICAgICAgIHZhciBjb21iaW5lZE1vZHVsZVNpemUgPSAodGhpcy5jb3VudCAqIHRoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSArIG5ld01vZHVsZVNpemUpIC8gY29tYmluZWRDb3VudDsKCSAgICAgICAgcmV0dXJuIG5ldyBGaW5kZXJQYXR0ZXJuKGNvbWJpbmVkWCwgY29tYmluZWRZLCBjb21iaW5lZE1vZHVsZVNpemUsIGNvbWJpbmVkQ291bnQpOwoJICAgIH07CgkgICAgcmV0dXJuIEZpbmRlclBhdHRlcm47Cgl9KFJlc3VsdFBvaW50XzEkMi5kZWZhdWx0KSk7CglGaW5kZXJQYXR0ZXJuJDEuZGVmYXVsdCA9IEZpbmRlclBhdHRlcm47CgoJdmFyIEZpbmRlclBhdHRlcm5JbmZvJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbmRlclBhdHRlcm5JbmZvJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGluZm9ybWF0aW9uIGFib3V0IGZpbmRlciBwYXR0ZXJucyBpbiBhbiBpbWFnZSwgaW5jbHVkaW5nIHRoZSBsb2NhdGlvbiBvZgoJICogdGhlIHRocmVlIGZpbmRlciBwYXR0ZXJucywgYW5kIHRoZWlyIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEZpbmRlclBhdHRlcm5JbmZvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEZpbmRlclBhdHRlcm5JbmZvKHBhdHRlcm5DZW50ZXJzKSB7CgkgICAgICAgIHRoaXMuYm90dG9tTGVmdCA9IHBhdHRlcm5DZW50ZXJzWzBdOwoJICAgICAgICB0aGlzLnRvcExlZnQgPSBwYXR0ZXJuQ2VudGVyc1sxXTsKCSAgICAgICAgdGhpcy50b3BSaWdodCA9IHBhdHRlcm5DZW50ZXJzWzJdOwoJICAgIH0KCSAgICBGaW5kZXJQYXR0ZXJuSW5mby5wcm90b3R5cGUuZ2V0Qm90dG9tTGVmdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYm90dG9tTGVmdDsKCSAgICB9OwoJICAgIEZpbmRlclBhdHRlcm5JbmZvLnByb3RvdHlwZS5nZXRUb3BMZWZ0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50b3BMZWZ0OwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybkluZm8ucHJvdG90eXBlLmdldFRvcFJpZ2h0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50b3BSaWdodDsKCSAgICB9OwoJICAgIHJldHVybiBGaW5kZXJQYXR0ZXJuSW5mbzsKCX0oKSk7CglGaW5kZXJQYXR0ZXJuSW5mbyQxLmRlZmF1bHQgPSBGaW5kZXJQYXR0ZXJuSW5mbzsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbmRlclBhdHRlcm5GaW5kZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovCgl2YXIgRGVjb2RlSGludFR5cGVfMSQyID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBSZXN1bHRQb2ludF8xJDEgPSBSZXN1bHRQb2ludCQxOwoJdmFyIEZpbmRlclBhdHRlcm5fMSA9IEZpbmRlclBhdHRlcm4kMTsKCXZhciBGaW5kZXJQYXR0ZXJuSW5mb18xID0gRmluZGVyUGF0dGVybkluZm8kMTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDIgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJLyppbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uczsqLwoJLyppbXBvcnQgamF2YS51dGlsLkNvbXBhcmF0b3I7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgYXR0ZW1wdHMgdG8gZmluZCBmaW5kZXIgcGF0dGVybnMgaW4gYSBRUiBDb2RlLiBGaW5kZXIgcGF0dGVybnMgYXJlIHRoZSBzcXVhcmUKCSAqIG1hcmtlcnMgYXQgdGhyZWUgY29ybmVycyBvZiBhIFFSIENvZGUuPC9wPgoJICoKCSAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQuIEVhY2ggdGhyZWFkIG11c3QgYWxsb2NhdGUgaXRzIG93biBvYmplY3QuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEZpbmRlclBhdHRlcm5GaW5kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogPHA+Q3JlYXRlcyBhIGZpbmRlciB0aGF0IHdpbGwgc2VhcmNoIHRoZSBpbWFnZSBmb3IgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBpbWFnZSBpbWFnZSB0byBzZWFyY2gKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoaW1hZ2U6IEJpdE1hdHJpeCkgewoJICAgIC8vICAgdGhpcyhpbWFnZSwgbnVsbCkKCSAgICAvLyB9CgkgICAgZnVuY3Rpb24gRmluZGVyUGF0dGVybkZpbmRlcihpbWFnZSwgcmVzdWx0UG9pbnRDYWxsYmFjaykgewoJICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7CgkgICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayA9IHJlc3VsdFBvaW50Q2FsbGJhY2s7CgkgICAgICAgIHRoaXMucG9zc2libGVDZW50ZXJzID0gW107CgkgICAgICAgIHRoaXMuY3Jvc3NDaGVja1N0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSg1KTsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gcmVzdWx0UG9pbnRDYWxsYmFjazsKCSAgICB9CgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmltYWdlOwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZ2V0UG9zc2libGVDZW50ZXJzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5wb3NzaWJsZUNlbnRlcnM7CgkgICAgfTsKCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKGhpbnRzKSB7CgkgICAgICAgIHZhciB0cnlIYXJkZXIgPSAoaGludHMgIT09IG51bGwgJiYgaGludHMgIT09IHVuZGVmaW5lZCkgJiYgdW5kZWZpbmVkICE9PSBoaW50cy5nZXQoRGVjb2RlSGludFR5cGVfMSQyLmRlZmF1bHQuVFJZX0hBUkRFUik7CgkgICAgICAgIHZhciBwdXJlQmFyY29kZSA9IChoaW50cyAhPT0gbnVsbCAmJiBoaW50cyAhPT0gdW5kZWZpbmVkKSAmJiB1bmRlZmluZWQgIT09IGhpbnRzLmdldChEZWNvZGVIaW50VHlwZV8xJDIuZGVmYXVsdC5QVVJFX0JBUkNPREUpOwoJICAgICAgICB2YXIgaW1hZ2UgPSB0aGlzLmltYWdlOwoJICAgICAgICB2YXIgbWF4SSA9IGltYWdlLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgbWF4SiA9IGltYWdlLmdldFdpZHRoKCk7CgkgICAgICAgIC8vIFdlIGFyZSBsb29raW5nIGZvciBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBtb2R1bGVzIGluCgkgICAgICAgIC8vIDE6MTozOjE6MSByYXRpbzsgdGhpcyB0cmFja3MgdGhlIG51bWJlciBvZiBzdWNoIG1vZHVsZXMgc2VlbiBzbyBmYXIKCSAgICAgICAgLy8gTGV0J3MgYXNzdW1lIHRoYXQgdGhlIG1heGltdW0gdmVyc2lvbiBRUiBDb2RlIHdlIHN1cHBvcnQgdGFrZXMgdXAgMS80IHRoZSBoZWlnaHQgb2YgdGhlCgkgICAgICAgIC8vIGltYWdlLCBhbmQgdGhlbiBhY2NvdW50IGZvciB0aGUgY2VudGVyIGJlaW5nIDMgbW9kdWxlcyBpbiBzaXplLiBUaGlzIGdpdmVzIHRoZSBzbWFsbGVzdAoJICAgICAgICAvLyBudW1iZXIgb2YgcGl4ZWxzIHRoZSBjZW50ZXIgY291bGQgYmUsIHNvIHNraXAgdGhpcyBvZnRlbi4gV2hlbiB0cnlpbmcgaGFyZGVyLCBsb29rIGZvciBhbGwKCSAgICAgICAgLy8gUVIgdmVyc2lvbnMgcmVnYXJkbGVzcyBvZiBob3cgZGVuc2UgdGhleSBhcmUuCgkgICAgICAgIHZhciBpU2tpcCA9IE1hdGguZmxvb3IoKDMgKiBtYXhJKSAvICg0ICogRmluZGVyUGF0dGVybkZpbmRlci5NQVhfTU9EVUxFUykpOwoJICAgICAgICBpZiAoaVNraXAgPCBGaW5kZXJQYXR0ZXJuRmluZGVyLk1JTl9TS0lQIHx8IHRyeUhhcmRlcikgewoJICAgICAgICAgICAgaVNraXAgPSBGaW5kZXJQYXR0ZXJuRmluZGVyLk1JTl9TS0lQOwoJICAgICAgICB9CgkgICAgICAgIHZhciBkb25lID0gZmFsc2U7CgkgICAgICAgIHZhciBzdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoNSk7CgkgICAgICAgIGZvciAodmFyIGkgPSBpU2tpcCAtIDE7IGkgPCBtYXhJICYmICFkb25lOyBpICs9IGlTa2lwKSB7CgkgICAgICAgICAgICAvLyBHZXQgYSByb3cgb2YgYmxhY2svd2hpdGUgdmFsdWVzCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwOwoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IDA7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0gPSAwOwoJICAgICAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IDA7CgkgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1heEo7IGorKykgewoJICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2sgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U3RhdGUgJiAxKSA9PT0gMSkgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsgLy8gV2hpdGUgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U3RhdGUgJiAxKSA9PT0gMCkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3RhdGUgPT09IDQpIHsgLy8gQSB3aW5uZXI/CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsgLy8gWWVzCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIGosIHB1cmVCYXJjb2RlKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCA9PT0gdHJ1ZSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgZXhhbWluaW5nIGV2ZXJ5IG90aGVyIGxpbmUuIENoZWNraW5nIGVhY2ggbGluZSB0dXJuZWQgb3V0IHRvIGJlIHRvbwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhwZW5zaXZlIGFuZCBkaWRuJ3QgaW1wcm92ZSBwZXJmb3JtYW5jZS4KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlTa2lwID0gMjsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1NraXBwZWQgPT09IHRydWUpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdGhpcy5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzKCk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93U2tpcCA9IHRoaXMuZmluZFJvd1NraXAoKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93U2tpcCA+IHN0YXRlQ291bnRbMl0pIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCByb3dzIGJldHdlZW4gcm93IG9mIGxvd2VyIGNvbmZpcm1lZCBjZW50ZXIKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHRvcCBvZiBwcmVzdW1lZCB0aGlyZCBjb25maXJtZWQgY2VudGVyCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBiYWNrIHVwIGEgYml0IHRvIGdldCBhIGZ1bGwgY2hhbmNlIG9mIGRldGVjdGluZwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCwgZW50aXJlIHdpZHRoIG9mIGNlbnRlciBvZiBmaW5kZXIgcGF0dGVybgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIGJ5IHJvd1NraXAsIGJ1dCBiYWNrIG9mZiBieSBzdGF0ZUNvdW50WzJdIChzaXplIG9mIGxhc3QgY2VudGVyCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mIHBhdHRlcm4gd2Ugc2F3KSB0byBiZSBjb25zZXJ2YXRpdmUsIGFuZCBhbHNvIGJhY2sgb2ZmIGJ5IGlTa2lwIHdoaWNoCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzIGFib3V0IHRvIGJlIHJlLWFkZGVkCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gcm93U2tpcCAtIHN0YXRlQ291bnRbMl0gLSBpU2tpcDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaiA9IG1heEogLSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IHN0YXRlQ291bnRbM107CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gc3RhdGVDb3VudFs0XTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAzOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgc3RhdGUgdG8gc3RhcnQgbG9va2luZyBhZ2FpbgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBObywgc2hpZnQgY291bnRzIGJhY2sgYnkgdHdvCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gc3RhdGVDb3VudFszXTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IHN0YXRlQ291bnRbNF07CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzRdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gMzsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WysrY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgaWYgKEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBtYXhKLCBwdXJlQmFyY29kZSk7CgkgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCA9PT0gdHJ1ZSkgewoJICAgICAgICAgICAgICAgICAgICBpU2tpcCA9IHN0YXRlQ291bnRbMF07CgkgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1NraXBwZWQpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGEgdGhpcmQgb25lCgkgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdGhpcy5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzKCk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHBhdHRlcm5JbmZvID0gdGhpcy5zZWxlY3RCZXN0UGF0dGVybnMoKTsKCSAgICAgICAgUmVzdWx0UG9pbnRfMSQxLmRlZmF1bHQub3JkZXJCZXN0UGF0dGVybnMocGF0dGVybkluZm8pOwoJICAgICAgICByZXR1cm4gbmV3IEZpbmRlclBhdHRlcm5JbmZvXzEuZGVmYXVsdChwYXR0ZXJuSW5mbyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBHaXZlbiBhIGNvdW50IG9mIGJsYWNrL3doaXRlL2JsYWNrL3doaXRlL2JsYWNrIHBpeGVscyBqdXN0IHNlZW4gYW5kIGFuIGVuZCBwb3NpdGlvbiwKCSAgICAgKiBmaWd1cmVzIHRoZSBsb2NhdGlvbiBvZiB0aGUgY2VudGVyIG9mIHRoaXMgcnVuLgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZCA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBlbmQgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gKGVuZCAtIHN0YXRlQ291bnRbNF0gLSBzdGF0ZUNvdW50WzNdKSAtIHN0YXRlQ291bnRbMl0gLyAyLjA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8zLzEvMSByYXRpb3MKCSAgICAgKiAgICAgICAgIHVzZWQgYnkgZmluZGVyIHBhdHRlcm5zIHRvIGJlIGNvbnNpZGVyZWQgYSBtYXRjaAoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkgewoJICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHsKCSAgICAgICAgICAgIHZhciBjb3VudCA9IHN0YXRlQ291bnRbaV07CgkgICAgICAgICAgICBpZiAoY291bnQgPT09IDApIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gY291bnQ7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRvdGFsTW9kdWxlU2l6ZSA8IDcpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIDcuMDsKCSAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDsKCSAgICAgICAgLy8gQWxsb3cgbGVzcyB0aGFuIDUwJSB2YXJpYW5jZSBmcm9tIDEtMS0zLTEtMSBwcm9wb3J0aW9ucwoJICAgICAgICByZXR1cm4gTWF0aC5hYnMobW9kdWxlU2l6ZSAtIHN0YXRlQ291bnRbMF0pIDwgbWF4VmFyaWFuY2UgJiYKCSAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzFdKSA8IG1heFZhcmlhbmNlICYmCgkgICAgICAgICAgICBNYXRoLmFicygzLjAgKiBtb2R1bGVTaXplIC0gc3RhdGVDb3VudFsyXSkgPCAzICogbWF4VmFyaWFuY2UgJiYKCSAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzNdKSA8IG1heFZhcmlhbmNlICYmCgkgICAgICAgICAgICBNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFs0XSkgPCBtYXhWYXJpYW5jZTsKCSAgICB9OwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgY3Jvc3NDaGVja1N0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFswXSA9IDA7CgkgICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzFdID0gMDsKCSAgICAgICAgY3Jvc3NDaGVja1N0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFszXSA9IDA7CgkgICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzRdID0gMDsKCSAgICAgICAgcmV0dXJuIGNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQWZ0ZXIgYSB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZAoJICAgICAqICJjcm9zcy1jcm9zcy1jcm9zcy1jaGVja3MiIGJ5IHNjYW5uaW5nIGRvd24gZGlhZ29uYWxseSB0aHJvdWdoIHRoZSBjZW50ZXIgb2YgdGhlIHBvc3NpYmxlCgkgICAgICogZmluZGVyIHBhdHRlcm4gdG8gc2VlIGlmIHRoZSBzYW1lIHByb3BvcnRpb24gaXMgZGV0ZWN0ZWQuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gc3RhcnRJIHJvdyB3aGVyZSBhIGZpbmRlciBwYXR0ZXJuIHdhcyBkZXRlY3RlZAoJICAgICAqIEBwYXJhbSBjZW50ZXJKIGNlbnRlciBvZiB0aGUgc2VjdGlvbiB0aGF0IGFwcGVhcnMgdG8gY3Jvc3MgYSBmaW5kZXIgcGF0dGVybgoJICAgICAqIEBwYXJhbSBtYXhDb3VudCBtYXhpbXVtIHJlYXNvbmFibGUgbnVtYmVyIG9mIG1vZHVsZXMgdGhhdCBzaG91bGQgYmUKCSAgICAgKiAgb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcGFyYW0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgVGhlIG9yaWdpbmFsIHN0YXRlIGNvdW50IHRvdGFsLgoJICAgICAqIEByZXR1cm4gdHJ1ZSBpZiBwcm9wb3J0aW9ucyBhcmUgd2l0aGluZyBleHBlY3RlZCBsaW1pdHMKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5jcm9zc0NoZWNrRGlhZ29uYWwgPSBmdW5jdGlvbiAoc3RhcnRJIC8qaW50Ki8sIGNlbnRlckogLyppbnQqLywgbWF4Q291bnQgLyppbnQqLywgb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgLyppbnQqLykgewoJICAgICAgICB2YXIgc3RhdGVDb3VudCA9IHRoaXMuZ2V0Q3Jvc3NDaGVja1N0YXRlQ291bnQoKTsKCSAgICAgICAgLy8gU3RhcnQgY291bnRpbmcgdXAsIGxlZnQgZnJvbSBjZW50ZXIgZmluZGluZyBibGFjayBjZW50ZXIgbWFzcwoJICAgICAgICB2YXIgaSA9IDA7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIHdoaWxlIChzdGFydEkgPj0gaSAmJiBjZW50ZXJKID49IGkgJiYgaW1hZ2UuZ2V0KGNlbnRlckogLSBpLCBzdGFydEkgLSBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGFydEkgPCBpIHx8IGNlbnRlckogPCBpKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29udGludWUgdXAsIGxlZnQgZmluZGluZyB3aGl0ZSBzcGFjZQoJICAgICAgICB3aGlsZSAoc3RhcnRJID49IGkgJiYgY2VudGVySiA+PSBpICYmICFpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzFdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzFdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgLy8gSWYgYWxyZWFkeSB0b28gbWFueSBtb2R1bGVzIGluIHRoaXMgc3RhdGUgb3IgcmFuIG9mZiB0aGUgZWRnZToKCSAgICAgICAgaWYgKHN0YXJ0SSA8IGkgfHwgY2VudGVySiA8IGkgfHwgc3RhdGVDb3VudFsxXSA+IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29udGludWUgdXAsIGxlZnQgZmluZGluZyBibGFjayBib3JkZXIKCSAgICAgICAgd2hpbGUgKHN0YXJ0SSA+PSBpICYmIGNlbnRlckogPj0gaSAmJiBpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbMF0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBtYXhJID0gaW1hZ2UuZ2V0SGVpZ2h0KCk7CgkgICAgICAgIHZhciBtYXhKID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgLy8gTm93IGFsc28gY291bnQgZG93biwgcmlnaHQgZnJvbSBjZW50ZXIKCSAgICAgICAgaSA9IDE7CgkgICAgICAgIHdoaWxlIChzdGFydEkgKyBpIDwgbWF4SSAmJiBjZW50ZXJKICsgaSA8IG1heEogJiYgaW1hZ2UuZ2V0KGNlbnRlckogKyBpLCBzdGFydEkgKyBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIC8vIFJhbiBvZmYgdGhlIGVkZ2U/CgkgICAgICAgIGlmIChzdGFydEkgKyBpID49IG1heEkgfHwgY2VudGVySiArIGkgPj0gbWF4SikgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChzdGFydEkgKyBpIDwgbWF4SSAmJiBjZW50ZXJKICsgaSA8IG1heEogJiYgIWltYWdlLmdldChjZW50ZXJKICsgaSwgc3RhcnRJICsgaSkgJiYKCSAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPCBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFszXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGFydEkgKyBpID49IG1heEkgfHwgY2VudGVySiArIGkgPj0gbWF4SiB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKHN0YXJ0SSArIGkgPCBtYXhJICYmIGNlbnRlckogKyBpIDwgbWF4SiAmJiBpbWFnZS5nZXQoY2VudGVySiArIGksIHN0YXJ0SSArIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0rKzsKCSAgICAgICAgICAgIGkrKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFs0XSA+PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHdlIGZvdW5kIGEgZmluZGVyLXBhdHRlcm4tbGlrZSBzZWN0aW9uLCBidXQgaXRzIHNpemUgaXMgbW9yZSB0aGFuIDEwMCUgZGlmZmVyZW50IHRoYW4KCSAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBhc3N1bWUgaXQncyBhIGZhbHNlIHBvc2l0aXZlCgkgICAgICAgIHZhciBzdGF0ZUNvdW50VG90YWwgPSBzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0gKyBzdGF0ZUNvdW50WzNdICsgc3RhdGVDb3VudFs0XTsKCSAgICAgICAgcmV0dXJuIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA8IDIgKiBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAmJgoJICAgICAgICAgICAgRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkFmdGVyIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZAoJICAgICAqICJjcm9zcy1jaGVja3MiIGJ5IHNjYW5uaW5nIGRvd24gdmVydGljYWxseSB0aHJvdWdoIHRoZSBjZW50ZXIgb2YgdGhlIHBvc3NpYmxlCgkgICAgICogZmluZGVyIHBhdHRlcm4gdG8gc2VlIGlmIHRoZSBzYW1lIHByb3BvcnRpb24gaXMgZGV0ZWN0ZWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIHN0YXJ0SSByb3cgd2hlcmUgYSBmaW5kZXIgcGF0dGVybiB3YXMgZGV0ZWN0ZWQKCSAgICAgKiBAcGFyYW0gY2VudGVySiBjZW50ZXIgb2YgdGhlIHNlY3Rpb24gdGhhdCBhcHBlYXJzIHRvIGNyb3NzIGEgZmluZGVyIHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gbWF4Q291bnQgbWF4aW11bSByZWFzb25hYmxlIG51bWJlciBvZiBtb2R1bGVzIHRoYXQgc2hvdWxkIGJlCgkgICAgICogb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcmV0dXJuIHZlcnRpY2FsIGNlbnRlciBvZiBmaW5kZXIgcGF0dGVybiwgb3Ige0BsaW5rIEZsb2F0I05hTn0gaWYgbm90IGZvdW5kCgkgICAgICovCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja1ZlcnRpY2FsID0gZnVuY3Rpb24gKHN0YXJ0SSAvKmludCovLCBjZW50ZXJKIC8qaW50Ki8sIG1heENvdW50IC8qaW50Ki8sIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTsKCSAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50KCk7CgkgICAgICAgIC8vIFN0YXJ0IGNvdW50aW5nIHVwIGZyb20gY2VudGVyCgkgICAgICAgIHZhciBpID0gc3RhcnRJOwoJICAgICAgICB3aGlsZSAoaSA+PSAwICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpIDwgMCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaSA+PSAwICYmICFpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIGFscmVhZHkgdG9vIG1hbnkgbW9kdWxlcyBpbiB0aGlzIHN0YXRlIG9yIHJhbiBvZmYgdGhlIGVkZ2U6CgkgICAgICAgIGlmIChpIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFswXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFswXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGF0ZUNvdW50WzBdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgLy8gTm93IGFsc28gY291bnQgZG93biBmcm9tIGNlbnRlcgoJICAgICAgICBpID0gc3RhcnRJICsgMTsKCSAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJKSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbM10gPCBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFszXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJIHx8IHN0YXRlQ291bnRbM10gPj0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzRdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0rKzsKCSAgICAgICAgICAgIGkrKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFs0XSA+PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICAvLyBJZiB3ZSBmb3VuZCBhIGZpbmRlci1wYXR0ZXJuLWxpa2Ugc2VjdGlvbiwgYnV0IGl0cyBzaXplIGlzIG1vcmUgdGhhbiA0MCUgZGlmZmVyZW50IHRoYW4KCSAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBhc3N1bWUgaXQncyBhIGZhbHNlIHBvc2l0aXZlCgkgICAgICAgIHZhciBzdGF0ZUNvdW50VG90YWwgPSBzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0gKyBzdGF0ZUNvdW50WzNdICsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF07CgkgICAgICAgIGlmICg1ICogTWF0aC5hYnMoc3RhdGVDb3VudFRvdGFsIC0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpID49IDIgKiBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSA/IEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBpKSA6IE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkxpa2Uge0BsaW5rICNjcm9zc0NoZWNrVmVydGljYWwoaW50LCBpbnQsIGludCwgaW50KX0sIGFuZCBpbiBmYWN0IGlzIGJhc2ljYWxseSBpZGVudGljYWwsCgkgICAgICogZXhjZXB0IGl0IHJlYWRzIGhvcml6b250YWxseSBpbnN0ZWFkIG9mIHZlcnRpY2FsbHkuIFRoaXMgaXMgdXNlZCB0byBjcm9zcy1jcm9zcwoJICAgICAqIGNoZWNrIGEgdmVydGljYWwgY3Jvc3MgY2hlY2sgYW5kIGxvY2F0ZSB0aGUgcmVhbCBjZW50ZXIgb2YgdGhlIGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5jcm9zc0NoZWNrSG9yaXpvbnRhbCA9IGZ1bmN0aW9uIChzdGFydEogLyppbnQqLywgY2VudGVySSAvKmludCovLCBtYXhDb3VudCAvKmludCovLCBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAvKmludCovKSB7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIHZhciBtYXhKID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50KCk7CgkgICAgICAgIHZhciBqID0gc3RhcnRKOwoJICAgICAgICB3aGlsZSAoaiA+PSAwICYmIGltYWdlLmdldChqLCBjZW50ZXJJKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChqIDwgMCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaiA+PSAwICYmICFpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChqIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGogPj0gMCAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFswXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFswXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGF0ZUNvdW50WzBdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgaiA9IHN0YXJ0SiArIDE7CgkgICAgICAgIHdoaWxlIChqIDwgbWF4SiAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMl0rKzsKCSAgICAgICAgICAgIGorKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaiA9PT0gbWF4SikgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaiA8IG1heEogJiYgIWltYWdlLmdldChqLCBjZW50ZXJJKSAmJiBzdGF0ZUNvdW50WzNdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbM10rKzsKCSAgICAgICAgICAgIGorKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaiA9PT0gbWF4SiB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChqIDwgbWF4SiAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFs0XSA8IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdKys7CgkgICAgICAgICAgICBqKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbNF0gPj0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgLy8gSWYgd2UgZm91bmQgYSBmaW5kZXItcGF0dGVybi1saWtlIHNlY3Rpb24sIGJ1dCBpdHMgc2l6ZSBpcyBzaWduaWZpY2FudGx5IGRpZmZlcmVudCB0aGFuCgkgICAgICAgIC8vIHRoZSBvcmlnaW5hbCwgYXNzdW1lIGl0J3MgYSBmYWxzZSBwb3NpdGl2ZQoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdICsgc3RhdGVDb3VudFszXSArCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdOwoJICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSA/IEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBqKSA6IE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlRoaXMgaXMgY2FsbGVkIHdoZW4gYSBob3Jpem9udGFsIHNjYW4gZmluZHMgYSBwb3NzaWJsZSBhbGlnbm1lbnQgcGF0dGVybi4gSXQgd2lsbAoJICAgICAqIGNyb3NzIGNoZWNrIHdpdGggYSB2ZXJ0aWNhbCBzY2FuLCBhbmQgaWYgc3VjY2Vzc2Z1bCwgd2lsbCwgYWgsIGNyb3NzLWNyb3NzLWNoZWNrCgkgICAgICogd2l0aCBhbm90aGVyIGhvcml6b250YWwgc2Nhbi4gVGhpcyBpcyBuZWVkZWQgcHJpbWFyaWx5IHRvIGxvY2F0ZSB0aGUgcmVhbCBob3Jpem9udGFsCgkgICAgICogY2VudGVyIG9mIHRoZSBwYXR0ZXJuIGluIGNhc2VzIG9mIGV4dHJlbWUgc2tldy4KCSAgICAgKiBBbmQgdGhlbiB3ZSBjcm9zcy1jcm9zcy1jcm9zcyBjaGVjayB3aXRoIGFub3RoZXIgZGlhZ29uYWwgc2Nhbi48L3A+CgkgICAgICoKCSAgICAgKiA8cD5JZiB0aGF0IHN1Y2NlZWRzIHRoZSBmaW5kZXIgcGF0dGVybiBsb2NhdGlvbiBpcyBhZGRlZCB0byBhIGxpc3QgdGhhdCB0cmFja3MKCSAgICAgKiB0aGUgbnVtYmVyIG9mIHRpbWVzIGVhY2ggbG9jYXRpb24gaGFzIGJlZW4gbmVhcmx5LW1hdGNoZWQgYXMgYSBmaW5kZXIgcGF0dGVybi4KCSAgICAgKiBFYWNoIGFkZGl0aW9uYWwgZmluZCBpcyBtb3JlIGV2aWRlbmNlIHRoYXQgdGhlIGxvY2F0aW9uIGlzIGluIGZhY3QgYSBmaW5kZXIKCSAgICAgKiBwYXR0ZXJuIGNlbnRlcgoJICAgICAqCgkgICAgICogQHBhcmFtIHN0YXRlQ291bnQgcmVhZGluZyBzdGF0ZSBtb2R1bGUgY291bnRzIGZyb20gaG9yaXpvbnRhbCBzY2FuCgkgICAgICogQHBhcmFtIGkgcm93IHdoZXJlIGZpbmRlciBwYXR0ZXJuIG1heSBiZSBmb3VuZAoJICAgICAqIEBwYXJhbSBqIGVuZCBvZiBwb3NzaWJsZSBmaW5kZXIgcGF0dGVybiBpbiByb3cKCSAgICAgKiBAcGFyYW0gcHVyZUJhcmNvZGUgdHJ1ZSBpZiBpbiAicHVyZSBiYXJjb2RlIiBtb2RlCgkgICAgICogQHJldHVybiB0cnVlIGlmIGEgZmluZGVyIHBhdHRlcm4gY2FuZGlkYXRlIHdhcyBmb3VuZCB0aGlzIHRpbWUKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYW5kbGVQb3NzaWJsZUNlbnRlciA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBpIC8qaW50Ki8sIGogLyppbnQqLywgcHVyZUJhcmNvZGUpIHsKCSAgICAgICAgdmFyIHN0YXRlQ291bnRUb3RhbCA9IHN0YXRlQ291bnRbMF0gKyBzdGF0ZUNvdW50WzFdICsgc3RhdGVDb3VudFsyXSArIHN0YXRlQ291bnRbM10gKwoJICAgICAgICAgICAgc3RhdGVDb3VudFs0XTsKCSAgICAgICAgdmFyIGNlbnRlckogPSBGaW5kZXJQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaik7CgkgICAgICAgIHZhciBjZW50ZXJJID0gdGhpcy5jcm9zc0NoZWNrVmVydGljYWwoaSwgLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCBzdGF0ZUNvdW50WzJdLCBzdGF0ZUNvdW50VG90YWwpOwoJICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7CgkgICAgICAgICAgICAvLyBSZS1jcm9zcyBjaGVjawoJICAgICAgICAgICAgY2VudGVySiA9IHRoaXMuY3Jvc3NDaGVja0hvcml6b250YWwoLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCAvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIHN0YXRlQ291bnRbMl0sIHN0YXRlQ291bnRUb3RhbCk7CgkgICAgICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckopICYmCgkgICAgICAgICAgICAgICAgKCFwdXJlQmFyY29kZSB8fCB0aGlzLmNyb3NzQ2hlY2tEaWFnb25hbCgvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIC8qKGludCkgKi8gTWF0aC5mbG9vcihjZW50ZXJKKSwgc3RhdGVDb3VudFsyXSwgc3RhdGVDb3VudFRvdGFsKSkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IHN0YXRlQ291bnRUb3RhbCAvIDcuMDsKCSAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTsKCSAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXJzID0gdGhpcy5wb3NzaWJsZUNlbnRlcnM7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwLCBsZW5ndGhfMSA9IHBvc3NpYmxlQ2VudGVycy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoXzE7IGluZGV4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IHBvc3NpYmxlQ2VudGVyc1tpbmRleF07CgkgICAgICAgICAgICAgICAgICAgIC8vIExvb2sgZm9yIGFib3V0IHRoZSBzYW1lIGNlbnRlciBhbmQgbW9kdWxlIHNpemU6CgkgICAgICAgICAgICAgICAgICAgIGlmIChjZW50ZXIuYWJvdXRFcXVhbHMoZXN0aW1hdGVkTW9kdWxlU2l6ZSwgY2VudGVySSwgY2VudGVySikpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVyc1tpbmRleF0gPSBjZW50ZXIuY29tYmluZUVzdGltYXRlKGNlbnRlckksIGNlbnRlckosIGVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlOwoJICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgaWYgKCFmb3VuZCkgewoJICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnQgPSBuZXcgRmluZGVyUGF0dGVybl8xLmRlZmF1bHQoY2VudGVySiwgY2VudGVySSwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5wdXNoKHBvaW50KTsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gbnVsbCAmJiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrLmZvdW5kUG9zc2libGVSZXN1bHRQb2ludChwb2ludCk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2Ygcm93cyB3ZSBjb3VsZCBzYWZlbHkgc2tpcCBkdXJpbmcgc2Nhbm5pbmcsIGJhc2VkIG9uIHRoZSBmaXJzdAoJICAgICAqICAgICAgICAgdHdvIGZpbmRlciBwYXR0ZXJucyB0aGF0IGhhdmUgYmVlbiBsb2NhdGVkLiBJbiBzb21lIGNhc2VzIHRoZWlyIHBvc2l0aW9uIHdpbGwKCSAgICAgKiAgICAgICAgIGFsbG93IHVzIHRvIGluZmVyIHRoYXQgdGhlIHRoaXJkIHBhdHRlcm4gbXVzdCBsaWUgYmVsb3cgYSBjZXJ0YWluIHBvaW50IGZhcnRoZXIKCSAgICAgKiAgICAgICAgIGRvd24gaW4gdGhlIGltYWdlLgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmZpbmRSb3dTa2lwID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIG1heCA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgaWYgKG1heCA8PSAxKSB7CgkgICAgICAgICAgICByZXR1cm4gMDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgZmlyc3RDb25maXJtZWRDZW50ZXIgPSBudWxsOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgY2VudGVyID0gX2MudmFsdWU7CgkgICAgICAgICAgICAgICAgaWYgKGNlbnRlci5nZXRDb3VudCgpID49IEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3RDb25maXJtZWRDZW50ZXIgPT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RDb25maXJtZWRDZW50ZXIgPSBjZW50ZXI7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIHR3byBjb25maXJtZWQgY2VudGVycwoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gSG93IGZhciBkb3duIGNhbiB3ZSBza2lwIGJlZm9yZSByZXN1bWluZyBsb29raW5nIGZvciB0aGUgbmV4dAoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGF0dGVybj8gSW4gdGhlIHdvcnN0IGNhc2UsIG9ubHkgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpZmZlcmVuY2UgaW4gdGhlIHggLyB5IGNvb3JkaW5hdGVzIG9mIHRoZSB0d28gY2VudGVycy4KCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNhc2Ugd2hlcmUgeW91IGZpbmQgdG9wIGxlZnQgbGFzdC4KCSAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzU2tpcHBlZCA9IHRydWU7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLyooaW50KSAqLyBNYXRoLmZsb29yKChNYXRoLmFicyhmaXJzdENvbmZpcm1lZENlbnRlci5nZXRYKCkgLSBjZW50ZXIuZ2V0WCgpKSAtCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnMoZmlyc3RDb25maXJtZWRDZW50ZXIuZ2V0WSgpIC0gY2VudGVyLmdldFkoKSkpIC8gMik7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gdHJ1ZSBpZmYgd2UgaGF2ZSBmb3VuZCBhdCBsZWFzdCAzIGZpbmRlciBwYXR0ZXJucyB0aGF0IGhhdmUgYmVlbiBkZXRlY3RlZAoJICAgICAqICAgICAgICAgYXQgbGVhc3Qge0BsaW5rICNDRU5URVJfUVVPUlVNfSB0aW1lcyBlYWNoLCBhbmQsIHRoZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgb2YgdGhlCgkgICAgICogICAgICAgICBjYW5kaWRhdGVzIGlzICJwcmV0dHkgc2ltaWxhciIKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8yLCBfYSwgZV8zLCBfYjsKCSAgICAgICAgdmFyIGNvbmZpcm1lZENvdW50ID0gMDsKCSAgICAgICAgdmFyIHRvdGFsTW9kdWxlU2l6ZSA9IDAuMDsKCSAgICAgICAgdmFyIG1heCA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIF9jID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZC52YWx1ZTsKCSAgICAgICAgICAgICAgICBpZiAocGF0dGVybi5nZXRDb3VudCgpID49IEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSkgewoJICAgICAgICAgICAgICAgICAgICBjb25maXJtZWRDb3VudCsrOwoJICAgICAgICAgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gcGF0dGVybi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9hID0gX2MucmV0dXJuKSkgX2EuY2FsbChfYyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvbmZpcm1lZENvdW50IDwgMykgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIE9LLCB3ZSBoYXZlIGF0IGxlYXN0IDMgY29uZmlybWVkIGNlbnRlcnMsIGJ1dCwgaXQncyBwb3NzaWJsZSB0aGF0IG9uZSBpcyBhICJmYWxzZSBwb3NpdGl2ZSIKCSAgICAgICAgLy8gYW5kIHRoYXQgd2UgbmVlZCB0byBrZWVwIGxvb2tpbmcuIFdlIGRldGVjdCB0aGlzIGJ5IGFza2luZyBpZiB0aGUgZXN0aW1hdGVkIG1vZHVsZSBzaXplcwoJICAgICAgICAvLyB2YXJ5IHRvbyBtdWNoLiBXZSBhcmJpdHJhcmlseSBzYXkgdGhhdCB3aGVuIHRoZSB0b3RhbCBkZXZpYXRpb24gZnJvbSBhdmVyYWdlIGV4Y2VlZHMKCSAgICAgICAgLy8gNSUgb2YgdGhlIHRvdGFsIG1vZHVsZSBzaXplIGVzdGltYXRlcywgaXQncyB0b28gbXVjaC4KCSAgICAgICAgdmFyIGF2ZXJhZ2UgPSB0b3RhbE1vZHVsZVNpemUgLyBtYXg7CgkgICAgICAgIHZhciB0b3RhbERldmlhdGlvbiA9IDAuMDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIF9lID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZiA9IF9lLm5leHQoKTsgIV9mLmRvbmU7IF9mID0gX2UubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZi52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbERldmlhdGlvbiArPSBNYXRoLmFicyhwYXR0ZXJuLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2YgJiYgIV9mLmRvbmUgJiYgKF9iID0gX2UucmV0dXJuKSkgX2IuY2FsbChfZSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRvdGFsRGV2aWF0aW9uIDw9IDAuMDUgKiB0b3RhbE1vZHVsZVNpemU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHRoZSAzIGJlc3Qge0BsaW5rIEZpbmRlclBhdHRlcm59cyBmcm9tIG91ciBsaXN0IG9mIGNhbmRpZGF0ZXMuIFRoZSAiYmVzdCIgYXJlCgkgICAgICogICAgICAgICB0aG9zZSB0aGF0IGhhdmUgYmVlbiBkZXRlY3RlZCBhdCBsZWFzdCB7QGxpbmsgI0NFTlRFUl9RVU9SVU19IHRpbWVzLCBhbmQgd2hvc2UgbW9kdWxlCgkgICAgICogICAgICAgICBzaXplIGRpZmZlcnMgZnJvbSB0aGUgYXZlcmFnZSBhbW9uZyB0aG9zZSBwYXR0ZXJucyB0aGUgbGVhc3QKCSAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uIGlmIDMgc3VjaCBmaW5kZXIgcGF0dGVybnMgZG8gbm90IGV4aXN0CgkgICAgICovCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuc2VsZWN0QmVzdFBhdHRlcm5zID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV80LCBfYSwgZV81LCBfYjsKCSAgICAgICAgdmFyIHN0YXJ0U2l6ZSA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgaWYgKHN0YXJ0U2l6ZSA8IDMpIHsKCSAgICAgICAgICAgIC8vIENvdWxkbid0IGZpbmQgZW5vdWdoIGZpbmRlciBwYXR0ZXJucwoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkMi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHBvc3NpYmxlQ2VudGVycyA9IHRoaXMucG9zc2libGVDZW50ZXJzOwoJICAgICAgICB2YXIgYXZlcmFnZTsKCSAgICAgICAgLy8gRmlsdGVyIG91dGxpZXIgcG9zc2liaWxpdGllcyB3aG9zZSBtb2R1bGUgc2l6ZSBpcyB0b28gZGlmZmVyZW50CgkgICAgICAgIGlmIChzdGFydFNpemUgPiAzKSB7CgkgICAgICAgICAgICAvLyBCdXQgd2UgY2FuIG9ubHkgYWZmb3JkIHRvIGRvIHNvIGlmIHdlIGhhdmUgYXQgbGVhc3QgNCBwb3NzaWJpbGl0aWVzIHRvIGNob29zZSBmcm9tCgkgICAgICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMC4wOwoJICAgICAgICAgICAgdmFyIHNxdWFyZSA9IDAuMDsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IF9kLnZhbHVlOwoJICAgICAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IGNlbnRlci5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7CgkgICAgICAgICAgICAgICAgICAgIHRvdGFsTW9kdWxlU2l6ZSArPSBzaXplOwoJICAgICAgICAgICAgICAgICAgICBzcXVhcmUgKz0gc2l6ZSAqIHNpemU7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgY2F0Y2ggKGVfNF8xKSB7IGVfNCA9IHsgZXJyb3I6IGVfNF8xIH07IH0KCSAgICAgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgICAgIGlmIChfZCAmJiAhX2QuZG9uZSAmJiAoX2EgPSBfYy5yZXR1cm4pKSBfYS5jYWxsKF9jKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzQpIHRocm93IGVfNC5lcnJvcjsgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgYXZlcmFnZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIHN0YXJ0U2l6ZTsKCSAgICAgICAgICAgIHZhciBzdGREZXYgPSBNYXRoLnNxcnQoc3F1YXJlIC8gc3RhcnRTaXplIC0gYXZlcmFnZSAqIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzLnNvcnQoCgkgICAgICAgICAgICAvKioKCSAgICAgICAgICAgICAqIDxwPk9yZGVycyBieSBmdXJ0aGVzdCBmcm9tIGF2ZXJhZ2U8L3A+CgkgICAgICAgICAgICAgKi8KCSAgICAgICAgICAgIC8vIEZ1cnRoZXN0RnJvbUF2ZXJhZ2VDb21wYXJhdG9yIGltcGxlbWVudHMgQ29tcGFyYXRvcjxGaW5kZXJQYXR0ZXJuPgoJICAgICAgICAgICAgZnVuY3Rpb24gKGNlbnRlcjEsIGNlbnRlcjIpIHsKCSAgICAgICAgICAgICAgICB2YXIgZEEgPSBNYXRoLmFicyhjZW50ZXIyLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgICAgIHZhciBkQiA9IE1hdGguYWJzKGNlbnRlcjEuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSk7CgkgICAgICAgICAgICAgICAgcmV0dXJuIGRBIDwgZEIgPyAtMSA6IGRBID4gZEIgPyAxIDogMDsKCSAgICAgICAgICAgIH0pOwoJICAgICAgICAgICAgdmFyIGxpbWl0ID0gTWF0aC5tYXgoMC4yICogYXZlcmFnZSwgc3RkRGV2KTsKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zc2libGVDZW50ZXJzLmxlbmd0aCAmJiBwb3NzaWJsZUNlbnRlcnMubGVuZ3RoID4gMzsgaSsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBwb3NzaWJsZUNlbnRlcnNbaV07CgkgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBhdHRlcm4uZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSkgPiBsaW1pdCkgewoJICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc3BsaWNlKGksIDEpOwoJICAgICAgICAgICAgICAgICAgICBpLS07CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGlmIChwb3NzaWJsZUNlbnRlcnMubGVuZ3RoID4gMykgewoJICAgICAgICAgICAgLy8gVGhyb3cgYXdheSBhbGwgYnV0IHRob3NlIGZpcnN0IHNpemUgY2FuZGlkYXRlIHBvaW50cyB3ZSBmb3VuZC4KCSAgICAgICAgICAgIHZhciB0b3RhbE1vZHVsZVNpemUgPSAwLjA7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGZvciAodmFyIHBvc3NpYmxlQ2VudGVyc18xID0gX192YWx1ZXMocG9zc2libGVDZW50ZXJzKSwgcG9zc2libGVDZW50ZXJzXzFfMSA9IHBvc3NpYmxlQ2VudGVyc18xLm5leHQoKTsgIXBvc3NpYmxlQ2VudGVyc18xXzEuZG9uZTsgcG9zc2libGVDZW50ZXJzXzFfMSA9IHBvc3NpYmxlQ2VudGVyc18xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXIgPSBwb3NzaWJsZUNlbnRlcnNfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gcG9zc2libGVDZW50ZXIuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGNhdGNoIChlXzVfMSkgeyBlXzUgPSB7IGVycm9yOiBlXzVfMSB9OyB9CgkgICAgICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgICAgICBpZiAocG9zc2libGVDZW50ZXJzXzFfMSAmJiAhcG9zc2libGVDZW50ZXJzXzFfMS5kb25lICYmIChfYiA9IHBvc3NpYmxlQ2VudGVyc18xLnJldHVybikpIF9iLmNhbGwocG9zc2libGVDZW50ZXJzXzEpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNSkgdGhyb3cgZV81LmVycm9yOyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBhdmVyYWdlID0gdG90YWxNb2R1bGVTaXplIC8gcG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5zb3J0KAoJICAgICAgICAgICAgLyoqCgkgICAgICAgICAgICAgKiA8cD5PcmRlcnMgYnkge0BsaW5rIEZpbmRlclBhdHRlcm4jZ2V0Q291bnQoKX0sIGRlc2NlbmRpbmcuPC9wPgoJICAgICAgICAgICAgICovCgkgICAgICAgICAgICAvLyBDZW50ZXJDb21wYXJhdG9yIGltcGxlbWVudHMgQ29tcGFyYXRvcjxGaW5kZXJQYXR0ZXJuPgoJICAgICAgICAgICAgZnVuY3Rpb24gKGNlbnRlcjEsIGNlbnRlcjIpIHsKCSAgICAgICAgICAgICAgICBpZiAoY2VudGVyMi5nZXRDb3VudCgpID09PSBjZW50ZXIxLmdldENvdW50KCkpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGRBID0gTWF0aC5hYnMoY2VudGVyMi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGRCID0gTWF0aC5hYnMoY2VudGVyMS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTsKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRBIDwgZEIgPyAxIDogZEEgPiBkQiA/IC0xIDogMDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIHJldHVybiBjZW50ZXIyLmdldENvdW50KCkgLSBjZW50ZXIxLmdldENvdW50KCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSk7CgkgICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc3BsaWNlKDMpOyAvLyB0aGlzIGlzIG5vdCByZWFseSBuZWNlc3NhcnkgYXMgd2Ugb25seSByZXR1cm4gZmlyc3QgMyBhbnl3YXkKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gWwoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzBdLAoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzFdLAoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzJdCgkgICAgICAgIF07CgkgICAgfTsKCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLkNFTlRFUl9RVU9SVU0gPSAyOwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuTUlOX1NLSVAgPSAzOyAvLyAxIHBpeGVsL21vZHVsZSB0aW1lcyAzIG1vZHVsZXMvY2VudGVyCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5NQVhfTU9EVUxFUyA9IDU3OyAvLyBzdXBwb3J0IHVwIHRvIHZlcnNpb24gMTAgZm9yIG1vYmlsZSBjbGllbnRzCgkgICAgcmV0dXJuIEZpbmRlclBhdHRlcm5GaW5kZXI7Cgl9KCkpOwoJRmluZGVyUGF0dGVybkZpbmRlciQxLmRlZmF1bHQgPSBGaW5kZXJQYXR0ZXJuRmluZGVyOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGV0ZWN0b3IkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIE1hdGhVdGlsc18xID0gTWF0aFV0aWxzJDE7Cgl2YXIgRGV0ZWN0b3JSZXN1bHRfMSA9IERldGVjdG9yUmVzdWx0JDE7CgkvLyBpbXBvcnQgR3JpZFNhbXBsZXIgZnJvbSAnLi4vLi4vY29tbW9uL0dyaWRTYW1wbGVyJzsKCXZhciBHcmlkU2FtcGxlckluc3RhbmNlXzEgPSBHcmlkU2FtcGxlckluc3RhbmNlJDE7Cgl2YXIgUGVyc3BlY3RpdmVUcmFuc2Zvcm1fMSA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtJDE7Cgl2YXIgRGVjb2RlSGludFR5cGVfMSQxID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJdmFyIFJlc3VsdFBvaW50XzEgPSBSZXN1bHRQb2ludCQxOwoJdmFyIFZlcnNpb25fMSA9IFZlcnNpb24kMTsKCXZhciBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyXzEgPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyJDE7Cgl2YXIgRmluZGVyUGF0dGVybkZpbmRlcl8xID0gRmluZGVyUGF0dGVybkZpbmRlciQxOwoJLyppbXBvcnQgamF2YS51dGlsLk1hcDsqLwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgbG9naWMgdGhhdCBjYW4gZGV0ZWN0IGEgUVIgQ29kZSBpbiBhbiBpbWFnZSwgZXZlbiBpZiB0aGUgUVIgQ29kZQoJICogaXMgcm90YXRlZCBvciBza2V3ZWQsIG9yIHBhcnRpYWxseSBvYnNjdXJlZC48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERldGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIERldGVjdG9yKGltYWdlKSB7CgkgICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTsKCSAgICB9CgkgICAgRGV0ZWN0b3IucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5pbWFnZTsKCSAgICB9OwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5nZXRSZXN1bHRQb2ludENhbGxiYWNrID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZWN0cyBhIFFSIENvZGUgaW4gYW4gaW1hZ2UuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiB7QGxpbmsgRGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBRUiBDb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBRUiBDb2RlIGNhbm5vdCBiZSBmb3VuZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgQ29kZSBjYW5ub3QgYmUgZGVjb2RlZAoJICAgICAqLwoJICAgIC8vIHB1YmxpYyBkZXRlY3QoKTogRGV0ZWN0b3JSZXN1bHQgLyp0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiovIHsKCSAgICAvLyAgIHJldHVybiBkZXRlY3QobnVsbCkKCSAgICAvLyB9CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZWN0cyBhIFFSIENvZGUgaW4gYW4gaW1hZ2UuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGhpbnRzIG9wdGlvbmFsIGhpbnRzIHRvIGRldGVjdG9yCgkgICAgICogQHJldHVybiB7QGxpbmsgRGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBRUiBDb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBRUiBDb2RlIGNhbm5vdCBiZSBmb3VuZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgQ29kZSBjYW5ub3QgYmUgZGVjb2RlZAoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5kZXRlY3QgPSBmdW5jdGlvbiAoaGludHMpIHsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gKGhpbnRzID09PSBudWxsIHx8IGhpbnRzID09PSB1bmRlZmluZWQpID8gbnVsbCA6CgkgICAgICAgICAgICAvKihSZXN1bHRQb2ludENhbGxiYWNrKSAqLyBoaW50cy5nZXQoRGVjb2RlSGludFR5cGVfMSQxLmRlZmF1bHQuTkVFRF9SRVNVTFRfUE9JTlRfQ0FMTEJBQ0spOwoJICAgICAgICB2YXIgZmluZGVyID0gbmV3IEZpbmRlclBhdHRlcm5GaW5kZXJfMS5kZWZhdWx0KHRoaXMuaW1hZ2UsIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayk7CgkgICAgICAgIHZhciBpbmZvID0gZmluZGVyLmZpbmQoaGludHMpOwoJICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzRmluZGVyUGF0dGVybkluZm8oaW5mbyk7CgkgICAgfTsKCSAgICBEZXRlY3Rvci5wcm90b3R5cGUucHJvY2Vzc0ZpbmRlclBhdHRlcm5JbmZvID0gZnVuY3Rpb24gKGluZm8pIHsKCSAgICAgICAgdmFyIHRvcExlZnQgPSBpbmZvLmdldFRvcExlZnQoKTsKCSAgICAgICAgdmFyIHRvcFJpZ2h0ID0gaW5mby5nZXRUb3BSaWdodCgpOwoJICAgICAgICB2YXIgYm90dG9tTGVmdCA9IGluZm8uZ2V0Qm90dG9tTGVmdCgpOwoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMuY2FsY3VsYXRlTW9kdWxlU2l6ZSh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCk7CgkgICAgICAgIGlmIChtb2R1bGVTaXplIDwgMS4wKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQxLmRlZmF1bHQoJ05vIHBhdHRlcm4gZm91bmQgaW4gcHJvY2Nlc3MgZmluZGVyLicpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBkaW1lbnNpb24gPSBEZXRlY3Rvci5jb21wdXRlRGltZW5zaW9uKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIHByb3Zpc2lvbmFsVmVyc2lvbiA9IFZlcnNpb25fMS5kZWZhdWx0LmdldFByb3Zpc2lvbmFsVmVyc2lvbkZvckRpbWVuc2lvbihkaW1lbnNpb24pOwoJICAgICAgICB2YXIgbW9kdWxlc0JldHdlZW5GUENlbnRlcnMgPSBwcm92aXNpb25hbFZlcnNpb24uZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpIC0gNzsKCSAgICAgICAgdmFyIGFsaWdubWVudFBhdHRlcm4gPSBudWxsOwoJICAgICAgICAvLyBBbnl0aGluZyBhYm92ZSB2ZXJzaW9uIDEgaGFzIGFuIGFsaWdubWVudCBwYXR0ZXJuCgkgICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24uZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMoKS5sZW5ndGggPiAwKSB7CgkgICAgICAgICAgICAvLyBHdWVzcyB3aGVyZSBhICJib3R0b20gcmlnaHQiIGZpbmRlciBwYXR0ZXJuIHdvdWxkIGhhdmUgYmVlbgoJICAgICAgICAgICAgdmFyIGJvdHRvbVJpZ2h0WCA9IHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpICsgYm90dG9tTGVmdC5nZXRYKCk7CgkgICAgICAgICAgICB2YXIgYm90dG9tUmlnaHRZID0gdG9wUmlnaHQuZ2V0WSgpIC0gdG9wTGVmdC5nZXRZKCkgKyBib3R0b21MZWZ0LmdldFkoKTsKCSAgICAgICAgICAgIC8vIEVzdGltYXRlIHRoYXQgYWxpZ25tZW50IHBhdHRlcm4gaXMgY2xvc2VyIGJ5IDMgbW9kdWxlcwoJICAgICAgICAgICAgLy8gZnJvbSAiYm90dG9tIHJpZ2h0IiB0byBrbm93biB0b3AgbGVmdCBsb2NhdGlvbgoJICAgICAgICAgICAgdmFyIGNvcnJlY3Rpb25Ub1RvcExlZnQgPSAxLjAgLSAzLjAgLyBtb2R1bGVzQmV0d2VlbkZQQ2VudGVyczsKCSAgICAgICAgICAgIHZhciBlc3RBbGlnbm1lbnRYID0gLyooaW50KSAqLyBNYXRoLmZsb29yKHRvcExlZnQuZ2V0WCgpICsgY29ycmVjdGlvblRvVG9wTGVmdCAqIChib3R0b21SaWdodFggLSB0b3BMZWZ0LmdldFgoKSkpOwoJICAgICAgICAgICAgdmFyIGVzdEFsaWdubWVudFkgPSAvKihpbnQpICovIE1hdGguZmxvb3IodG9wTGVmdC5nZXRZKCkgKyBjb3JyZWN0aW9uVG9Ub3BMZWZ0ICogKGJvdHRvbVJpZ2h0WSAtIHRvcExlZnQuZ2V0WSgpKSk7CgkgICAgICAgICAgICAvLyBLaW5kIG9mIGFyYml0cmFyeSAtLSBleHBhbmQgc2VhcmNoIHJhZGl1cyBiZWZvcmUgZ2l2aW5nIHVwCgkgICAgICAgICAgICBmb3IgKHZhciBpID0gNDsgaSA8PSAxNjsgaSA8PD0gMSkgewoJICAgICAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgICAgIGFsaWdubWVudFBhdHRlcm4gPSB0aGlzLmZpbmRBbGlnbm1lbnRJblJlZ2lvbihtb2R1bGVTaXplLCBlc3RBbGlnbm1lbnRYLCBlc3RBbGlnbm1lbnRZLCBpKTsKCSAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGNhdGNoIChyZSAvKk5vdEZvdW5kRXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCEocmUgaW5zdGFuY2VvZiBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCkpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IHJlOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIC8vIHRyeSBuZXh0IHJvdW5kCgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8gSWYgd2UgZGlkbid0IGZpbmQgYWxpZ25tZW50IHBhdHRlcm4uLi4gd2VsbCB0cnkgYW55d2F5IHdpdGhvdXQgaXQKCSAgICAgICAgfQoJICAgICAgICB2YXIgdHJhbnNmb3JtID0gRGV0ZWN0b3IuY3JlYXRlVHJhbnNmb3JtKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBhbGlnbm1lbnRQYXR0ZXJuLCBkaW1lbnNpb24pOwoJICAgICAgICB2YXIgYml0cyA9IERldGVjdG9yLnNhbXBsZUdyaWQodGhpcy5pbWFnZSwgdHJhbnNmb3JtLCBkaW1lbnNpb24pOwoJICAgICAgICB2YXIgcG9pbnRzOwoJICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiA9PT0gbnVsbCkgewoJICAgICAgICAgICAgcG9pbnRzID0gW2JvdHRvbUxlZnQsIHRvcExlZnQsIHRvcFJpZ2h0XTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHBvaW50cyA9IFtib3R0b21MZWZ0LCB0b3BMZWZ0LCB0b3BSaWdodCwgYWxpZ25tZW50UGF0dGVybl07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG5ldyBEZXRlY3RvclJlc3VsdF8xLmRlZmF1bHQoYml0cywgcG9pbnRzKTsKCSAgICB9OwoJICAgIERldGVjdG9yLmNyZWF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCwgYWxpZ25tZW50UGF0dGVybiwgZGltZW5zaW9uIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGRpbU1pbnVzVGhyZWUgPSBkaW1lbnNpb24gLSAzLjU7CgkgICAgICAgIHZhciBib3R0b21SaWdodFg7IC8qZmxvYXQqLwoJICAgICAgICB2YXIgYm90dG9tUmlnaHRZOyAvKmZsb2F0Ki8KCSAgICAgICAgdmFyIHNvdXJjZUJvdHRvbVJpZ2h0WDsgLypmbG9hdCovCgkgICAgICAgIHZhciBzb3VyY2VCb3R0b21SaWdodFk7IC8qZmxvYXQqLwoJICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiAhPT0gbnVsbCkgewoJICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gYWxpZ25tZW50UGF0dGVybi5nZXRYKCk7CgkgICAgICAgICAgICBib3R0b21SaWdodFkgPSBhbGlnbm1lbnRQYXR0ZXJuLmdldFkoKTsKCSAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WCA9IGRpbU1pbnVzVGhyZWUgLSAzLjA7CgkgICAgICAgICAgICBzb3VyY2VCb3R0b21SaWdodFkgPSBzb3VyY2VCb3R0b21SaWdodFg7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAvLyBEb24ndCBoYXZlIGFuIGFsaWdubWVudCBwYXR0ZXJuLCBqdXN0IG1ha2UgdXAgdGhlIGJvdHRvbS1yaWdodCBwb2ludAoJICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gKHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpKSArIGJvdHRvbUxlZnQuZ2V0WCgpOwoJICAgICAgICAgICAgYm90dG9tUmlnaHRZID0gKHRvcFJpZ2h0LmdldFkoKSAtIHRvcExlZnQuZ2V0WSgpKSArIGJvdHRvbUxlZnQuZ2V0WSgpOwoJICAgICAgICAgICAgc291cmNlQm90dG9tUmlnaHRYID0gZGltTWludXNUaHJlZTsKCSAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WSA9IGRpbU1pbnVzVGhyZWU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtXzEuZGVmYXVsdC5xdWFkcmlsYXRlcmFsVG9RdWFkcmlsYXRlcmFsKDMuNSwgMy41LCBkaW1NaW51c1RocmVlLCAzLjUsIHNvdXJjZUJvdHRvbVJpZ2h0WCwgc291cmNlQm90dG9tUmlnaHRZLCAzLjUsIGRpbU1pbnVzVGhyZWUsIHRvcExlZnQuZ2V0WCgpLCB0b3BMZWZ0LmdldFkoKSwgdG9wUmlnaHQuZ2V0WCgpLCB0b3BSaWdodC5nZXRZKCksIGJvdHRvbVJpZ2h0WCwgYm90dG9tUmlnaHRZLCBib3R0b21MZWZ0LmdldFgoKSwgYm90dG9tTGVmdC5nZXRZKCkpOwoJICAgIH07CgkgICAgRGV0ZWN0b3Iuc2FtcGxlR3JpZCA9IGZ1bmN0aW9uIChpbWFnZSwgdHJhbnNmb3JtLCBkaW1lbnNpb24gLyppbnQqLykgewoJICAgICAgICB2YXIgc2FtcGxlciA9IEdyaWRTYW1wbGVySW5zdGFuY2VfMS5kZWZhdWx0LmdldEluc3RhbmNlKCk7CgkgICAgICAgIHJldHVybiBzYW1wbGVyLnNhbXBsZUdyaWRXaXRoVHJhbnNmb3JtKGltYWdlLCBkaW1lbnNpb24sIGRpbWVuc2lvbiwgdHJhbnNmb3JtKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkNvbXB1dGVzIHRoZSBkaW1lbnNpb24gKG51bWJlciBvZiBtb2R1bGVzIG9uIGEgc2l6ZSkgb2YgdGhlIFFSIENvZGUgYmFzZWQgb24gdGhlIHBvc2l0aW9uCgkgICAgICogb2YgdGhlIGZpbmRlciBwYXR0ZXJucyBhbmQgZXN0aW1hdGVkIG1vZHVsZSBzaXplLjwvcD4KCSAgICAgKi8KCSAgICBEZXRlY3Rvci5jb21wdXRlRGltZW5zaW9uID0gZnVuY3Rpb24gKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBtb2R1bGVTaXplIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgdGx0ckNlbnRlcnNEaW1lbnNpb24gPSBNYXRoVXRpbHNfMS5kZWZhdWx0LnJvdW5kKFJlc3VsdFBvaW50XzEuZGVmYXVsdC5kaXN0YW5jZSh0b3BMZWZ0LCB0b3BSaWdodCkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIHRsYmxDZW50ZXJzRGltZW5zaW9uID0gTWF0aFV0aWxzXzEuZGVmYXVsdC5yb3VuZChSZXN1bHRQb2ludF8xLmRlZmF1bHQuZGlzdGFuY2UodG9wTGVmdCwgYm90dG9tTGVmdCkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IE1hdGguZmxvb3IoKHRsdHJDZW50ZXJzRGltZW5zaW9uICsgdGxibENlbnRlcnNEaW1lbnNpb24pIC8gMikgKyA3OwoJICAgICAgICBzd2l0Y2ggKGRpbWVuc2lvbiAmIDB4MDMpIHsgLy8gbW9kIDQKCSAgICAgICAgICAgIGNhc2UgMDoKCSAgICAgICAgICAgICAgICBkaW1lbnNpb24rKzsKCSAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIC8vIDE/IGRvIG5vdGhpbmcKCSAgICAgICAgICAgIGNhc2UgMjoKCSAgICAgICAgICAgICAgICBkaW1lbnNpb24tLTsKCSAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIGNhc2UgMzoKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQxLmRlZmF1bHQoJ0RpbWVuc2lvbnMgY291bGQgYmUgbm90IGZvdW5kLicpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBkaW1lbnNpb247CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5Db21wdXRlcyBhbiBhdmVyYWdlIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBiYXNlZCBvbiBlc3RpbWF0ZWQgZGVyaXZlZCBmcm9tIHRoZSBwb3NpdGlvbnMKCSAgICAgKiBvZiB0aGUgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB0b3BMZWZ0IGRldGVjdGVkIHRvcC1sZWZ0IGZpbmRlciBwYXR0ZXJuIGNlbnRlcgoJICAgICAqIEBwYXJhbSB0b3BSaWdodCBkZXRlY3RlZCB0b3AtcmlnaHQgZmluZGVyIHBhdHRlcm4gY2VudGVyCgkgICAgICogQHBhcmFtIGJvdHRvbUxlZnQgZGV0ZWN0ZWQgYm90dG9tLWxlZnQgZmluZGVyIHBhdHRlcm4gY2VudGVyCgkgICAgICogQHJldHVybiBlc3RpbWF0ZWQgbW9kdWxlIHNpemUKCSAgICAgKi8KCSAgICBEZXRlY3Rvci5wcm90b3R5cGUuY2FsY3VsYXRlTW9kdWxlU2l6ZSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCkgewoJICAgICAgICAvLyBUYWtlIHRoZSBhdmVyYWdlCgkgICAgICAgIHJldHVybiAodGhpcy5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5KHRvcExlZnQsIHRvcFJpZ2h0KSArCgkgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZU1vZHVsZVNpemVPbmVXYXkodG9wTGVmdCwgYm90dG9tTGVmdCkpIC8gMi4wOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+RXN0aW1hdGVzIG1vZHVsZSBzaXplIGJhc2VkIG9uIHR3byBmaW5kZXIgcGF0dGVybnMgLS0gaXQgdXNlcwoJICAgICAqIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuQm90aFdheXMoaW50LCBpbnQsIGludCwgaW50KX0gdG8gZmlndXJlIHRoZQoJICAgICAqIHdpZHRoIG9mIGVhY2gsIG1lYXN1cmluZyBhbG9uZyB0aGUgYXhpcyBiZXR3ZWVuIHRoZWlyIGNlbnRlcnMuPC9wPgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5ID0gZnVuY3Rpb24gKHBhdHRlcm4sIG90aGVyUGF0dGVybikgewoJICAgICAgICB2YXIgbW9kdWxlU2l6ZUVzdDEgPSB0aGlzLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzKC8qKGludCkgKi8gTWF0aC5mbG9vcihwYXR0ZXJuLmdldFgoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRZKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRYKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRZKCkpKTsKCSAgICAgICAgdmFyIG1vZHVsZVNpemVFc3QyID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW5Cb3RoV2F5cygvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFgoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFkoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRYKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKHBhdHRlcm4uZ2V0WSgpKSk7CgkgICAgICAgIGlmIChpc05hTihtb2R1bGVTaXplRXN0MSkpIHsKCSAgICAgICAgICAgIHJldHVybiBtb2R1bGVTaXplRXN0MiAvIDcuMDsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaXNOYU4obW9kdWxlU2l6ZUVzdDIpKSB7CgkgICAgICAgICAgICByZXR1cm4gbW9kdWxlU2l6ZUVzdDEgLyA3LjA7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQXZlcmFnZSB0aGVtLCBhbmQgZGl2aWRlIGJ5IDcgc2luY2Ugd2UndmUgY291bnRlZCB0aGUgd2lkdGggb2YgMyBibGFjayBtb2R1bGVzLAoJICAgICAgICAvLyBhbmQgMSB3aGl0ZSBhbmQgMSBibGFjayBtb2R1bGUgb24gZWl0aGVyIHNpZGUuIEVyZ28sIGRpdmlkZSBzdW0gYnkgMTQuCgkgICAgICAgIHJldHVybiAobW9kdWxlU2l6ZUVzdDEgKyBtb2R1bGVTaXplRXN0MikgLyAxNC4wOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogU2VlIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuKGludCwgaW50LCBpbnQsIGludCl9OyBjb21wdXRlcyB0aGUgdG90YWwgd2lkdGggb2YKCSAgICAgKiBhIGZpbmRlciBwYXR0ZXJuIGJ5IGxvb2tpbmcgZm9yIGEgYmxhY2std2hpdGUtYmxhY2sgcnVuIGZyb20gdGhlIGNlbnRlciBpbiB0aGUgZGlyZWN0aW9uCgkgICAgICogb2YgYW5vdGhlciBwb2ludCAoYW5vdGhlciBmaW5kZXIgcGF0dGVybiBjZW50ZXIpLCBhbmQgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbiB0b28uCgkgICAgICovCgkgICAgRGV0ZWN0b3IucHJvdG90eXBlLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzID0gZnVuY3Rpb24gKGZyb21YIC8qaW50Ki8sIGZyb21ZIC8qaW50Ki8sIHRvWCAvKmludCovLCB0b1kgLyppbnQqLykgewoJICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCB0b1gsIHRvWSk7CgkgICAgICAgIC8vIE5vdyBjb3VudCBvdGhlciB3YXkgLS0gZG9uJ3QgcnVuIG9mZiBpbWFnZSB0aG91Z2ggb2YgY291cnNlCgkgICAgICAgIHZhciBzY2FsZSA9IDEuMDsKCSAgICAgICAgdmFyIG90aGVyVG9YID0gZnJvbVggLSAodG9YIC0gZnJvbVgpOwoJICAgICAgICBpZiAob3RoZXJUb1ggPCAwKSB7CgkgICAgICAgICAgICBzY2FsZSA9IGZyb21YIC8gLyooZmxvYXQpICovIChmcm9tWCAtIG90aGVyVG9YKTsKCSAgICAgICAgICAgIG90aGVyVG9YID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChvdGhlclRvWCA+PSB0aGlzLmltYWdlLmdldFdpZHRoKCkpIHsKCSAgICAgICAgICAgIHNjYWxlID0gKHRoaXMuaW1hZ2UuZ2V0V2lkdGgoKSAtIDEgLSBmcm9tWCkgLyAvKihmbG9hdCkgKi8gKG90aGVyVG9YIC0gZnJvbVgpOwoJICAgICAgICAgICAgb3RoZXJUb1ggPSB0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlclRvWSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihmcm9tWSAtICh0b1kgLSBmcm9tWSkgKiBzY2FsZSk7CgkgICAgICAgIHNjYWxlID0gMS4wOwoJICAgICAgICBpZiAob3RoZXJUb1kgPCAwKSB7CgkgICAgICAgICAgICBzY2FsZSA9IGZyb21ZIC8gLyooZmxvYXQpICovIChmcm9tWSAtIG90aGVyVG9ZKTsKCSAgICAgICAgICAgIG90aGVyVG9ZID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChvdGhlclRvWSA+PSB0aGlzLmltYWdlLmdldEhlaWdodCgpKSB7CgkgICAgICAgICAgICBzY2FsZSA9ICh0aGlzLmltYWdlLmdldEhlaWdodCgpIC0gMSAtIGZyb21ZKSAvIC8qKGZsb2F0KSAqLyAob3RoZXJUb1kgLSBmcm9tWSk7CgkgICAgICAgICAgICBvdGhlclRvWSA9IHRoaXMuaW1hZ2UuZ2V0SGVpZ2h0KCkgLSAxOwoJICAgICAgICB9CgkgICAgICAgIG90aGVyVG9YID0gLyooaW50KSAqLyBNYXRoLmZsb29yKGZyb21YICsgKG90aGVyVG9YIC0gZnJvbVgpICogc2NhbGUpOwoJICAgICAgICByZXN1bHQgKz0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCBvdGhlclRvWCwgb3RoZXJUb1kpOwoJICAgICAgICAvLyBNaWRkbGUgcGl4ZWwgaXMgZG91YmxlLWNvdW50ZWQgdGhpcyB3YXk7IHN1YnRyYWN0IDEKCSAgICAgICAgcmV0dXJuIHJlc3VsdCAtIDEuMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlRoaXMgbWV0aG9kIHRyYWNlcyBhIGxpbmUgZnJvbSBhIHBvaW50IGluIHRoZSBpbWFnZSwgaW4gdGhlIGRpcmVjdGlvbiB0b3dhcmRzIGFub3RoZXIgcG9pbnQuCgkgICAgICogSXQgYmVnaW5zIGluIGEgYmxhY2sgcmVnaW9uLCBhbmQga2VlcHMgZ29pbmcgdW50aWwgaXQgZmluZHMgd2hpdGUsIHRoZW4gYmxhY2ssIHRoZW4gd2hpdGUgYWdhaW4uCgkgICAgICogSXQgcmVwb3J0cyB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgc3RhcnQgdG8gdGhpcyBwb2ludC48L3A+CgkgICAgICoKCSAgICAgKiA8cD5UaGlzIGlzIHVzZWQgd2hlbiBmaWd1cmluZyBvdXQgaG93IHdpZGUgYSBmaW5kZXIgcGF0dGVybiBpcywgd2hlbiB0aGUgZmluZGVyIHBhdHRlcm4KCSAgICAgKiBtYXkgYmUgc2tld2VkIG9yIHJvdGF0ZWQuPC9wPgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4gPSBmdW5jdGlvbiAoZnJvbVggLyppbnQqLywgZnJvbVkgLyppbnQqLywgdG9YIC8qaW50Ki8sIHRvWSAvKmludCovKSB7CgkgICAgICAgIC8vIE1pbGQgdmFyaWFudCBvZiBCcmVzZW5oYW0ncyBhbGdvcml0aG0KCSAgICAgICAgLy8gc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQnJlc2VuaGFtJ3NfbGluZV9hbGdvcml0aG0KCSAgICAgICAgdmFyIHN0ZWVwID0gTWF0aC5hYnModG9ZIC0gZnJvbVkpID4gTWF0aC5hYnModG9YIC0gZnJvbVgpOwoJICAgICAgICBpZiAoc3RlZXApIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gZnJvbVg7CgkgICAgICAgICAgICBmcm9tWCA9IGZyb21ZOwoJICAgICAgICAgICAgZnJvbVkgPSB0ZW1wOwoJICAgICAgICAgICAgdGVtcCA9IHRvWDsKCSAgICAgICAgICAgIHRvWCA9IHRvWTsKCSAgICAgICAgICAgIHRvWSA9IHRlbXA7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnModG9YIC0gZnJvbVgpOwoJICAgICAgICB2YXIgZHkgPSBNYXRoLmFicyh0b1kgLSBmcm9tWSk7CgkgICAgICAgIHZhciBlcnJvciA9IC1keCAvIDI7CgkgICAgICAgIHZhciB4c3RlcCA9IGZyb21YIDwgdG9YID8gMSA6IC0xOwoJICAgICAgICB2YXIgeXN0ZXAgPSBmcm9tWSA8IHRvWSA/IDEgOiAtMTsKCSAgICAgICAgLy8gSW4gYmxhY2sgcGl4ZWxzLCBsb29raW5nIGZvciB3aGl0ZSwgZmlyc3Qgb3Igc2Vjb25kIHRpbWUuCgkgICAgICAgIHZhciBzdGF0ZSA9IDA7CgkgICAgICAgIC8vIExvb3AgdXAgdW50aWwgeCA9PSB0b1gsIGJ1dCBub3QgYmV5b25kCgkgICAgICAgIHZhciB4TGltaXQgPSB0b1ggKyB4c3RlcDsKCSAgICAgICAgZm9yICh2YXIgeCA9IGZyb21YLCB5ID0gZnJvbVk7IHggIT09IHhMaW1pdDsgeCArPSB4c3RlcCkgewoJICAgICAgICAgICAgdmFyIHJlYWxYID0gc3RlZXAgPyB5IDogeDsKCSAgICAgICAgICAgIHZhciByZWFsWSA9IHN0ZWVwID8geCA6IHk7CgkgICAgICAgICAgICAvLyBEb2VzIGN1cnJlbnQgcGl4ZWwgbWVhbiB3ZSBoYXZlIG1vdmVkIHdoaXRlIHRvIGJsYWNrIG9yIHZpY2UgdmVyc2E/CgkgICAgICAgICAgICAvLyBTY2FubmluZyBibGFjayBpbiBzdGF0ZSAwLDIgYW5kIHdoaXRlIGluIHN0YXRlIDEsIHNvIGlmIHdlIGZpbmQgdGhlIHdyb25nCgkgICAgICAgICAgICAvLyBjb2xvciwgYWR2YW5jZSB0byBuZXh0IHN0YXRlIG9yIGVuZCBpZiB3ZSBhcmUgaW4gc3RhdGUgMiBhbHJlYWR5CgkgICAgICAgICAgICBpZiAoKHN0YXRlID09PSAxKSA9PT0gdGhpcy5pbWFnZS5nZXQocmVhbFgsIHJlYWxZKSkgewoJICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gMikgewoJICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aFV0aWxzXzEuZGVmYXVsdC5kaXN0YW5jZSh4LCB5LCBmcm9tWCwgZnJvbVkpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBzdGF0ZSsrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZXJyb3IgKz0gZHk7CgkgICAgICAgICAgICBpZiAoZXJyb3IgPiAwKSB7CgkgICAgICAgICAgICAgICAgaWYgKHkgPT09IHRvWSkgewoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgeSArPSB5c3RlcDsKCSAgICAgICAgICAgICAgICBlcnJvciAtPSBkeDsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBGb3VuZCBibGFjay13aGl0ZS1ibGFjazsgZ2l2ZSB0aGUgYmVuZWZpdCBvZiB0aGUgZG91YnQgdGhhdCB0aGUgbmV4dCBwaXhlbCBvdXRzaWRlIHRoZSBpbWFnZQoJICAgICAgICAvLyBpcyAid2hpdGUiIHNvIHRoaXMgbGFzdCBwb2ludCBhdCAodG9YK3hTdGVwLHRvWSkgaXMgdGhlIHJpZ2h0IGVuZGluZy4gVGhpcyBpcyByZWFsbHkgYQoJICAgICAgICAvLyBzbWFsbCBhcHByb3hpbWF0aW9uOyAodG9YK3hTdGVwLHRvWSt5U3RlcCkgbWlnaHQgYmUgcmVhbGx5IGNvcnJlY3QuIElnbm9yZSB0aGlzLgoJICAgICAgICBpZiAoc3RhdGUgPT09IDIpIHsKCSAgICAgICAgICAgIHJldHVybiBNYXRoVXRpbHNfMS5kZWZhdWx0LmRpc3RhbmNlKHRvWCArIHhzdGVwLCB0b1ksIGZyb21YLCBmcm9tWSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gZWxzZSB3ZSBkaWRuJ3QgZmluZCBldmVuIGJsYWNrLXdoaXRlLWJsYWNrOyBubyBlc3RpbWF0ZSBpcyByZWFsbHkgcG9zc2libGUKCSAgICAgICAgcmV0dXJuIE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkF0dGVtcHRzIHRvIGxvY2F0ZSBhbiBhbGlnbm1lbnQgcGF0dGVybiBpbiBhIGxpbWl0ZWQgcmVnaW9uIG9mIHRoZSBpbWFnZSwgd2hpY2ggaXMKCSAgICAgKiBndWVzc2VkIHRvIGNvbnRhaW4gaXQuIFRoaXMgbWV0aG9kIHVzZXMge0BsaW5rIEFsaWdubWVudFBhdHRlcm59LjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBvdmVyYWxsRXN0TW9kdWxlU2l6ZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgc28gZmFyCgkgICAgICogQHBhcmFtIGVzdEFsaWdubWVudFggeCBjb29yZGluYXRlIG9mIGNlbnRlciBvZiBhcmVhIHByb2JhYmx5IGNvbnRhaW5pbmcgYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gZXN0QWxpZ25tZW50WSB5IGNvb3JkaW5hdGUgb2YgYWJvdmUKCSAgICAgKiBAcGFyYW0gYWxsb3dhbmNlRmFjdG9yIG51bWJlciBvZiBwaXhlbHMgaW4gYWxsIGRpcmVjdGlvbnMgdG8gc2VhcmNoIGZyb20gdGhlIGNlbnRlcgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kLCBvciBudWxsIG90aGVyd2lzZQoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgYW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnMgZHVyaW5nIGRldGVjdGlvbgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5maW5kQWxpZ25tZW50SW5SZWdpb24gPSBmdW5jdGlvbiAob3ZlcmFsbEVzdE1vZHVsZVNpemUgLypmbG9hdCovLCBlc3RBbGlnbm1lbnRYIC8qaW50Ki8sIGVzdEFsaWdubWVudFkgLyppbnQqLywgYWxsb3dhbmNlRmFjdG9yIC8qZmxvYXQqLykgewoJICAgICAgICAvLyBMb29rIGZvciBhbiBhbGlnbm1lbnQgcGF0dGVybiAoMyBtb2R1bGVzIGluIHNpemUpIGFyb3VuZCB3aGVyZSBpdAoJICAgICAgICAvLyBzaG91bGQgYmUKCSAgICAgICAgdmFyIGFsbG93YW5jZSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihhbGxvd2FuY2VGYWN0b3IgKiBvdmVyYWxsRXN0TW9kdWxlU2l6ZSk7CgkgICAgICAgIHZhciBhbGlnbm1lbnRBcmVhTGVmdFggPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRYIC0gYWxsb3dhbmNlKTsKCSAgICAgICAgdmFyIGFsaWdubWVudEFyZWFSaWdodFggPSBNYXRoLm1pbih0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxLCBlc3RBbGlnbm1lbnRYICsgYWxsb3dhbmNlKTsKCSAgICAgICAgaWYgKGFsaWdubWVudEFyZWFSaWdodFggLSBhbGlnbm1lbnRBcmVhTGVmdFggPCBvdmVyYWxsRXN0TW9kdWxlU2l6ZSAqIDMpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgnQWxpZ25tZW50IHRvcCBleGNlZWRzIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS4nKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYWxpZ25tZW50QXJlYVRvcFkgPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRZIC0gYWxsb3dhbmNlKTsKCSAgICAgICAgdmFyIGFsaWdubWVudEFyZWFCb3R0b21ZID0gTWF0aC5taW4odGhpcy5pbWFnZS5nZXRIZWlnaHQoKSAtIDEsIGVzdEFsaWdubWVudFkgKyBhbGxvd2FuY2UpOwoJICAgICAgICBpZiAoYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSA8IG92ZXJhbGxFc3RNb2R1bGVTaXplICogMykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkMS5kZWZhdWx0KCdBbGlnbm1lbnQgYm90dG9tIGV4Y2VlZHMgZXN0aW1hdGVkIG1vZHVsZSBzaXplLicpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBhbGlnbm1lbnRGaW5kZXIgPSBuZXcgQWxpZ25tZW50UGF0dGVybkZpbmRlcl8xLmRlZmF1bHQodGhpcy5pbWFnZSwgYWxpZ25tZW50QXJlYUxlZnRYLCBhbGlnbm1lbnRBcmVhVG9wWSwgYWxpZ25tZW50QXJlYVJpZ2h0WCAtIGFsaWdubWVudEFyZWFMZWZ0WCwgYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSwgb3ZlcmFsbEVzdE1vZHVsZVNpemUsIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayk7CgkgICAgICAgIHJldHVybiBhbGlnbm1lbnRGaW5kZXIuZmluZCgpOwoJICAgIH07CgkgICAgcmV0dXJuIERldGVjdG9yOwoJfSgpKTsKCURldGVjdG9yJDEuZGVmYXVsdCA9IERldGVjdG9yOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoUVJDb2RlUmVhZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlIHsqLwoJdmFyIEJhcmNvZGVGb3JtYXRfMSA9IEJhcmNvZGVGb3JtYXQkMTsKCXZhciBCaXRNYXRyaXhfMSA9IEJpdE1hdHJpeCQxOwoJdmFyIERlY29kZUhpbnRUeXBlXzEgPSBEZWNvZGVIaW50VHlwZSQxOwoJdmFyIE5vdEZvdW5kRXhjZXB0aW9uXzEgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJdmFyIFJlc3VsdF8xID0gUmVzdWx0JDE7Cgl2YXIgUmVzdWx0TWV0YWRhdGFUeXBlXzEgPSBSZXN1bHRNZXRhZGF0YVR5cGUkMTsKCS8vIGltcG9ydCBEZXRlY3RvclJlc3VsdCBmcm9tICcuLi9jb21tb24vRGV0ZWN0b3JSZXN1bHQnOwoJdmFyIERlY29kZXJfMSA9IERlY29kZXIkMTsKCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSA9IFFSQ29kZURlY29kZXJNZXRhRGF0YSQxOwoJdmFyIERldGVjdG9yXzEgPSBEZXRlY3RvciQxOwoJLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5NYXA7Ki8KCS8qKgoJICogVGhpcyBpbXBsZW1lbnRhdGlvbiBjYW4gZGV0ZWN0IGFuZCBkZWNvZGUgUVIgQ29kZXMgaW4gYW4gaW1hZ2UuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFFSQ29kZVJlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBRUkNvZGVSZWFkZXIoKSB7CgkgICAgICAgIHRoaXMuZGVjb2RlciA9IG5ldyBEZWNvZGVyXzEuZGVmYXVsdCgpOwoJICAgIH0KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLmdldERlY29kZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlY29kZXI7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBMb2NhdGVzIGFuZCBkZWNvZGVzIGEgUVIgY29kZSBpbiBhbiBpbWFnZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gYSByZXByZXNlbnRpbmc6IHN0cmluZyB0aGUgY29udGVudCBlbmNvZGVkIGJ5IHRoZSBRUiBjb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhIFFSIGNvZGUgY2Fubm90IGJlIGZvdW5kCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgYSBRUiBjb2RlIGNhbm5vdCBiZSBkZWNvZGVkCgkgICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIC8vIHB1YmxpYyBkZWNvZGUoaW1hZ2U6IEJpbmFyeUJpdG1hcCk6IFJlc3VsdCAvKnRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiwgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiAqLyB7CgkgICAgLy8gICByZXR1cm4gdGhpcy5kZWNvZGUoaW1hZ2UsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChpbWFnZSwgaGludHMpIHsKCSAgICAgICAgdmFyIGRlY29kZXJSZXN1bHQ7CgkgICAgICAgIHZhciBwb2ludHM7CgkgICAgICAgIGlmIChoaW50cyAhPT0gdW5kZWZpbmVkICYmIGhpbnRzICE9PSBudWxsICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEuZGVmYXVsdC5QVVJFX0JBUkNPREUpKSB7CgkgICAgICAgICAgICB2YXIgYml0cyA9IFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMoaW1hZ2UuZ2V0QmxhY2tNYXRyaXgoKSk7CgkgICAgICAgICAgICBkZWNvZGVyUmVzdWx0ID0gdGhpcy5kZWNvZGVyLmRlY29kZUJpdE1hdHJpeChiaXRzLCBoaW50cyk7CgkgICAgICAgICAgICBwb2ludHMgPSBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdmFyIGRldGVjdG9yUmVzdWx0ID0gbmV3IERldGVjdG9yXzEuZGVmYXVsdChpbWFnZS5nZXRCbGFja01hdHJpeCgpKS5kZXRlY3QoaGludHMpOwoJICAgICAgICAgICAgZGVjb2RlclJlc3VsdCA9IHRoaXMuZGVjb2Rlci5kZWNvZGVCaXRNYXRyaXgoZGV0ZWN0b3JSZXN1bHQuZ2V0Qml0cygpLCBoaW50cyk7CgkgICAgICAgICAgICBwb2ludHMgPSBkZXRlY3RvclJlc3VsdC5nZXRQb2ludHMoKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBJZiB0aGUgY29kZSB3YXMgbWlycm9yZWQ6IHN3YXAgdGhlIGJvdHRvbS1sZWZ0IGFuZCB0aGUgdG9wLXJpZ2h0IHBvaW50cy4KCSAgICAgICAgaWYgKGRlY29kZXJSZXN1bHQuZ2V0T3RoZXIoKSBpbnN0YW5jZW9mIFFSQ29kZURlY29kZXJNZXRhRGF0YV8xLmRlZmF1bHQpIHsKCSAgICAgICAgICAgIGRlY29kZXJSZXN1bHQuZ2V0T3RoZXIoKS5hcHBseU1pcnJvcmVkQ29ycmVjdGlvbihwb2ludHMpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSBuZXcgUmVzdWx0XzEuZGVmYXVsdChkZWNvZGVyUmVzdWx0LmdldFRleHQoKSwgZGVjb2RlclJlc3VsdC5nZXRSYXdCeXRlcygpLCB1bmRlZmluZWQsIHBvaW50cywgQmFyY29kZUZvcm1hdF8xLmRlZmF1bHQuUVJfQ09ERSwgdW5kZWZpbmVkKTsKCSAgICAgICAgdmFyIGJ5dGVTZWdtZW50cyA9IGRlY29kZXJSZXN1bHQuZ2V0Qnl0ZVNlZ21lbnRzKCk7CgkgICAgICAgIGlmIChieXRlU2VnbWVudHMgIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGVfMS5kZWZhdWx0LkJZVEVfU0VHTUVOVFMsIGJ5dGVTZWdtZW50cyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGVjTGV2ZWwgPSBkZWNvZGVyUmVzdWx0LmdldEVDTGV2ZWwoKTsKCSAgICAgICAgaWYgKGVjTGV2ZWwgIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGVfMS5kZWZhdWx0LkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwsIGVjTGV2ZWwpOwoJICAgICAgICB9CgkgICAgICAgIGlmIChkZWNvZGVyUmVzdWx0Lmhhc1N0cnVjdHVyZWRBcHBlbmQoKSkgewoJICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZV8xLmRlZmF1bHQuU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0UsIGRlY29kZXJSZXN1bHQuZ2V0U3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyKCkpOwoJICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZV8xLmRlZmF1bHQuU1RSVUNUVVJFRF9BUFBFTkRfUEFSSVRZLCBkZWNvZGVyUmVzdWx0LmdldFN0cnVjdHVyZWRBcHBlbmRQYXJpdHkoKSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBkbyBub3RoaW5nCgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBUaGlzIG1ldGhvZCBkZXRlY3RzIGEgY29kZSBpbiBhICJwdXJlIiBpbWFnZSAtLSB0aGF0IGlzLCBwdXJlIG1vbm9jaHJvbWUgaW1hZ2UKCSAgICAgKiB3aGljaCBjb250YWlucyBvbmx5IGFuIHVucm90YXRlZCwgdW5za2V3ZWQsIGltYWdlIG9mIGEgY29kZSwgd2l0aCBzb21lIHdoaXRlIGJvcmRlcgoJICAgICAqIGFyb3VuZCBpdC4gVGhpcyBpcyBhIHNwZWNpYWxpemVkIG1ldGhvZCB0aGF0IHdvcmtzIGV4Y2VwdGlvbmFsbHkgZmFzdCBpbiB0aGlzIHNwZWNpYWwKCSAgICAgKiBjYXNlLgoJICAgICAqCgkgICAgICogQHNlZSBjb20uZ29vZ2xlLnp4aW5nLmRhdGFtYXRyaXguRGF0YU1hdHJpeFJlYWRlciNleHRyYWN0UHVyZUJpdHMoQml0TWF0cml4KQoJICAgICAqLwoJICAgIFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMgPSBmdW5jdGlvbiAoaW1hZ2UpIHsKCSAgICAgICAgdmFyIGxlZnRUb3BCbGFjayA9IGltYWdlLmdldFRvcExlZnRPbkJpdCgpOwoJICAgICAgICB2YXIgcmlnaHRCb3R0b21CbGFjayA9IGltYWdlLmdldEJvdHRvbVJpZ2h0T25CaXQoKTsKCSAgICAgICAgaWYgKGxlZnRUb3BCbGFjayA9PT0gbnVsbCB8fCByaWdodEJvdHRvbUJsYWNrID09PSBudWxsKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG1vZHVsZVNpemUgPSB0aGlzLm1vZHVsZVNpemUobGVmdFRvcEJsYWNrLCBpbWFnZSk7CgkgICAgICAgIHZhciB0b3AgPSBsZWZ0VG9wQmxhY2tbMV07CgkgICAgICAgIHZhciBib3R0b20gPSByaWdodEJvdHRvbUJsYWNrWzFdOwoJICAgICAgICB2YXIgbGVmdCA9IGxlZnRUb3BCbGFja1swXTsKCSAgICAgICAgdmFyIHJpZ2h0ID0gcmlnaHRCb3R0b21CbGFja1swXTsKCSAgICAgICAgLy8gU2FuaXR5IGNoZWNrIQoJICAgICAgICBpZiAobGVmdCA+PSByaWdodCB8fCB0b3AgPj0gYm90dG9tKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGJvdHRvbSAtIHRvcCAhPT0gcmlnaHQgLSBsZWZ0KSB7CgkgICAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UsIHdoZXJlIGJvdHRvbS1yaWdodCBtb2R1bGUgd2Fzbid0IGJsYWNrIHNvIHdlIGZvdW5kIHNvbWV0aGluZyBlbHNlIGluIHRoZSBsYXN0IHJvdwoJICAgICAgICAgICAgLy8gQXNzdW1lIGl0J3MgYSBzcXVhcmUsIHNvIHVzZSBoZWlnaHQgYXMgdGhlIHdpZHRoCgkgICAgICAgICAgICByaWdodCA9IGxlZnQgKyAoYm90dG9tIC0gdG9wKTsKCSAgICAgICAgICAgIGlmIChyaWdodCA+PSBpbWFnZS5nZXRXaWR0aCgpKSB7CgkgICAgICAgICAgICAgICAgLy8gQWJvcnQgaWYgdGhhdCB3b3VsZCBub3QgbWFrZSBzZW5zZSAtLSBvZmYgaW1hZ2UKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG1hdHJpeFdpZHRoID0gTWF0aC5yb3VuZCgocmlnaHQgLSBsZWZ0ICsgMSkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIG1hdHJpeEhlaWdodCA9IE1hdGgucm91bmQoKGJvdHRvbSAtIHRvcCArIDEpIC8gbW9kdWxlU2l6ZSk7CgkgICAgICAgIGlmIChtYXRyaXhXaWR0aCA8PSAwIHx8IG1hdHJpeEhlaWdodCA8PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKG1hdHJpeEhlaWdodCAhPT0gbWF0cml4V2lkdGgpIHsKCSAgICAgICAgICAgIC8vIE9ubHkgcG9zc2libHkgZGVjb2RlIHNxdWFyZSByZWdpb25zCgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gUHVzaCBpbiB0aGUgImJvcmRlciIgYnkgaGFsZiB0aGUgbW9kdWxlIHdpZHRoIHNvIHRoYXQgd2Ugc3RhcnQKCSAgICAgICAgLy8gc2FtcGxpbmcgaW4gdGhlIG1pZGRsZSBvZiB0aGUgbW9kdWxlLiBKdXN0IGluIGNhc2UgdGhlIGltYWdlIGlzIGEKCSAgICAgICAgLy8gbGl0dGxlIG9mZiwgdGhpcyB3aWxsIGhlbHAgcmVjb3Zlci4KCSAgICAgICAgdmFyIG51ZGdlID0gLyooaW50KSAqLyBNYXRoLmZsb29yKG1vZHVsZVNpemUgLyAyLjApOwoJICAgICAgICB0b3AgKz0gbnVkZ2U7CgkgICAgICAgIGxlZnQgKz0gbnVkZ2U7CgkgICAgICAgIC8vIEJ1dCBjYXJlZnVsIHRoYXQgdGhpcyBkb2VzIG5vdCBzYW1wbGUgb2ZmIHRoZSBlZGdlCgkgICAgICAgIC8vICJyaWdodCIgaXMgdGhlIGZhcnRoZXN0LXJpZ2h0IHZhbGlkIHBpeGVsIGxvY2F0aW9uIC0tIHJpZ2h0KzEgaXMgbm90IG5lY2Vzc2FyaWx5CgkgICAgICAgIC8vIFRoaXMgaXMgcG9zaXRpdmUgYnkgaG93IG11Y2ggdGhlIGlubmVyIHggbG9vcCBiZWxvdyB3b3VsZCBiZSB0b28gbGFyZ2UKCSAgICAgICAgdmFyIG51ZGdlZFRvb0ZhclJpZ2h0ID0gbGVmdCArIC8qKGludCkgKi8gTWF0aC5mbG9vcigobWF0cml4V2lkdGggLSAxKSAqIG1vZHVsZVNpemUpIC0gcmlnaHQ7CgkgICAgICAgIGlmIChudWRnZWRUb29GYXJSaWdodCA+IDApIHsKCSAgICAgICAgICAgIGlmIChudWRnZWRUb29GYXJSaWdodCA+IG51ZGdlKSB7CgkgICAgICAgICAgICAgICAgLy8gTmVpdGhlciB3YXkgZml0czsgYWJvcnQKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBsZWZ0IC09IG51ZGdlZFRvb0ZhclJpZ2h0OwoJICAgICAgICB9CgkgICAgICAgIC8vIFNlZSBsb2dpYyBhYm92ZQoJICAgICAgICB2YXIgbnVkZ2VkVG9vRmFyRG93biA9IHRvcCArIC8qKGludCkgKi8gTWF0aC5mbG9vcigobWF0cml4SGVpZ2h0IC0gMSkgKiBtb2R1bGVTaXplKSAtIGJvdHRvbTsKCSAgICAgICAgaWYgKG51ZGdlZFRvb0ZhckRvd24gPiAwKSB7CgkgICAgICAgICAgICBpZiAobnVkZ2VkVG9vRmFyRG93biA+IG51ZGdlKSB7CgkgICAgICAgICAgICAgICAgLy8gTmVpdGhlciB3YXkgZml0czsgYWJvcnQKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0b3AgLT0gbnVkZ2VkVG9vRmFyRG93bjsKCSAgICAgICAgfQoJICAgICAgICAvLyBOb3cganVzdCByZWFkIG9mZiB0aGUgYml0cwoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXhfMS5kZWZhdWx0KG1hdHJpeFdpZHRoLCBtYXRyaXhIZWlnaHQpOwoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IG1hdHJpeEhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgaU9mZnNldCA9IHRvcCArIC8qKGludCkgKi8gTWF0aC5mbG9vcih5ICogbW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1hdHJpeFdpZHRoOyB4KyspIHsKCSAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KGxlZnQgKyAvKihpbnQpICovIE1hdGguZmxvb3IoeCAqIG1vZHVsZVNpemUpLCBpT2Zmc2V0KSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4LCB5KTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICBRUkNvZGVSZWFkZXIubW9kdWxlU2l6ZSA9IGZ1bmN0aW9uIChsZWZ0VG9wQmxhY2ssIGltYWdlKSB7CgkgICAgICAgIHZhciBoZWlnaHQgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIHggPSBsZWZ0VG9wQmxhY2tbMF07CgkgICAgICAgIHZhciB5ID0gbGVmdFRvcEJsYWNrWzFdOwoJICAgICAgICB2YXIgaW5CbGFjayA9IHRydWU7CgkgICAgICAgIHZhciB0cmFuc2l0aW9ucyA9IDA7CgkgICAgICAgIHdoaWxlICh4IDwgd2lkdGggJiYgeSA8IGhlaWdodCkgewoJICAgICAgICAgICAgaWYgKGluQmxhY2sgIT09IGltYWdlLmdldCh4LCB5KSkgewoJICAgICAgICAgICAgICAgIGlmICgrK3RyYW5zaXRpb25zID09PSA1KSB7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBpbkJsYWNrID0gIWluQmxhY2s7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB4Kys7CgkgICAgICAgICAgICB5Kys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHggPT09IHdpZHRoIHx8IHkgPT09IGhlaWdodCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiAoeCAtIGxlZnRUb3BCbGFja1swXSkgLyA3LjA7CgkgICAgfTsKCSAgICBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTID0gbmV3IEFycmF5KCk7CgkgICAgcmV0dXJuIFFSQ29kZVJlYWRlcjsKCX0oKSk7Cgl2YXIgX2RlZmF1bHQgPSBRUkNvZGVSZWFkZXIkMS5kZWZhdWx0ID0gUVJDb2RlUmVhZGVyOwoKCXZhciB0b0dyYXlzY2FsZUJ1ZmZlciA9IGZ1bmN0aW9uIHRvR3JheXNjYWxlQnVmZmVyKGltYWdlQnVmZmVyLCB3aWR0aCwgaGVpZ2h0KSB7CgkgIHZhciBncmF5c2NhbGVCdWZmZXIgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkod2lkdGggKiBoZWlnaHQpOwoKCSAgZm9yICh2YXIgaSA9IDAsIGogPSAwLCBsZW5ndGhfMSA9IGltYWdlQnVmZmVyLmxlbmd0aDsgaSA8IGxlbmd0aF8xOyBpICs9IDQsIGorKykgewoJICAgIHZhciBncmF5ID0gdm9pZCAwOwoJICAgIHZhciBhbHBoYSA9IGltYWdlQnVmZmVyW2kgKyAzXTsgLy8gVGhlIGNvbG9yIG9mIGZ1bGx5LXRyYW5zcGFyZW50IHBpeGVscyBpcyBpcnJlbGV2YW50LiBUaGV5IGFyZSBvZnRlbiwgdGVjaG5pY2FsbHksIGZ1bGx5LXRyYW5zcGFyZW50CgkgICAgLy8gYmxhY2sgKDAgYWxwaGEsIGFuZCB0aGVuIDAgUkdCKS4gVGhleSBhcmUgb2Z0ZW4gdXNlZCwgb2YgY291cnNlIGFzIHRoZSAid2hpdGUiIGFyZWEgaW4gYQoJICAgIC8vIGJhcmNvZGUgaW1hZ2UuIEZvcmNlIGFueSBzdWNoIHBpeGVsIHRvIGJlIHdoaXRlOgoKCSAgICBpZiAoYWxwaGEgPT09IDApIHsKCSAgICAgIGdyYXkgPSAweEZGOwoJICAgIH0gZWxzZSB7CgkgICAgICB2YXIgcGl4ZWxSID0gaW1hZ2VCdWZmZXJbaV07CgkgICAgICB2YXIgcGl4ZWxHID0gaW1hZ2VCdWZmZXJbaSArIDFdOwoJICAgICAgdmFyIHBpeGVsQiA9IGltYWdlQnVmZmVyW2kgKyAyXTsgLy8gLjI5OVIgKyAwLjU4N0cgKyAwLjExNEIgKFlVVi9ZSVEgZm9yIFBBTCBhbmQgTlRTQyksCgkgICAgICAvLyAoMzA2KlIpID4+IDEwIGlzIGFwcHJveGltYXRlbHkgZXF1YWwgdG8gUiowLjI5OSwgYW5kIHNvIG9uLgoJICAgICAgLy8gMHgyMDAgPj4gMTAgaXMgMC41LCBpdCBpbXBsZW1lbnRzIHJvdW5kaW5nLgoKCSAgICAgIGdyYXkgPSAzMDYgKiBwaXhlbFIgKyA2MDEgKiBwaXhlbEcgKyAxMTcgKiBwaXhlbEIgKyAweDIwMCA+PiAxMDsKCSAgICB9CgoJICAgIGdyYXlzY2FsZUJ1ZmZlcltqXSA9IGdyYXk7CgkgIH0KCgkgIHJldHVybiBncmF5c2NhbGVCdWZmZXI7Cgl9OwoKCXZhciByZWFkZXIgPSBuZXcgX2RlZmF1bHQoKTsKCXNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChlKSB7CgkgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzCgkgIHRyeSB7CgkgICAgdmFyIGx1bWluYW5jZXMgPSB0b0dyYXlzY2FsZUJ1ZmZlcihlLmRhdGEuZGF0YSwgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTsKCSAgICB2YXIgbHVtaW5hbmNlU291cmNlID0gbmV3IF9kZWZhdWx0JDEobHVtaW5hbmNlcywgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTsKCSAgICB2YXIgaHlicmlkQmluYXJpemVyID0gbmV3IF9kZWZhdWx0JDIobHVtaW5hbmNlU291cmNlKTsKCSAgICB2YXIgYmluYXJ5Qml0bWFwID0gbmV3IF9kZWZhdWx0JDMoaHlicmlkQmluYXJpemVyKTsKCSAgICB2YXIgZGVjb2RlZCA9IHJlYWRlci5kZWNvZGUoYmluYXJ5Qml0bWFwKTsKCSAgICBwb3N0TWVzc2FnZShkZWNvZGVkKTsKCSAgfSBjYXRjaCAoZXJyKSB7CgkgICAgcG9zdE1lc3NhZ2UobnVsbCk7CgkgIH0KCX0pOwoKfSkoKTsKCg==",null,!1),M0e=["constraints","onError","onLoad","onScan","resolution","qrArea"];function b3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function v3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b3(Object(n),!0).forEach(function(r){h0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var j0e=function(){return new F0e},y3=function(t){t&&(t.getVideoTracks&&t.getAudioTracks?(t.getVideoTracks().forEach(function(n){t.removeTrack(n),n.stop()}),t.getAudioTracks().forEach(function(n){t.removeTrack(n),n.stop()})):t.stop())},AB=function(t){var n=t.constraints,r=t.onError,o=t.onLoad,i=t.onScan,a=t.resolution,l=t.qrArea,s=y0e(t,M0e),c=b.useRef(null),u=b.useRef(null),g=b.useRef(document.createElement("canvas")),d=b.useRef(null),m=b.useRef(),I=b.useState(null),h=v0e(I,2),A=h[0],C=h[1],p=b.useRef(!1),v=b.useRef();b.useEffect(function(){v.current=j0e();var B=v.current;return B.onmessage=function(Z){i&&i(Z.data?v3(v3({},Z.data),{},{canvas:g.current}):null),p.current=!1},function(){B.terminate()}},[i]);var y=JSON.stringify(l),x=b.useCallback(function(){var B=JSON.parse(y),Z=v.current,R=u.current&&u.current.readyState===u.current.HAVE_ENOUGH_DATA;if(!p.current&&R){p.current=!0;var w=u.current.videoWidth,k=u.current.videoHeight,V=w>k?w:k,W=Math.floor(a/V*100)/100;k=Math.floor(W*k),w=Math.floor(W*w),g.current.width=w,g.current.height=k,d.current=g.current.getContext("2d"),d.current.drawImage(u.current,0,0,w,k);var N;B&&B.length===2&&B[0]>0&&B[1]>0?N=d.current.getImageData(Math.floor((w-B[0])/2),Math.floor((k-B[1])/2),B[0],B[1]):N=d.current.getImageData(0,0,w,k),Z.postMessage(N)}m.current=requestAnimationFrame(x)},[a,y]),S=JSON.stringify(n);return b.useEffect(function(){var B=JSON.parse(S),Z=!0;return navigator.mediaDevices.getUserMedia(B).then(function(R){if(!Z)y3(R);else{c.current=R;try{u.current&&(u.current.srcObject=R,u.current.setAttribute("playsinline",!0))}catch{C(window.URL.createObjectURL(R))}o&&o(),m.current=requestAnimationFrame(x)}}).catch(function(R){return Z?r(R):null}),function(){cancelAnimationFrame(m.current),Z=!1,y3(c.current),A&&window.URL.revokeObjectURL(A)}},[x,S,r,o,A]),b.createElement("video",_u({autoPlay:!0,playsInline:!0,src:A,ref:u},s))};AB.propTypes={constraints:Qc.object,onError:Qc.func.isRequired,onLoad:Qc.func,onScan:Qc.func.isRequired,resolution:Qc.number,qrArea:Qc.array};AB.defaultProps={constraints:{audio:!1,video:!0},resolution:640,qrArea:[]};function x3(){const e=n=>{n&&(window.location.href=n.text)},t=n=>{console.error(n)};return f.jsxs("div",{className:"scanner-container",children:[f.jsx("h2",{children:"Escanea el QR"}),f.jsx(AB,{onScan:e,onError:t,style:{width:"100%",height:"95%",borderStyle:"dotted",borderColor:"rgba(255, 255, 255, 0.5)",borderWidth:"2px"}})]})}function S3(){const e=Zt(),t=()=>{e("/contacts")},n=()=>{e("/business")},r=()=>{e("/password")},o=()=>{e("/admin")},i=()=>{localStorage.removeItem("token"),localStorage.removeItem("id"),localStorage.removeItem("fullname"),localStorage.removeItem("email"),localStorage.removeItem("id_plan"),e("/login")},a=()=>{e("/upgrade")};return f.jsxs("div",{className:"setting-container",children:[localStorage.getItem("is_superuser")=="true"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"setting-link",onClick:o,children:[f.jsx("div",{className:"setting-icon",children:f.jsx(P4,{})}),f.jsxs("div",{className:"setting-name",children:[f.jsx("h4",{children:"Administrador"}),f.jsx("p",{children:"Opciones de administrador"})]}),f.jsx("div",{className:"setting-goto",children:f.jsx(_c,{})})]}),f.jsx("div",{className:"separador"})]}),localStorage.getItem("id_plan")==9&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"setting-link",onClick:n,children:[f.jsx("div",{className:"setting-icon",children:f.jsx(bG,{})}),f.jsxs("div",{className:"setting-name",children:[f.jsx("h4",{children:"Business"}),f.jsx("p",{children:"Gestiona tu empresa"})]}),f.jsx("div",{className:"setting-goto",children:f.jsx(_c,{})})]}),f.jsx("div",{className:"separador"})]}),localStorage.getItem("id_plan")>7&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"setting-link",onClick:t,children:[f.jsx("div",{className:"setting-icon",children:f.jsx(rG,{})}),f.jsxs("div",{className:"setting-name",children:[f.jsx("h4",{children:"Contactos"}),f.jsx("p",{children:"Visualiza tus contactos"})]}),f.jsx("div",{className:"setting-goto",children:f.jsx(_c,{})})]}),f.jsx("div",{className:"separador"})]}),f.jsxs("div",{className:"setting-link",onClick:a,children:[f.jsx("div",{className:"setting-icon",children:f.jsx(gne,{})}),f.jsxs("div",{className:"setting-name",children:[f.jsx("h4",{children:"Subscripción"}),f.jsx("p",{children:"Administra tu subscripción"})]}),f.jsx("div",{className:"setting-goto",children:f.jsx(_c,{})})]}),f.jsx("div",{className:"separador"}),f.jsxs("div",{className:"setting-link",onClick:r,children:[f.jsx("div",{className:"setting-icon",children:f.jsx(eie,{})}),f.jsxs("div",{className:"setting-name",children:[f.jsx("h4",{children:"Contraseña"}),f.jsx("p",{children:"Cambia de contraseña"})]}),f.jsx("div",{className:"setting-goto",children:f.jsx(_c,{})})]}),f.jsx("div",{className:"separador"}),f.jsxs("div",{className:"setting-link",onClick:i,children:[f.jsx("div",{className:"setting-icon",children:f.jsx(Q4,{})}),f.jsxs("div",{className:"setting-name",children:[f.jsx("h4",{children:"Cerrar sesión"}),f.jsx("p",{children:"Te vamos a extrañar 🥹"})]}),f.jsx("div",{className:"setting-goto",children:f.jsx(_c,{})})]})]})}const T0e="/assets/Shark-482b1a86.svg",Z3=()=>f.jsxs("div",{className:"not-found-view",children:[f.jsx($w,{src:T0e,className:"shark-container",beforeInjection:e=>{e.classList.add("not-found-shark")}}),f.jsxs("div",{className:"not-found-warning",children:["¡Cuidado con la aleta!",f.jsx("br",{}),"Estamos trabajando bajo el agua del código para darle un nuevo aspecto y funcionalidades impresionantes a Know Me."]})]});function w3(){const e="https://api.knowmeapp.com",{user:t}=b.useContext(kn),n=localStorage.getItem("token"),[r,o]=b.useState({id_user_fk:parseInt(t.id),name:"",email:"",phone:"",company:"",position:"",url_web_company:"",notes:""}),i=l=>{const{name:s,value:c}=l.target;o({...r,[s]:c})},a=async l=>{if(l.preventDefault(),!r.name||!r.email){Re.error("Los campos Nombre y Correo son obligatorios");return}try{await ve.post(`${e}/api/contact`,{id_user_fk:parseInt(t.id),...r},{headers:{"x-token":n}}),Re.success("Contacto guardado exitosamente"),o({id_user_fk:parseInt(t.id),name:"",email:"",phone:"",company:"",position:"",url_web_company:"",notes:""})}catch(s){Re.error("Error al crear contacto, por favor intenta de nuevo"),console.error("Error al enviar el formulario:",s)}};return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"contact-container",children:[f.jsx(Mn,{richColors:!0,position:"top-right"}),f.jsx("div",{className:"contact-icon-container",children:f.jsx(xc,{src:ib,size:100})}),f.jsx("h3",{children:"Crea un nuevo contacto"}),f.jsx("p",{children:"¡Añade un nuevo contacto y descubre la mejor forma de mantener tu agenda en línea siempre actualizada y a mano!"}),f.jsx("div",{className:"contact-form-container",children:f.jsxs("form",{onSubmit:a,className:"grid grid-cols-1 gap-6 mb-11",children:[f.jsxs("div",{className:"sm:col-span-3",children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium leading-6 text-white",children:"Nombre"}),f.jsx("div",{className:"mt-2",children:f.jsx("input",{id:"name",name:"name",value:r.name,onChange:i,required:!0,placeholder:"Obligatorio*",type:"text",className:"px-1.5 block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-orange-500 sm:text-sm sm:leading-6"})})]}),f.jsxs("div",{className:"sm:col-span-3",children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-white",children:"Correo"}),f.jsx("div",{className:"mt-2",children:f.jsx("input",{id:"email",name:"email",value:r.email,onChange:i,required:!0,placeholder:"Obligatorio*",type:"email",className:"px-1.5 block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-orange-500 sm:text-sm sm:leading-6"})})]}),f.jsxs("div",{className:"sm:col-span-3",children:[f.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium leading-6 text-white",children:"Teléfono"}),f.jsx("div",{className:"mt-2",children:f.jsx("input",{id:"phone",name:"phone",value:r.phone,onChange:i,placeholder:"Opcional",type:"tel",className:"px-1.5 block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-orange-500 sm:text-sm sm:leading-6"})})]}),f.jsxs("div",{className:"sm:col-span-3",children:[f.jsx("label",{htmlFor:"company",className:"block text-sm font-medium leading-6 text-white",children:"Empresa"}),f.jsx("div",{className:"mt-2",children:f.jsx("input",{id:"company",name:"company",value:r.company,onChange:i,placeholder:"Opcional",type:"text",className:"px-1.5 block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-orange-500 sm:text-sm sm:leading-6"})})]}),f.jsxs("div",{className:"sm:col-span-3",children:[f.jsx("label",{htmlFor:"position",className:"block text-sm font-medium leading-6 text-white",children:"Cargo"}),f.jsx("div",{className:"mt-2",children:f.jsx("input",{id:"position",name:"position",value:r.position,onChange:i,placeholder:"Opcional",type:"text",className:"px-1.5 block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-orange-500 sm:text-sm sm:leading-6"})})]}),f.jsxs("div",{className:"sm:col-span-3",children:[f.jsx("label",{htmlFor:"url_web_company",className:"block text-sm font-medium leading-6 text-white",children:"Sitio Web"}),f.jsx("div",{className:"mt-2",children:f.jsx("input",{id:"url_web_company",name:"url_web_company",value:r.url_web_company,onChange:i,placeholder:"Opcional",type:"url",className:"px-1.5 block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-orange-500 sm:text-sm sm:leading-6"})})]}),f.jsxs("div",{className:"sm:col-span-3",children:[f.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium leading-6 text-white",children:"Notas"}),f.jsx("div",{className:"mt-2",children:f.jsx("textarea",{id:"notes",name:"notes",value:r.notes,onChange:i,placeholder:"Opcional",className:"px-1.5 block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-orange-500 sm:text-sm sm:leading-6"})})]}),f.jsx("div",{className:"sm:col-span-3",children:f.jsx("button",{type:"submit",className:"whitespace-nowrap rounded-md bg-orange-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-500",children:"Guardar cambios"})})]})})]})})}function G3(){const[e,t]=b.useState([]),n="https://api.knowmeapp.com",r=localStorage.getItem("token"),{user:o}=b.useContext(kn),i=Zt(),[a,l]=b.useState(null),[s,c]=b.useState(!1),[u,g]=b.useState(!1),[d,m]=b.useState({id_contact_fk:null,id_profile_fk:4,id_user_fk:o.id,title:"",id_task_type_fk:1,details:"",cantidad:1,recurrence:"mes",start_date:"",end_date:"",send_whatsapp:0,send_email:1}),I=v=>{const{name:y,value:x}=v.target;m({...d,[y]:x})},h=async v=>{v.preventDefault()};b.useEffect(()=>{(async()=>{try{const y=await ve.get(`${n}/api/contact/user/${o.id}`,{headers:{"x-token":r}});t(y.data.contacts)}catch(y){console.error("Error fetching contacts:",y)}})()},[]);const A=()=>{i("/addContact")},C=async v=>{l(v);try{const y=await ve.get(`${n}/api/contact_history/contact_detail/${v.id}`,{headers:{"x-token":r}})}catch(y){console.error("Error fetching contacts:",y)}c(!0)},p=()=>{c(!1)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"agenda-container",children:[f.jsxs("div",{className:"agenda-header",children:[f.jsx("h2",{className:"text-base font-semibold leading-7 text-white",children:"Bienvenid@ a tu agenda de contactos"}),f.jsx("div",{className:"my-4 flex space-x-2",children:f.jsx(br,{variant:"primary",size:"sm",onClick:A,className:"inline-flex items-center rounded-md bg-orange-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600 border-orange-600 hover:border-orange-500",children:"Agregar Contacto"})})]}),f.jsx("div",{children:e.length===0?f.jsx(f.Fragment,{children:f.jsxs("div",{className:"relative flex items-center gap-x-4 mt-10 bg-blue-500/10 rounded-md p-10 w-70 border-dashed md:w-96",children:[f.jsx("img",{src:ib,alt:"",className:"h-10 w-10 rounded-full bg-gray-50"}),f.jsx("div",{className:"text-sm leading-6",children:f.jsx("p",{className:"text-white",children:"Aun no tienes contactos agregados"})})]})}):f.jsx(f.Fragment,{children:f.jsx("div",{className:"flex flex-wrap items-center",children:e==null?void 0:e.map(v=>f.jsx("div",{className:"relative flex w-full max-w-[26rem] flex-col lg:flex-grow rounded-xl backdrop-blur-sm bg-blue-950/10 m-2 px-4 text-white shadow-none border-1 border-white/10 hover:border-white/30 hover:cursor-pointer pb-4 min-h-40",onClick:()=>C(v),children:f.jsxs("div",{className:"relative flex items-center gap-4 pt-0 mx-0 mt-4 overflow-hidden text-white bg-transparent shadow-none rounded-xl bg-clip-border",children:[f.jsx("div",{className:"h-[58px] w-[70px]",children:f.jsx(xc,{name:v.title_profile,size:"58",src:v.profile_img_url})}),f.jsxs("div",{className:"flex w-full flex-col gap-0.5",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h4",{className:"block font-sans text-xl antialiased font-semibold leading-snug tracking-normal text-orange-500 text-ellipsis overflow-hidden max-w-[9rem]",children:v.name}),f.jsx("div",{className:"flex items-center gap-0.5",children:f.jsxs("div",{className:"mt-1 flex items-center gap-x-1.5",children:[f.jsx("div",{className:"flex-none rounded-full bg-emerald-500/20 p-1",children:f.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-emerald-500"})}),f.jsx("p",{className:"text-xs leading-5 text-white",children:"Contacto"})]})})]}),f.jsx("p",{className:"block font-sans text-base antialiased font-light leading-relaxed text-blue-gray-900 text-ellipsis overflow-hidden max-w-[10rem]",children:v.position})]})]})},v.id_contact_detail))})})})]}),f.jsxs(Ls,{show:s,onHide:p,centered:!0,scrollable:!0,children:[f.jsx(Tj,{closeButton:!0,closeVariant:"white",className:"bg-[#151f3e]"}),f.jsx(Ls.Body,{className:"contact-modal-card",children:a&&f.jsxs("div",{className:"m-4",children:[f.jsxs("div",{className:"modal-contact-header",children:[f.jsx("div",{className:"user-avatar-card",children:f.jsx(xc,{name:a.name,size:"100",src:""})}),f.jsx("div",{className:"my-2",children:f.jsx("h2",{className:"text-base font-semibold leading-7 text-white",children:a.name})})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-base font-semibold text-white",children:"Correo electrónico"}),f.jsxs("div",{className:"flex m-2",children:[f.jsx(iI,{className:"-ml-0.5 mr-4 h-5 w-5 ","aria-hidden":"true"}),f.jsx("a",{href:`mailto:${a.email}`,className:"contact-modal-content-a",children:a.email})]})]}),f.jsx("div",{className:"contact-modal-separador"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-base font-semibold text-white",children:"Teléfono"}),f.jsxs("div",{className:"flex m-2",children:[f.jsx(hp,{className:"-ml-0.5 mr-4 h-5 w-5 ","aria-hidden":"true"}),f.jsx("a",{href:`tel:${a.phone}`,className:"contact-modal-content-a",children:a.phone})]})]}),f.jsx("div",{className:"contact-modal-separador"}),f.jsx("p",{className:"text-base font-semibold text-white",children:"Empresa"}),f.jsxs("div",{className:"flex m-2",children:[f.jsx(yG,{className:"-ml-0.5 mr-4 h-5 w-5 ","aria-hidden":"true"}),f.jsx("p",{className:"contact-modal-content",children:a.company})]}),f.jsx("div",{className:"contact-modal-separador"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-base font-semibold text-white",children:"Cargo"}),f.jsxs("div",{className:"flex m-2",children:[f.jsx(goe,{className:"-ml-0.5 mr-4 h-5 w-5 ","aria-hidden":"true"}),f.jsx("p",{className:"contact-modal-content",children:a.position})]})]}),f.jsx("div",{className:"contact-modal-separador"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-base font-semibold text-white",children:"Sitio Web"}),f.jsxs("div",{className:"flex m-2",children:[f.jsx(RA,{className:"-ml-0.5 mr-4 h-5 w-5 ","aria-hidden":"true"}),f.jsx("p",{className:"contact-modal-content",children:a.url_web_company!=""?f.jsx(f.Fragment,{children:f.jsx("a",{href:`https://${a.url_web_company}`,className:"contact-modal-content-a",target:"_blank",rel:"noopener noreferrer",children:a.url_web_company})}):f.jsxs(f.Fragment,{children:[" ",f.jsx("p",{children:"No hay web registrada"})]})})]})]}),f.jsx("div",{className:"contact-modal-separador"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-base font-semibold text-white",children:"Notas"}),f.jsxs("div",{className:"flex m-2",children:[f.jsx(Aoe,{className:"-ml-0.5 mr-4 h-5 w-5 ","aria-hidden":"true"}),f.jsxs("p",{className:"contact-modal-content",children:[" ",a.notes!=""?f.jsx(f.Fragment,{children:f.jsx("p",{children:a.notes})}):f.jsxs(f.Fragment,{children:[" ",f.jsx("p",{children:"No hay nota registrada"})]})]})]})]}),f.jsx("div",{className:"contact-modal-separador"}),localStorage.getItem("id_plan")!=6&&f.jsx(br,{variant:"primary",size:"sm",onClick:()=>{g(!0),d.id_contact_fk=a.id_contact,p()},className:"inline-flex items-center rounded-md bg-orange-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600 border-orange-600 hover:border-orange-500",children:"Crear Tarea"})]})})]}),f.jsx(un,{appear:!0,show:u,as:b.Fragment,children:f.jsxs(Hn,{as:"div",className:"relative z-10",onClose:()=>g(!1),children:[f.jsx(un.Child,{as:b.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),f.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:f.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:f.jsx(un.Child,{as:b.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:f.jsxs(Hn.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[f.jsx(Hn.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Crear nueva tarea"}),f.jsxs("form",{onSubmit:h,children:[f.jsx("div",{className:"mt-2",children:f.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Título",f.jsx("input",{type:"text",name:"title",className:"mt-1 block w-full rounded-md bg-white p-2 border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm",value:d.title,onChange:I,required:!0})]})}),f.jsx("div",{className:"mt-2",children:f.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Detalles",f.jsx("textarea",{name:"details",rows:"3",className:"mt-1 block w-full rounded-md bg-white p-2 border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:d.details,onChange:I,required:!0})]})}),f.jsx("div",{className:"mt-2",children:f.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Fecha de Inicio",f.jsx("input",{type:"date",name:"start_date",className:"mt-1 block w-full rounded-md bg-white p-2 border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:d.start_date,onChange:I,required:!0})]})}),f.jsx("div",{className:"mt-2",children:f.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Fecha de Fin",f.jsx("input",{type:"date",name:"end_date",className:"mt-1 block w-full rounded-md bg-white p-2 border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:d.end_date,onChange:I,required:!0})]})}),f.jsxs("div",{className:"mt-4",children:[f.jsx("button",{type:"submit",className:"inline-flex justify-center rounded-md border border-transparent bg-orange-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Guardar"}),f.jsx("button",{type:"button",className:"ml-2 inline-flex justify-center rounded-md border border-transparent bg-gray-300 px-4 py-2 text-sm font-medium text-black shadow-sm hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2",onClick:()=>g(!1),children:"Cancelar"})]})]})]})})})})]})})]})}const bB=()=>{const e="https://api.knowmeapp.com",t=localStorage.getItem("token"),{user:n}=b.useContext(kn);return{getOrgUser:async()=>{try{let l=await ve.get(`${e}/api/org_users_detail/owner/${n.id}`,{headers:{"x-token":t}});if(l.data.ok){const{orgUsersDetail:s}=l.data;return l=await ve.get(`${e}/api/organization/${s.id_organization_fk}`,{headers:{"x-token":t}}),l={owner:s.owner,...l},l}else return l}catch(l){return console.error("Error fetching organization user details:",l),l.response&&l.response.status===400?{ok:!1,msg:l.response.data.msg||"Error desconocido"}:{ok:!1,msg:"Error en la solicitud, por favor intenta de nuevo más tarde."}}},createOrg:async l=>{let s;if(s=await ve.post(`${e}/api/organization`,l,{headers:{"x-token":t}}),s.data.ok){const{organization:c}=s.data,u={id_organization_fk:c.id_organization,id_user_fk:n.id,owner:!0};return s=await ve.post(`${e}/api/org_users_detail`,u,{headers:{"x-token":t}}),s}return s},updateOrg:async l=>await ve.put(`${e}/api/organization/${l.id_organization}`,l,{headers:{"x-token":t}}),getUsersTeamOrg:async()=>{let l;return l=await ve.get(`${e}/api/user/owner/${n.id}`,{headers:{"x-token":t}}),l.data.ok,l}}},L0e=e=>{const{userOrg:t}=e,[n,r]=b.useState(null),[o,i]=b.useState(null),a=Zt(),l=()=>{a("/info_org",{state:{userOrg:t}})};return b.useEffect(()=>{r(t.logo_url??null),i(t.cover_url??null)},[]),f.jsxs("div",{className:"bg-gray-900/50 rounded-lg mt-2 pt-6 px-10 w-full max-w-3xl",children:[f.jsxs("div",{className:"relative items-center gap-x-3 h-36 mb-4",children:[n?f.jsx("img",{src:n,alt:"Selected",className:"h-16 w-16 rounded-full border-white border-2 object-cover absolute bottom-0 left-5 z-10"}):f.jsx(z4,{className:"h-16 w-16 text-white absolute bottom-0 left-5 z-10","aria-hidden":"true"}),f.jsx("div",{className:"rounded-lg w-full h-28 absolute top-0 left-0 z-0 overflow-hidden",children:f.jsx("div",{className:"front-page",style:{backgroundImage:`url("${o??qu}")`}})})]}),f.jsxs("div",{className:"px-4 sm:px-0",children:[f.jsx("h3",{className:"text-base font-semibold leading-7 text-white",children:t.name}),f.jsx("p",{className:"mt-1 max-w-2xl text-sm leading-6 text-white",children:t.industry})]}),f.jsxs("div",{className:"mt-6 border-t border-blue-100/20",children:[f.jsxs("dl",{className:"divide-y divide-blue-100/20",children:[f.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[f.jsx("dt",{className:"text-sm font-medium leading-6 text-white",children:"Razón social"}),f.jsx("dd",{className:"mt-1 text-sm leading-6 text-white sm:col-span-2 sm:mt-0",children:t.business_name})]}),f.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[f.jsx("dt",{className:"text-sm font-medium leading-6 text-white",children:"Domicilio fiscal"}),f.jsx("dd",{className:"mt-1 text-sm leading-6 text-white sm:col-span-2 sm:mt-0",children:t.fiscal_address})]}),f.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[f.jsx("dt",{className:"text-sm font-medium leading-6 text-white",children:"Teléfono"}),f.jsx("dd",{className:"mt-1 text-sm leading-6 text-white sm:col-span-2 sm:mt-0",children:t.phone})]}),f.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[f.jsx("dt",{className:"text-sm font-medium leading-6 text-white",children:"Correo"}),f.jsx("dd",{className:"mt-1 text-sm leading-6 text-white sm:col-span-2 sm:mt-0",children:t.email})]}),f.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[f.jsx("dt",{className:"text-sm font-medium leading-6 text-white",children:"Web"}),f.jsx("dd",{className:"mt-1 text-sm leading-6 text-white sm:col-span-2 sm:mt-0",children:t.website})]})]}),f.jsx("div",{className:" py-4",children:f.jsx("button",{type:"button",onClick:l,disabled:!t.owner,className:`inline-flex items-center rounded-md  px-3 py-2 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 ${t.owner??!1?"bg-orange-500 focus-visible:outline-orange-600 border-orange-600 hover:border-orange-500 hover:bg-orange-600 cursor-pointer":"bg-gray-500 focus-visible:outline-gray-600 border-gray-600 hover:border-gray-500 hover:bg-gray-600 cursor-not-allowed"}`,children:"Actualizar información"})})]})]})};function B3(){const[e,t]=b.useState({});localStorage.getItem("token"),b.useContext(kn);const[n,r]=b.useState(!0),o=Zt(),i=bB();b.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:c,owner:u}=await i.getOrgUser();c.ok?t({...c.organization,owner:u}):(toast.error("No se encontró la organización."),t({}))}catch(c){if(console.error("Error fetching organization:",c),c.response&&c.response.status===400){const u=c.response.data.msg||"Error desconocido";toast.error(u)}else toast.error("Error en la solicitud, por favor intenta de nuevo más tarde.");t({})}finally{r(!1)}},l=()=>{o("/team_org",{state:{userOrg:e}})},s=()=>{o("/info_org")};return n?f.jsx(f.Fragment,{children:f.jsx(cs,{fullScreen:!0})}):f.jsx(f.Fragment,{children:f.jsxs("div",{className:"agenda-container",children:[f.jsxs("div",{className:"agenda-header",children:[f.jsx("h2",{className:"text-base font-semibold leading-7 text-white",children:"Tu empresa"}),e.name?f.jsxs("div",{className:"my-4",children:[f.jsx(L0e,{userOrg:e}),f.jsx("div",{className:"my-4 max-w-3xl",children:f.jsxs("div",{className:"bg-gray-900/50 px-10 rounded-lg mt-2 pt-6",children:[f.jsxs("div",{className:"sm:px-0",children:[f.jsxs("h3",{className:"text-base font-semibold leading-7 text-white",children:["Team: ",e.name]}),f.jsx("p",{className:"mt-1 max-w-2xl text-sm leading-6 text-white",children:"Gestiona los miembros de tu organización."})]}),f.jsx("div",{className:"py-4",children:f.jsx("button",{type:"button",onClick:l,disabled:!e.owner,className:`inline-flex items-center rounded-md  px-3 py-2 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 ${e.owner??!1?"bg-orange-500 focus-visible:outline-orange-600 border-orange-600 hover:border-orange-500 hover:bg-orange-600 cursor-pointer":"bg-gray-500 focus-visible:outline-gray-600 border-gray-600 hover:border-gray-500 hover:bg-gray-600 cursor-not-allowed"}`,children:"Gestionar usuarios"})})]})})]}):f.jsx("div",{className:"my-4",children:f.jsxs("div",{className:"bg-gray-900/50 rounded-lg mt-2 pt-6",children:[f.jsxs("div",{className:"px-4 sm:px-0",children:[f.jsx("h3",{className:"text-base font-semibold leading-7 text-white",children:"No tienes una organización aún 😮"}),f.jsx("p",{className:"mt-1 max-w-2xl text-sm leading-6 text-white",children:"Completa los datos para tu organización y empieza a crear usuarios."})]}),f.jsx("div",{className:" p-4",children:f.jsx("button",{type:"button",onClick:s,disabled:localStorage.getItem(!1),className:`inline-flex items-center rounded-md  px-3 py-2 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 ${localStorage.getItem("id_plan")==="9"?"bg-orange-500 focus-visible:outline-orange-600 border-orange-600 hover:border-orange-500 hover:bg-orange-600 cursor-pointer":"bg-gray-500 focus-visible:outline-gray-600 border-gray-600 hover:border-gray-500 hover:bg-gray-600 cursor-not-allowed"}`,children:"Completa el registro de tu organización"})})]})})]}),f.jsx("div",{className:"h-40"})]})})}function K0e(){const e="https://api.knowmeapp.com",[t,n]=b.useState({email:""}),r=Zt(),[o,i]=b.useState(""),a=s=>{n({...t,[s.target.name]:s.target.value})},l=async s=>{s.preventDefault(),i("");try{const c=await ve.post(`${e}/api/auth/request-reset`,t);i(""),c.status===200&&r("/emailSent")}catch(c){console.error("Error al enviar el formulario:",c),i(`El email ${t.email} no esta registrado`)}};return f.jsxs(f.Fragment,{children:[f.jsx(om,{className:"registro-back",size:33,color:"#FD6202",onClick:()=>{r("/login")}}),f.jsxs("div",{className:"forgot-container max-w-5xl mx-auto",children:[f.jsx("h2",{className:"text-base font-semibold leading-7 text-white",children:"Recupera tu cuenta"}),f.jsx("p",{children:"¿Cuál es tu correo electrónico?"}),f.jsx("form",{onSubmit:l,className:"form-forget",children:f.jsxs("div",{className:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-3",children:[f.jsxs("div",{className:"col-span-full",children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Correo:"}),f.jsx("input",{type:"email",name:"email",id:"email",className:"block w-full rounded-md border-0 p-2 bg-white text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-orange-600 sm:text-sm sm:leading-6",value:t.email,onChange:a,placeholder:"correo electrónico"}),f.jsx("div",{className:"error-mail",children:o})]}),f.jsx("div",{className:"sm:col-span-3 flex items-end justify-end",children:f.jsx("button",{type:"submit",className:"inline-flex items-center rounded-md bg-orange-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600",children:"Restablecer contraseña"})})]})})]})]})}function O0e(){const e=Zt();return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"emailSent-container max-w-5xl mx-auto",children:[f.jsx("h3",{className:"text-base font-semibold leading-7 text-white ",children:"Se envió el correo electrónico"}),f.jsx("p",{className:"py-2",children:"Enviamos un correo electrónico. Si este correo está vinculado a una cuenta Know Me, podrás restablecer tu contraseña."}),f.jsx("div",{className:"backtohome hover:text-orange-500",onClick:()=>{e("/login/")},children:"Volver al inicio"})]})})}function P0e(){const e="https://api.knowmeapp.com",[t,n]=b.useState(!1),[r,o]=b.useState({newPassword:"",token:""}),i=Zt(),[a,l]=b.useState(""),s=26,c=xr();b.useEffect(()=>{const I=new URLSearchParams(c.search).get("token");I&&o({...r,token:I})},[c.search]);const u=()=>{n(!t)},g=m=>{o({...r,[m.target.name]:m.target.value})},d=async m=>{if(m.preventDefault(),l(""),r.newPassword!==r.confirmPassword){l("Las contraseñas no coinciden");return}try{const I=await ve.post(`${e}/api/auth/reset`,r);l(""),I.status===200&&i("/login")}catch(I){console.error("Error al enviar el formulario:",I),l("Ocurrio un problema por favor intenta de nuevo")}};return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"forgot-container",children:[f.jsx("h3",{children:"Ingresa tu nueva contraseña"}),f.jsx("p",{}),f.jsxs("form",{onSubmit:d,className:"form-forget",children:[f.jsxs("div",{children:[f.jsx("div",{children:f.jsx("label",{children:"Contraseña:"})}),f.jsxs("div",{className:"login-password",children:[f.jsx("input",{type:t?"text":"password",className:"contact-input-recover",placeholder:"******",value:r.newPassword,name:"newPassword",onChange:g}),t?f.jsx(vc,{size:s,color:"#fff",className:"eye-icon",onClick:u}):f.jsx(bc,{size:s,color:"#fff",className:"eye-icon",onClick:u})]})]}),f.jsxs("div",{className:"mt-5",children:[f.jsx("div",{children:f.jsx("label",{children:"Reingresa Contraseña:"})}),f.jsxs("div",{className:"login-password",children:[f.jsx("input",{type:t?"text":"password",className:"contact-input-recover",placeholder:"******",name:"confirmPassword",onChange:g}),t?f.jsx(vc,{size:s,color:"#fff",className:"eye-icon",onClick:u}):f.jsx(bc,{size:s,color:"#fff",className:"eye-icon",onClick:u})]})]}),f.jsx("div",{className:"error-mail",children:a}),f.jsx("div",{children:f.jsx("button",{type:"submit",className:"forgot-btn",children:"Restablecer contraseña"})})]})]})})}const k3=()=>{const e=xr(),t=e.state?e.state.userOrg:x,[n,r]=b.useState(null),[o,i]=b.useState(null),[a,l]=b.useState(!0),s=bB(),c=yn(),u=Zt();b.useContext(kn),b.useEffect(()=>{I(),B()},[]);const g=w=>{const k=w.target.files[0];r(URL.createObjectURL(k))},d=w=>{const k=w.target.files[0];i(URL.createObjectURL(k))},m=w=>{const{name:k,value:V}=w.target;S({...x,[k]:V})},I=async()=>{r(t.logo_url??null),i(t.cover_url??null),S({...t}),l(!1)},h=async w=>{var V,W;l(!0);const k=Re.loading("Guardando cambios");w.preventDefault();try{const X=document.getElementById("photo").files[0];if(X!==void 0){const H=new FormData;H.append("recfile",X),H.append("username",localStorage.getItem("token"));const M=await c.updateProfilePhoto(H);x.logo_url=M.data.dataLocationResponse}const E=document.getElementById("photo_cover").files[0];if(E!==void 0){const H=new FormData;H.append("recfile",E),H.append("username",localStorage.getItem("token"));const M=await c.updateProfilePhoto(H);x.cover_url=M.data.dataLocationResponse}let F;x.id_organization!==0?{data:F}=await s.updateOrg(x):{data:F}=await s.createOrg(x),F.ok?(Re.success(F.msg,{id:k}),setTimeout(()=>{u("/business"),l(!1)},2e3)):(Re.error(F.msg,{id:k}),l(!1))}catch(N){if(console.error("Error al enviar el formulario:",N),l(!1),N.response&&N.response.status===400){const X=((W=(V=N.response.data.errors)==null?void 0:V.name)==null?void 0:W.msg)||"Ocurrió un error.";Re.error(X,{id:k})}else Re.error("Error inesperado, por favor intenta de nuevo.",{id:k})}},A=()=>{S({name:"",logo_url:"",cover_url:"",business_name:"",rfc:"",fiscal_address:"",industry:"",phone:"",email:"",website:""}),u("/business")},[C,p]=b.useState([]),[v,y]=b.useState([]),[x,S]=b.useState({id_organization:0,name:"",logo_url:"",cover_url:"",business_name:"",rfc:"",fiscal_address:"",industry:"",phone:"",email:"",website:""}),B=async()=>{try{const{data:w}=await c.getCategories();y(w.categories)}catch(w){console.error(w)}},Z=w=>{const k=Array.from(w.target.selectedOptions,W=>W.value),V=[...new Set([...C,...k])];p(V),S(W=>({...W,industry:V.join(", ")}))},R=w=>{p(k=>{const V=k.filter(W=>W!==w);return S(W=>({...W,industry:V.join(", ")})),V})};return f.jsxs(f.Fragment,{children:[f.jsx(Mn,{position:"top-right",richColors:!0}),f.jsx("div",{className:"m-10",children:f.jsx("h2",{className:"text-base font-semibold leading-7 text-white",children:"Editar o agregar datos de organización"})}),f.jsx("div",{className:"m-3 p-3 bg-gray-800/30 rounded-lg max-w-3xl",children:f.jsxs("form",{onSubmit:h,className:"md:m-16",children:[f.jsxs("div",{className:"space-y-12",children:[f.jsxs("div",{className:"border-b border-gray-900/10 pb-12 ",children:[f.jsx("h2",{className:"text-base font-semibold leading-7 text-white",children:"Información general de tu organización"}),f.jsx("p",{className:"mt-1 text-sm leading-6 text-white",children:"Esta información de la organización formará parte de la carpeta de presentación de tus usuarios miembros."}),f.jsxs("div",{className:"col-span-full mt-4",children:[f.jsx("label",{htmlFor:"photo_cover",className:"block text-sm font-medium leading-6 text-white",children:"Imagen de portada para la organización"}),f.jsxs("p",{className:"mt-1 text-sm leading-6 text-white",children:["Para una presentación visualmente atractiva, te sugerimos considerar una imagen con dimensiones de"," ",f.jsx("span",{className:"font-bold",children:"688x224 px"}),"."]}),f.jsxs("div",{className:"my-2 items-center rounded-lg gap-x-3 h-36 overflow-hidden",children:[o?f.jsx("img",{src:o??qu,alt:"Selected",className:"object-scale-down rounded-lg"}):f.jsx("img",{src:qu,alt:"Selected",className:"object-scale-down rounded-lg"}),f.jsx("input",{type:"file",id:"photo_cover",accept:"image/*",className:"hidden",onChange:d})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{type:"button",className:"rounded-md bg-orange-500 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm ring-1 ring-inset ring-white hover:bg-orange-600",onClick:()=>{document.getElementById("photo_cover").click()},children:"Cambiar"})})]}),f.jsxs("div",{className:"col-span-full mt-4",children:[f.jsx("label",{htmlFor:"photo",className:"block text-sm font-medium leading-6 text-white",children:"Logo organización"}),f.jsxs("div",{className:"mt-2 flex items-center gap-x-3",children:[n?f.jsx("img",{src:n,alt:"Selected",className:"h-28 w-28 rounded-full border-white border-2 object-cover"}):f.jsx(z4,{className:"h-12 w-12 text-white","aria-hidden":"true"}),f.jsx("input",{type:"file",id:"photo",accept:"image/*",className:"hidden",onChange:g}),f.jsx("button",{type:"button",className:"rounded-md bg-orange-500 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm ring-1 ring-inset ring-white hover:bg-orange-600",onClick:()=>{document.getElementById("photo").click()},children:"Cambiar"})]})]}),f.jsx("div",{className:"mt-2 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:f.jsxs("div",{className:"sm:col-span-4",children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium leading-6 text-white",children:"Nombre de la organización"}),f.jsx("div",{className:"mt-2",children:f.jsxs("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-white focus-within:ring-2 focus-within:ring-inset focus-within:ring-orange-600 sm:max-w-md border-1 border-white",children:[f.jsx("span",{className:"flex pr-2 select-none items-center pl-3 text-white sm:text-sm",children:f.jsx(yG,{className:"h-5 w-5 text-white","aria-hidden":"true"})}),f.jsx("input",{type:"text",name:"name",id:"name",placeholder:"*",required:!0,autoComplete:"name",value:x.name,onChange:m,className:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-white placeholder:text-white focus:ring-0 sm:text-sm sm:leading-6 bg-white p-2"})]})}),f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium leading-6 text-white mt-2",children:"Industria a la que pertenece la organización"}),f.jsxs("div",{className:"mt-2",children:[f.jsxs("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-white focus-within:ring-2 focus-within:ring-inset focus-within:ring-orange-600 sm:max-w-md border-1 border-white",children:[f.jsx("span",{className:"flex pr-2 select-none items-center pl-3 text-white sm:text-sm",children:f.jsx(koe,{className:"h-5 w-5 text-white","aria-hidden":"true"})}),f.jsxs("div",{className:"space-y-4",children:[" ",f.jsx("textarea",{name:"name",id:"name",placeholder:"Selecciona una o más industrias*",required:!0,disabled:!0,value:x.industry,className:"block w-full border-0 bg-gray-800/55 py-2 px-3 text-white placeholder-gray-400 focus:ring-0 sm:text-sm resize-none",rows:3}),f.jsxs("select",{id:"industries",name:"industries",onChange:Z,placeholder:"Selecciona una o más industrias*",className:"block w-full border-0 bg-gray-800/55 py-2 px-3 text-white placeholder-gray-400 focus:ring-0 sm:text-sm",children:[f.jsx("option",{value:"",disabled:!0,selected:!0,children:"Selecciona una o más industrias"}),v.map(w=>f.jsx("option",{value:w.name,children:w.name},w.name))]})]})]}),f.jsx("div",{className:"mt-4",children:C.length>0&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{className:"text-sm font-medium text-white mb-2",children:"Seleccionadas:"}),f.jsx("ul",{className:"list-disc pl-5 text-sm text-gray-600",children:C.map(w=>{const k=v.find(V=>V.name===w);return f.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-gray-100 rounded-md mb-2",children:[f.jsx("span",{children:k==null?void 0:k.name}),f.jsx("button",{onClick:()=>R(w),className:"text-red-600 hover:text-red-800",children:"Quitar"})]},w)})})]})})]}),f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium leading-6 text-white mt-2",children:"Razón Social"}),f.jsx("div",{className:"mt-2",children:f.jsxs("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-white focus-within:ring-2 focus-within:ring-inset focus-within:ring-orange-600 sm:max-w-md border-1 border-white",children:[f.jsx("span",{className:"flex pr-2 select-none items-center pl-3 text-white sm:text-sm",children:f.jsx(Xoe,{className:"h-5 w-5 text-white","aria-hidden":"true"})}),f.jsx("input",{type:"text",name:"business_name",id:"business_name",autoComplete:"business_name",value:x.business_name,onChange:m,className:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-white placeholder:text-white focus:ring-0 sm:text-sm sm:leading-6 bg-white p-2"})]})}),f.jsx("div",{className:"mt-2",children:f.jsxs("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-white focus-within:ring-2 focus-within:ring-inset focus-within:ring-orange-600 sm:max-w-md border-1 border-white",children:[f.jsx("span",{className:"flex pr-2 select-none items-center pl-3 text-white sm:text-sm",children:"RFC:"}),f.jsx("input",{type:"text",name:"rfc",id:"rfc",autoComplete:"rfc",value:x.rfc,onChange:m,className:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-white placeholder:text-white focus:ring-0 sm:text-sm sm:leading-6 bg-white p-2"})]})}),f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium leading-6 text-white mt-2",children:"Domicilio Fiscal:"}),f.jsx("div",{className:"mt-2",children:f.jsxs("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-white focus-within:ring-2 focus-within:ring-inset focus-within:ring-orange-600 sm:max-w-md border-1 border-white",children:[f.jsx("span",{className:"flex pr-2 select-none items-center pl-3 text-white sm:text-sm",children:f.jsx(Woe,{className:"h-5 w-5 text-white","aria-hidden":"true"})}),f.jsx("input",{type:"text",name:"fiscal_address",id:"fiscal_address",autoComplete:"fiscal_address",placeholder:"*",required:!0,value:x.fiscal_address,onChange:m,className:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-white placeholder:text-white focus:ring-0 sm:text-sm sm:leading-6 bg-white p-2"})]})}),f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium leading-6 text-white mt-2",children:"Teléfono de la empresa"}),f.jsx("div",{className:"mt-2",children:f.jsxs("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-white focus-within:ring-2 focus-within:ring-inset focus-within:ring-orange-600 sm:max-w-md border-1 border-white",children:[f.jsx("span",{className:"flex pr-2 select-none items-center pl-3 text-white sm:text-sm",children:"+52"}),f.jsx("input",{type:"number",name:"phone",id:"phone",autoComplete:"phone",placeholder:"*",required:!0,value:x.phone,onChange:m,className:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-white placeholder:text-white focus:ring-0 sm:text-sm sm:leading-6 bg-white p-2"})]})}),f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium leading-6 text-white mt-2",children:"Correo electrónico de la empresa"}),f.jsx("div",{className:"mt-2",children:f.jsxs("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-white focus-within:ring-2 focus-within:ring-inset focus-within:ring-orange-600 sm:max-w-md border-1 border-white",children:[f.jsx("span",{className:"flex pr-2 select-none items-center pl-3 text-white sm:text-sm",children:f.jsx(iI,{className:"h-5 w-5 text-white","aria-hidden":"true"})}),f.jsx("input",{type:"email",name:"email",id:"email",autoComplete:"email",placeholder:"*",required:!0,value:x.email,onChange:m,className:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-white placeholder:text-white focus:ring-0 sm:text-sm sm:leading-6 bg-white p-2"})]})}),f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium leading-6 text-white mt-2",children:"Sitio web empresa"}),f.jsx("div",{className:"mt-2",children:f.jsxs("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-white focus-within:ring-2 focus-within:ring-inset focus-within:ring-orange-600 sm:max-w-md border-1 border-white",children:[f.jsx("span",{className:"flex pr-2 select-none items-center pl-3 text-white sm:text-sm",children:f.jsx(RA,{className:"h-5 w-5 text-white","aria-hidden":"true"})}),f.jsx("input",{type:"text",name:"website",id:"website",autoComplete:"website",value:x.website,onChange:m,className:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-white placeholder:text-white focus:ring-0 sm:text-sm sm:leading-6 bg-white p-2"})]})})]})})]}),f.jsxs("div",{className:"border-b border-white/10 pb-12",children:[f.jsx("h2",{className:"text-base font-semibold leading-7 text-white",children:"¿Para qué necesitamos estos datos?"}),f.jsx("p",{className:"mt-1 text-sm leading-6 text-white",children:"La información proporcionada aquí será utilizada para crear y mantener el perfil de tu organización. Esto incluye la presentación de tu empresa ante los usuarios miembros, así como para fines de comunicación y contacto relacionados con los servicios ofrecidos."})]})]}),f.jsxs("div",{className:"mt-6 flex items-center justify-end gap-x-6",children:[f.jsx("button",{type:"button",disabled:a,onClick:A,className:"text-sm font-semibold leading-6 text-white",children:"Cancelar"}),f.jsx("button",{type:"submit",disabled:a,className:"rounded-md bg-orange-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600",children:"Guardar"})]})]})}),f.jsx("div",{className:"h-24 lg:h-0"})]})},R3=()=>{const[e,t]=b.useState(null),[n,r]=b.useState([]),[o,i]=b.useState(!0),[a,l]=b.useState(!1),[s,c]=b.useState({id_organization:0,name:"",logo_url:"",cover_url:"",business_name:"",rfc:"",fiscal_address:"",industry:"",phone:"",email:"",website:""}),[u,g]=b.useState({id_organization:0,name:"",lastname:"",email:"",mailing_status:1,id_user_type_fk:2,terms_policies_status:1,id_plan_fk:6}),d=b.useRef(null),m=Zt(),I=xr(),h=bB(),A=ss(),C=I.state?I.state.userOrg:s;b.useEffect(()=>{y(),t(C.logo_url)},[]);const p=B=>{const{name:Z,value:R}=B.target;g({...u,[Z]:R})},v=()=>{m("/business")},y=async()=>{const{data:B}=await h.getUsersTeamOrg(),{users:Z}=B;B.ok?r(Z):r([]),i(!1)},x=()=>{l(!0)},S=async B=>{B.preventDefault();const Z=window.location.href.split("team_org")[0];i(!0);const R=Re.loading("Enviando invitación");try{const{data:w}=await A.createUserByInvitation({...u,successUrl:`${Z}team_org`,cancelUrl:`${Z}team_org`},n[0].id_organization_fk);w.ok&&u.id_plan_fk==6?(Re.success(w.msg,{id:R}),setTimeout(()=>{l(!1),y(),i(!1)},2e3),l(!1)):(l(!1),i(!1),window.open(w.userPaymentSession.stripe_session_url,"_self"))}catch(w){if(w.response.status===400){const k=w.response.data.errors;let V="";k?Object.keys(k).forEach(W=>{V+=`${k[W].msg}
`}):V=w.response.data.msg||"Error al crear invitación, por favor intenta de nuevo",Re.error(V,{id:R})}else Re.error("Error al crear invitación, por favor intenta de nuevo",{id:R});i(!1)}};return f.jsxs(f.Fragment,{children:[f.jsx(Mn,{position:"top-right",richColors:!0}),f.jsxs("div",{className:"flex justify-between mx-4 my-5 items-center",children:[f.jsxs("div",{className:"flex-col",children:[f.jsx("h2",{className:"text-base font-semibold leading-7 text-white",children:"Business Team"}),f.jsxs("button",{type:"button",onClick:v,className:"text-sm flex font-semibold leading-6 text-orange-400 hover:text-orange-500",children:[f.jsx(hoe,{className:"h-6 w-6","aria-hidden":"true"}),"Regresar"]})]}),e?f.jsx("img",{src:e,alt:"Selected",className:"h-12 w-12 md:h-14 md:w-14 rounded-full border-white border-2 object-cover"}):f.jsx(yG,{className:"h-12 w-12 md:h-14 md:w-14 text-gray-900 bg-white rounded-full p-2 border-white border-2","aria-hidden":"true"}),f.jsx("div",{className:"text-white",children:f.jsx("button",{onClick:x,className:"inline-flex items-center rounded-md bg-orange-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600",children:"Agregar miembro"})})]}),f.jsx("div",{className:"mx-4 mb-20",children:f.jsx("ul",{role:"list",className:"divide-y divide-gray-100",children:n.map(B=>f.jsxs("li",{className:"flex justify-between gap-x-6 py-5",children:[f.jsxs("div",{className:"flex min-w-0 gap-x-4",children:[f.jsx("img",{className:"h-12 w-12 flex-none rounded-full bg-gray-50 object-cover",src:B.user.profile_img_url??ib,alt:""}),f.jsxs("div",{className:"min-w-0 flex-auto",children:[f.jsx("p",{className:"text-sm font-semibold leading-6 text-white",children:B.user.name}),f.jsx("p",{className:"mt-1 truncate text-xs leading-5 text-white",children:B.user.email})]})]}),f.jsxs("div",{className:"hidden shrink-0 sm:flex sm:flex-col sm:items-end",children:[f.jsx("p",{className:"text-sm leading-6 text-white",children:B.user.ocupation_role??"[PENDIENTE]"}),B.owner?f.jsxs("div",{className:"mt-1 flex items-center gap-x-1.5",children:[f.jsx("div",{className:"flex-none rounded-full bg-orange-500/20 p-1",children:f.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-orange-500"})}),f.jsx("p",{className:"text-xs leading-5 text-orange-500",children:"Admin"})]}):f.jsx("p",{className:"mt-1 text-xs leading-5 text-white",children:"Miembro"})]})]},B.id_user_fk))})}),f.jsx(un.Root,{show:a,as:b.Fragment,children:f.jsxs(Hn,{className:"relative z-10",initialFocus:d,onClose:l,children:[f.jsx(un.Child,{as:b.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:f.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),f.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:f.jsx("div",{className:"flex items-end justify-center p-4 text-center sm:items-center sm:p-0",children:f.jsx(un.Child,{as:b.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:f.jsx(Hn.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 w-full max-w-lg h-xl",children:f.jsx("div",{className:"bg-white px-4 pb-4 sm:p-6 sm:pb-4",children:f.jsxs("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[f.jsx(Hn.Title,{as:"h3",className:"text-base font-semibold leading-6 text-gray-900",children:"Agregar miembro"}),f.jsx("div",{className:"bg-white rounded-lg max-w-3xl",children:f.jsxs("form",{onSubmit:S,className:"mx-2",children:[f.jsx("div",{className:"mt-2",children:f.jsxs("div",{className:"sm:col-span-4",children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium leading-6 text-gray-900 text-left",children:"Nombre(s) del usuario*"}),f.jsx("div",{className:"mt-2",children:f.jsxs("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-white focus-within:ring-2 focus-within:ring-inset focus-within:ring-orange-600 sm:max-w-md border-1 border-gray-800",children:[f.jsx("span",{className:"flex pr-2 select-none items-center pl-3 text-gray-900 sm:text-sm",children:f.jsx(iW,{className:"h-5 w-5 text-gray-900","aria-hidden":"true"})}),f.jsx("input",{type:"text",name:"name",id:"name",autoComplete:"name",value:u.name,onChange:p,className:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-900 focus:ring-0 sm:text-sm sm:leading-6 bg-white p-2"})]})}),f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium leading-6 text-gray-900 mt-2 text-left",children:"Apellido(s) del usuario*"}),f.jsx("div",{className:"mt-2",children:f.jsxs("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-white focus-within:ring-2 focus-within:ring-inset focus-within:ring-orange-600 sm:max-w-md border-1 border-gray-800",children:[f.jsx("span",{className:"flex pr-2 select-none items-center pl-3 text-gray-900 sm:text-sm",children:f.jsx(iW,{className:"h-5 w-5 text-gray-900","aria-hidden":"true"})}),f.jsx("input",{type:"text",name:"lastname",id:"lastname",autoComplete:"lastname",value:u.lastname,onChange:p,className:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-900 focus:ring-0 sm:text-sm sm:leading-6 bg-white p-2"})]})}),f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium leading-6 text-gray-900 mt-2 text-left",children:"Correo electrónico del miembro*"}),f.jsx("div",{className:"mt-2",children:f.jsxs("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-white focus-within:ring-2 focus-within:ring-inset focus-within:ring-orange-600 sm:max-w-md border-1 border-gray-800",children:[f.jsx("span",{className:"flex pr-2 select-none items-center pl-3 text-gray-900 sm:text-sm",children:f.jsx(iI,{className:"h-5 w-5 text-gray-900","aria-hidden":"true"})}),f.jsx("input",{type:"email",name:"email",id:"email",autoComplete:"email",value:u.email,onChange:p,className:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-900 focus:ring-0 sm:text-sm sm:leading-6 bg-white p-2"})]})}),f.jsx("label",{htmlFor:"plan",className:"block text-sm font-medium leading-6 text-gray-900 mt-2 text-left",children:"Seleccionar plan"}),f.jsx("div",{className:"mt-2",children:f.jsxs("select",{id:"id_plan_fk",name:"id_plan_fk",value:u.id_plan_fk,onChange:p,className:"block w-full pl-3 pr-10 py-2 text-base bg-white border-gray-800 focus:outline-none focus:ring-orange-600 focus:border-orange-600 sm:text-sm rounded-md",children:[f.jsx("option",{value:6,children:"Gratuito"}),f.jsx("option",{value:7,children:"Básico"}),f.jsx("option",{value:8,children:"Emprendedor"}),f.jsx("option",{value:9,children:"Business (Admin)"})]})})]})}),f.jsxs("div",{className:"mt-6 flex items-center justify-end gap-x-6",children:[f.jsx("button",{type:"button",disabled:o,onClick:()=>l(!1),ref:d,className:"text-sm font-semibold leading-6 text-gray-900",children:"Cancelar"}),f.jsx("button",{type:"submit",disabled:o,className:"rounded-md bg-orange-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600",children:"Enviar"})]})]})})]})})})})})})]})})]})};const V3=()=>{const e=ss(),[t,n]=b.useState(!1),[r,o]=b.useState(!1),[i,a]=b.useState(!1),{onInputChange:l,formState:s}=ls({new_password:"",confirm_password:""}),c=async()=>{if(s.new_password!=s.confirm_password)n(!0),o(!0);else{const u=Re.loading("Actualizando contraseña");try{const g={newPassword:s.new_password};await e.changePassword(g),Re.success("Contraseña actualizada correctamente",{id:u})}catch{Re.error("Error al actualizar contraseña, verifique sus datos o contacte a soporte",{id:u})}}};return f.jsxs(f.Fragment,{children:[f.jsx(Mn,{position:"top-center",richColors:!0}),f.jsx("div",{className:"change_password",children:f.jsxs("div",{className:"change_password_container",children:[f.jsx("div",{className:"change_password_title",children:"Cambiar contraseña"}),f.jsxs("div",{className:"change_password_input",children:[f.jsx("input",{type:i?"text":"password",placeholder:"Nueva contraseña",value:s.new_password,name:"new_password",onChange:u=>{r&&o(!1),l(u)},style:t&&r?{color:"#cc0000"}:{}}),f.jsx("div",{children:i?f.jsx(vc,{color:"white",size:25,onClick:()=>{a(!1)}}):f.jsx(bc,{color:"white",size:25,onClick:()=>{a(!0)}})})]}),f.jsxs("div",{className:"change_password_input",children:[f.jsx("input",{type:i?"text":"password",placeholder:"Confirmar contraseña",value:s.confirm_password,name:"confirm_password",onChange:u=>{r&&o(!1),l(u)},style:t&&r?{color:"#cc0000"}:{}}),f.jsx("div",{children:i?f.jsx(vc,{color:"white",size:25,onClick:()=>{a(!1)}}):f.jsx(bc,{color:"white",size:25,onClick:()=>{a(!0)}})})]}),t&&r&&f.jsx("div",{className:"change_password_alert",children:"Las contraseñas no coinciden"}),f.jsx("button",{className:"change_password_button",onClick:c,children:"Continuar"})]})})]})};const D0e=({plan:e,setShowDetailsModal:t,setPlanSelected:n,cardsPlan:r})=>{const o=()=>{t(!0),n(r)};return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"e-card playing",children:[f.jsx("div",{className:"image"}),f.jsx("div",{className:e.className=="gratis"?"wave color_1":e.className=="ecommerce"?"wave color_3":"wave color_2"}),f.jsx("div",{className:e.className=="gratis"?"wave color_1":e.className=="ecommerce"?"wave color_3":"wave color_2"}),f.jsx("div",{className:e.className=="gratis"?"wave color_1":e.className=="ecommerce"?"wave color_3":"wave color_2"}),f.jsxs("div",{className:"infotop",children:[f.jsx("div",{className:"plan_name",children:r.name_plan}),f.jsx("div",{className:"plan_price",children:e.cost[0]=="-1.00"?"‪":e.cost[0]!="0.00"?`${e.cost[0]}`:e.cost[1]!="0.00"?`${e.cost[1]}`:"Gratis"}),f.jsx("div",{className:"plan_price",children:e.cost[0]=="-1.00"?"Contáctanos":e.cost[0]!="0.00"?"Pago único":"Pago anual"}),f.jsx(br,{className:"plan_beneficts",onClick:o,children:"Ver Beneficios"})]})]})})};const z0e=({plan:e})=>{const t=ss(),{user:n}=b.useContext(kn),[r,o]=b.useState(!1),[i,a]=b.useState(!1),l=async()=>{o(!0);const s=Re.loading("Cambiando plan"),c=window.location.href.replace("upgrade",""),u=n.id,g=localStorage.getItem("token"),d={id_plan_fk:e.id_plan,successUrl:`${c}home`,cancelUrl:`${c}upgrade`};try{const{data:m}=await t.addPlan(u,d,g);o(!1),Re.success("Cambio de plan satisfactorio",{id:s}),e.id_plan==6?(n.id_plan_fk=e.id_plan,window.open(d.successUrl,"_self")):window.open(m.user.stripe_session_url,"_self")}catch{Re.error("Error al cambiar de plan",{id:s}),o(!1)}};return f.jsxs(f.Fragment,{children:[r&&f.jsx(IG,{}),f.jsxs("div",{className:"plan_details max-w-lg rounded-3xl p-12",children:[f.jsx("div",{className:"text-xl text-center font-bold",children:e.name_plan}),f.jsx("ul",{className:"my-4",children:Object.entries(O4).map(s=>{if(e[s[0]]==!0)return typeof s[1]=="string"?f.jsxs("li",{children:["▸ ",s[1]]},s[0]):f.jsxs("li",{children:["▸ ",s[1][e[s[0]]-1]]},s[0])})}),f.jsx("div",{className:"plan_details_btn",children:f.jsx(br,{onClick:()=>{a(!0)},children:"Escoger Plan"})})]}),i&&f.jsx(f.Fragment,{children:f.jsxs("div",{className:"plan_details plan_show_shure max-w-lg rounded-3xl p-12",children:[f.jsx(_q,{size:34,color:"#cc0000",className:"shure_close",onClick:()=>{a(!1)}}),f.jsx("div",{className:"rounded-md bg-yellow-50 p-4",children:f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx(Soe,{className:"h-5 w-5 text-yellow-400","aria-hidden":"true"})}),f.jsxs("div",{className:"ml-3",children:[f.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"ATENCIÓN"}),f.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:f.jsxs("p",{children:["Estas a punto de iniciar un cambio de plan se cambiaran las funciones que se incluyen en ese plan de inmediato",f.jsx("br",{}),"¿Desea continuar a la transacción?"]})})]})]})}),f.jsx("div",{className:"plan_details_btn",children:f.jsx(br,{onClick:l,children:"Continuar"})})]})})]})},W3=()=>{const[e,t]=b.useState(null),[n,r]=b.useState(!1),[o,i]=b.useState(null),a=window.innerWidth,l=yn(),s=async()=>{const c=await l.getPlans();t(c.data.plans)};return b.useEffect(()=>{s()},[]),f.jsxs(f.Fragment,{children:[n&&f.jsx("div",{className:"profile-modal-background",onClick:()=>{r(!1)},children:f.jsx("div",{})}),n&&f.jsx(z0e,{plan:o}),f.jsx(Mn,{position:"top-right",richColors:!0}),e!=null&&f.jsx("div",{className:"change-plan-container",children:f.jsx("div",{className:"change-plan",children:f.jsx(pG,{slidesPerView:a>1280?3.5:a>940?2.5:a>576?1.6:1.2,spaceBetween:10,pagination:{clickable:!0},modules:[L4],className:"mySwiper",children:K4.map((c,u)=>(c.id_plan=e[u].id_plan,c.cost=[e[u].unique_cost,e[u].annual_cost],c.color="#"+e[u].color_card,f.jsx(AG,{children:f.jsx(D0e,{plan:c,setShowDetailsModal:r,setPlanSelected:i,cardsPlan:e[u]})},u)))})})})]})},U0e=()=>{const e=Zt();return f.jsx("div",{className:"flex flex-col min-h-screen",children:f.jsx("div",{className:"flex flex-row",children:f.jsxs("main",{className:"flex-grow w-3/4 p-8",children:[f.jsx("div",{className:"bg-gray-700 bg-opacity-40 border  p-8 rounded-lg shadow-lg",children:f.jsxs("div",{className:"flex flex-col  items-center",children:[f.jsx("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-NV9q05F16g50huet5CWXj-AtbmH30NTR4A&s",alt:"User Avatar",className:"w-24 h-24 rounded-md mb-4 object-cover"}),f.jsx("h2",{className:"text-xl font-semibold",children:"Diego Rmz"}),f.jsx("p",{className:"text-sm text-gray-400",children:"Líder de proyectos | Desarrollador FullStack"}),f.jsx("div",{className:"mt-4 p-2 rounded-md bg-white",children:f.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/d/d7/Commons_QR_code.png",alt:"QR Code",className:"w-48 h-48"})}),f.jsxs("div",{className:"flex space-x-4 mt-4",children:[f.jsx("button",{className:"bg-orange-500 text-white py-2 px-4 rounded-full",children:"Compartir Tarjeta"}),f.jsx("button",{className:"bg-orange-500 text-white py-2 px-4 rounded-full",children:"Copiar URL"})]})]})}),f.jsxs("div",{className:"mt-8 p-4 bg-[rgb(27,34,62)] rounded-lg",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Compra de Tarjetas Personalizadas"}),f.jsx("p",{className:"mt-2 text-gray-400",children:"Nuestra plataforma te permite seleccionar entre una variedad de diseños y agregar tu toque personal con mensajes y detalles únicos. Si necesitas una cotización específica para pedidos grandes o personalizados, también puedes solicitarla fácilmente a través de esta sección. ¡Haz que tus momentos especiales sean inolvidables con nuestras tarjetas personalizadas!"}),f.jsx("div",{className:"mt-4",children:f.jsx("button",{onClick:()=>e("/plans"),className:"bg-orange-500 text-white py-2 px-4 rounded-full",children:"Gestionar compra"})})]})]})})})};function _0e({description:e,title:t}){return f.jsxs("div",{className:"border-t border-white  text-black p-1 pt-2",children:[f.jsx("h2",{className:"text-md text-white font-bold mb-4",children:t}),f.jsx("p",{className:"text-white text-[12px]",children:e})]})}function Ab({isOpen:e,closeDrawer:t,children:n}){return f.jsx(f.Fragment,{children:f.jsx(un,{show:e,as:b.Fragment,children:f.jsxs(Hn,{as:"div",className:"relative z-10",onClose:t,children:[f.jsx(un.Child,{as:b.Fragment,enter:"transition ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50"})}),f.jsx("div",{className:"fixed inset-0 flex justify-end",children:f.jsx(un.Child,{as:b.Fragment,enter:"transition ease-out duration-300",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in duration-200",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:f.jsxs(Hn.Panel,{className:"w-full max-w-lg bg-white p-2 shadow-xl",children:[f.jsx("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",onClick:t,children:f.jsx(o0e,{className:"w-6 h-6","aria-hidden":"true"})}),f.jsx(Hn.Title,{className:"text-lg mt-2 font-medium text-gray-900",children:"Editar"}),n]})})})]})})})}function Q0e({show:e,setShow:t,itemToEdit:n,getOrderCard:r}){const[o,i]=b.useState([0,0,0,0]),[a,l]=b.useState(""),[s,c]=b.useState(""),[u,g]=b.useState(""),[d,m]=b.useState({}),[I,h]=b.useState(null),[A,C]=b.useState("Básico"),[p,v]=b.useState([]),[y,x]=b.useState(!1),S=()=>{x(!y)},B={Básico:100,Emprendedor:300,Business:400},Z=()=>{v([...p,{name:A,price:B[A],id_plans:A==="Básico"?2:A==="Emprendedor"?3:4}])},R=P=>{v(p.filter((L,j)=>j!==P))},w=P=>{h(I===P?null:P)},k=[399,499,599,699],V=["Básico","Plus","Emprendedor","Business"],W="https://api.knowmeapp.com",N=localStorage.getItem("token"),{user:X}=b.useContext(kn),J=async P=>{const L=new FormData;Object.entries(P).forEach(([j,D])=>{D instanceof File?L.append(j,D):Array.isArray(D)?D.forEach(($,K)=>{$ instanceof File?L.append(`${j}[${K}]`,$):typeof $=="object"&&$!==null?Object.entries($).forEach(([z,_])=>{L.append(`${j}[${K}][${z}]`,_)}):L.append(`${j}[${K}]`,$)}):typeof D=="object"&&D!==null?Object.entries(D).forEach(([$,K])=>{L.append(`${j}[${$}]`,K)}):L.append(j,D)});try{const j=await ve.post(`${W}/api/order_card/`,L,{headers:{"x-token":N,"Content-Type":"multipart/form-data"}});return r(),j}catch(j){throw console.error("Error al crear la orden:",j),j}},E=async(P,L)=>{const j=new FormData;Object.entries(P).forEach(([$,K])=>{K instanceof File?j.append($,K):Array.isArray(K)?K.forEach((z,_)=>{z instanceof File?j.append(`${$}[${_}]`,z):typeof z=="object"&&z!==null?Object.entries(z).forEach(([U,te])=>{j.append(`${$}[${_}][${U}]`,te)}):j.append(`${$}[${_}]`,z)}):typeof K=="object"&&K!==null?Object.entries(K).forEach(([z,_])=>{j.append(`${$}[${z}]`,_)}):j.append($,K)});const D=await ve.put(`${W}/api/order_card/${L}`,j,{headers:{"x-token":N,"Content-Type":"multipart/form-data"}});return r(),D},F=async()=>{const P=o.map((j,D)=>{var K,z;const $=(K=n==null?void 0:n.orderPlans)==null?void 0:K[D];return{id_order_card:$?$.id_order_card:null,name:V[D],price:k[D],quantity:j,image:((z=p[D])==null?void 0:z.image)||null}}).filter(j=>j.quantity>0),L={id_address_fk:1,quantity_printed_cards:p.length,quantity_proximity_cards:p.length,id_user_fk:X.id,nameClient:s,nameAddress:u,detailCard:p,status_order_card:!0,plans:P};try{n?await E(L,n.id_order_card):await J(L),t(!1)}catch(j){console.error("Failed to update social media:",j)}},H=(P,L)=>{const j=P.target.files[0];if(j){const D=[...p];D[L].image=j,v(D)}},M=(P,L,j)=>{const D=[...p];D[L][j]=P.target.value,v(D)};b.useEffect(()=>{n&&n.orderPlans&&(v(n.orderPlans),c(n.nameClient),g(n.nameAddress))},[n]);const Y=p.reduce((P,L)=>P+(parseFloat(L.price)||0),0),T=()=>{const P={};return s||(P.name="Campo faltante"),u||(P.nameAddress="Campo faltante"),p.forEach((L,j)=>{const D={};!L.nameOrder&&L.name!=="Básico"&&(D.nameOrder="Campo faltante"),L.name==="Emprendedor"&&(L.color1||(D.color1="Campo faltante"),L.color2||(D.color2="Campo faltante")),L.name==="Business"&&(L.image||(D.image="Campo faltante"),L.nameBuisness||(D.nameBuisness="Campo faltante"),L.color1||(D.color1="Campo faltante"),L.color2||(D.color2="Campo faltante")),Object.keys(D).length>0&&(P[j]=D)}),m(P),Object.keys(P).length===0},O=()=>{T()?(F(),l("")):l("Por favor, completa todos los campos requeridos.")};return f.jsx(Ab,{title:n?"Editar cotización":"Nueva cotización",isOpen:e,closeDrawer:()=>t(!1),children:f.jsxs("div",{className:"relative h-[90vh]",children:[f.jsxs("div",{className:"w-full h-[80vh] pb-40 overflow-auto",children:[f.jsxs("div",{className:"rounded-md bg-blue-50 p-4 mb-4",children:[f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"shrink-0",children:f.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:f.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-7-4a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM9 9a.75.75 0 0 0 0 1.5h.253a.25.25 0 0 1 .244.304l-.459 2.066A1.75 1.75 0 0 0 10.747 15H11a.75.75 0 0 0 0-1.5h-.253a.25.25 0 0 1-.244-.304l.459-2.066A1.75 1.75 0 0 0 9.253 9H9Z",clipRule:"evenodd"})})}),f.jsx("div",{className:"ml-3 flex-1 md:flex md:justify-between",children:f.jsxs("p",{className:"text-sm text-blue-700",children:["Para comenzar con la compra de tarjetas, es necesario que primero",f.jsx("strong",{children:" selecciones el tipo de tarjeta"})," que deseas agregar a tu cotización.",f.jsx("span",{onClick:S,className:"text-blue-600 cursor-pointer",children:y?" Ver menos":" Ver más"})]})})]}),y&&f.jsx("div",{className:"mt-2",children:f.jsxs("p",{className:"text-sm text-blue-700",children:["Puedes elegir las tarjetas que consideres necesarias, y agregarlas una por una a tu cotización. Sigue estos pasos:",f.jsxs("ul",{className:"list-disc pl-5 mt-2",children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Selecciona el tipo de tarjeta:"})," Elige el tipo que más te convenga."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Agrega la tarjeta a la cotización:"}),' Haz clic en "Agregar a la cotización" para incluirla.']}),f.jsxs("li",{children:[f.jsx("strong",{children:"Añadir más tarjetas:"})," Si deseas añadir más tarjetas, repite el proceso."]})]}),"Recuerda que puedes agregar tantas tarjetas como necesites. Una vez que hayas terminado, podrás proceder con el pago. Si tienes alguna duda, no dudes en contactarnos."]})})]}),f.jsxs("div",{className:"w-full flex mt-4",children:[f.jsxs("select",{className:"border p-2 h-10 w-[90%] mr-1 rounded-md",value:A,onChange:P=>C(P.target.value),children:[f.jsx("option",{value:"Básico",children:"Básico"}),f.jsx("option",{value:"Emprendedor",children:"Emprendedor"}),f.jsx("option",{value:"Business",children:"Business"})]}),f.jsx("button",{className:"w-10 h-10 flex items-center justify-center text-white bg-orange-600 rounded-md",onClick:Z,children:f.jsx(zj,{})})]}),f.jsx("div",{className:"mt-4  overflow-auto",children:p.map((P,L)=>{var j,D,$,K,z;return f.jsxs("div",{className:"p-3 border rounded-md mb-2",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("button",{onClick:()=>w(L),className:"text-2xl",children:f.jsx(jq,{})}),f.jsxs("span",{children:[P.name," - $",P.price]}),f.jsx("button",{onClick:()=>R(L),className:"text-red-600 bg-red-100 p-1 rounded-md",children:f.jsx(Yq,{className:"text-xl"})})]}),P.name!=="Básico"&&I===L&&f.jsxs("div",{className:"flex flex-col w-full text-sm",children:[f.jsx("label",{className:"py-1",children:"Nombre completo"}),f.jsx("input",{value:P.nameOrder,onChange:_=>M(_,L,"nameOrder"),className:"border p-1 rounded-md text-sm"}),((j=d[L])==null?void 0:j.nameOrder)&&f.jsx("p",{className:"text-red-500 text-xs",children:d[L].nameOrder}),P.name==="Business"&&f.jsxs(f.Fragment,{children:[f.jsx("label",{className:"py-1",children:"Empresa"}),f.jsx("input",{value:P.nameBuisness,onChange:_=>M(_,L,"nameBuisness"),className:"border p-1 rounded-md text-sm"}),((D=d[L])==null?void 0:D.nameBuisness)&&f.jsx("p",{className:"text-red-500 text-xs",children:d[L].nameBuisness})]}),P.name==="Business"&&f.jsxs(f.Fragment,{children:[f.jsx("label",{className:"py-1",children:"Imagen"}),f.jsx("input",{onChange:_=>H(_,L),className:"border p-1 rounded-md text-sm",type:"file"}),(($=d[L])==null?void 0:$.image)&&f.jsx("p",{className:"text-red-500 text-xs",children:d[L].image})]}),(P.name==="Emprendedor"||P.name==="Business")&&f.jsxs("div",{className:"flex justify-evenly mt-2",children:[f.jsx("input",{value:P.color1,onChange:_=>M(_,L,"color1"),className:"border p-1 rounded-md text-sm",type:"color"}),((K=d[L])==null?void 0:K.color1)&&f.jsx("p",{className:"text-red-500 text-xs",children:d[L].color1}),f.jsx("input",{value:P.color2,onChange:_=>M(_,L,"color2"),className:"border p-1 rounded-md text-sm",type:"color"}),((z=d[L])==null?void 0:z.color2)&&f.jsx("p",{className:"text-red-500 text-xs",children:d[L].color2})]})]})]},L)})})]}),f.jsxs("div",{className:"absolute left-0 bg-white right-0 bottom-0",children:[a&&f.jsx("p",{className:"text-red-600 font-semibold text-sm my-2 text-center",children:a}),f.jsx("label",{className:"py-2",children:"Nombre cotización"}),f.jsx("input",{value:s,onChange:P=>c(P.target.value),className:"w-full p-2 rounded-md border"}),d.name&&f.jsx("p",{className:"text-red-500 text-xs",children:d.name}),f.jsx("label",{className:"py-2",children:"Nombre direccion"}),f.jsx("input",{value:u,onChange:P=>g(P.target.value),className:"w-full p-2 rounded-md border"}),d.nameAddress&&f.jsx("p",{className:"text-red-500 text-xs",children:d.nameAddress}),f.jsxs("div",{className:"flex items-center py-2 justify-between w-full",children:[f.jsx("h3",{className:"text-black",children:"Total"}),f.jsxs("h3",{className:"text-black",children:["$",Y==null?void 0:Y.toFixed(2)]})]}),f.jsxs("button",{onClick:O,className:`w-full mb-2 ${p.length!==0?"":"bg-opacity-30"} rounded-md flex items-center justify-center p-2 text-white bg-orange-600`,children:[f.jsx(Hq,{className:"text-2xl mr-2"}),"Enviar cotización"]})]})]})})}function $0e(){const e="https://api.knowmeapp.com",t=localStorage.getItem("token"),n=Zt(),r=yn(),o=async()=>{const{data:h}=await r.getOrderCards();s({...h})},i=h=>{navigator.clipboard.writeText(h)},a=async h=>{try{const A=await ve.get(`${e}/api/order_card/${h}/pdf`,{headers:{"x-token":t,"Content-Type":"application/pdf"},responseType:"blob"}),C=new Blob([A.data],{type:"application/pdf"}),p=window.URL.createObjectURL(C),v=document.createElement("a");v.href=p,v.setAttribute("download","ordercard.pdf"),document.body.appendChild(v),v.click(),v.remove(),window.URL.revokeObjectURL(p)}catch(A){console.error("Error al descargar el PDF:",A)}},[l,s]=b.useState([{idCotizacion:"01",fechaCreacion:"10/08/2024",fechaActualizacion:"10/08/2024",cantidadTarjetas:20,costoTotal:"MXN $2999",estatus:"Pendiente",acciones:["Comprar","editar","borrar"]},{idCotizacion:"02",fechaCreacion:"10/08/2024",fechaActualizacion:"10/08/2024",cantidadTarjetas:20,costoTotal:"MXN $2999",estatus:"Pendiente",acciones:["Comprar","editar","borrar"]},{idCotizacion:"03",fechaCreacion:"10/08/2024",fechaActualizacion:"10/08/2024",cantidadTarjetas:20,costoTotal:"MXN $2999",estatus:"Pendiente",acciones:["Comprar","editar","borrar"]}]),[c,u]=b.useState(!1),[g,d]=b.useState(null),m=async h=>{const A=await ve.delete(`${e}/api/order_card/${h}`,{headers:{"x-token":t}});return o(),A},I=h=>{d(h),u(!0)};return b.useEffect(()=>{o()},[]),f.jsxs(f.Fragment,{children:[f.jsx(Q0e,{show:c,setShow:u,getOrderCard:o,itemToEdit:g}),f.jsxs("div",{className:"border mt-10 mb-10 text-black p-6 rounded-lg shadow-lg",children:[f.jsxs("div",{className:"md:flex block justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-md font-bold mb-2",children:"Lista de cotizaciones"}),f.jsx("p",{className:"mb-4 text-sm text-white ",children:"Antes de realizar tu compra, puedes generar una cotización por la cantidad de tarjetas necesarias."})]}),f.jsx("button",{onClick:()=>{d(null),u(!0)},className:"bg-orange-500 h-8 px-2 hover:bg-orange-600 text-sm rounded-md text-white",children:"Nueva cotizacion"})]}),f.jsx("div",{className:"relative overflow-x-auto",children:f.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-white",children:[f.jsx("thead",{className:"text-[11px] text-white uppercase",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"px-2 py-1",children:"idCotizacion"}),f.jsx("th",{scope:"col",className:"px-2 py-1",children:"Fecha de creacion"}),f.jsx("th",{scope:"col",className:"px-2 py-1",children:"Url"}),f.jsx("th",{scope:"col",className:"px-2 py-1 text-center",children:"Cantidad de tarjetas"}),f.jsx("th",{scope:"col",className:"px-3 py-1",children:"Costo total"}),f.jsx("th",{scope:"col",className:"px-2 py-1",children:"Estatus"}),f.jsx("th",{scope:"col",className:"px-2 py-1 text-center",children:"Acciones"})]})}),f.jsx("tbody",{children:Array.isArray(l.orderCards)?l.orderCards.map(h=>f.jsxs("tr",{className:"text-[12px] border-y",children:[f.jsx("th",{scope:"row",className:"px-3 py-2 font-medium text-white whitespace-nowrap",children:h.id_order_card}),f.jsx("td",{className:"px-2 py-2",children:new Date(h.createdAt).toLocaleDateString("es-MX",{day:"2-digit",month:"2-digit",year:"numeric"})}),f.jsx("td",{className:"px-2  py-2",children:f.jsxs("div",{className:"flex items-center justify-between",children:[h.tracking_url||"Sin agregar",f.jsx("button",{onClick:()=>i(h.tracking_url),className:"p-2 bg-gray-500 bg-opacity-55 hover:bg-opacity-85 rounded-md ml-2",children:f.jsx("svg",{className:"w-3.5 h-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 20",children:f.jsx("path",{d:"M16 1h-3.278A1.992 1.992 0 0 0 11 0H7a1.993 1.993 0 0 0-1.722 1H2a2 2 0 0 0-2 2v15a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2Zm-3 14H5a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2Zm0-4H5a1 1 0 0 1 0-2h8a1 1 0 1 1 0 2Zm0-5H5a1 1 0 0 1 0-2h2V2h4v2h2a1 1 0 1 1 0 2Z"})})})]})}),f.jsx("td",{className:"px-2 py-2 text-center",children:h.quantity_printed_cards}),f.jsx("td",{className:"px-2 py-2",children:h.total.toLocaleString("es-MX",{style:"currency",currency:"MXN",minimumFractionDigits:2})}),f.jsx("td",{className:"px-2 py-2",children:h.tracking_status}),f.jsxs("td",{className:"px-2 flex py-2 justify-end cursor-pointer",children:[h.tracking_status==="Pendiente"&&f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"bg-green-600 font-semibold rounded-md text-white p-1",onClick:()=>n("/adressorder",{state:{total:h.total,id_order_card:h.id_order_card}}),children:"Comprar"}),f.jsx("button",{className:"bg-blue-500 font-semibold rounded-md text-white p-1 mx-2",onClick:()=>I(h),children:"Editar"}),f.jsx("button",{className:"bg-red-700 font-semibold rounded-md text-white p-1",onClick:()=>m(h.id_order_card),children:"Borrar"})]}),f.jsx("button",{className:"bg-orange-600 h-8 w-10 ml-1 flex justify-center text-xl items-center font-semibold rounded-md text-white p-1",onClick:()=>a(h.id_order_card),children:f.jsx(lee,{})})]})]},h.id_order_card)):f.jsx("tr",{children:f.jsx("td",{colSpan:"7",children:"No hay datos disponibles"})})})]})})]})]})}const q0e="/assets/img001-fbea0a4c.png",eAe="/assets/img002-0b76fbde.png",tAe="/assets/img003-d3fb25ad.png",nAe="/assets/img004-149fdcfe.png",Oy=()=>{const e=[{title:"Logo Personalizado",descripcion:"Nuestras tarjetas NFC están diseñadas para reflejar la identidad visual de tu empresa. Cada tarjeta incluye la posibilidad de personalizar el logo, asegurando que tu marca esté siempre visible y reconocible. La impresión del logo se realiza con alta calidad para mantener la integridad de los colores y detalles."},{title:"Tecnología",descripcion:"Incorporamos la última tecnología NFC (Near Field Communication) en nuestras tarjetas, permitiendo una conexión rápida y segura con dispositivos compatibles. Al acercar la tarjeta a un smartphone, se abre automáticamente tu perfil profesional, facilitando el intercambio de información de manera moderna y eficiente."},{title:"Dimensiones",descripcion:"Las tarjetas tienen el mismo tamaño que una tarjeta de crédito estándar, con dimensiones de 85.60 mm x 53.98 mm. Este formato familiar asegura que la tarjeta sea cómoda de llevar en carteras y tarjeteros, manteniéndose siempre al alcance."},{title:"Material",descripcion:"Fabricadas con PVC de alta calidad, nuestras tarjetas son duraderas y resistentes al desgaste diario. Este material no solo proporciona una sensación premium al tacto, sino que también garantiza la longevidad del producto."},{title:"Colores Empresariales",descripcion:"Para asegurar una coherencia visual con la identidad de tu empresa, ofrecemos la posibilidad de personalizar las tarjetas con los colores específicos de tu marca. Utilizamos técnicas de impresión avanzadas para asegurar que los colores sean vibrantes y precisos, reflejando fielmente la paleta corporativa."},{title:"Consideraciones",descripcion:"Cada tarjeta NFC personalizada de Know Me puede reemplazar a más de mil tarjetas de presentación impresas, contribuyendo significativamente a la reducción de desechos y al cuidado del medio ambiente. Además, su uso es mucho más práctico y moderno, alineándose con las tendencias digitales actuales."}];return f.jsx("div",{className:"bg-blue-950 flex flex-col mb-20",children:f.jsxs("div",{className:"w-[90%] flex flex-col-reverse lg:flex-col mt-10 mx-auto",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Personaliza tus tarjetas"}),f.jsx("p",{className:"text-white mt-2",children:"Tarjetas diseñadas para ofrecer una combinación de funcionalidad y estilo, estas tarjetas no solo facilitan el intercambio de información profesional, sino que también aseguran una presentación elegante y moderna."})]}),f.jsxs("div",{className:"border rounded-md p-4 md:flex block items-start",children:[f.jsxs("div",{className:"md:w-1/2 w-full",children:[f.jsxs("div",{className:"mb-4 border-white",children:[f.jsx("h1",{className:"text-xl font-bold",children:"Especificaciones técnicas"}),f.jsx("p",{className:"text-white mt-2 text-sm",children:"En este apartado podrás personalizar y crear tus tarjetas de presentación con NFC para así mostrar tu perfil a tus clientes."})]}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:e.map(t=>f.jsx(_0e,{title:t.title,description:t.descripcion}))})]}),f.jsx("div",{className:"w-full md:w-1/2 md:ml-10 ml-0",children:f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx("div",{children:f.jsx("img",{className:"h-auto max-w-full",src:q0e,alt:""})}),f.jsx("div",{children:f.jsx("img",{className:"h-auto max-w-full",src:nAe,alt:""})}),f.jsx("div",{children:f.jsx("img",{className:"h-auto max-w-full",src:eAe,alt:""})}),f.jsx("div",{children:f.jsx("img",{className:"h-auto max-w-full",src:tAe,alt:""})})]})})]})]}),f.jsx($0e,{})]})})};const rAe={linkedCardsCount:"Tarjetas vinculadas",unlinkedCardsCount:"Tarjetas sin vincular",pendingRequestsCount:"Tarjetas pendientes",canceledCardsCount:"Tarjetas canceladas",totalCardsCount:"Tarjetas totales"};function oAe(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),t&&(r.href=t),o.href=e,o.href}const iAe=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Aa(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}function Ep(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function aAe(e){const t=Ep(e,"border-left-width"),n=Ep(e,"border-right-width");return e.clientWidth+t+n}function lAe(e){const t=Ep(e,"border-top-width"),n=Ep(e,"border-bottom-width");return e.clientHeight+t+n}function EK(e,t={}){const n=t.width||aAe(e),r=t.height||lAe(e);return{width:n,height:r}}function sAe(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Lr=16384;function cAe(e){(e.width>Lr||e.height>Lr)&&(e.width>Lr&&e.height>Lr?e.width>e.height?(e.height*=Lr/e.width,e.width=Lr):(e.width*=Lr/e.height,e.height=Lr):e.width>Lr?(e.height*=Lr/e.width,e.width=Lr):(e.width*=Lr/e.height,e.height=Lr))}function Xp(e){return new Promise((t,n)=>{const r=new Image;r.decode=()=>t(r),r.onload=()=>t(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function uAe(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function gAe(e,t,n){const r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),o.appendChild(i),i.appendChild(e),uAe(o)}const Jr=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||Jr(n,t)};function dAe(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function fAe(e){return Aa(e).map(t=>{const n=e.getPropertyValue(t),r=e.getPropertyPriority(t);return`${t}: ${n}${r?" !important":""};`}).join(" ")}function mAe(e,t,n){const r=`.${e}:${t}`,o=n.cssText?dAe(n):fAe(n);return document.createTextNode(`${r}{${o}}`)}function N3(e,t,n){const r=window.getComputedStyle(e,n),o=r.getPropertyValue("content");if(o===""||o==="none")return;const i=iAe();try{t.className=`${t.className} ${i}`}catch{return}const a=document.createElement("style");a.appendChild(mAe(i,n,r)),t.appendChild(a)}function IAe(e,t){N3(e,t,":before"),N3(e,t,":after")}const E3="application/font-woff",X3="image/jpeg",hAe={woff:E3,woff2:E3,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:X3,jpeg:X3,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function CAe(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function vB(e){const t=CAe(e).toLowerCase();return hAe[t]||""}function pAe(e){return e.split(/,/)[1]}function _x(e){return e.search(/^(data:)/)!==-1}function XK(e,t){return`data:${t};base64,${e}`}async function JK(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const o=await r.blob();return new Promise((i,a)=>{const l=new FileReader;l.onerror=a,l.onloadend=()=>{try{i(n({res:r,result:l.result}))}catch(s){a(s)}},l.readAsDataURL(o)})}const Py={};function AAe(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function yB(e,t,n){const r=AAe(e,t,n.includeQueryParams);if(Py[r]!=null)return Py[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let o;try{const i=await JK(e,n.fetchRequestInit,({res:a,result:l})=>(t||(t=a.headers.get("Content-Type")||""),pAe(l)));o=XK(i,t)}catch(i){o=n.imagePlaceholder||"";let a=`Failed to fetch resource: ${e}`;i&&(a=typeof i=="string"?i:i.message),a&&console.warn(a)}return Py[r]=o,o}async function bAe(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Xp(t)}async function vAe(e,t){if(e.currentSrc){const i=document.createElement("canvas"),a=i.getContext("2d");i.width=e.clientWidth,i.height=e.clientHeight,a==null||a.drawImage(e,0,0,i.width,i.height);const l=i.toDataURL();return Xp(l)}const n=e.poster,r=vB(n),o=await yB(n,r,t);return Xp(o)}async function yAe(e){var t;try{if(!((t=e==null?void 0:e.contentDocument)===null||t===void 0)&&t.body)return await bb(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function xAe(e,t){return Jr(e,HTMLCanvasElement)?bAe(e):Jr(e,HTMLVideoElement)?vAe(e,t):Jr(e,HTMLIFrameElement)?yAe(e):e.cloneNode(!1)}const SAe=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function ZAe(e,t,n){var r,o;let i=[];return SAe(e)&&e.assignedNodes?i=Aa(e.assignedNodes()):Jr(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?i=Aa(e.contentDocument.body.childNodes):i=Aa(((o=e.shadowRoot)!==null&&o!==void 0?o:e).childNodes),i.length===0||Jr(e,HTMLVideoElement)||await i.reduce((a,l)=>a.then(()=>bb(l,n)).then(s=>{s&&t.appendChild(s)}),Promise.resolve()),t}function wAe(e,t){const n=t.style;if(!n)return;const r=window.getComputedStyle(e);r.cssText?(n.cssText=r.cssText,n.transformOrigin=r.transformOrigin):Aa(r).forEach(o=>{let i=r.getPropertyValue(o);o==="font-size"&&i.endsWith("px")&&(i=`${Math.floor(parseFloat(i.substring(0,i.length-2)))-.1}px`),Jr(e,HTMLIFrameElement)&&o==="display"&&i==="inline"&&(i="block"),o==="d"&&t.getAttribute("d")&&(i=`path(${t.getAttribute("d")})`),n.setProperty(o,i,r.getPropertyPriority(o))})}function GAe(e,t){Jr(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),Jr(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function BAe(e,t){if(Jr(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(o=>e.value===o.getAttribute("value"));r&&r.setAttribute("selected","")}}function kAe(e,t){return Jr(t,Element)&&(wAe(e,t),IAe(e,t),GAe(e,t),BAe(e,t)),t}async function RAe(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let i=0;i<n.length;i++){const l=n[i].getAttribute("xlink:href");if(l){const s=e.querySelector(l),c=document.querySelector(l);!s&&c&&!r[l]&&(r[l]=await bb(c,t,!0))}}const o=Object.values(r);if(o.length){const i="http://www.w3.org/1999/xhtml",a=document.createElementNS(i,"svg");a.setAttribute("xmlns",i),a.style.position="absolute",a.style.width="0",a.style.height="0",a.style.overflow="hidden",a.style.display="none";const l=document.createElementNS(i,"defs");a.appendChild(l);for(let s=0;s<o.length;s++)l.appendChild(o[s]);e.appendChild(a)}return e}async function bb(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>xAe(r,t)).then(r=>ZAe(e,r,t)).then(r=>kAe(e,r)).then(r=>RAe(r,t))}const YK=/url\((['"]?)([^'"]+?)\1\)/g,VAe=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,WAe=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function NAe(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function EAe(e){const t=[];return e.replace(YK,(n,r,o)=>(t.push(o),n)),t.filter(n=>!_x(n))}async function XAe(e,t,n,r,o){try{const i=n?oAe(t,n):t,a=vB(t);let l;if(o){const s=await o(i);l=XK(s,a)}else l=await yB(i,a,r);return e.replace(NAe(t),`$1${l}$3`)}catch{}return e}function JAe(e,{preferredFontFormat:t}){return t?e.replace(WAe,n=>{for(;;){const[r,,o]=VAe.exec(n)||[];if(!o)return"";if(o===t)return`src: ${r};`}}):e}function HK(e){return e.search(YK)!==-1}async function FK(e,t,n){if(!HK(e))return e;const r=JAe(e,n);return EAe(r).reduce((i,a)=>i.then(l=>XAe(l,a,t,n)),Promise.resolve(r))}async function Gh(e,t,n){var r;const o=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(o){const i=await FK(o,null,n);return t.style.setProperty(e,i,t.style.getPropertyPriority(e)),!0}return!1}async function YAe(e,t){await Gh("background",e,t)||await Gh("background-image",e,t),await Gh("mask",e,t)||await Gh("mask-image",e,t)}async function HAe(e,t){const n=Jr(e,HTMLImageElement);if(!(n&&!_x(e.src))&&!(Jr(e,SVGImageElement)&&!_x(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,o=await yB(r,vB(r),t);await new Promise((i,a)=>{e.onload=i,e.onerror=a;const l=e;l.decode&&(l.decode=i),l.loading==="lazy"&&(l.loading="eager"),n?(e.srcset="",e.src=o):e.href.baseVal=o})}async function FAe(e,t){const r=Aa(e.childNodes).map(o=>MK(o,t));await Promise.all(r).then(()=>e)}async function MK(e,t){Jr(e,Element)&&(await YAe(e,t),await HAe(e,t),await FAe(e,t))}function MAe(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(o=>{n[o]=r[o]}),e}const J3={};async function Y3(e){let t=J3[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},J3[e]=t,t}async function H3(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,i=(n.match(/url\([^)]+\)/g)||[]).map(async a=>{let l=a.replace(r,"$1");return l.startsWith("https://")||(l=new URL(l,e.url).href),JK(l,t.fetchRequestInit,({result:s})=>(n=n.replace(a,`url(${s})`),[a,s]))});return Promise.all(i).then(()=>n)}function F3(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const o=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const s=o.exec(r);if(s===null)break;t.push(s[0])}r=r.replace(o,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",l=new RegExp(a,"gi");for(;;){let s=i.exec(r);if(s===null){if(s=l.exec(r),s===null)break;i.lastIndex=l.lastIndex}else l.lastIndex=i.lastIndex;t.push(s[0])}return t}async function jAe(e,t){const n=[],r=[];return e.forEach(o=>{if("cssRules"in o)try{Aa(o.cssRules||[]).forEach((i,a)=>{if(i.type===CSSRule.IMPORT_RULE){let l=a+1;const s=i.href,c=Y3(s).then(u=>H3(u,t)).then(u=>F3(u).forEach(g=>{try{o.insertRule(g,g.startsWith("@import")?l+=1:o.cssRules.length)}catch(d){console.error("Error inserting rule from remote css",{rule:g,error:d})}})).catch(u=>{console.error("Error loading remote css",u.toString())});r.push(c)}})}catch(i){const a=e.find(l=>l.href==null)||document.styleSheets[0];o.href!=null&&r.push(Y3(o.href).then(l=>H3(l,t)).then(l=>F3(l).forEach(s=>{a.insertRule(s,o.cssRules.length)})).catch(l=>{console.error("Error loading remote stylesheet",l)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(e.forEach(o=>{if("cssRules"in o)try{Aa(o.cssRules||[]).forEach(i=>{n.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${o.href}`,i)}}),n))}function TAe(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>HK(t.style.getPropertyValue("src")))}async function LAe(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Aa(e.ownerDocument.styleSheets),r=await jAe(n,t);return TAe(r)}async function KAe(e,t){const n=await LAe(e,t);return(await Promise.all(n.map(o=>{const i=o.parentStyleSheet?o.parentStyleSheet.href:null;return FK(o.cssText,i,t)}))).join(`
`)}async function OAe(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await KAe(e,t);if(n){const r=document.createElement("style"),o=document.createTextNode(n);r.appendChild(o),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function PAe(e,t={}){const{width:n,height:r}=EK(e,t),o=await bb(e,t,!0);return await OAe(o,t),await MK(o,t),MAe(o,t),await gAe(o,n,r)}async function DAe(e,t={}){const{width:n,height:r}=EK(e,t),o=await PAe(e,t),i=await Xp(o),a=document.createElement("canvas"),l=a.getContext("2d"),s=t.pixelRatio||sAe(),c=t.canvasWidth||n,u=t.canvasHeight||r;return a.width=c*s,a.height=u*s,t.skipAutoScale||cAe(a),a.style.width=`${c}`,a.style.height=`${u}`,t.backgroundColor&&(l.fillStyle=t.backgroundColor,l.fillRect(0,0,a.width,a.height)),l.drawImage(i,0,0,a.width,a.height),a}async function zAe(e,t={}){return(await DAe(e,t)).toDataURL()}function UAe({items:e,updateTarjetasDetail:t}){const n=yn(),[r,o]=b.useState([]),[i,a]=b.useState(!1),[l,s]=b.useState({id_order_card:"",nameClient:"",tracking_number:"",createdAt:"",url_order:"",total:"",user:"",tracking_status:"",image:""}),c=()=>{navigator.clipboard.writeText(l.url_card)};b.useEffect(()=>{var A,C,p,v,y,x;e&&(s({id_card:e.id_card,id_order_card:e.id_order_card,image:e==null?void 0:e.logo_url,user:((p=(C=(A=e==null?void 0:e.card_profile_detail)==null?void 0:A.profile)==null?void 0:C.user)==null?void 0:p.email)||"",contact_name:e.contact_name||"",url_card:e.url_card||"",createdAt:e.createdAt,uuid_card:e.uuid_card||"",organization_colors:e.organization_colors?JSON.parse(e.organization_colors):[],organization_name:e.organization_name||""}),typeof((x=(y=(v=e==null?void 0:e.card_profile_detail)==null?void 0:v.profile)==null?void 0:y.user)==null?void 0:x.email)<"u"&&a(!0))},[e]);const u=A=>{const{name:C,value:p}=A.target;s(v=>({...v,[C]:p}))},g=async()=>{var C;const A=r.find(p=>p.email===l.user);if(A){const p=A.id_profile,v={id_card_fk:l.id_card,id_profile_fk:p};if(i)await n.updateCardProfileDetail(v,(C=e==null?void 0:e.card_profile_detail)==null?void 0:C.id_card_profile_detail);else{const{data:y}=await n.createCardProfileDetail(v);o(y.users)}}},d=async A=>{const{value:C}=A.target,{data:p}=await n.searchUsers(C);o(p.users)},m=b.useRef(null),I=async()=>{if(m.current){const A=await zAe(m.current),C=document.createElement("a");C.href=A,C.download="QRCode.png",C.click()}},h=new Date(l.createdAt).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return f.jsx("div",{className:"h-[90vh]  relative",children:f.jsxs("div",{className:"h-[90vh] overflow-y-auto pb-48",children:[f.jsxs("div",{className:"mt-2",children:[f.jsx("label",{className:"py-2 text-sm font-semibold",children:"Id orden"}),f.jsx("input",{className:"border bg-gray-50 text-sm rounded-md p-2 w-full",name:"contact_name",value:l.id_order_card||"Sin orden",onChange:u})]}),f.jsxs("div",{className:"mt-2",children:[f.jsx("label",{className:"py-2 text-sm font-semibold",children:"Nombre del cliente"}),f.jsx("input",{className:"border bg-gray-50 text-sm rounded-md p-2 w-full",name:"contact_name",value:l.contact_name||"Sin nombre",onChange:u})]}),f.jsxs("div",{className:"mt-2",children:[f.jsx("label",{className:"py-2 text-sm font-semibold",children:"Fecha"}),f.jsx("input",{className:"border bg-gray-50 text-sm rounded-md p-2 w-full",name:"createdAt",value:h,readOnly:!0})]}),f.jsxs("div",{className:"mt-2",children:[f.jsx("label",{className:"py-2 text-sm font-semibold",children:"Organizacion"}),f.jsx("input",{className:"border bg-gray-50 text-sm rounded-md p-2 w-full",name:"organization_name",value:l.organization_name||"Sin nombre",onChange:u})]}),f.jsxs("div",{className:"mt-2",children:[f.jsx("label",{className:"py-2 text-sm font-semibold",children:"Url tarjeta"}),f.jsxs("div",{className:"w-full",children:[f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"npm-install-copy-button",className:"sr-only",children:"Label"}),f.jsx("input",{id:"npm-install-copy-button",type:"text",className:"col-span-6 pr-10 bg-gray-50 border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500",name:"url_card",value:l.url_card,onChange:u,disabled:!0}),f.jsxs("button",{onClick:c,className:"absolute end-2 top-1/2 -translate-y-1/2 text-gray-500 hover:bg-gray-200 bg-gray-100 rounded-lg p-2 inline-flex items-center justify-center",children:[f.jsx("span",{id:"default-icon",children:f.jsx("svg",{className:"w-3.5 h-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 20",children:f.jsx("path",{d:"M16 1h-3.278A1.992 1.992 0 0 0 11 0H7a1.993 1.993 0 0 0-1.722 1H2a2 2 0 0 0-2 2v15a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2Zm-3 14H5a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2Zm0-4H5a1 1 0 0 1 0-2h8a1 1 0 1 1 0 2Zm0-5H5a1 1 0 0 1 0-2h2V2h4v2h2a1 1 0 1 1 0 2Z"})})}),f.jsx("span",{id:"success-icon",className:"hidden inline-flex items-center",children:f.jsx("svg",{className:"w-3.5 h-3.5 text-blue-700 ","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 12",children:f.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 5.917 5.724 10.5 15 1.5"})})})]})]}),f.jsxs("div",{className:"flex my-4 justify-between",children:[f.jsx("div",{ref:m,className:"flex w-1/2 items-center justify-center p-2 bg-white rounded-md shadow-md",children:f.jsx(sb,{size:256,style:{height:"auto",maxWidth:"100%",width:"100%"},bgColor:"#ffffff",fgColor:"#000000",value:l.url_card||"",viewBox:"0 0 256 256"})}),f.jsxs("button",{onClick:I,className:"px-4 flex items-center py-2 bg-orange-600 text-white h-10 rounded-lg hover:bg-orange-500",children:[f.jsx(Fq,{className:"mr-2 "})," Descargar QR"]})]})]})]}),f.jsxs("div",{className:"mt-2",children:[f.jsx("label",{className:"py-2 text-sm font-semibold",children:"Perfil vinculado"}),f.jsx("div",{className:"w-full",children:f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"npm-install-copy-button",className:"sr-only",children:"Label"}),f.jsx("input",{id:"npm-install-copy-button",type:"text",className:"col-span-6 pr-10 bg-gray-50 border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500",name:"user",list:"user-options",value:l.user,onChange:u,onInput:d}),f.jsx("datalist",{id:"user-options",children:r==null?void 0:r.map(A=>f.jsx("option",{"data-id":A.id_profile,children:A.email},A.username))}),f.jsx("button",{onClick:g,"data-copy-to-clipboard-target":"npm-install-copy-button","data-tooltip-target":"tooltip-copy-npm-install-copy-button",className:"absolute end-2 top-1/2 -translate-y-1/2 text-white hover:bg-orange-500 bg-orange-600 rounded-lg p-2 inline-flex items-center justify-center",children:f.jsx(Oq,{})}),f.jsxs("div",{id:"tooltip-copy-npm-install-copy-button",role:"tooltip",className:"absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700",children:[f.jsx("span",{id:"default-tooltip-message",children:"Copy to clipboard"}),f.jsx("span",{id:"success-tooltip-message",className:"hidden",children:"Copied!"}),f.jsx("div",{className:"tooltip-arrow","data-popper-arrow":!0})]})]})})]}),f.jsxs("div",{className:"mt-2",children:[f.jsx("label",{className:"py-2 text-sm font-semibold",children:"Detalles"}),l.organization_colors&&l.organization_colors.length>0?l.organization_colors.map((A,C)=>f.jsxs("div",{className:"flex items-center mt-2 gap-3 bg-gray-100 p-2 rounded-md shadow-sm",children:[f.jsx("div",{className:`w-6 h-6 rounded-full border ${A.code?"":"bg-gray-300 border-gray-400"}`,style:A.code?{backgroundColor:A.code}:{}}),f.jsx("span",{className:"text-sm text-gray-700",children:A.purpose&&A.code?`${A.purpose} - ${A.code}`:"Sin detalles"})]},C)):f.jsx("div",{className:"mt-2 bg-gray-50 p-3 rounded-md border border-gray-200 text-gray-500",children:"Sin colores asociados."}),f.jsx("label",{className:"py-2 text-sm font-semibold",children:"Imagen"}),l.image&&f.jsx("div",{className:"flex flex-col items-start gap-2",children:f.jsx("img",{src:l.image,alt:"Imagen subida",className:"border p-2 rounded-md"})})]})]})})}function _Ae(...e){return e.filter(Boolean).join(" ")}const QAe=()=>{const[e,t]=b.useState([]),[n,r]=b.useState({}),o=yn(),[i,a]=b.useState(),[l,s]=b.useState(!1),c=async()=>{const{data:h}=await o.listCards();r(h.stats),t(h.cards)},u=async()=>{const{data:h}=await o.listOrderCards();t(h.orderCards)},g=h=>{navigator.clipboard.writeText(h)},d=async(h,A)=>{const C=Re.loading("Actualizando");try{const{data:p}=await o.updateTarjetadetail(h,A);Re.success("Tarjeta actualizada",{id:C})}catch{Re.error("error al actualizar",{id:C})}};function m(){s(!1)}function I(h){a(h),s(!0)}return b.useEffect(()=>{u(),c()},[]),f.jsx("div",{children:f.jsxs("main",{children:[f.jsx(Mn,{position:"top-left",richColors:!0}),f.jsx(Ab,{closeDrawer:m,isOpen:l,children:f.jsx(UAe,{updateTarjetasDetail:d,items:i})}),f.jsx("header",{children:f.jsx("div",{className:"grid grid-cols-1 bg-gray-700/10 sm:grid-cols-2 lg:grid-cols-5",children:Object.entries(n).map((h,A)=>f.jsxs("div",{className:_Ae(A%2===1?"sm:border-l":A===2?"lg:border-l":"","border-t border-white/5 px-4 py-6 sm:px-6 lg:px-8"),children:[f.jsx("p",{className:"text-sm font-medium leading-6 text-gray-400",children:rAe[h[0]]}),f.jsx("p",{className:"mt-2 flex items-baseline gap-x-2",children:f.jsx("span",{className:"text-4xl font-semibold tracking-tight text-white",children:h[1]})})]},h[0]))})}),f.jsxs("div",{className:"border-t border-white/10 pt-11",children:[f.jsx("h2",{className:"px-4 text-base font-semibold leading-7 text-white sm:px-6 lg:px-8",children:"Latest activity"}),f.jsx("div",{className:"overflow-x-auto mt-6",children:f.jsxs("table",{className:"mt-6 w-full  whitespace-nowrap text-left",children:[f.jsxs("colgroup",{children:[f.jsx("col",{className:"w-full sm:w-4/12"}),f.jsx("col",{className:"lg:w-4/12"}),f.jsx("col",{className:"lg:w-2/12"}),f.jsx("col",{className:"lg:w-1/12"}),f.jsx("col",{className:"lg:w-1/12"})]}),f.jsx("thead",{className:"border-b border-white/10 text-sm leading-6 text-white",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"py-2 pl-4 pr-8 font-semibold sm:pl-6 lg:pl-8",children:"ID Tarjeta"}),f.jsx("th",{scope:"col",className:"hidden py-2 pl-0 pr-8 font-semibold sm:table-cell",children:"Fecha de creación"}),f.jsx("th",{scope:"col",className:"py-2 pl-0 pr-8 text-right font-semibold sm:pr-8 sm:text-left",children:"URL tarjeta"}),f.jsx("th",{scope:"col",className:"hidden py-2 pl-0 pr-8 font-semibold md:table-cell",children:"Organización"}),f.jsx("th",{scope:"col",className:"hidden py-2 pl-0 pr-4 text-right font-semibold sm:table-cell sm:pr-6 lg:pr-8",children:"Nombre contacto"}),f.jsx("th",{scope:"col",className:"hidden py-2 pl-0 pr-4 text-right font-semibold sm:table-cell sm:pr-6 lg:pr-8",children:"Acciones"})]})}),f.jsx("tbody",{className:"divide-y divide-white/5",children:e==null?void 0:e.map(h=>f.jsxs("tr",{children:[f.jsx("td",{className:"py-4 pl-4 pr-8 sm:pl-6 lg:pl-8 text-white",children:h.id_card}),f.jsx("td",{className:"hidden py-4 pl-0 pr-4 sm:table-cell sm:pr-8",children:f.jsx("div",{className:"font-mono text-sm leading-6 text-gray-400",children:h.createdAt.slice(0,10)})}),f.jsx("td",{onClick:()=>g(h.url_card),className:"py-4 pl-0 pr-4 text-sm leading-6 text-white",children:f.jsx("p",{className:"cursor-pointer ",children:"Copiar"})}),f.jsx("td",{className:"py-4 pl-0 pr-4 text-sm leading-6 text-white",children:h.organization_name||"sin nombre"}),f.jsx("td",{className:"py-4 pl-0 pr-4 text-sm leading-6 text-white",children:h.contact_name||"sin nombre"}),f.jsx("td",{onClick:()=>I(h),className:"py-4 pl-0 pr-4 text-sm leading-6 sm:pr-8 lg:pr-20 text-orange-600 cursor-pointer hover:text-white",children:"Ver"})]},h.id_card))})]})})]})]})})};function $Ae({items:e,updateUsuarios:t}){const[n,r]=b.useState({name:"",lastname:"",email:"",status:!0,id_plan_fk:""});b.useEffect(()=>{e&&r({id_user:e.id_user||"",name:e.name||"",lastname:e.lastname||"",email:e.email||"",status_user:e.status_user,id_plan_fk:e.id_plan_fk||""})},[e]);const o=a=>{const{name:l,value:s}=a.target;r(c=>({...c,[l]:s}))},i=()=>{t(n,n.id_user)};return f.jsxs("div",{className:"h-[90vh] relative",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"mt-4",children:[f.jsx("label",{className:"py-2 text-sm font-semibold",children:"Nombre"}),f.jsx("input",{className:"border bg-gray-50 text-sm rounded-md p-2 w-full",name:"name",value:n.name,onChange:o})]}),f.jsxs("div",{className:"mt-2",children:[f.jsx("label",{className:"py-2 text-sm font-semibold",children:"Apellido(s)"}),f.jsx("input",{className:"border bg-gray-50 text-sm rounded-md p-2 w-full",name:"lastname",value:n.lastname,onChange:o})]}),f.jsxs("div",{className:"mt-2",children:[f.jsx("label",{className:"py-2 text-sm font-semibold",children:"Email"}),f.jsx("input",{className:"border bg-gray-50 text-sm rounded-md p-2 w-full",name:"email",value:n.email,readOnly:!0})]}),f.jsxs("div",{className:"mt-2",children:[f.jsx("label",{className:"py-2 text-sm font-semibold",children:"Estatus"}),f.jsxs("select",{className:"border bg-gray-50 text-sm rounded-md p-2 w-full",name:"status_user",value:n.status_user,onChange:o,children:[f.jsx("option",{value:1,children:"Activo"}),f.jsx("option",{value:0,children:"Inactivo"})]})]}),f.jsxs("div",{className:"mt-2",children:[f.jsx("label",{className:"py-2 text-sm font-semibold",children:"Plan"}),f.jsxs("select",{className:"border bg-gray-50 text-sm rounded-md p-2 w-full",name:"id_plan_fk",value:n.id_plan_fk,onChange:o,children:[f.jsx("option",{value:9,children:"Buisness"}),f.jsx("option",{value:6,children:"Basico"}),f.jsx("option",{value:8,children:"Emprendedor"}),f.jsx("option",{value:10,children:"MultiEmpresa"}),f.jsx("option",{value:23,children:"Premium"})]})]})]}),f.jsxs("div",{className:"mt-10 flex",children:[f.jsx(sb,{name:"QRCode",className:"w-40 border p-2 rounded-md shadow h-40 ",id:"QRCode",value:window.location.origin+`/card?username=${e.username}&id=${e.id_profile}`}),f.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(window.location.origin+`/card?username=${e.username}&id=${e.id_profile}`)},className:"inline-flex bg-orange-600 h-10 ml-2  w-1/2 justify-center rounded-md px-3 py-2 text-sm text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 sm:col-start-2",children:"Copiar URL"})]}),f.jsxs("button",{className:"w-full absolute bottom-0 left-0 h-10 rounded-md text-sm flex items-center justify-center text-white bg-orange-600 mt-10",onClick:i,children:[f.jsx(o4,{className:"mr-2"}),"Actualizar"]})]})}const qAe=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(),o=yn(),[i,a]=b.useState(!1);function l(){a(!1)}function s(g){r(g),a(!0)}const c=async()=>{const{data:g}=await o.listUsers();t(g.users)},u=async(g,d)=>{const m=Re.loading("Actualizando");try{const{data:I}=await o.updateUser(g,d);Re.success("Orden actualizada",{id:m}),c()}catch{Re.error("error al actualizar",{id:m})}};return b.useEffect(()=>{c()},[]),f.jsx("div",{children:f.jsxs("main",{children:[f.jsx(Mn,{position:"top-left",richColors:!0}),f.jsx(Ab,{closeDrawer:l,isOpen:i,children:f.jsx($Ae,{updateUsuarios:u,items:n})}),f.jsxs("div",{className:"border-t border-white/10 pt-11",children:[f.jsx("h2",{className:"px-4 text-base font-semibold leading-7 text-white sm:px-6 lg:px-8",children:"Usuarios"}),f.jsx("div",{className:"overflow-x-auto mt-6",children:f.jsxs("table",{className:"mt-6 w-full whitespace-nowrap text-left",children:[f.jsxs("colgroup",{children:[f.jsx("col",{className:"w-full sm:w-4/12"}),f.jsx("col",{className:"lg:w-4/12"}),f.jsx("col",{className:"lg:w-2/12"}),f.jsx("col",{className:"lg:w-1/12"}),f.jsx("col",{className:"lg:w-1/12"})]}),f.jsx("thead",{className:"border-b border-white/10 text-sm leading-6 text-white",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"py-2 pl-4 pr-8 font-semibold sm:pl-6 lg:pl-8",children:"Id Usuario"}),f.jsx("th",{scope:"col",className:"hidden py-2 pl-0 pr-8 font-semibold sm:table-cell",children:"Fecha de creación"}),f.jsx("th",{scope:"col",className:"hidden py-2 pl-0 pr-8 font-semibold md:table-cell",children:"Nombre"}),f.jsx("th",{scope:"col",className:"hidden py-2 pl-0 pr-4 text-left font-semibold sm:table-cell sm:pr-6 lg:pr-8",children:"Email"}),f.jsx("th",{scope:"col",className:"hidden py-2 pl-0 pr-4 font-semibold sm:table-cell",children:"Estatus"}),f.jsx("th",{scope:"col",className:"hidden py-2 pl-0 pr-4   text-center  font-semibold sm:table-cell sm:pr-6 lg:pr-8",children:"Acciones"})]})}),f.jsx("tbody",{className:"divide-y divide-white/5",children:e.map(g=>f.jsxs("tr",{children:[f.jsx("td",{className:"py-4 pl-4 pr-8 sm:pl-6 lg:pl-8 text-white",children:g.id_user}),f.jsx("td",{className:"hidden py-4 pl-0 pr-4 sm:table-cell sm:pr-8",children:f.jsx("div",{className:"font-mono text-sm leading-6 text-gray-400",children:g.createdAt.slice(0,10)})}),f.jsx("td",{className:"py-4 pl-0 pr-4 text-sm leading-6 text-white",children:g.name}),f.jsx("td",{className:"py-4 pl-0 pr-4 text-sm leading-6 text-white",children:g.email}),f.jsx("td",{className:"py-4 pl-0 pr-4 text-sm leading-6  ",children:f.jsx("button",{className:` ${g.status_user?"bg-green-300 bg-opacity-80 text-green-700":"bg-red-300 bg-opacity-80 text-red-700"} rounded-full px-2`,children:g.status_user===1?"Activo":"Inactivo"})}),f.jsx("td",{onClick:()=>s(g),className:"py-4 cursor-pointer hover:text-white text-center pl-0 text-sm text-orange-600",children:"Ver"})]},g.id_user))})]})})]})]})})};var ebe=Ha,tbe=Fa,nbe="[object Symbol]";function rbe(e){return typeof e=="symbol"||tbe(e)&&ebe(e)==nbe}var ed=rbe,obe=jr,ibe=ed,abe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lbe=/^\w*$/;function sbe(e,t){if(obe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||ibe(e)?!0:lbe.test(e)||!abe.test(e)||t!=null&&e in Object(t)}var xB=sbe,jK=wG,cbe="Expected a function";function SB(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(cbe);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(SB.Cache||jK),n}SB.Cache=jK;var TK=SB;const ube=ot(TK);var gbe=TK,dbe=500;function fbe(e){var t=gbe(e,function(r){return n.size===dbe&&n.clear(),r}),n=t.cache;return t}var mbe=fbe,Ibe=mbe,hbe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Cbe=/\\(\\)?/g,pbe=Ibe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(hbe,function(n,r,o,i){t.push(o?i.replace(Cbe,"$1"):r||n)}),t}),Abe=pbe;function bbe(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var ZB=bbe,M3=aI,vbe=ZB,ybe=jr,xbe=ed,Sbe=1/0,j3=M3?M3.prototype:void 0,T3=j3?j3.toString:void 0;function LK(e){if(typeof e=="string")return e;if(ybe(e))return vbe(e,LK)+"";if(xbe(e))return T3?T3.call(e):"";var t=e+"";return t=="0"&&1/e==-Sbe?"-0":t}var Zbe=LK,wbe=Zbe;function Gbe(e){return e==null?"":wbe(e)}var KK=Gbe,Bbe=jr,kbe=xB,Rbe=Abe,Vbe=KK;function Wbe(e,t){return Bbe(e)?e:kbe(e,t)?[e]:Rbe(Vbe(e))}var OK=Wbe,Nbe=ed,Ebe=1/0;function Xbe(e){if(typeof e=="string"||Nbe(e))return e;var t=e+"";return t=="0"&&1/e==-Ebe?"-0":t}var vb=Xbe,Jbe=OK,Ybe=vb;function Hbe(e,t){t=Jbe(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Ybe(t[n++])];return n&&n==r?e:void 0}var wB=Hbe,Fbe=wB;function Mbe(e,t,n){var r=e==null?void 0:Fbe(e,t);return r===void 0?n:r}var PK=Mbe;const io=ot(PK);function jbe(e){return e==null}var Tbe=jbe;const He=ot(Tbe);var Lbe=Ha,Kbe=jr,Obe=Fa,Pbe="[object String]";function Dbe(e){return typeof e=="string"||!Kbe(e)&&Obe(e)&&Lbe(e)==Pbe}var zbe=Dbe;const pI=ot(zbe);var DK={exports:{}},vt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GB=Symbol.for("react.element"),BB=Symbol.for("react.portal"),yb=Symbol.for("react.fragment"),xb=Symbol.for("react.strict_mode"),Sb=Symbol.for("react.profiler"),Zb=Symbol.for("react.provider"),wb=Symbol.for("react.context"),Ube=Symbol.for("react.server_context"),Gb=Symbol.for("react.forward_ref"),Bb=Symbol.for("react.suspense"),kb=Symbol.for("react.suspense_list"),Rb=Symbol.for("react.memo"),Vb=Symbol.for("react.lazy"),_be=Symbol.for("react.offscreen"),zK;zK=Symbol.for("react.module.reference");function Po(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case GB:switch(e=e.type,e){case yb:case Sb:case xb:case Bb:case kb:return e;default:switch(e=e&&e.$$typeof,e){case Ube:case wb:case Gb:case Vb:case Rb:case Zb:return e;default:return t}}case BB:return t}}}vt.ContextConsumer=wb;vt.ContextProvider=Zb;vt.Element=GB;vt.ForwardRef=Gb;vt.Fragment=yb;vt.Lazy=Vb;vt.Memo=Rb;vt.Portal=BB;vt.Profiler=Sb;vt.StrictMode=xb;vt.Suspense=Bb;vt.SuspenseList=kb;vt.isAsyncMode=function(){return!1};vt.isConcurrentMode=function(){return!1};vt.isContextConsumer=function(e){return Po(e)===wb};vt.isContextProvider=function(e){return Po(e)===Zb};vt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===GB};vt.isForwardRef=function(e){return Po(e)===Gb};vt.isFragment=function(e){return Po(e)===yb};vt.isLazy=function(e){return Po(e)===Vb};vt.isMemo=function(e){return Po(e)===Rb};vt.isPortal=function(e){return Po(e)===BB};vt.isProfiler=function(e){return Po(e)===Sb};vt.isStrictMode=function(e){return Po(e)===xb};vt.isSuspense=function(e){return Po(e)===Bb};vt.isSuspenseList=function(e){return Po(e)===kb};vt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===yb||e===Sb||e===xb||e===Bb||e===kb||e===_be||typeof e=="object"&&e!==null&&(e.$$typeof===Vb||e.$$typeof===Rb||e.$$typeof===Zb||e.$$typeof===wb||e.$$typeof===Gb||e.$$typeof===zK||e.getModuleId!==void 0)};vt.typeOf=Po;DK.exports=vt;var UK=DK.exports,Qbe=Ha,$be=Fa,qbe="[object Number]";function eve(e){return typeof e=="number"||$be(e)&&Qbe(e)==qbe}var _K=eve;const tve=ot(_K);var nve=_K;function rve(e){return nve(e)&&e!=+e}var ove=rve;const td=ot(ove);var mr=function(t){return t===0?0:t>0?1:-1},tc=function(t){return pI(t)&&t.indexOf("%")===t.length-1},Ae=function(t){return tve(t)&&!td(t)},Gn=function(t){return Ae(t)||pI(t)},ive=0,ms=function(t){var n=++ive;return"".concat(t||"").concat(n)},Ir=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ae(t)&&!pI(t))return r;var i;if(tc(t)){var a=t.indexOf("%");i=n*parseFloat(t.slice(0,a))/100}else i=+t;return td(i)&&(i=r),o&&i>n&&(i=n),i},ml=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},ave=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},o=0;o<n;o++)if(!r[t[o]])r[t[o]]=!0;else return!0;return!1},$t=function(t,n){return Ae(t)&&Ae(n)?function(r){return t+r*(n-t)}:function(){return n}};function Jp(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):io(r,t))===n})}var lve=function(t){if(!t||!t.length)return null;for(var n=t.length,r=0,o=0,i=0,a=0,l=1/0,s=-1/0,c=0,u=0,g=0;g<n;g++)c=t[g].cx||0,u=t[g].cy||0,r+=c,o+=u,i+=c*u,a+=c*c,l=Math.min(l,c),s=Math.max(s,c);var d=n*a!==r*r?(n*i-r*o)/(n*a-r*r):0;return{xmin:l,xmax:s,a:d,b:(o-d*r)/n}};function Xu(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Qx(e){"@babel/helpers - typeof";return Qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qx(e)}var sve=["viewBox","children"],cve=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],L3=["points","pathLength"],Dy={svg:sve,polygon:L3,polyline:L3},kB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Yp=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(b.isValidElement(t)&&(r=t.props),!Og(r))return null;var o={};return Object.keys(r).forEach(function(i){kB.includes(i)&&(o[i]=n||function(a){return r[i](r,a)})}),o},uve=function(t,n,r){return function(o){return t(n,r,o),null}},Ul=function(t,n,r){if(!Og(t)||Qx(t)!=="object")return null;var o=null;return Object.keys(t).forEach(function(i){var a=t[i];kB.includes(i)&&typeof a=="function"&&(o||(o={}),o[i]=uve(a,n,r))}),o},gve=["children"],dve=["children"];function K3(e,t){if(e==null)return{};var n=fve(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function fve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function $x(e){"@babel/helpers - typeof";return $x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$x(e)}var O3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},ba=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},P3=null,zy=null,RB=function e(t){if(t===P3&&Array.isArray(zy))return zy;var n=[];return b.Children.forEach(t,function(r){He(r)||(UK.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),zy=n,P3=t,n};function pr(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(o){return ba(o)}):r=[ba(t)],RB(e).forEach(function(o){var i=io(o,"type.displayName")||io(o,"type.name");r.indexOf(i)!==-1&&n.push(o)}),n}function zr(e,t){var n=pr(e,t);return n&&n[0]}var D3=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,o=n.height;return!(!Ae(r)||r<=0||!Ae(o)||o<=0)},mve=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Ive=function(t){return t&&t.type&&pI(t.type)&&mve.indexOf(t.type)>=0},QK=function(t){return t&&$x(t)==="object"&&"clipDot"in t},hve=function(t,n,r,o){var i,a=(i=Dy==null?void 0:Dy[o])!==null&&i!==void 0?i:[];return!je(t)&&(o&&a.includes(n)||cve.includes(n))||r&&kB.includes(n)},We=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var o=t;if(b.isValidElement(t)&&(o=t.props),!Og(o))return null;var i={};return Object.keys(o).forEach(function(a){var l;hve((l=o)===null||l===void 0?void 0:l[a],a,n,r)&&(i[a]=o[a])}),i},qx=function e(t,n){if(t===n)return!0;var r=b.Children.count(t);if(r!==b.Children.count(n))return!1;if(r===0)return!0;if(r===1)return z3(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var o=0;o<r;o++){var i=t[o],a=n[o];if(Array.isArray(i)||Array.isArray(a)){if(!e(i,a))return!1}else if(!z3(i,a))return!1}return!0},z3=function(t,n){if(He(t)&&He(n))return!0;if(!He(t)&&!He(n)){var r=t.props||{},o=r.children,i=K3(r,gve),a=n.props||{},l=a.children,s=K3(a,dve);return o&&l?Xu(i,s)&&qx(o,l):!o&&!l?Xu(i,s):!1}return!1},U3=function(t,n){var r=[],o={};return RB(t).forEach(function(i,a){if(Ive(i))r.push(i);else if(i){var l=ba(i.type),s=n[l]||{},c=s.handler,u=s.once;if(c&&(!u||!o[l])){var g=c(i,l,a);r.push(g),o[l]=!0}}}),r},Cve=function(t){var n=t&&t.type;return n&&O3[n]?O3[n]:null},pve=function(t,n){return RB(n).indexOf(t)},Ave=["children","width","height","viewBox","className","style","title","desc"];function eS(){return eS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eS.apply(this,arguments)}function bve(e,t){if(e==null)return{};var n=vve(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function tS(e){var t=e.children,n=e.width,r=e.height,o=e.viewBox,i=e.className,a=e.style,l=e.title,s=e.desc,c=bve(e,Ave),u=o||{width:n,height:r,x:0,y:0},g=Ve("recharts-surface",i);return G.createElement("svg",eS({},We(c,!0,"svg"),{className:g,width:n,height:r,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),G.createElement("title",null,l),G.createElement("desc",null,s),t)}var yve=["children","className"];function nS(){return nS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nS.apply(this,arguments)}function xve(e,t){if(e==null)return{};var n=Sve(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Sve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var _e=G.forwardRef(function(e,t){var n=e.children,r=e.className,o=xve(e,yve),i=Ve("recharts-layer",r);return G.createElement("g",nS({className:i},We(o,!0),{ref:t}),n)}),li=function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i]};function Zve(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}var wve=Zve,Gve=wve;function Bve(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Gve(e,t,n)}var kve=Bve,Rve="\\ud800-\\udfff",Vve="\\u0300-\\u036f",Wve="\\ufe20-\\ufe2f",Nve="\\u20d0-\\u20ff",Eve=Vve+Wve+Nve,Xve="\\ufe0e\\ufe0f",Jve="\\u200d",Yve=RegExp("["+Jve+Rve+Eve+Xve+"]");function Hve(e){return Yve.test(e)}var $K=Hve;function Fve(e){return e.split("")}var Mve=Fve,qK="\\ud800-\\udfff",jve="\\u0300-\\u036f",Tve="\\ufe20-\\ufe2f",Lve="\\u20d0-\\u20ff",Kve=jve+Tve+Lve,Ove="\\ufe0e\\ufe0f",Pve="["+qK+"]",rS="["+Kve+"]",oS="\\ud83c[\\udffb-\\udfff]",Dve="(?:"+rS+"|"+oS+")",eO="[^"+qK+"]",tO="(?:\\ud83c[\\udde6-\\uddff]){2}",nO="[\\ud800-\\udbff][\\udc00-\\udfff]",zve="\\u200d",rO=Dve+"?",oO="["+Ove+"]?",Uve="(?:"+zve+"(?:"+[eO,tO,nO].join("|")+")"+oO+rO+")*",_ve=oO+rO+Uve,Qve="(?:"+[eO+rS+"?",rS,tO,nO,Pve].join("|")+")",$ve=RegExp(oS+"(?="+oS+")|"+Qve+_ve,"g");function qve(e){return e.match($ve)||[]}var eye=qve,tye=Mve,nye=$K,rye=eye;function oye(e){return nye(e)?rye(e):tye(e)}var iye=oye,aye=kve,lye=$K,sye=iye,cye=KK;function uye(e){return function(t){t=cye(t);var n=lye(t)?sye(t):void 0,r=n?n[0]:t.charAt(0),o=n?aye(n,1).join(""):t.slice(1);return r[e]()+o}}var gye=uye,dye=gye,fye=dye("toUpperCase"),mye=fye;const Wb=ot(mye);function Xt(e){return function(){return e}}const iO=Math.cos,Hp=Math.sin,Ii=Math.sqrt,Fp=Math.PI,Nb=2*Fp,iS=Math.PI,aS=2*iS,Xs=1e-6,Iye=aS-Xs;function aO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function hye(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return aO;const n=10**t;return function(r){this._+=r[0];for(let o=1,i=r.length;o<i;++o)this._+=Math.round(arguments[o]*n)/n+r[o]}}class Cye{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?aO:hye(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,o){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+o}`}bezierCurveTo(t,n,r,o,i,a){this._append`C${+t},${+n},${+r},${+o},${this._x1=+i},${this._y1=+a}`}arcTo(t,n,r,o,i){if(t=+t,n=+n,r=+r,o=+o,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,l=this._y1,s=r-t,c=o-n,u=a-t,g=l-n,d=u*u+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Xs)if(!(Math.abs(g*s-c*u)>Xs)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-a,I=o-l,h=s*s+c*c,A=m*m+I*I,C=Math.sqrt(h),p=Math.sqrt(d),v=i*Math.tan((iS-Math.acos((h+d-A)/(2*C*p)))/2),y=v/p,x=v/C;Math.abs(y-1)>Xs&&this._append`L${t+y*u},${n+y*g}`,this._append`A${i},${i},0,0,${+(g*m>u*I)},${this._x1=t+x*s},${this._y1=n+x*c}`}}arc(t,n,r,o,i,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(o),s=r*Math.sin(o),c=t+l,u=n+s,g=1^a,d=a?o-i:i-o;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Xs||Math.abs(this._y1-u)>Xs)&&this._append`L${c},${u}`,r&&(d<0&&(d=d%aS+aS),d>Iye?this._append`A${r},${r},0,1,${g},${t-l},${n-s}A${r},${r},0,1,${g},${this._x1=c},${this._y1=u}`:d>Xs&&this._append`A${r},${r},0,${+(d>=iS)},${g},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+o}h${-r}Z`}toString(){return this._}}function VB(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Cye(t)}function WB(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function lO(e){this._context=e}lO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Eb(e){return new lO(e)}function sO(e){return e[0]}function cO(e){return e[1]}function uO(e,t){var n=Xt(!0),r=null,o=Eb,i=null,a=VB(l);e=typeof e=="function"?e:e===void 0?sO:Xt(e),t=typeof t=="function"?t:t===void 0?cO:Xt(t);function l(s){var c,u=(s=WB(s)).length,g,d=!1,m;for(r==null&&(i=o(m=a())),c=0;c<=u;++c)!(c<u&&n(g=s[c],c,s))===d&&((d=!d)?i.lineStart():i.lineEnd()),d&&i.point(+e(g,c,s),+t(g,c,s));if(m)return i=null,m+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:Xt(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:Xt(+s),l):t},l.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Xt(!!s),l):n},l.curve=function(s){return arguments.length?(o=s,r!=null&&(i=o(r)),l):o},l.context=function(s){return arguments.length?(s==null?r=i=null:i=o(r=s),l):r},l}function Bh(e,t,n){var r=null,o=Xt(!0),i=null,a=Eb,l=null,s=VB(c);e=typeof e=="function"?e:e===void 0?sO:Xt(+e),t=typeof t=="function"?t:Xt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?cO:Xt(+n);function c(g){var d,m,I,h=(g=WB(g)).length,A,C=!1,p,v=new Array(h),y=new Array(h);for(i==null&&(l=a(p=s())),d=0;d<=h;++d){if(!(d<h&&o(A=g[d],d,g))===C)if(C=!C)m=d,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),I=d-1;I>=m;--I)l.point(v[I],y[I]);l.lineEnd(),l.areaEnd()}C&&(v[d]=+e(A,d,g),y[d]=+t(A,d,g),l.point(r?+r(A,d,g):v[d],n?+n(A,d,g):y[d]))}if(p)return l=null,p+""||null}function u(){return uO().defined(o).curve(a).context(i)}return c.x=function(g){return arguments.length?(e=typeof g=="function"?g:Xt(+g),r=null,c):e},c.x0=function(g){return arguments.length?(e=typeof g=="function"?g:Xt(+g),c):e},c.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Xt(+g),c):r},c.y=function(g){return arguments.length?(t=typeof g=="function"?g:Xt(+g),n=null,c):t},c.y0=function(g){return arguments.length?(t=typeof g=="function"?g:Xt(+g),c):t},c.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Xt(+g),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(g){return arguments.length?(o=typeof g=="function"?g:Xt(!!g),c):o},c.curve=function(g){return arguments.length?(a=g,i!=null&&(l=a(i)),c):a},c.context=function(g){return arguments.length?(g==null?i=l=null:l=a(i=g),c):i},c}class gO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function pye(e){return new gO(e,!0)}function Aye(e){return new gO(e,!1)}const NB={draw(e,t){const n=Ii(t/Fp);e.moveTo(n,0),e.arc(0,0,n,0,Nb)}},bye={draw(e,t){const n=Ii(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},dO=Ii(1/3),vye=dO*2,yye={draw(e,t){const n=Ii(t/vye),r=n*dO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},xye={draw(e,t){const n=Ii(t),r=-n/2;e.rect(r,r,n,n)}},Sye=.8908130915292852,fO=Hp(Fp/10)/Hp(7*Fp/10),Zye=Hp(Nb/10)*fO,wye=-iO(Nb/10)*fO,Gye={draw(e,t){const n=Ii(t*Sye),r=Zye*n,o=wye*n;e.moveTo(0,-n),e.lineTo(r,o);for(let i=1;i<5;++i){const a=Nb*i/5,l=iO(a),s=Hp(a);e.lineTo(s*n,-l*n),e.lineTo(l*r-s*o,s*r+l*o)}e.closePath()}},Uy=Ii(3),Bye={draw(e,t){const n=-Ii(t/(Uy*3));e.moveTo(0,n*2),e.lineTo(-Uy*n,-n),e.lineTo(Uy*n,-n),e.closePath()}},Ao=-.5,bo=Ii(3)/2,lS=1/Ii(12),kye=(lS/2+1)*3,Rye={draw(e,t){const n=Ii(t/kye),r=n/2,o=n*lS,i=r,a=n*lS+n,l=-i,s=a;e.moveTo(r,o),e.lineTo(i,a),e.lineTo(l,s),e.lineTo(Ao*r-bo*o,bo*r+Ao*o),e.lineTo(Ao*i-bo*a,bo*i+Ao*a),e.lineTo(Ao*l-bo*s,bo*l+Ao*s),e.lineTo(Ao*r+bo*o,Ao*o-bo*r),e.lineTo(Ao*i+bo*a,Ao*a-bo*i),e.lineTo(Ao*l+bo*s,Ao*s-bo*l),e.closePath()}};function Vye(e,t){let n=null,r=VB(o);e=typeof e=="function"?e:Xt(e||NB),t=typeof t=="function"?t:Xt(t===void 0?64:+t);function o(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return o.type=function(i){return arguments.length?(e=typeof i=="function"?i:Xt(i),o):e},o.size=function(i){return arguments.length?(t=typeof i=="function"?i:Xt(+i),o):t},o.context=function(i){return arguments.length?(n=i??null,o):n},o}function Mp(){}function jp(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function mO(e){this._context=e}mO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Wye(e){return new mO(e)}function IO(e){this._context=e}IO.prototype={areaStart:Mp,areaEnd:Mp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Nye(e){return new IO(e)}function hO(e){this._context=e}hO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:jp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Eye(e){return new hO(e)}function CO(e){this._context=e}CO.prototype={areaStart:Mp,areaEnd:Mp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Xye(e){return new CO(e)}function _3(e){return e<0?-1:1}function Q3(e,t,n){var r=e._x1-e._x0,o=t-e._x1,i=(e._y1-e._y0)/(r||o<0&&-0),a=(n-e._y1)/(o||r<0&&-0),l=(i*o+a*r)/(r+o);return(_3(i)+_3(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(l))||0}function $3(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function _y(e,t,n){var r=e._x0,o=e._y0,i=e._x1,a=e._y1,l=(i-r)/3;e._context.bezierCurveTo(r+l,o+l*t,i-l,a-l*n,i,a)}function Tp(e){this._context=e}Tp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_y(this,this._t0,$3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,_y(this,$3(this,n=Q3(this,e,t)),n);break;default:_y(this,this._t0,n=Q3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function pO(e){this._context=new AO(e)}(pO.prototype=Object.create(Tp.prototype)).point=function(e,t){Tp.prototype.point.call(this,t,e)};function AO(e){this._context=e}AO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,o,i){this._context.bezierCurveTo(t,e,r,n,i,o)}};function Jye(e){return new Tp(e)}function Yye(e){return new pO(e)}function bO(e){this._context=e}bO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=q3(e),o=q3(t),i=0,a=1;a<n;++i,++a)this._context.bezierCurveTo(r[0][i],o[0][i],r[1][i],o[1][i],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function q3(e){var t,n=e.length-1,r,o=new Array(n),i=new Array(n),a=new Array(n);for(o[0]=0,i[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)o[t]=1,i[t]=4,a[t]=4*e[t]+2*e[t+1];for(o[n-1]=2,i[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=o[t]/i[t-1],i[t]-=r,a[t]-=r*a[t-1];for(o[n-1]=a[n-1]/i[n-1],t=n-2;t>=0;--t)o[t]=(a[t]-o[t+1])/i[t];for(i[n-1]=(e[n]+o[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-o[t+1];return[o,i]}function Hye(e){return new bO(e)}function Xb(e,t){this._context=e,this._t=t}Xb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Fye(e){return new Xb(e,.5)}function Mye(e){return new Xb(e,0)}function jye(e){return new Xb(e,1)}function og(e,t){if((a=e.length)>1)for(var n=1,r,o,i=e[t[0]],a,l=i.length;n<a;++n)for(o=i,i=e[t[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(o[r][1])?o[r][0]:o[r][1]}function sS(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Tye(e,t){return e[t]}function Lye(e){const t=[];return t.key=e,t}function Kye(){var e=Xt([]),t=sS,n=og,r=Tye;function o(i){var a=Array.from(e.apply(this,arguments),Lye),l,s=a.length,c=-1,u;for(const g of i)for(l=0,++c;l<s;++l)(a[l][c]=[0,+r(g,a[l].key,c,i)]).data=g;for(l=0,u=WB(t(a));l<s;++l)a[u[l]].index=l;return n(a,u),a}return o.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Xt(Array.from(i)),o):e},o.value=function(i){return arguments.length?(r=typeof i=="function"?i:Xt(+i),o):r},o.order=function(i){return arguments.length?(t=i==null?sS:typeof i=="function"?i:Xt(Array.from(i)),o):t},o.offset=function(i){return arguments.length?(n=i??og,o):n},o}function Oye(e,t){if((r=e.length)>0){for(var n,r,o=0,i=e[0].length,a;o<i;++o){for(a=n=0;n<r;++n)a+=e[n][o][1]||0;if(a)for(n=0;n<r;++n)e[n][o][1]/=a}og(e,t)}}function Pye(e,t){if((o=e.length)>0){for(var n=0,r=e[t[0]],o,i=r.length;n<i;++n){for(var a=0,l=0;a<o;++a)l+=e[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}og(e,t)}}function Dye(e,t){if(!(!((a=e.length)>0)||!((i=(o=e[t[0]]).length)>0))){for(var n=0,r=1,o,i,a;r<i;++r){for(var l=0,s=0,c=0;l<a;++l){for(var u=e[t[l]],g=u[r][1]||0,d=u[r-1][1]||0,m=(g-d)/2,I=0;I<l;++I){var h=e[t[I]],A=h[r][1]||0,C=h[r-1][1]||0;m+=A-C}s+=g,c+=m*g}o[r-1][1]+=o[r-1][0]=n,s&&(n-=c/s)}o[r-1][1]+=o[r-1][0]=n,og(e,t)}}function sm(e){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(e)}var zye=["type","size","sizeType"];function cS(){return cS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cS.apply(this,arguments)}function eE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function tE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eE(Object(n),!0).forEach(function(r){Uye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uye(e,t,n){return t=_ye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ye(e){var t=Qye(e,"string");return sm(t)=="symbol"?t:t+""}function Qye(e,t){if(sm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $ye(e,t){if(e==null)return{};var n=qye(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qye(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var vO={symbolCircle:NB,symbolCross:bye,symbolDiamond:yye,symbolSquare:xye,symbolStar:Gye,symbolTriangle:Bye,symbolWye:Rye},e1e=Math.PI/180,t1e=function(t){var n="symbol".concat(Wb(t));return vO[n]||NB},n1e=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var o=18*e1e;return 1.25*t*t*(Math.tan(o)-Math.tan(o*2)*Math.pow(Math.tan(o),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},r1e=function(t,n){vO["symbol".concat(Wb(t))]=n},Jb=function(t){var n=t.type,r=n===void 0?"circle":n,o=t.size,i=o===void 0?64:o,a=t.sizeType,l=a===void 0?"area":a,s=$ye(t,zye),c=tE(tE({},s),{},{type:r,size:i,sizeType:l}),u=function(){var A=t1e(r),C=Vye().type(A).size(n1e(i,l,r));return C()},g=c.className,d=c.cx,m=c.cy,I=We(c,!0);return d===+d&&m===+m&&i===+i?G.createElement("path",cS({},I,{className:Ve("recharts-symbols",g),transform:"translate(".concat(d,", ").concat(m,")"),d:u()})):null};Jb.registerSymbol=r1e;function ig(e){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}function uS(){return uS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uS.apply(this,arguments)}function nE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function o1e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nE(Object(n),!0).forEach(function(r){cm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xO(r.key),r)}}function a1e(e,t,n){return t&&rE(e.prototype,t),n&&rE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l1e(e,t,n){return t=Lp(t),s1e(e,yO()?Reflect.construct(t,n||[],Lp(e).constructor):t.apply(e,n))}function s1e(e,t){if(t&&(ig(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c1e(e)}function c1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yO=function(){return!!e})()}function Lp(e){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lp(e)}function u1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gS(e,t)}function gS(e,t){return gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},gS(e,t)}function cm(e,t,n){return t=xO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xO(e){var t=g1e(e,"string");return ig(t)=="symbol"?t:t+""}function g1e(e,t){if(ig(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vo=32,EB=function(e){function t(){return i1e(this,t),l1e(this,t,arguments)}return u1e(t,e),a1e(t,[{key:"renderIcon",value:function(r){var o=this.props.inactiveColor,i=vo/2,a=vo/6,l=vo/3,s=r.inactive?o:r.color;if(r.type==="plainline")return G.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:vo,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return G.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(vo,"M").concat(2*l,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return G.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(vo/8,"h").concat(vo,"v").concat(vo*3/4,"h").concat(-vo,"z"),className:"recharts-legend-icon"});if(G.isValidElement(r.legendIcon)){var c=o1e({},r);return delete c.legendIcon,G.cloneElement(r.legendIcon,c)}return G.createElement(Jb,{fill:s,cx:i,cy:i,size:vo,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,o=this.props,i=o.payload,a=o.iconSize,l=o.layout,s=o.formatter,c=o.inactiveColor,u={x:0,y:0,width:vo,height:vo},g={display:l==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,I){var h=m.formatter||s,A=Ve(cm(cm({"recharts-legend-item":!0},"legend-item-".concat(I),!0),"inactive",m.inactive));if(m.type==="none")return null;var C=je(m.value)?null:m.value;li(!je(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var p=m.inactive?c:m.color;return G.createElement("li",uS({className:A,style:g,key:"legend-item-".concat(I)},Ul(r.props,m,I)),G.createElement(tS,{width:a,height:a,viewBox:u,style:d},r.renderIcon(m)),G.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},h?h(C,m,I):C))})}},{key:"render",value:function(){var r=this.props,o=r.payload,i=r.layout,a=r.align;if(!o||!o.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?a:"left"};return G.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(b.PureComponent);cm(EB,"displayName","Legend");cm(EB,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var d1e=dT,f1e=VG,m1e=1,I1e=2;function h1e(e,t,n,r){var o=n.length,i=o,a=!r;if(e==null)return!i;for(e=Object(e);o--;){var l=n[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<i;){l=n[o];var s=l[0],c=e[s],u=l[1];if(a&&l[2]){if(c===void 0&&!(s in e))return!1}else{var g=new d1e;if(r)var d=r(c,u,s,e,t,g);if(!(d===void 0?f1e(u,c,m1e|I1e,r,g):d))return!1}}return!0}var C1e=h1e,p1e=us;function A1e(e){return e===e&&!p1e(e)}var SO=A1e,b1e=SO,v1e=JA;function y1e(e){for(var t=v1e(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,b1e(o)]}return t}var x1e=y1e;function S1e(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var ZO=S1e,Z1e=C1e,w1e=x1e,G1e=ZO;function B1e(e){var t=w1e(e);return t.length==1&&t[0][2]?G1e(t[0][0],t[0][1]):function(n){return n===e||Z1e(n,e,t)}}var k1e=B1e;function R1e(e,t){return e!=null&&t in Object(e)}var V1e=R1e,W1e=OK,N1e=BG,E1e=jr,X1e=kG,J1e=RG,Y1e=vb;function H1e(e,t,n){t=W1e(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var a=Y1e(t[r]);if(!(i=e!=null&&n(e,a)))break;e=e[a]}return i||++r!=o?i:(o=e==null?0:e.length,!!o&&J1e(o)&&X1e(a,o)&&(E1e(e)||N1e(e)))}var F1e=H1e,M1e=V1e,j1e=F1e;function T1e(e,t){return e!=null&&j1e(e,t,M1e)}var L1e=T1e,K1e=VG,O1e=PK,P1e=L1e,D1e=xB,z1e=SO,U1e=ZO,_1e=vb,Q1e=1,$1e=2;function q1e(e,t){return D1e(e)&&z1e(t)?U1e(_1e(e),t):function(n){var r=O1e(n,e);return r===void 0&&r===t?P1e(n,e):K1e(t,r,Q1e|$1e)}}var e2e=q1e;function t2e(e){return e}var nd=t2e;function n2e(e){return function(t){return t==null?void 0:t[e]}}var r2e=n2e,o2e=wB;function i2e(e){return function(t){return o2e(t,e)}}var a2e=i2e,l2e=r2e,s2e=a2e,c2e=xB,u2e=vb;function g2e(e){return c2e(e)?l2e(u2e(e)):s2e(e)}var d2e=g2e,f2e=k1e,m2e=e2e,I2e=nd,h2e=jr,C2e=d2e;function p2e(e){return typeof e=="function"?e:e==null?I2e:typeof e=="object"?h2e(e)?m2e(e[0],e[1]):f2e(e):C2e(e)}var Qi=p2e;function A2e(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}var wO=A2e;function b2e(e){return e!==e}var v2e=b2e;function y2e(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}var x2e=y2e,S2e=wO,Z2e=v2e,w2e=x2e;function G2e(e,t,n){return t===t?w2e(e,t,n):S2e(e,Z2e,n)}var B2e=G2e,k2e=B2e;function R2e(e,t){var n=e==null?0:e.length;return!!n&&k2e(e,t,0)>-1}var V2e=R2e;function W2e(e,t,n){for(var r=-1,o=e==null?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}var N2e=W2e;function E2e(){}var X2e=E2e,Qy=xT,J2e=X2e,Y2e=GG,H2e=1/0,F2e=Qy&&1/Y2e(new Qy([,-0]))[1]==H2e?function(e){return new Qy(e)}:J2e,M2e=F2e,j2e=fT,T2e=V2e,L2e=N2e,K2e=IT,O2e=M2e,P2e=GG,D2e=200;function z2e(e,t,n){var r=-1,o=T2e,i=e.length,a=!0,l=[],s=l;if(n)a=!1,o=L2e;else if(i>=D2e){var c=t?null:O2e(e);if(c)return P2e(c);a=!1,o=K2e,s=new j2e}else s=t?[]:l;e:for(;++r<i;){var u=e[r],g=t?t(u):u;if(u=n||u!==0?u:0,a&&g===g){for(var d=s.length;d--;)if(s[d]===g)continue e;t&&s.push(g),l.push(u)}else o(s,g,n)||(s!==l&&s.push(g),l.push(u))}return l}var U2e=z2e,_2e=Qi,Q2e=U2e;function $2e(e,t){return e&&e.length?Q2e(e,_2e(t)):[]}var q2e=$2e;const oE=ot(q2e);function GO(e,t,n){return t===!0?oE(e,n):je(t)?oE(e,t):e}function ag(e){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(e)}var exe=["ref"];function iE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ta(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iE(Object(n),!0).forEach(function(r){Yb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function txe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kO(r.key),r)}}function nxe(e,t,n){return t&&aE(e.prototype,t),n&&aE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rxe(e,t,n){return t=Kp(t),oxe(e,BO()?Reflect.construct(t,n||[],Kp(e).constructor):t.apply(e,n))}function oxe(e,t){if(t&&(ag(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ixe(e)}function ixe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BO=function(){return!!e})()}function Kp(e){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kp(e)}function axe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dS(e,t)}function dS(e,t){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},dS(e,t)}function Yb(e,t,n){return t=kO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kO(e){var t=lxe(e,"string");return ag(t)=="symbol"?t:t+""}function lxe(e,t){if(ag(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sxe(e,t){if(e==null)return{};var n=cxe(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cxe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function uxe(e){return e.value}function gxe(e,t){if(G.isValidElement(e))return G.cloneElement(e,t);if(typeof e=="function")return G.createElement(e,t);t.ref;var n=sxe(t,exe);return G.createElement(EB,n)}var lE=1,Ji=function(e){function t(){var n;txe(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=rxe(this,t,[].concat(o)),Yb(n,"lastBoundingBox",{width:-1,height:-1}),n}return axe(t,e),nxe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,o=this.getBBox();o?(Math.abs(o.width-this.lastBoundingBox.width)>lE||Math.abs(o.height-this.lastBoundingBox.height)>lE)&&(this.lastBoundingBox.width=o.width,this.lastBoundingBox.height=o.height,r&&r(o)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ta({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var o=this.props,i=o.layout,a=o.align,l=o.verticalAlign,s=o.margin,c=o.chartWidth,u=o.chartHeight,g,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();g={left:((c||0)-m.width)/2}}else g=a==="right"?{right:s&&s.right||0}:{left:s&&s.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var I=this.getBBoxSnapshot();d={top:((u||0)-I.height)/2}}else d=l==="bottom"?{bottom:s&&s.bottom||0}:{top:s&&s.top||0};return ta(ta({},g),d)}},{key:"render",value:function(){var r=this,o=this.props,i=o.content,a=o.width,l=o.height,s=o.wrapperStyle,c=o.payloadUniqBy,u=o.payload,g=ta(ta({position:"absolute",width:a||"auto",height:l||"auto"},this.getDefaultPosition(s)),s);return G.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:function(m){r.wrapperNode=m}},gxe(i,ta(ta({},this.props),{},{payload:GO(u,c,uxe)})))}}],[{key:"getWithHeight",value:function(r,o){var i=ta(ta({},this.defaultProps),r.props),a=i.layout;return a==="vertical"&&Ae(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||o}:null}}])}(b.PureComponent);Yb(Ji,"displayName","Legend");Yb(Ji,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var sE=aI,dxe=BG,fxe=jr,cE=sE?sE.isConcatSpreadable:void 0;function mxe(e){return fxe(e)||dxe(e)||!!(cE&&e&&e[cE])}var Ixe=mxe,hxe=CT,Cxe=Ixe;function RO(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=Cxe),o||(o=[]);++i<a;){var l=e[i];t>0&&n(l)?t>1?RO(l,t-1,n,r,o):hxe(o,l):r||(o[o.length]=l)}return o}var VO=RO;function pxe(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),l=a.length;l--;){var s=a[e?l:++o];if(n(i[s],s,i)===!1)break}return t}}var Axe=pxe,bxe=Axe,vxe=bxe(),yxe=vxe,xxe=yxe,Sxe=JA;function Zxe(e,t){return e&&xxe(e,t,Sxe)}var WO=Zxe,wxe=lI;function Gxe(e,t){return function(n,r){if(n==null)return n;if(!wxe(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&r(a[i],i,a)!==!1;);return n}}var Bxe=Gxe,kxe=WO,Rxe=Bxe,Vxe=Rxe(kxe),XB=Vxe,Wxe=XB,Nxe=lI;function Exe(e,t){var n=-1,r=Nxe(e)?Array(e.length):[];return Wxe(e,function(o,i,a){r[++n]=t(o,i,a)}),r}var NO=Exe;function Xxe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Jxe=Xxe,uE=ed;function Yxe(e,t){if(e!==t){var n=e!==void 0,r=e===null,o=e===e,i=uE(e),a=t!==void 0,l=t===null,s=t===t,c=uE(t);if(!l&&!c&&!i&&e>t||i&&a&&s&&!l&&!c||r&&a&&s||!n&&s||!o)return 1;if(!r&&!i&&!c&&e<t||c&&n&&o&&!r&&!i||l&&n&&o||!a&&o||!s)return-1}return 0}var Hxe=Yxe,Fxe=Hxe;function Mxe(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,l=n.length;++r<a;){var s=Fxe(o[r],i[r]);if(s){if(r>=l)return s;var c=n[r];return s*(c=="desc"?-1:1)}}return e.index-t.index}var jxe=Mxe,$y=ZB,Txe=wB,Lxe=Qi,Kxe=NO,Oxe=Jxe,Pxe=bT,Dxe=jxe,zxe=nd,Uxe=jr;function _xe(e,t,n){t.length?t=$y(t,function(i){return Uxe(i)?function(a){return Txe(a,i.length===1?i[0]:i)}:i}):t=[zxe];var r=-1;t=$y(t,Pxe(Lxe));var o=Kxe(e,function(i,a,l){var s=$y(t,function(c){return c(i)});return{criteria:s,index:++r,value:i}});return Oxe(o,function(i,a){return Dxe(i,a,n)})}var Qxe=_xe;function $xe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var qxe=$xe,eSe=qxe,gE=Math.max;function tSe(e,t,n){return t=gE(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=gE(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=r[o];return l[t]=n(a),eSe(e,this,l)}}var nSe=tSe;function rSe(e){return function(){return e}}var oSe=rSe,iSe=Xc,aSe=function(){try{var e=iSe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),EO=aSe,lSe=oSe,dE=EO,sSe=nd,cSe=dE?function(e,t){return dE(e,"toString",{configurable:!0,enumerable:!1,value:lSe(t),writable:!0})}:sSe,uSe=cSe,gSe=800,dSe=16,fSe=Date.now;function mSe(e){var t=0,n=0;return function(){var r=fSe(),o=dSe-(r-n);if(n=r,o>0){if(++t>=gSe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var ISe=mSe,hSe=uSe,CSe=ISe,pSe=CSe(hSe),ASe=pSe,bSe=nd,vSe=nSe,ySe=ASe;function xSe(e,t){return ySe(vSe(e,t,bSe),e+"")}var SSe=xSe,ZSe=xG,wSe=lI,GSe=kG,BSe=us;function kSe(e,t,n){if(!BSe(n))return!1;var r=typeof t;return(r=="number"?wSe(n)&&GSe(t,n.length):r=="string"&&t in n)?ZSe(n[t],e):!1}var Hb=kSe,RSe=VO,VSe=Qxe,WSe=SSe,fE=Hb,NSe=WSe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&fE(e,t[0],t[1])?t=[]:n>2&&fE(t[0],t[1],t[2])&&(t=[t[0]]),VSe(e,RSe(t,1),[])}),ESe=NSe;const JB=ot(ESe);function um(e){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},um(e)}function fS(){return fS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fS.apply(this,arguments)}function XSe(e,t){return FSe(e)||HSe(e,t)||YSe(e,t)||JSe()}function JSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YSe(e,t){if(e){if(typeof e=="string")return mE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mE(e,t)}}function mE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function HSe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,o=u}finally{try{if(!s&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function FSe(e){if(Array.isArray(e))return e}function IE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function qy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(n),!0).forEach(function(r){MSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MSe(e,t,n){return t=jSe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jSe(e){var t=TSe(e,"string");return um(t)=="symbol"?t:t+""}function TSe(e,t){if(um(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LSe(e){return Array.isArray(e)&&Gn(e[0])&&Gn(e[1])?e.join(" ~ "):e}var KSe=function(t){var n=t.separator,r=n===void 0?" : ":n,o=t.contentStyle,i=o===void 0?{}:o,a=t.itemStyle,l=a===void 0?{}:a,s=t.labelStyle,c=s===void 0?{}:s,u=t.payload,g=t.formatter,d=t.itemSorter,m=t.wrapperClassName,I=t.labelClassName,h=t.label,A=t.labelFormatter,C=t.accessibilityLayer,p=C===void 0?!1:C,v=function(){if(u&&u.length){var V={padding:0,margin:0},W=(d?JB(u,d):u).map(function(N,X){if(N.type==="none")return null;var J=qy({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},l),E=N.formatter||g||LSe,F=N.value,H=N.name,M=F,Y=H;if(E&&M!=null&&Y!=null){var T=E(F,H,N,X,u);if(Array.isArray(T)){var O=XSe(T,2);M=O[0],Y=O[1]}else M=T}return G.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:J},Gn(Y)?G.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Gn(Y)?G.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,G.createElement("span",{className:"recharts-tooltip-item-value"},M),G.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return G.createElement("ul",{className:"recharts-tooltip-item-list",style:V},W)}return null},y=qy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),x=qy({margin:0},c),S=!He(h),B=S?h:"",Z=Ve("recharts-default-tooltip",m),R=Ve("recharts-tooltip-label",I);S&&A&&u!==void 0&&u!==null&&(B=A(h,u));var w=p?{role:"status","aria-live":"assertive"}:{};return G.createElement("div",fS({className:Z,style:y},w),G.createElement("p",{className:R,style:x},G.isValidElement(B)?B:"".concat(B)),v())};function gm(e){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(e)}function kh(e,t,n){return t=OSe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OSe(e){var t=PSe(e,"string");return gm(t)=="symbol"?t:t+""}function PSe(e,t){if(gm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nd="recharts-tooltip-wrapper",DSe={visibility:"hidden"};function zSe(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Ve(Nd,kh(kh(kh(kh({},"".concat(Nd,"-right"),Ae(n)&&t&&Ae(t.x)&&n>=t.x),"".concat(Nd,"-left"),Ae(n)&&t&&Ae(t.x)&&n<t.x),"".concat(Nd,"-bottom"),Ae(r)&&t&&Ae(t.y)&&r>=t.y),"".concat(Nd,"-top"),Ae(r)&&t&&Ae(t.y)&&r<t.y))}function hE(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,o=e.offsetTopLeft,i=e.position,a=e.reverseDirection,l=e.tooltipDimension,s=e.viewBox,c=e.viewBoxDimension;if(i&&Ae(i[r]))return i[r];var u=n[r]-l-o,g=n[r]+o;if(t[r])return a[r]?u:g;if(a[r]){var d=u,m=s[r];return d<m?Math.max(g,s[r]):Math.max(u,s[r])}var I=g+l,h=s[r]+c;return I>h?Math.max(u,s[r]):Math.max(g,s[r])}function USe(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function _Se(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,o=e.position,i=e.reverseDirection,a=e.tooltipBox,l=e.useTranslate3d,s=e.viewBox,c,u,g;return a.height>0&&a.width>0&&n?(u=hE({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:o,reverseDirection:i,tooltipDimension:a.width,viewBox:s,viewBoxDimension:s.width}),g=hE({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:o,reverseDirection:i,tooltipDimension:a.height,viewBox:s,viewBoxDimension:s.height}),c=USe({translateX:u,translateY:g,useTranslate3d:l})):c=DSe,{cssProperties:c,cssClasses:zSe({translateX:u,translateY:g,coordinate:n})}}function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}function CE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function pE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(n),!0).forEach(function(r){IS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JO(r.key),r)}}function $Se(e,t,n){return t&&AE(e.prototype,t),n&&AE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qSe(e,t,n){return t=Op(t),eZe(e,XO()?Reflect.construct(t,n||[],Op(e).constructor):t.apply(e,n))}function eZe(e,t){if(t&&(lg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tZe(e)}function tZe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XO=function(){return!!e})()}function Op(e){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Op(e)}function nZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mS(e,t)}function mS(e,t){return mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},mS(e,t)}function IS(e,t,n){return t=JO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JO(e){var t=rZe(e,"string");return lg(t)=="symbol"?t:t+""}function rZe(e,t){if(lg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bE=1,oZe=function(e){function t(){var n;QSe(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=qSe(this,t,[].concat(o)),IS(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),IS(n,"handleKeyDown",function(a){if(a.key==="Escape"){var l,s,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(s=n.props.coordinate)===null||s===void 0?void 0:s.x)!==null&&l!==void 0?l:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return nZe(t,e),$Se(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>bE||Math.abs(r.height-this.state.lastBoundingBox.height)>bE)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,o;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,o=this.props,i=o.active,a=o.allowEscapeViewBox,l=o.animationDuration,s=o.animationEasing,c=o.children,u=o.coordinate,g=o.hasPayload,d=o.isAnimationActive,m=o.offset,I=o.position,h=o.reverseDirection,A=o.useTranslate3d,C=o.viewBox,p=o.wrapperStyle,v=_Se({allowEscapeViewBox:a,coordinate:u,offsetTopLeft:m,position:I,reverseDirection:h,tooltipBox:this.state.lastBoundingBox,useTranslate3d:A,viewBox:C}),y=v.cssClasses,x=v.cssProperties,S=pE(pE({transition:d&&i?"transform ".concat(l,"ms ").concat(s):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&g?"visible":"hidden",position:"absolute",top:0,left:0},p);return G.createElement("div",{tabIndex:-1,className:y,style:S,ref:function(Z){r.wrapperNode=Z}},c)}}])}(b.PureComponent),iZe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Xo={isSsr:iZe(),get:function(t){return Xo[t]},set:function(t,n){if(typeof t=="string")Xo[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(o){Xo[o]=t[o]})}}};function sg(e){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sg(e)}function vE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function yE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(n),!0).forEach(function(r){YB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HO(r.key),r)}}function lZe(e,t,n){return t&&xE(e.prototype,t),n&&xE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sZe(e,t,n){return t=Pp(t),cZe(e,YO()?Reflect.construct(t,n||[],Pp(e).constructor):t.apply(e,n))}function cZe(e,t){if(t&&(sg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uZe(e)}function uZe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YO=function(){return!!e})()}function Pp(e){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pp(e)}function gZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hS(e,t)}function hS(e,t){return hS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},hS(e,t)}function YB(e,t,n){return t=HO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HO(e){var t=dZe(e,"string");return sg(t)=="symbol"?t:t+""}function dZe(e,t){if(sg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fZe(e){return e.dataKey}function mZe(e,t){return G.isValidElement(e)?G.cloneElement(e,t):typeof e=="function"?G.createElement(e,t):G.createElement(KSe,t)}var Zr=function(e){function t(){return aZe(this,t),sZe(this,t,arguments)}return gZe(t,e),lZe(t,[{key:"render",value:function(){var r=this,o=this.props,i=o.active,a=o.allowEscapeViewBox,l=o.animationDuration,s=o.animationEasing,c=o.content,u=o.coordinate,g=o.filterNull,d=o.isAnimationActive,m=o.offset,I=o.payload,h=o.payloadUniqBy,A=o.position,C=o.reverseDirection,p=o.useTranslate3d,v=o.viewBox,y=o.wrapperStyle,x=I??[];g&&x.length&&(x=GO(I.filter(function(B){return B.value!=null&&(B.hide!==!0||r.props.includeHidden)}),h,fZe));var S=x.length>0;return G.createElement(oZe,{allowEscapeViewBox:a,animationDuration:l,animationEasing:s,isAnimationActive:d,active:i,coordinate:u,hasPayload:S,offset:m,position:A,reverseDirection:C,useTranslate3d:p,viewBox:v,wrapperStyle:y},mZe(c,yE(yE({},this.props),{},{payload:x})))}}])}(b.PureComponent);YB(Zr,"displayName","Tooltip");YB(Zr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Xo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var IZe=_i,hZe=function(){return IZe.Date.now()},CZe=hZe,pZe=/\s/;function AZe(e){for(var t=e.length;t--&&pZe.test(e.charAt(t)););return t}var bZe=AZe,vZe=bZe,yZe=/^\s+/;function xZe(e){return e&&e.slice(0,vZe(e)+1).replace(yZe,"")}var SZe=xZe,ZZe=SZe,SE=us,wZe=ed,ZE=0/0,GZe=/^[-+]0x[0-9a-f]+$/i,BZe=/^0b[01]+$/i,kZe=/^0o[0-7]+$/i,RZe=parseInt;function VZe(e){if(typeof e=="number")return e;if(wZe(e))return ZE;if(SE(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=SE(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ZZe(e);var n=BZe.test(e);return n||kZe.test(e)?RZe(e.slice(2),n?2:8):GZe.test(e)?ZE:+e}var FO=VZe,WZe=us,e1=CZe,wE=FO,NZe="Expected a function",EZe=Math.max,XZe=Math.min;function JZe(e,t,n){var r,o,i,a,l,s,c=0,u=!1,g=!1,d=!0;if(typeof e!="function")throw new TypeError(NZe);t=wE(t)||0,WZe(n)&&(u=!!n.leading,g="maxWait"in n,i=g?EZe(wE(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d);function m(S){var B=r,Z=o;return r=o=void 0,c=S,a=e.apply(Z,B),a}function I(S){return c=S,l=setTimeout(C,t),u?m(S):a}function h(S){var B=S-s,Z=S-c,R=t-B;return g?XZe(R,i-Z):R}function A(S){var B=S-s,Z=S-c;return s===void 0||B>=t||B<0||g&&Z>=i}function C(){var S=e1();if(A(S))return p(S);l=setTimeout(C,h(S))}function p(S){return l=void 0,d&&r?m(S):(r=o=void 0,a)}function v(){l!==void 0&&clearTimeout(l),c=0,r=s=o=l=void 0}function y(){return l===void 0?a:p(e1())}function x(){var S=e1(),B=A(S);if(r=arguments,o=this,s=S,B){if(l===void 0)return I(s);if(g)return clearTimeout(l),l=setTimeout(C,t),m(s)}return l===void 0&&(l=setTimeout(C,t)),a}return x.cancel=v,x.flush=y,x}var YZe=JZe,HZe=YZe,FZe=us,MZe="Expected a function";function jZe(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new TypeError(MZe);return FZe(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),HZe(e,t,{leading:r,maxWait:t,trailing:o})}var TZe=jZe;const MO=ot(TZe);function dm(e){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dm(e)}function GE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Rh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GE(Object(n),!0).forEach(function(r){LZe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LZe(e,t,n){return t=KZe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KZe(e){var t=OZe(e,"string");return dm(t)=="symbol"?t:t+""}function OZe(e,t){if(dm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PZe(e,t){return _Ze(e)||UZe(e,t)||zZe(e,t)||DZe()}function DZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zZe(e,t){if(e){if(typeof e=="string")return BE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BE(e,t)}}function BE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UZe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,o=u}finally{try{if(!s&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function _Ze(e){if(Array.isArray(e))return e}var Is=b.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,o=r===void 0?{width:-1,height:-1}:r,i=e.width,a=i===void 0?"100%":i,l=e.height,s=l===void 0?"100%":l,c=e.minWidth,u=c===void 0?0:c,g=e.minHeight,d=e.maxHeight,m=e.children,I=e.debounce,h=I===void 0?0:I,A=e.id,C=e.className,p=e.onResize,v=e.style,y=v===void 0?{}:v,x=b.useRef(null),S=b.useRef();S.current=p,b.useImperativeHandle(t,function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})});var B=b.useState({containerWidth:o.width,containerHeight:o.height}),Z=PZe(B,2),R=Z[0],w=Z[1],k=b.useCallback(function(W,N){w(function(X){var J=Math.round(W),E=Math.round(N);return X.containerWidth===J&&X.containerHeight===E?X:{containerWidth:J,containerHeight:E}})},[]);b.useEffect(function(){var W=function(H){var M,Y=H[0].contentRect,T=Y.width,O=Y.height;k(T,O),(M=S.current)===null||M===void 0||M.call(S,T,O)};h>0&&(W=MO(W,h,{trailing:!0,leading:!1}));var N=new ResizeObserver(W),X=x.current.getBoundingClientRect(),J=X.width,E=X.height;return k(J,E),N.observe(x.current),function(){N.disconnect()}},[k,h]);var V=b.useMemo(function(){var W=R.containerWidth,N=R.containerHeight;if(W<0||N<0)return null;li(tc(a)||tc(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,s),li(!n||n>0,"The aspect(%s) must be greater than zero.",n);var X=tc(a)?W:a,J=tc(s)?N:s;n&&n>0&&(X?J=X/n:J&&(X=J*n),d&&J>d&&(J=d)),li(X>0||J>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,J,a,s,u,g,n);var E=!Array.isArray(m)&&ba(m.type).endsWith("Chart");return G.Children.map(m,function(F){return UK.isElement(F)?b.cloneElement(F,Rh({width:X,height:J},E?{style:Rh({height:"100%",width:"100%",maxHeight:J,maxWidth:X},F.props.style)}:{})):F})},[n,m,s,d,g,u,R,a]);return G.createElement("div",{id:A?"".concat(A):void 0,className:Ve("recharts-responsive-container",C),style:Rh(Rh({},y),{},{width:a,height:s,minWidth:u,minHeight:g,maxHeight:d}),ref:x},V)}),Fb=function(t){return null};Fb.displayName="Cell";function fm(e){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(e)}function kE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function CS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(n),!0).forEach(function(r){QZe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QZe(e,t,n){return t=$Ze(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Ze(e){var t=qZe(e,"string");return fm(t)=="symbol"?t:t+""}function qZe(e,t){if(fm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $c={widthCache:{},cacheCount:0},ewe=2e3,twe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RE="recharts_measurement_span";function nwe(e){var t=CS({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var yf=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Xo.isSsr)return{width:0,height:0};var r=nwe(n),o=JSON.stringify({text:t,copyStyle:r});if($c.widthCache[o])return $c.widthCache[o];try{var i=document.getElementById(RE);i||(i=document.createElement("span"),i.setAttribute("id",RE),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var a=CS(CS({},twe),r);Object.assign(i.style,a),i.textContent="".concat(t);var l=i.getBoundingClientRect(),s={width:l.width,height:l.height};return $c.widthCache[o]=s,++$c.cacheCount>ewe&&($c.cacheCount=0,$c.widthCache={}),s}catch{return{width:0,height:0}}},rwe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function mm(e){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}function Dp(e,t){return lwe(e)||awe(e,t)||iwe(e,t)||owe()}function owe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iwe(e,t){if(e){if(typeof e=="string")return VE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VE(e,t)}}function VE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function awe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,o=u}finally{try{if(!s&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function lwe(e){if(Array.isArray(e))return e}function swe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uwe(r.key),r)}}function cwe(e,t,n){return t&&WE(e.prototype,t),n&&WE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function uwe(e){var t=gwe(e,"string");return mm(t)=="symbol"?t:t+""}function gwe(e,t){if(mm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dwe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,fwe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},mwe=Object.keys(jO),Au="NaN";function Iwe(e,t){return e*jO[t]}var Vh=function(){function e(t,n){swe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!dwe.test(n)&&(this.num=NaN,this.unit=""),mwe.includes(n)&&(this.num=Iwe(t,n),this.unit="px")}return cwe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,o=(r=fwe.exec(n))!==null&&r!==void 0?r:[],i=Dp(o,3),a=i[1],l=i[2];return new e(parseFloat(a),l??"")}}])}();function TO(e){if(e.includes(Au))return Au;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=NE.exec(t))!==null&&n!==void 0?n:[],o=Dp(r,4),i=o[1],a=o[2],l=o[3],s=Vh.parse(i??""),c=Vh.parse(l??""),u=a==="*"?s.multiply(c):s.divide(c);if(u.isNaN())return Au;t=t.replace(NE,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var g,d=(g=EE.exec(t))!==null&&g!==void 0?g:[],m=Dp(d,4),I=m[1],h=m[2],A=m[3],C=Vh.parse(I??""),p=Vh.parse(A??""),v=h==="+"?C.add(p):C.subtract(p);if(v.isNaN())return Au;t=t.replace(EE,v.toString())}return t}var XE=/\(([^()]*)\)/;function hwe(e){for(var t=e;t.includes("(");){var n=XE.exec(t),r=Dp(n,2),o=r[1];t=t.replace(XE,TO(o))}return t}function Cwe(e){var t=e.replace(/\s+/g,"");return t=hwe(t),t=TO(t),t}function pwe(e){try{return Cwe(e)}catch{return Au}}function t1(e){var t=pwe(e.slice(5,-1));return t===Au?"":t}var Awe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],bwe=["dx","dy","angle","className","breakAll"];function pS(){return pS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pS.apply(this,arguments)}function JE(e,t){if(e==null)return{};var n=vwe(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vwe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function YE(e,t){return Zwe(e)||Swe(e,t)||xwe(e,t)||ywe()}function ywe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xwe(e,t){if(e){if(typeof e=="string")return HE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HE(e,t)}}function HE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Swe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,o=u}finally{try{if(!s&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function Zwe(e){if(Array.isArray(e))return e}var LO=/[ \f\n\r\t\v\u2028\u2029]+/,KO=function(t){var n=t.children,r=t.breakAll,o=t.style;try{var i=[];He(n)||(r?i=n.toString().split(""):i=n.toString().split(LO));var a=i.map(function(s){return{word:s,width:yf(s,o).width}}),l=r?0:yf(" ",o).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}},wwe=function(t,n,r,o,i){var a=t.maxLines,l=t.children,s=t.style,c=t.breakAll,u=Ae(a),g=l,d=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(J,E){var F=E.word,H=E.width,M=J[J.length-1];if(M&&(o==null||i||M.width+H+r<Number(o)))M.words.push(F),M.width+=H+r;else{var Y={words:[F],width:H};J.push(Y)}return J},[])},m=d(n),I=function(X){return X.reduce(function(J,E){return J.width>E.width?J:E})};if(!u)return m;for(var h="…",A=function(X){var J=g.slice(0,X),E=KO({breakAll:c,style:s,children:J+h}).wordsWithComputedWidth,F=d(E),H=F.length>a||I(F).width>Number(o);return[H,F]},C=0,p=g.length-1,v=0,y;C<=p&&v<=g.length-1;){var x=Math.floor((C+p)/2),S=x-1,B=A(S),Z=YE(B,2),R=Z[0],w=Z[1],k=A(x),V=YE(k,1),W=V[0];if(!R&&!W&&(C=x+1),R&&W&&(p=x-1),!R&&W){y=w;break}v++}return y||m},FE=function(t){var n=He(t)?[]:t.toString().split(LO);return[{words:n}]},Gwe=function(t){var n=t.width,r=t.scaleToFit,o=t.children,i=t.style,a=t.breakAll,l=t.maxLines;if((n||r)&&!Xo.isSsr){var s,c,u=KO({breakAll:a,children:o,style:i});if(u){var g=u.wordsWithComputedWidth,d=u.spaceWidth;s=g,c=d}else return FE(o);return wwe({breakAll:a,children:o,maxLines:l,style:i},s,c,n,r)}return FE(o)},ME="#808080",Gc=function(t){var n=t.x,r=n===void 0?0:n,o=t.y,i=o===void 0?0:o,a=t.lineHeight,l=a===void 0?"1em":a,s=t.capHeight,c=s===void 0?"0.71em":s,u=t.scaleToFit,g=u===void 0?!1:u,d=t.textAnchor,m=d===void 0?"start":d,I=t.verticalAnchor,h=I===void 0?"end":I,A=t.fill,C=A===void 0?ME:A,p=JE(t,Awe),v=b.useMemo(function(){return Gwe({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:g,style:p.style,width:p.width})},[p.breakAll,p.children,p.maxLines,g,p.style,p.width]),y=p.dx,x=p.dy,S=p.angle,B=p.className,Z=p.breakAll,R=JE(p,bwe);if(!Gn(r)||!Gn(i))return null;var w=r+(Ae(y)?y:0),k=i+(Ae(x)?x:0),V;switch(h){case"start":V=t1("calc(".concat(c,")"));break;case"middle":V=t1("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:V=t1("calc(".concat(v.length-1," * -").concat(l,")"));break}var W=[];if(g){var N=v[0].width,X=p.width;W.push("scale(".concat((Ae(X)?X/N:1)/N,")"))}return S&&W.push("rotate(".concat(S,", ").concat(w,", ").concat(k,")")),W.length&&(R.transform=W.join(" ")),G.createElement("text",pS({},We(R,!0),{x:w,y:k,className:Ve("recharts-text",B),textAnchor:m,fill:C.includes("url")?ME:C}),v.map(function(J,E){var F=J.words.join(Z?"":" ");return G.createElement("tspan",{x:w,dy:E===0?V:l,key:"".concat(F,"-").concat(E)},F)}))};function Fl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Bwe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function HB(e){let t,n,r;e.length!==2?(t=Fl,n=(l,s)=>Fl(e(l),s),r=(l,s)=>e(l)-s):(t=e===Fl||e===Bwe?e:kwe,n=e,r=e);function o(l,s,c=0,u=l.length){if(c<u){if(t(s,s)!==0)return u;do{const g=c+u>>>1;n(l[g],s)<0?c=g+1:u=g}while(c<u)}return c}function i(l,s,c=0,u=l.length){if(c<u){if(t(s,s)!==0)return u;do{const g=c+u>>>1;n(l[g],s)<=0?c=g+1:u=g}while(c<u)}return c}function a(l,s,c=0,u=l.length){const g=o(l,s,c,u-1);return g>c&&r(l[g-1],s)>-r(l[g],s)?g-1:g}return{left:o,center:a,right:i}}function kwe(){return 0}function OO(e){return e===null?NaN:+e}function*Rwe(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const Vwe=HB(Fl),Wwe=Vwe.right;HB(OO).center;const AI=Wwe;class jE extends Map{constructor(t,n=Xwe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,o]of t)this.set(r,o)}get(t){return super.get(TE(this,t))}has(t){return super.has(TE(this,t))}set(t,n){return super.set(Nwe(this,t),n)}delete(t){return super.delete(Ewe(this,t))}}function TE({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Nwe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Ewe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Xwe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Jwe(e=Fl){if(e===Fl)return PO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function PO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Ywe=Math.sqrt(50),Hwe=Math.sqrt(10),Fwe=Math.sqrt(2);function zp(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(r)),i=r/Math.pow(10,o),a=i>=Ywe?10:i>=Hwe?5:i>=Fwe?2:1;let l,s,c;return o<0?(c=Math.pow(10,-o)/a,l=Math.round(e*c),s=Math.round(t*c),l/c<e&&++l,s/c>t&&--s,c=-c):(c=Math.pow(10,o)*a,l=Math.round(e/c),s=Math.round(t/c),l*c<e&&++l,s*c>t&&--s),s<l&&.5<=n&&n<2?zp(e,t,n*2):[l,s,c]}function AS(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[o,i,a]=r?zp(t,e,n):zp(e,t,n);if(!(i>=o))return[];const l=i-o+1,s=new Array(l);if(r)if(a<0)for(let c=0;c<l;++c)s[c]=(i-c)/-a;else for(let c=0;c<l;++c)s[c]=(i-c)*a;else if(a<0)for(let c=0;c<l;++c)s[c]=(o+c)/-a;else for(let c=0;c<l;++c)s[c]=(o+c)*a;return s}function bS(e,t,n){return t=+t,e=+e,n=+n,zp(e,t,n)[2]}function vS(e,t,n){t=+t,e=+e,n=+n;const r=t<e,o=r?bS(t,e,n):bS(e,t,n);return(r?-1:1)*(o<0?1/-o:o)}function LE(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of e)(o=t(o,++r,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function KE(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of e)(o=t(o,++r,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}function DO(e,t,n=0,r=1/0,o){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(o=o===void 0?PO:Jwe(o);r>n;){if(r-n>600){const s=r-n+1,c=t-n+1,u=Math.log(s),g=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*g*(s-g)/s)*(c-s/2<0?-1:1),m=Math.max(n,Math.floor(t-c*g/s+d)),I=Math.min(r,Math.floor(t+(s-c)*g/s+d));DO(e,t,m,I,o)}const i=e[t];let a=n,l=r;for(Ed(e,n,t),o(e[r],i)>0&&Ed(e,n,r);a<l;){for(Ed(e,a,l),++a,--l;o(e[a],i)<0;)++a;for(;o(e[l],i)>0;)--l}o(e[n],i)===0?Ed(e,n,l):(++l,Ed(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Ed(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Mwe(e,t,n){if(e=Float64Array.from(Rwe(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return KE(e);if(t>=1)return LE(e);var r,o=(r-1)*t,i=Math.floor(o),a=LE(DO(e,i).subarray(0,i+1)),l=KE(e.subarray(i+1));return a+(l-a)*(o-i)}}function jwe(e,t,n=OO){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,o=(r-1)*t,i=Math.floor(o),a=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return a+(l-a)*(o-i)}}function Twe(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(o);++r<o;)i[r]=e+r*n;return i}function Do(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ja(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const yS=Symbol("implicit");function FB(){var e=new jE,t=[],n=[],r=yS;function o(i){let a=e.get(i);if(a===void 0){if(r!==yS)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return o.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new jE;for(const a of i)e.has(a)||e.set(a,t.push(a)-1);return o},o.range=function(i){return arguments.length?(n=Array.from(i),o):n.slice()},o.unknown=function(i){return arguments.length?(r=i,o):r},o.copy=function(){return FB(t,n).unknown(r)},Do.apply(o,arguments),o}function Im(){var e=FB().unknown(void 0),t=e.domain,n=e.range,r=0,o=1,i,a,l=!1,s=0,c=0,u=.5;delete e.unknown;function g(){var d=t().length,m=o<r,I=m?o:r,h=m?r:o;i=(h-I)/Math.max(1,d-s+c*2),l&&(i=Math.floor(i)),I+=(h-I-i*(d-s))*u,a=i*(1-s),l&&(I=Math.round(I),a=Math.round(a));var A=Twe(d).map(function(C){return I+i*C});return n(m?A.reverse():A)}return e.domain=function(d){return arguments.length?(t(d),g()):t()},e.range=function(d){return arguments.length?([r,o]=d,r=+r,o=+o,g()):[r,o]},e.rangeRound=function(d){return[r,o]=d,r=+r,o=+o,l=!0,g()},e.bandwidth=function(){return a},e.step=function(){return i},e.round=function(d){return arguments.length?(l=!!d,g()):l},e.padding=function(d){return arguments.length?(s=Math.min(1,c=+d),g()):s},e.paddingInner=function(d){return arguments.length?(s=Math.min(1,d),g()):s},e.paddingOuter=function(d){return arguments.length?(c=+d,g()):c},e.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),g()):u},e.copy=function(){return Im(t(),[r,o]).round(l).paddingInner(s).paddingOuter(c).align(u)},Do.apply(g(),arguments)}function zO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return zO(t())},e}function xf(){return zO(Im.apply(null,arguments).paddingInner(1))}function MB(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function UO(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function bI(){}var hm=.7,Up=1/hm,Ju="\\s*([+-]?\\d+)\\s*",Cm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lwe=/^#([0-9a-f]{3,8})$/,Kwe=new RegExp(`^rgb\\(${Ju},${Ju},${Ju}\\)$`),Owe=new RegExp(`^rgb\\(${Yi},${Yi},${Yi}\\)$`),Pwe=new RegExp(`^rgba\\(${Ju},${Ju},${Ju},${Cm}\\)$`),Dwe=new RegExp(`^rgba\\(${Yi},${Yi},${Yi},${Cm}\\)$`),zwe=new RegExp(`^hsl\\(${Cm},${Yi},${Yi}\\)$`),Uwe=new RegExp(`^hsla\\(${Cm},${Yi},${Yi},${Cm}\\)$`),OE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};MB(bI,pm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:PE,formatHex:PE,formatHex8:_we,formatHsl:Qwe,formatRgb:DE,toString:DE});function PE(){return this.rgb().formatHex()}function _we(){return this.rgb().formatHex8()}function Qwe(){return _O(this).formatHsl()}function DE(){return this.rgb().formatRgb()}function pm(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Lwe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?zE(t):n===3?new Vr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Wh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Wh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Kwe.exec(e))?new Vr(t[1],t[2],t[3],1):(t=Owe.exec(e))?new Vr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Pwe.exec(e))?Wh(t[1],t[2],t[3],t[4]):(t=Dwe.exec(e))?Wh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zwe.exec(e))?QE(t[1],t[2]/100,t[3]/100,1):(t=Uwe.exec(e))?QE(t[1],t[2]/100,t[3]/100,t[4]):OE.hasOwnProperty(e)?zE(OE[e]):e==="transparent"?new Vr(NaN,NaN,NaN,0):null}function zE(e){return new Vr(e>>16&255,e>>8&255,e&255,1)}function Wh(e,t,n,r){return r<=0&&(e=t=n=NaN),new Vr(e,t,n,r)}function $we(e){return e instanceof bI||(e=pm(e)),e?(e=e.rgb(),new Vr(e.r,e.g,e.b,e.opacity)):new Vr}function xS(e,t,n,r){return arguments.length===1?$we(e):new Vr(e,t,n,r??1)}function Vr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}MB(Vr,xS,UO(bI,{brighter(e){return e=e==null?Up:Math.pow(Up,e),new Vr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?hm:Math.pow(hm,e),new Vr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Vr(dc(this.r),dc(this.g),dc(this.b),_p(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:UE,formatHex:UE,formatHex8:qwe,formatRgb:_E,toString:_E}));function UE(){return`#${nc(this.r)}${nc(this.g)}${nc(this.b)}`}function qwe(){return`#${nc(this.r)}${nc(this.g)}${nc(this.b)}${nc((isNaN(this.opacity)?1:this.opacity)*255)}`}function _E(){const e=_p(this.opacity);return`${e===1?"rgb(":"rgba("}${dc(this.r)}, ${dc(this.g)}, ${dc(this.b)}${e===1?")":`, ${e})`}`}function _p(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function dc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function nc(e){return e=dc(e),(e<16?"0":"")+e.toString(16)}function QE(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new oi(e,t,n,r)}function _O(e){if(e instanceof oi)return new oi(e.h,e.s,e.l,e.opacity);if(e instanceof bI||(e=pm(e)),!e)return new oi;if(e instanceof oi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,s=(i+o)/2;return l?(t===i?a=(n-r)/l+(n<r)*6:n===i?a=(r-t)/l+2:a=(t-n)/l+4,l/=s<.5?i+o:2-i-o,a*=60):l=s>0&&s<1?0:a,new oi(a,l,s,e.opacity)}function eGe(e,t,n,r){return arguments.length===1?_O(e):new oi(e,t,n,r??1)}function oi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}MB(oi,eGe,UO(bI,{brighter(e){return e=e==null?Up:Math.pow(Up,e),new oi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?hm:Math.pow(hm,e),new oi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Vr(n1(e>=240?e-240:e+120,o,r),n1(e,o,r),n1(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new oi($E(this.h),Nh(this.s),Nh(this.l),_p(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_p(this.opacity);return`${e===1?"hsl(":"hsla("}${$E(this.h)}, ${Nh(this.s)*100}%, ${Nh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $E(e){return e=(e||0)%360,e<0?e+360:e}function Nh(e){return Math.max(0,Math.min(1,e||0))}function n1(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const jB=e=>()=>e;function tGe(e,t){return function(n){return e+n*t}}function nGe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function rGe(e){return(e=+e)==1?QO:function(t,n){return n-t?nGe(t,n,e):jB(isNaN(t)?n:t)}}function QO(e,t){var n=t-e;return n?tGe(e,n):jB(isNaN(e)?t:e)}const qE=function e(t){var n=rGe(t);function r(o,i){var a=n((o=xS(o)).r,(i=xS(i)).r),l=n(o.g,i.g),s=n(o.b,i.b),c=QO(o.opacity,i.opacity);return function(u){return o.r=a(u),o.g=l(u),o.b=s(u),o.opacity=c(u),o+""}}return r.gamma=e,r}(1);function oGe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function iGe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function aGe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),a;for(a=0;a<r;++a)o[a]=rd(e[a],t[a]);for(;a<n;++a)i[a]=t[a];return function(l){for(a=0;a<r;++a)i[a]=o[a](l);return i}}function lGe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Qp(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function sGe(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=rd(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var SS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,r1=new RegExp(SS.source,"g");function cGe(e){return function(){return e}}function uGe(e){return function(t){return e(t)+""}}function gGe(e,t){var n=SS.lastIndex=r1.lastIndex=0,r,o,i,a=-1,l=[],s=[];for(e=e+"",t=t+"";(r=SS.exec(e))&&(o=r1.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),l[a]?l[a]+=i:l[++a]=i),(r=r[0])===(o=o[0])?l[a]?l[a]+=o:l[++a]=o:(l[++a]=null,s.push({i:a,x:Qp(r,o)})),n=r1.lastIndex;return n<t.length&&(i=t.slice(n),l[a]?l[a]+=i:l[++a]=i),l.length<2?s[0]?uGe(s[0].x):cGe(t):(t=s.length,function(c){for(var u=0,g;u<t;++u)l[(g=s[u]).i]=g.x(c);return l.join("")})}function rd(e,t){var n=typeof t,r;return t==null||n==="boolean"?jB(t):(n==="number"?Qp:n==="string"?(r=pm(t))?(t=r,qE):gGe:t instanceof pm?qE:t instanceof Date?lGe:iGe(t)?oGe:Array.isArray(t)?aGe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?sGe:Qp)(e,t)}function TB(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function dGe(e,t){t===void 0&&(t=e,e=rd);for(var n=0,r=t.length-1,o=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(o,o=t[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return i[l](a-l)}}function fGe(e){return function(){return e}}function $p(e){return+e}var eX=[0,1];function hr(e){return e}function ZS(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:fGe(isNaN(t)?NaN:.5)}function mGe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function IGe(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=ZS(o,r),i=n(a,i)):(r=ZS(r,o),i=n(i,a)),function(l){return i(r(l))}}function hGe(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=ZS(e[a],e[a+1]),i[a]=n(t[a],t[a+1]);return function(l){var s=AI(e,l,1,r)-1;return i[s](o[s](l))}}function vI(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Mb(){var e=eX,t=eX,n=rd,r,o,i,a=hr,l,s,c;function u(){var d=Math.min(e.length,t.length);return a!==hr&&(a=mGe(e[0],e[d-1])),l=d>2?hGe:IGe,s=c=null,g}function g(d){return d==null||isNaN(d=+d)?i:(s||(s=l(e.map(r),t,n)))(r(a(d)))}return g.invert=function(d){return a(o((c||(c=l(t,e.map(r),Qp)))(d)))},g.domain=function(d){return arguments.length?(e=Array.from(d,$p),u()):e.slice()},g.range=function(d){return arguments.length?(t=Array.from(d),u()):t.slice()},g.rangeRound=function(d){return t=Array.from(d),n=TB,u()},g.clamp=function(d){return arguments.length?(a=d?!0:hr,u()):a!==hr},g.interpolate=function(d){return arguments.length?(n=d,u()):n},g.unknown=function(d){return arguments.length?(i=d,g):i},function(d,m){return r=d,o=m,u()}}function LB(){return Mb()(hr,hr)}function CGe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function qp(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function cg(e){return e=qp(Math.abs(e)),e?e[1]:NaN}function pGe(e,t){return function(n,r){for(var o=n.length,i=[],a=0,l=e[0],s=0;o>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),i.push(n.substring(o-=l,o+l)),!((s+=l+1)>r));)l=e[a=(a+1)%e.length];return i.reverse().join(t)}}function AGe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var bGe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Am(e){if(!(t=bGe.exec(e)))throw new Error("invalid format: "+e);var t;return new KB({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Am.prototype=KB.prototype;function KB(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}KB.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vGe(e){e:for(var t=e.length,n=1,r=-1,o;n<t;++n)switch(e[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(o+1):e}var $O;function yGe(e,t){var n=qp(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-($O=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+qp(e,Math.max(0,t+i-1))[0]}function tX(e,t){var n=qp(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}const nX={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:CGe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>tX(e*100,t),r:tX,s:yGe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rX(e){return e}var oX=Array.prototype.map,iX=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function xGe(e){var t=e.grouping===void 0||e.thousands===void 0?rX:pGe(oX.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?rX:AGe(oX.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function c(g){g=Am(g);var d=g.fill,m=g.align,I=g.sign,h=g.symbol,A=g.zero,C=g.width,p=g.comma,v=g.precision,y=g.trim,x=g.type;x==="n"?(p=!0,x="g"):nX[x]||(v===void 0&&(v=12),y=!0,x="g"),(A||d==="0"&&m==="=")&&(A=!0,d="0",m="=");var S=h==="$"?n:h==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",B=h==="$"?r:/[%p]/.test(x)?a:"",Z=nX[x],R=/[defgprs%]/.test(x);v=v===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function w(k){var V=S,W=B,N,X,J;if(x==="c")W=Z(k)+W,k="";else{k=+k;var E=k<0||1/k<0;if(k=isNaN(k)?s:Z(Math.abs(k),v),y&&(k=vGe(k)),E&&+k==0&&I!=="+"&&(E=!1),V=(E?I==="("?I:l:I==="-"||I==="("?"":I)+V,W=(x==="s"?iX[8+$O/3]:"")+W+(E&&I==="("?")":""),R){for(N=-1,X=k.length;++N<X;)if(J=k.charCodeAt(N),48>J||J>57){W=(J===46?o+k.slice(N+1):k.slice(N))+W,k=k.slice(0,N);break}}}p&&!A&&(k=t(k,1/0));var F=V.length+k.length+W.length,H=F<C?new Array(C-F+1).join(d):"";switch(p&&A&&(k=t(H+k,H.length?C-W.length:1/0),H=""),m){case"<":k=V+k+W+H;break;case"=":k=V+H+k+W;break;case"^":k=H.slice(0,F=H.length>>1)+V+k+W+H.slice(F);break;default:k=H+V+k+W;break}return i(k)}return w.toString=function(){return g+""},w}function u(g,d){var m=c((g=Am(g),g.type="f",g)),I=Math.max(-8,Math.min(8,Math.floor(cg(d)/3)))*3,h=Math.pow(10,-I),A=iX[8+I/3];return function(C){return m(h*C)+A}}return{format:c,formatPrefix:u}}var Eh,OB,qO;SGe({thousands:",",grouping:[3],currency:["$",""]});function SGe(e){return Eh=xGe(e),OB=Eh.format,qO=Eh.formatPrefix,Eh}function ZGe(e){return Math.max(0,-cg(Math.abs(e)))}function wGe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cg(t)/3)))*3-cg(Math.abs(e)))}function GGe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cg(t)-cg(e))+1}function eP(e,t,n,r){var o=vS(e,t,n),i;switch(r=Am(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=wGe(o,a))&&(r.precision=i),qO(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=GGe(o,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=ZGe(o))&&(r.precision=i-(r.type==="%")*2);break}}return OB(r)}function hs(e){var t=e.domain;return e.ticks=function(n){var r=t();return AS(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var o=t();return eP(o[0],o[o.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),o=0,i=r.length-1,a=r[o],l=r[i],s,c,u=10;for(l<a&&(c=a,a=l,l=c,c=o,o=i,i=c);u-- >0;){if(c=bS(a,l,n),c===s)return r[o]=a,r[i]=l,t(r);if(c>0)a=Math.floor(a/c)*c,l=Math.ceil(l/c)*c;else if(c<0)a=Math.ceil(a*c)/c,l=Math.floor(l*c)/c;else break;s=c}return e},e}function e0(){var e=LB();return e.copy=function(){return vI(e,e0())},Do.apply(e,arguments),hs(e)}function tP(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,$p),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return tP(e).unknown(t)},e=arguments.length?Array.from(e,$p):[0,1],hs(n)}function nP(e,t){e=e.slice();var n=0,r=e.length-1,o=e[n],i=e[r],a;return i<o&&(a=n,n=r,r=a,a=o,o=i,i=a),e[n]=t.floor(o),e[r]=t.ceil(i),e}function aX(e){return Math.log(e)}function lX(e){return Math.exp(e)}function BGe(e){return-Math.log(-e)}function kGe(e){return-Math.exp(-e)}function RGe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function VGe(e){return e===10?RGe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function WGe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function sX(e){return(t,n)=>-e(-t,n)}function PB(e){const t=e(aX,lX),n=t.domain;let r=10,o,i;function a(){return o=WGe(r),i=VGe(r),n()[0]<0?(o=sX(o),i=sX(i),e(BGe,kGe)):e(aX,lX),t}return t.base=function(l){return arguments.length?(r=+l,a()):r},t.domain=function(l){return arguments.length?(n(l),a()):n()},t.ticks=l=>{const s=n();let c=s[0],u=s[s.length-1];const g=u<c;g&&([c,u]=[u,c]);let d=o(c),m=o(u),I,h;const A=l==null?10:+l;let C=[];if(!(r%1)&&m-d<A){if(d=Math.floor(d),m=Math.ceil(m),c>0){for(;d<=m;++d)for(I=1;I<r;++I)if(h=d<0?I/i(-d):I*i(d),!(h<c)){if(h>u)break;C.push(h)}}else for(;d<=m;++d)for(I=r-1;I>=1;--I)if(h=d>0?I/i(-d):I*i(d),!(h<c)){if(h>u)break;C.push(h)}C.length*2<A&&(C=AS(c,u,A))}else C=AS(d,m,Math.min(m-d,A)).map(i);return g?C.reverse():C},t.tickFormat=(l,s)=>{if(l==null&&(l=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=Am(s)).precision==null&&(s.trim=!0),s=OB(s)),l===1/0)return s;const c=Math.max(1,r*l/t.ticks().length);return u=>{let g=u/i(Math.round(o(u)));return g*r<r-.5&&(g*=r),g<=c?s(u):""}},t.nice=()=>n(nP(n(),{floor:l=>i(Math.floor(o(l))),ceil:l=>i(Math.ceil(o(l)))})),t}function rP(){const e=PB(Mb()).domain([1,10]);return e.copy=()=>vI(e,rP()).base(e.base()),Do.apply(e,arguments),e}function cX(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function uX(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function DB(e){var t=1,n=e(cX(t),uX(t));return n.constant=function(r){return arguments.length?e(cX(t=+r),uX(t)):t},hs(n)}function oP(){var e=DB(Mb());return e.copy=function(){return vI(e,oP()).constant(e.constant())},Do.apply(e,arguments)}function gX(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function NGe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function EGe(e){return e<0?-e*e:e*e}function zB(e){var t=e(hr,hr),n=1;function r(){return n===1?e(hr,hr):n===.5?e(NGe,EGe):e(gX(n),gX(1/n))}return t.exponent=function(o){return arguments.length?(n=+o,r()):n},hs(t)}function UB(){var e=zB(Mb());return e.copy=function(){return vI(e,UB()).exponent(e.exponent())},Do.apply(e,arguments),e}function XGe(){return UB.apply(null,arguments).exponent(.5)}function dX(e){return Math.sign(e)*e*e}function JGe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function iP(){var e=LB(),t=[0,1],n=!1,r;function o(i){var a=JGe(e(i));return isNaN(a)?r:n?Math.round(a):a}return o.invert=function(i){return e.invert(dX(i))},o.domain=function(i){return arguments.length?(e.domain(i),o):e.domain()},o.range=function(i){return arguments.length?(e.range((t=Array.from(i,$p)).map(dX)),o):t.slice()},o.rangeRound=function(i){return o.range(i).round(!0)},o.round=function(i){return arguments.length?(n=!!i,o):n},o.clamp=function(i){return arguments.length?(e.clamp(i),o):e.clamp()},o.unknown=function(i){return arguments.length?(r=i,o):r},o.copy=function(){return iP(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Do.apply(o,arguments),hs(o)}function aP(){var e=[],t=[],n=[],r;function o(){var a=0,l=Math.max(1,t.length);for(n=new Array(l-1);++a<l;)n[a-1]=jwe(e,a/l);return i}function i(a){return a==null||isNaN(a=+a)?r:t[AI(n,a)]}return i.invertExtent=function(a){var l=t.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let l of a)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Fl),o()},i.range=function(a){return arguments.length?(t=Array.from(a),o()):t.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return aP().domain(e).range(t).unknown(r)},Do.apply(i,arguments)}function lP(){var e=0,t=1,n=1,r=[.5],o=[0,1],i;function a(s){return s!=null&&s<=s?o[AI(r,s,0,n)]:i}function l(){var s=-1;for(r=new Array(n);++s<n;)r[s]=((s+1)*t-(s-n)*e)/(n+1);return a}return a.domain=function(s){return arguments.length?([e,t]=s,e=+e,t=+t,l()):[e,t]},a.range=function(s){return arguments.length?(n=(o=Array.from(s)).length-1,l()):o.slice()},a.invertExtent=function(s){var c=o.indexOf(s);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},a.unknown=function(s){return arguments.length&&(i=s),a},a.thresholds=function(){return r.slice()},a.copy=function(){return lP().domain([e,t]).range(o).unknown(i)},Do.apply(hs(a),arguments)}function sP(){var e=[.5],t=[0,1],n,r=1;function o(i){return i!=null&&i<=i?t[AI(e,i,0,r)]:n}return o.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),o):e.slice()},o.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),o):t.slice()},o.invertExtent=function(i){var a=t.indexOf(i);return[e[a-1],e[a]]},o.unknown=function(i){return arguments.length?(n=i,o):n},o.copy=function(){return sP().domain(e).range(t).unknown(n)},Do.apply(o,arguments)}const o1=new Date,i1=new Date;function Rn(e,t,n,r){function o(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return o.floor=i=>(e(i=new Date(+i)),i),o.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),o.round=i=>{const a=o(i),l=o.ceil(i);return i-a<l-i?a:l},o.offset=(i,a)=>(t(i=new Date(+i),a==null?1:Math.floor(a)),i),o.range=(i,a,l)=>{const s=[];if(i=o.ceil(i),l=l==null?1:Math.floor(l),!(i<a)||!(l>0))return s;let c;do s.push(c=new Date(+i)),t(i,l),e(i);while(c<i&&i<a);return s},o.filter=i=>Rn(a=>{if(a>=a)for(;e(a),!i(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!i(a););else for(;--l>=0;)for(;t(a,1),!i(a););}),n&&(o.count=(i,a)=>(o1.setTime(+i),i1.setTime(+a),e(o1),e(i1),Math.floor(n(o1,i1))),o.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?o.filter(r?a=>r(a)%i===0:a=>o.count(0,a)%i===0):o)),o}const t0=Rn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);t0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Rn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):t0);t0.range;const ga=1e3,Wo=ga*60,da=Wo*60,ka=da*24,_B=ka*7,fX=ka*30,a1=ka*365,rc=Rn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ga)},(e,t)=>(t-e)/ga,e=>e.getUTCSeconds());rc.range;const QB=Rn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ga)},(e,t)=>{e.setTime(+e+t*Wo)},(e,t)=>(t-e)/Wo,e=>e.getMinutes());QB.range;const $B=Rn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Wo)},(e,t)=>(t-e)/Wo,e=>e.getUTCMinutes());$B.range;const qB=Rn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ga-e.getMinutes()*Wo)},(e,t)=>{e.setTime(+e+t*da)},(e,t)=>(t-e)/da,e=>e.getHours());qB.range;const ek=Rn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*da)},(e,t)=>(t-e)/da,e=>e.getUTCHours());ek.range;const yI=Rn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Wo)/ka,e=>e.getDate()-1);yI.range;const jb=Rn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ka,e=>e.getUTCDate()-1);jb.range;const cP=Rn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ka,e=>Math.floor(e/ka));cP.range;function Hc(e){return Rn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Wo)/_B)}const Tb=Hc(0),n0=Hc(1),YGe=Hc(2),HGe=Hc(3),ug=Hc(4),FGe=Hc(5),MGe=Hc(6);Tb.range;n0.range;YGe.range;HGe.range;ug.range;FGe.range;MGe.range;function Fc(e){return Rn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/_B)}const Lb=Fc(0),r0=Fc(1),jGe=Fc(2),TGe=Fc(3),gg=Fc(4),LGe=Fc(5),KGe=Fc(6);Lb.range;r0.range;jGe.range;TGe.range;gg.range;LGe.range;KGe.range;const tk=Rn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());tk.range;const nk=Rn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());nk.range;const Ra=Rn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ra.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ra.range;const Va=Rn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Va.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Va.range;function uP(e,t,n,r,o,i){const a=[[rc,1,ga],[rc,5,5*ga],[rc,15,15*ga],[rc,30,30*ga],[i,1,Wo],[i,5,5*Wo],[i,15,15*Wo],[i,30,30*Wo],[o,1,da],[o,3,3*da],[o,6,6*da],[o,12,12*da],[r,1,ka],[r,2,2*ka],[n,1,_B],[t,1,fX],[t,3,3*fX],[e,1,a1]];function l(c,u,g){const d=u<c;d&&([c,u]=[u,c]);const m=g&&typeof g.range=="function"?g:s(c,u,g),I=m?m.range(c,+u+1):[];return d?I.reverse():I}function s(c,u,g){const d=Math.abs(u-c)/g,m=HB(([,,A])=>A).right(a,d);if(m===a.length)return e.every(vS(c/a1,u/a1,g));if(m===0)return t0.every(Math.max(vS(c,u,g),1));const[I,h]=a[d/a[m-1][2]<a[m][2]/d?m-1:m];return I.every(h)}return[l,s]}const[OGe,PGe]=uP(Va,nk,Lb,cP,ek,$B),[DGe,zGe]=uP(Ra,tk,Tb,yI,qB,QB);function l1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function s1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Xd(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function UGe(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,i=e.days,a=e.shortDays,l=e.months,s=e.shortMonths,c=Jd(o),u=Yd(o),g=Jd(i),d=Yd(i),m=Jd(a),I=Yd(a),h=Jd(l),A=Yd(l),C=Jd(s),p=Yd(s),v={a:E,A:F,b:H,B:M,c:null,d:AX,e:AX,f:pBe,g:BBe,G:RBe,H:IBe,I:hBe,j:CBe,L:gP,m:ABe,M:bBe,p:Y,q:T,Q:yX,s:xX,S:vBe,u:yBe,U:xBe,V:SBe,w:ZBe,W:wBe,x:null,X:null,y:GBe,Y:kBe,Z:VBe,"%":vX},y={a:O,A:P,b:L,B:j,c:null,d:bX,e:bX,f:XBe,g:OBe,G:DBe,H:WBe,I:NBe,j:EBe,L:fP,m:JBe,M:YBe,p:D,q:$,Q:yX,s:xX,S:HBe,u:FBe,U:MBe,V:jBe,w:TBe,W:LBe,x:null,X:null,y:KBe,Y:PBe,Z:zBe,"%":vX},x={a:w,A:k,b:V,B:W,c:N,d:CX,e:CX,f:gBe,g:hX,G:IX,H:pX,I:pX,j:lBe,L:uBe,m:aBe,M:sBe,p:R,q:iBe,Q:fBe,s:mBe,S:cBe,u:eBe,U:tBe,V:nBe,w:qGe,W:rBe,x:X,X:J,y:hX,Y:IX,Z:oBe,"%":dBe};v.x=S(n,v),v.X=S(r,v),v.c=S(t,v),y.x=S(n,y),y.X=S(r,y),y.c=S(t,y);function S(K,z){return function(_){var U=[],te=-1,ie=0,re=K.length,se,ce,q;for(_ instanceof Date||(_=new Date(+_));++te<re;)K.charCodeAt(te)===37&&(U.push(K.slice(ie,te)),(ce=mX[se=K.charAt(++te)])!=null?se=K.charAt(++te):ce=se==="e"?" ":"0",(q=z[se])&&(se=q(_,ce)),U.push(se),ie=te+1);return U.push(K.slice(ie,te)),U.join("")}}function B(K,z){return function(_){var U=Xd(1900,void 0,1),te=Z(U,K,_+="",0),ie,re;if(te!=_.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(U.s*1e3+("L"in U?U.L:0));if(z&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+U.p*12),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(ie=s1(Xd(U.y,0,1)),re=ie.getUTCDay(),ie=re>4||re===0?r0.ceil(ie):r0(ie),ie=jb.offset(ie,(U.V-1)*7),U.y=ie.getUTCFullYear(),U.m=ie.getUTCMonth(),U.d=ie.getUTCDate()+(U.w+6)%7):(ie=l1(Xd(U.y,0,1)),re=ie.getDay(),ie=re>4||re===0?n0.ceil(ie):n0(ie),ie=yI.offset(ie,(U.V-1)*7),U.y=ie.getFullYear(),U.m=ie.getMonth(),U.d=ie.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),re="Z"in U?s1(Xd(U.y,0,1)).getUTCDay():l1(Xd(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+U.W*7-(re+5)%7:U.w+U.U*7-(re+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,s1(U)):l1(U)}}function Z(K,z,_,U){for(var te=0,ie=z.length,re=_.length,se,ce;te<ie;){if(U>=re)return-1;if(se=z.charCodeAt(te++),se===37){if(se=z.charAt(te++),ce=x[se in mX?z.charAt(te++):se],!ce||(U=ce(K,_,U))<0)return-1}else if(se!=_.charCodeAt(U++))return-1}return U}function R(K,z,_){var U=c.exec(z.slice(_));return U?(K.p=u.get(U[0].toLowerCase()),_+U[0].length):-1}function w(K,z,_){var U=m.exec(z.slice(_));return U?(K.w=I.get(U[0].toLowerCase()),_+U[0].length):-1}function k(K,z,_){var U=g.exec(z.slice(_));return U?(K.w=d.get(U[0].toLowerCase()),_+U[0].length):-1}function V(K,z,_){var U=C.exec(z.slice(_));return U?(K.m=p.get(U[0].toLowerCase()),_+U[0].length):-1}function W(K,z,_){var U=h.exec(z.slice(_));return U?(K.m=A.get(U[0].toLowerCase()),_+U[0].length):-1}function N(K,z,_){return Z(K,t,z,_)}function X(K,z,_){return Z(K,n,z,_)}function J(K,z,_){return Z(K,r,z,_)}function E(K){return a[K.getDay()]}function F(K){return i[K.getDay()]}function H(K){return s[K.getMonth()]}function M(K){return l[K.getMonth()]}function Y(K){return o[+(K.getHours()>=12)]}function T(K){return 1+~~(K.getMonth()/3)}function O(K){return a[K.getUTCDay()]}function P(K){return i[K.getUTCDay()]}function L(K){return s[K.getUTCMonth()]}function j(K){return l[K.getUTCMonth()]}function D(K){return o[+(K.getUTCHours()>=12)]}function $(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var z=S(K+="",v);return z.toString=function(){return K},z},parse:function(K){var z=B(K+="",!1);return z.toString=function(){return K},z},utcFormat:function(K){var z=S(K+="",y);return z.toString=function(){return K},z},utcParse:function(K){var z=B(K+="",!0);return z.toString=function(){return K},z}}}var mX={"-":"",_:" ",0:"0"},Tn=/^\s*\d+/,_Ge=/^%/,QGe=/[\\^$*+?|[\]().{}]/g;function mt(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function $Ge(e){return e.replace(QGe,"\\$&")}function Jd(e){return new RegExp("^(?:"+e.map($Ge).join("|")+")","i")}function Yd(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function qGe(e,t,n){var r=Tn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function eBe(e,t,n){var r=Tn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function tBe(e,t,n){var r=Tn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function nBe(e,t,n){var r=Tn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function rBe(e,t,n){var r=Tn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function IX(e,t,n){var r=Tn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function hX(e,t,n){var r=Tn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function oBe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function iBe(e,t,n){var r=Tn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function aBe(e,t,n){var r=Tn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function CX(e,t,n){var r=Tn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function lBe(e,t,n){var r=Tn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function pX(e,t,n){var r=Tn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function sBe(e,t,n){var r=Tn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function cBe(e,t,n){var r=Tn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function uBe(e,t,n){var r=Tn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function gBe(e,t,n){var r=Tn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function dBe(e,t,n){var r=_Ge.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function fBe(e,t,n){var r=Tn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function mBe(e,t,n){var r=Tn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function AX(e,t){return mt(e.getDate(),t,2)}function IBe(e,t){return mt(e.getHours(),t,2)}function hBe(e,t){return mt(e.getHours()%12||12,t,2)}function CBe(e,t){return mt(1+yI.count(Ra(e),e),t,3)}function gP(e,t){return mt(e.getMilliseconds(),t,3)}function pBe(e,t){return gP(e,t)+"000"}function ABe(e,t){return mt(e.getMonth()+1,t,2)}function bBe(e,t){return mt(e.getMinutes(),t,2)}function vBe(e,t){return mt(e.getSeconds(),t,2)}function yBe(e){var t=e.getDay();return t===0?7:t}function xBe(e,t){return mt(Tb.count(Ra(e)-1,e),t,2)}function dP(e){var t=e.getDay();return t>=4||t===0?ug(e):ug.ceil(e)}function SBe(e,t){return e=dP(e),mt(ug.count(Ra(e),e)+(Ra(e).getDay()===4),t,2)}function ZBe(e){return e.getDay()}function wBe(e,t){return mt(n0.count(Ra(e)-1,e),t,2)}function GBe(e,t){return mt(e.getFullYear()%100,t,2)}function BBe(e,t){return e=dP(e),mt(e.getFullYear()%100,t,2)}function kBe(e,t){return mt(e.getFullYear()%1e4,t,4)}function RBe(e,t){var n=e.getDay();return e=n>=4||n===0?ug(e):ug.ceil(e),mt(e.getFullYear()%1e4,t,4)}function VBe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+mt(t/60|0,"0",2)+mt(t%60,"0",2)}function bX(e,t){return mt(e.getUTCDate(),t,2)}function WBe(e,t){return mt(e.getUTCHours(),t,2)}function NBe(e,t){return mt(e.getUTCHours()%12||12,t,2)}function EBe(e,t){return mt(1+jb.count(Va(e),e),t,3)}function fP(e,t){return mt(e.getUTCMilliseconds(),t,3)}function XBe(e,t){return fP(e,t)+"000"}function JBe(e,t){return mt(e.getUTCMonth()+1,t,2)}function YBe(e,t){return mt(e.getUTCMinutes(),t,2)}function HBe(e,t){return mt(e.getUTCSeconds(),t,2)}function FBe(e){var t=e.getUTCDay();return t===0?7:t}function MBe(e,t){return mt(Lb.count(Va(e)-1,e),t,2)}function mP(e){var t=e.getUTCDay();return t>=4||t===0?gg(e):gg.ceil(e)}function jBe(e,t){return e=mP(e),mt(gg.count(Va(e),e)+(Va(e).getUTCDay()===4),t,2)}function TBe(e){return e.getUTCDay()}function LBe(e,t){return mt(r0.count(Va(e)-1,e),t,2)}function KBe(e,t){return mt(e.getUTCFullYear()%100,t,2)}function OBe(e,t){return e=mP(e),mt(e.getUTCFullYear()%100,t,2)}function PBe(e,t){return mt(e.getUTCFullYear()%1e4,t,4)}function DBe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?gg(e):gg.ceil(e),mt(e.getUTCFullYear()%1e4,t,4)}function zBe(){return"+0000"}function vX(){return"%"}function yX(e){return+e}function xX(e){return Math.floor(+e/1e3)}var qc,IP,hP;UBe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function UBe(e){return qc=UGe(e),IP=qc.format,qc.parse,hP=qc.utcFormat,qc.utcParse,qc}function _Be(e){return new Date(e)}function QBe(e){return e instanceof Date?+e:+new Date(+e)}function rk(e,t,n,r,o,i,a,l,s,c){var u=LB(),g=u.invert,d=u.domain,m=c(".%L"),I=c(":%S"),h=c("%I:%M"),A=c("%I %p"),C=c("%a %d"),p=c("%b %d"),v=c("%B"),y=c("%Y");function x(S){return(s(S)<S?m:l(S)<S?I:a(S)<S?h:i(S)<S?A:r(S)<S?o(S)<S?C:p:n(S)<S?v:y)(S)}return u.invert=function(S){return new Date(g(S))},u.domain=function(S){return arguments.length?d(Array.from(S,QBe)):d().map(_Be)},u.ticks=function(S){var B=d();return e(B[0],B[B.length-1],S??10)},u.tickFormat=function(S,B){return B==null?x:c(B)},u.nice=function(S){var B=d();return(!S||typeof S.range!="function")&&(S=t(B[0],B[B.length-1],S??10)),S?d(nP(B,S)):u},u.copy=function(){return vI(u,rk(e,t,n,r,o,i,a,l,s,c))},u}function $Be(){return Do.apply(rk(DGe,zGe,Ra,tk,Tb,yI,qB,QB,rc,IP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qBe(){return Do.apply(rk(OGe,PGe,Va,nk,Lb,jb,ek,$B,rc,hP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Kb(){var e=0,t=1,n,r,o,i,a=hr,l=!1,s;function c(g){return g==null||isNaN(g=+g)?s:a(o===0?.5:(g=(i(g)-n)*o,l?Math.max(0,Math.min(1,g)):g))}c.domain=function(g){return arguments.length?([e,t]=g,n=i(e=+e),r=i(t=+t),o=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(g){return arguments.length?(l=!!g,c):l},c.interpolator=function(g){return arguments.length?(a=g,c):a};function u(g){return function(d){var m,I;return arguments.length?([m,I]=d,a=g(m,I),c):[a(0),a(1)]}}return c.range=u(rd),c.rangeRound=u(TB),c.unknown=function(g){return arguments.length?(s=g,c):s},function(g){return i=g,n=g(e),r=g(t),o=n===r?0:1/(r-n),c}}function Cs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function CP(){var e=hs(Kb()(hr));return e.copy=function(){return Cs(e,CP())},ja.apply(e,arguments)}function pP(){var e=PB(Kb()).domain([1,10]);return e.copy=function(){return Cs(e,pP()).base(e.base())},ja.apply(e,arguments)}function AP(){var e=DB(Kb());return e.copy=function(){return Cs(e,AP()).constant(e.constant())},ja.apply(e,arguments)}function ok(){var e=zB(Kb());return e.copy=function(){return Cs(e,ok()).exponent(e.exponent())},ja.apply(e,arguments)}function eke(){return ok.apply(null,arguments).exponent(.5)}function bP(){var e=[],t=hr;function n(r){if(r!=null&&!isNaN(r=+r))return t((AI(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let o of r)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Fl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,o)=>t(o/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(o,i)=>Mwe(e,i/r))},n.copy=function(){return bP(t).domain(e)},ja.apply(n,arguments)}function Ob(){var e=0,t=.5,n=1,r=1,o,i,a,l,s,c=hr,u,g=!1,d;function m(h){return isNaN(h=+h)?d:(h=.5+((h=+u(h))-i)*(r*h<r*i?l:s),c(g?Math.max(0,Math.min(1,h)):h))}m.domain=function(h){return arguments.length?([e,t,n]=h,o=u(e=+e),i=u(t=+t),a=u(n=+n),l=o===i?0:.5/(i-o),s=i===a?0:.5/(a-i),r=i<o?-1:1,m):[e,t,n]},m.clamp=function(h){return arguments.length?(g=!!h,m):g},m.interpolator=function(h){return arguments.length?(c=h,m):c};function I(h){return function(A){var C,p,v;return arguments.length?([C,p,v]=A,c=dGe(h,[C,p,v]),m):[c(0),c(.5),c(1)]}}return m.range=I(rd),m.rangeRound=I(TB),m.unknown=function(h){return arguments.length?(d=h,m):d},function(h){return u=h,o=h(e),i=h(t),a=h(n),l=o===i?0:.5/(i-o),s=i===a?0:.5/(a-i),r=i<o?-1:1,m}}function vP(){var e=hs(Ob()(hr));return e.copy=function(){return Cs(e,vP())},ja.apply(e,arguments)}function yP(){var e=PB(Ob()).domain([.1,1,10]);return e.copy=function(){return Cs(e,yP()).base(e.base())},ja.apply(e,arguments)}function xP(){var e=DB(Ob());return e.copy=function(){return Cs(e,xP()).constant(e.constant())},ja.apply(e,arguments)}function ik(){var e=zB(Ob());return e.copy=function(){return Cs(e,ik()).exponent(e.exponent())},ja.apply(e,arguments)}function tke(){return ik.apply(null,arguments).exponent(.5)}const SX=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Im,scaleDiverging:vP,scaleDivergingLog:yP,scaleDivergingPow:ik,scaleDivergingSqrt:tke,scaleDivergingSymlog:xP,scaleIdentity:tP,scaleImplicit:yS,scaleLinear:e0,scaleLog:rP,scaleOrdinal:FB,scalePoint:xf,scalePow:UB,scaleQuantile:aP,scaleQuantize:lP,scaleRadial:iP,scaleSequential:CP,scaleSequentialLog:pP,scaleSequentialPow:ok,scaleSequentialQuantile:bP,scaleSequentialSqrt:eke,scaleSequentialSymlog:AP,scaleSqrt:XGe,scaleSymlog:oP,scaleThreshold:sP,scaleTime:$Be,scaleUtc:qBe,tickFormat:eP},Symbol.toStringTag,{value:"Module"}));var nke=ed;function rke(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],a=t(i);if(a!=null&&(l===void 0?a===a&&!nke(a):n(a,l)))var l=a,s=i}return s}var Pb=rke;function oke(e,t){return e>t}var SP=oke,ike=Pb,ake=SP,lke=nd;function ske(e){return e&&e.length?ike(e,lke,ake):void 0}var cke=ske;const yl=ot(cke);function uke(e,t){return e<t}var ZP=uke,gke=Pb,dke=ZP,fke=nd;function mke(e){return e&&e.length?gke(e,fke,dke):void 0}var Ike=mke;const Db=ot(Ike);var hke=ZB,Cke=Qi,pke=NO,Ake=jr;function bke(e,t){var n=Ake(e)?hke:pke;return n(e,Cke(t))}var vke=bke,yke=VO,xke=vke;function Ske(e,t){return yke(xke(e,t),1)}var Zke=Ske;const wke=ot(Zke);var od=1e9,Gke={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lk,_t=!0,Ho="[DecimalError] ",fc=Ho+"Invalid argument: ",ak=Ho+"Exponent out of range: ",id=Math.floor,Js=Math.pow,Bke=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$r,Nn=1e7,Kt=7,wP=9007199254740991,o0=id(wP/Kt),Ge={};Ge.absoluteValue=Ge.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ge.comparedTo=Ge.cmp=function(e){var t,n,r,o,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,o=e.d.length,t=0,n=r<o?r:o;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===o?0:r>o^i.s<0?1:-1};Ge.decimalPlaces=Ge.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Kt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ge.dividedBy=Ge.div=function(e){return va(this,new this.constructor(e))};Ge.dividedToIntegerBy=Ge.idiv=function(e){var t=this,n=t.constructor;return Rt(va(t,new n(e),0,1),n.precision)};Ge.equals=Ge.eq=function(e){return!this.cmp(e)};Ge.exponent=function(){return bn(this)};Ge.greaterThan=Ge.gt=function(e){return this.cmp(e)>0};Ge.greaterThanOrEqualTo=Ge.gte=function(e){return this.cmp(e)>=0};Ge.isInteger=Ge.isint=function(){return this.e>this.d.length-2};Ge.isNegative=Ge.isneg=function(){return this.s<0};Ge.isPositive=Ge.ispos=function(){return this.s>0};Ge.isZero=function(){return this.s===0};Ge.lessThan=Ge.lt=function(e){return this.cmp(e)<0};Ge.lessThanOrEqualTo=Ge.lte=function(e){return this.cmp(e)<1};Ge.logarithm=Ge.log=function(e){var t,n=this,r=n.constructor,o=r.precision,i=o+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq($r))throw Error(Ho+"NaN");if(n.s<1)throw Error(Ho+(n.s?"NaN":"-Infinity"));return n.eq($r)?new r(0):(_t=!1,t=va(bm(n,i),bm(e,i),i),_t=!0,Rt(t,o))};Ge.minus=Ge.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?kP(t,e):GP(t,(e.s=-e.s,e))};Ge.modulo=Ge.mod=function(e){var t,n=this,r=n.constructor,o=r.precision;if(e=new r(e),!e.s)throw Error(Ho+"NaN");return n.s?(_t=!1,t=va(n,e,0,1).times(e),_t=!0,n.minus(t)):Rt(new r(n),o)};Ge.naturalExponential=Ge.exp=function(){return BP(this)};Ge.naturalLogarithm=Ge.ln=function(){return bm(this)};Ge.negated=Ge.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ge.plus=Ge.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?GP(t,e):kP(t,(e.s=-e.s,e))};Ge.precision=Ge.sd=function(e){var t,n,r,o=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(fc+e);if(t=bn(o)+1,r=o.d.length-1,n=r*Kt+1,r=o.d[r],r){for(;r%10==0;r/=10)n--;for(r=o.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ge.squareRoot=Ge.sqrt=function(){var e,t,n,r,o,i,a,l=this,s=l.constructor;if(l.s<1){if(!l.s)return new s(0);throw Error(Ho+"NaN")}for(e=bn(l),_t=!1,o=Math.sqrt(+l),o==0||o==1/0?(t=Ri(l.d),(t.length+e)%2==0&&(t+="0"),o=Math.sqrt(t),e=id((e+1)/2)-(e<0||e%2),o==1/0?t="5e"+e:(t=o.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new s(t)):r=new s(o.toString()),n=s.precision,o=a=n+3;;)if(i=r,r=i.plus(va(l,i,a+2)).times(.5),Ri(i.d).slice(0,a)===(t=Ri(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),o==a&&t=="4999"){if(Rt(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(t!="9999")break;a+=4}return _t=!0,Rt(r,n)};Ge.times=Ge.mul=function(e){var t,n,r,o,i,a,l,s,c,u=this,g=u.constructor,d=u.d,m=(e=new g(e)).d;if(!u.s||!e.s)return new g(0);for(e.s*=u.s,n=u.e+e.e,s=d.length,c=m.length,s<c&&(i=d,d=m,m=i,a=s,s=c,c=a),i=[],a=s+c,r=a;r--;)i.push(0);for(r=c;--r>=0;){for(t=0,o=s+r;o>r;)l=i[o]+m[r]*d[o-r-1]+t,i[o--]=l%Nn|0,t=l/Nn|0;i[o]=(i[o]+t)%Nn|0}for(;!i[--a];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,_t?Rt(e,g.precision):e};Ge.toDecimalPlaces=Ge.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Oi(e,0,od),t===void 0?t=r.rounding:Oi(t,0,8),Rt(n,e+bn(n)+1,t))};Ge.toExponential=function(e,t){var n,r=this,o=r.constructor;return e===void 0?n=Bc(r,!0):(Oi(e,0,od),t===void 0?t=o.rounding:Oi(t,0,8),r=Rt(new o(r),e+1,t),n=Bc(r,!0,e+1)),n};Ge.toFixed=function(e,t){var n,r,o=this,i=o.constructor;return e===void 0?Bc(o):(Oi(e,0,od),t===void 0?t=i.rounding:Oi(t,0,8),r=Rt(new i(o),e+bn(o)+1,t),n=Bc(r.abs(),!1,e+bn(r)+1),o.isneg()&&!o.isZero()?"-"+n:n)};Ge.toInteger=Ge.toint=function(){var e=this,t=e.constructor;return Rt(new t(e),bn(e)+1,t.rounding)};Ge.toNumber=function(){return+this};Ge.toPower=Ge.pow=function(e){var t,n,r,o,i,a,l=this,s=l.constructor,c=12,u=+(e=new s(e));if(!e.s)return new s($r);if(l=new s(l),!l.s){if(e.s<1)throw Error(Ho+"Infinity");return l}if(l.eq($r))return l;if(r=s.precision,e.eq($r))return Rt(l,r);if(t=e.e,n=e.d.length-1,a=t>=n,i=l.s,a){if((n=u<0?-u:u)<=wP){for(o=new s($r),t=Math.ceil(r/Kt+4),_t=!1;n%2&&(o=o.times(l),wX(o.d,t)),n=id(n/2),n!==0;)l=l.times(l),wX(l.d,t);return _t=!0,e.s<0?new s($r).div(o):Rt(o,r)}}else if(i<0)throw Error(Ho+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,_t=!1,o=e.times(bm(l,r+c)),_t=!0,o=BP(o),o.s=i,o};Ge.toPrecision=function(e,t){var n,r,o=this,i=o.constructor;return e===void 0?(n=bn(o),r=Bc(o,n<=i.toExpNeg||n>=i.toExpPos)):(Oi(e,1,od),t===void 0?t=i.rounding:Oi(t,0,8),o=Rt(new i(o),e,t),n=bn(o),r=Bc(o,e<=n||n<=i.toExpNeg,e)),r};Ge.toSignificantDigits=Ge.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Oi(e,1,od),t===void 0?t=r.rounding:Oi(t,0,8)),Rt(new r(n),e,t)};Ge.toString=Ge.valueOf=Ge.val=Ge.toJSON=Ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=bn(e),n=e.constructor;return Bc(e,t<=n.toExpNeg||t>=n.toExpPos)};function GP(e,t){var n,r,o,i,a,l,s,c,u=e.constructor,g=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),_t?Rt(t,g):t;if(s=e.d,c=t.d,a=e.e,o=t.e,s=s.slice(),i=a-o,i){for(i<0?(r=s,i=-i,l=c.length):(r=c,o=a,l=s.length),a=Math.ceil(g/Kt),l=a>l?a+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=s.length,i=c.length,l-i<0&&(i=l,r=c,c=s,s=r),n=0;i;)n=(s[--i]=s[i]+c[i]+n)/Nn|0,s[i]%=Nn;for(n&&(s.unshift(n),++o),l=s.length;s[--l]==0;)s.pop();return t.d=s,t.e=o,_t?Rt(t,g):t}function Oi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(fc+e)}function Ri(e){var t,n,r,o=e.length-1,i="",a=e[0];if(o>0){for(i+=a,t=1;t<o;t++)r=e[t]+"",n=Kt-r.length,n&&(i+=sl(n)),i+=r;a=e[t],r=a+"",n=Kt-r.length,n&&(i+=sl(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return i+a}var va=function(){function e(r,o){var i,a=0,l=r.length;for(r=r.slice();l--;)i=r[l]*o+a,r[l]=i%Nn|0,a=i/Nn|0;return a&&r.unshift(a),r}function t(r,o,i,a){var l,s;if(i!=a)s=i>a?1:-1;else for(l=s=0;l<i;l++)if(r[l]!=o[l]){s=r[l]>o[l]?1:-1;break}return s}function n(r,o,i){for(var a=0;i--;)r[i]-=a,a=r[i]<o[i]?1:0,r[i]=a*Nn+r[i]-o[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,o,i,a){var l,s,c,u,g,d,m,I,h,A,C,p,v,y,x,S,B,Z,R=r.constructor,w=r.s==o.s?1:-1,k=r.d,V=o.d;if(!r.s)return new R(r);if(!o.s)throw Error(Ho+"Division by zero");for(s=r.e-o.e,B=V.length,x=k.length,m=new R(w),I=m.d=[],c=0;V[c]==(k[c]||0);)++c;if(V[c]>(k[c]||0)&&--s,i==null?p=i=R.precision:a?p=i+(bn(r)-bn(o))+1:p=i,p<0)return new R(0);if(p=p/Kt+2|0,c=0,B==1)for(u=0,V=V[0],p++;(c<x||u)&&p--;c++)v=u*Nn+(k[c]||0),I[c]=v/V|0,u=v%V|0;else{for(u=Nn/(V[0]+1)|0,u>1&&(V=e(V,u),k=e(k,u),B=V.length,x=k.length),y=B,h=k.slice(0,B),A=h.length;A<B;)h[A++]=0;Z=V.slice(),Z.unshift(0),S=V[0],V[1]>=Nn/2&&++S;do u=0,l=t(V,h,B,A),l<0?(C=h[0],B!=A&&(C=C*Nn+(h[1]||0)),u=C/S|0,u>1?(u>=Nn&&(u=Nn-1),g=e(V,u),d=g.length,A=h.length,l=t(g,h,d,A),l==1&&(u--,n(g,B<d?Z:V,d))):(u==0&&(l=u=1),g=V.slice()),d=g.length,d<A&&g.unshift(0),n(h,g,A),l==-1&&(A=h.length,l=t(V,h,B,A),l<1&&(u++,n(h,B<A?Z:V,A))),A=h.length):l===0&&(u++,h=[0]),I[c++]=u,l&&h[0]?h[A++]=k[y]||0:(h=[k[y]],A=1);while((y++<x||h[0]!==void 0)&&p--)}return I[0]||I.shift(),m.e=s,Rt(m,a?i+bn(m)+1:i)}}();function BP(e,t){var n,r,o,i,a,l,s=0,c=0,u=e.constructor,g=u.precision;if(bn(e)>16)throw Error(ak+bn(e));if(!e.s)return new u($r);for(t==null?(_t=!1,l=g):l=t,a=new u(.03125);e.abs().gte(.1);)e=e.times(a),c+=5;for(r=Math.log(Js(2,c))/Math.LN10*2+5|0,l+=r,n=o=i=new u($r),u.precision=l;;){if(o=Rt(o.times(e),l),n=n.times(++s),a=i.plus(va(o,n,l)),Ri(a.d).slice(0,l)===Ri(i.d).slice(0,l)){for(;c--;)i=Rt(i.times(i),l);return u.precision=g,t==null?(_t=!0,Rt(i,g)):i}i=a}}function bn(e){for(var t=e.e*Kt,n=e.d[0];n>=10;n/=10)t++;return t}function c1(e,t,n){if(t>e.LN10.sd())throw _t=!0,n&&(e.precision=n),Error(Ho+"LN10 precision limit exceeded");return Rt(new e(e.LN10),t)}function sl(e){for(var t="";e--;)t+="0";return t}function bm(e,t){var n,r,o,i,a,l,s,c,u,g=1,d=10,m=e,I=m.d,h=m.constructor,A=h.precision;if(m.s<1)throw Error(Ho+(m.s?"NaN":"-Infinity"));if(m.eq($r))return new h(0);if(t==null?(_t=!1,c=A):c=t,m.eq(10))return t==null&&(_t=!0),c1(h,c);if(c+=d,h.precision=c,n=Ri(I),r=n.charAt(0),i=bn(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Ri(m.d),r=n.charAt(0),g++;i=bn(m),r>1?(m=new h("0."+n),i++):m=new h(r+"."+n.slice(1))}else return s=c1(h,c+2,A).times(i+""),m=bm(new h(r+"."+n.slice(1)),c-d).plus(s),h.precision=A,t==null?(_t=!0,Rt(m,A)):m;for(l=a=m=va(m.minus($r),m.plus($r),c),u=Rt(m.times(m),c),o=3;;){if(a=Rt(a.times(u),c),s=l.plus(va(a,new h(o),c)),Ri(s.d).slice(0,c)===Ri(l.d).slice(0,c))return l=l.times(2),i!==0&&(l=l.plus(c1(h,c+2,A).times(i+""))),l=va(l,new h(g),c),h.precision=A,t==null?(_t=!0,Rt(l,A)):l;l=s,o+=2}}function ZX(e,t){var n,r,o;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(o=t.length;t.charCodeAt(o-1)===48;)--o;if(t=t.slice(r,o),t){if(o-=r,n=n-r-1,e.e=id(n/Kt),e.d=[],r=(n+1)%Kt,n<0&&(r+=Kt),r<o){for(r&&e.d.push(+t.slice(0,r)),o-=Kt;r<o;)e.d.push(+t.slice(r,r+=Kt));t=t.slice(r),r=Kt-t.length}else r-=o;for(;r--;)t+="0";if(e.d.push(+t),_t&&(e.e>o0||e.e<-o0))throw Error(ak+n)}else e.s=0,e.e=0,e.d=[0];return e}function Rt(e,t,n){var r,o,i,a,l,s,c,u,g=e.d;for(a=1,i=g[0];i>=10;i/=10)a++;if(r=t-a,r<0)r+=Kt,o=t,c=g[u=0];else{if(u=Math.ceil((r+1)/Kt),i=g.length,u>=i)return e;for(c=i=g[u],a=1;i>=10;i/=10)a++;r%=Kt,o=r-Kt+a}if(n!==void 0&&(i=Js(10,a-o-1),l=c/i%10|0,s=t<0||g[u+1]!==void 0||c%i,s=n<4?(l||s)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||s||n==6&&(r>0?o>0?c/Js(10,a-o):0:g[u-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return s?(i=bn(e),g.length=1,t=t-i-1,g[0]=Js(10,(Kt-t%Kt)%Kt),e.e=id(-t/Kt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=u,i=1,u--):(g.length=u+1,i=Js(10,Kt-r),g[u]=o>0?(c/Js(10,a-o)%Js(10,o)|0)*i:0),s)for(;;)if(u==0){(g[0]+=i)==Nn&&(g[0]=1,++e.e);break}else{if(g[u]+=i,g[u]!=Nn)break;g[u--]=0,i=1}for(r=g.length;g[--r]===0;)g.pop();if(_t&&(e.e>o0||e.e<-o0))throw Error(ak+bn(e));return e}function kP(e,t){var n,r,o,i,a,l,s,c,u,g,d=e.constructor,m=d.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new d(e),_t?Rt(t,m):t;if(s=e.d,g=t.d,r=t.e,c=e.e,s=s.slice(),a=c-r,a){for(u=a<0,u?(n=s,a=-a,l=g.length):(n=g,r=c,l=s.length),o=Math.max(Math.ceil(m/Kt),l)+2,a>o&&(a=o,n.length=1),n.reverse(),o=a;o--;)n.push(0);n.reverse()}else{for(o=s.length,l=g.length,u=o<l,u&&(l=o),o=0;o<l;o++)if(s[o]!=g[o]){u=s[o]<g[o];break}a=0}for(u&&(n=s,s=g,g=n,t.s=-t.s),l=s.length,o=g.length-l;o>0;--o)s[l++]=0;for(o=g.length;o>a;){if(s[--o]<g[o]){for(i=o;i&&s[--i]===0;)s[i]=Nn-1;--s[i],s[o]+=Nn}s[o]-=g[o]}for(;s[--l]===0;)s.pop();for(;s[0]===0;s.shift())--r;return s[0]?(t.d=s,t.e=r,_t?Rt(t,m):t):new d(0)}function Bc(e,t,n){var r,o=bn(e),i=Ri(e.d),a=i.length;return t?(n&&(r=n-a)>0?i=i.charAt(0)+"."+i.slice(1)+sl(r):a>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(o<0?"e":"e+")+o):o<0?(i="0."+sl(-o-1)+i,n&&(r=n-a)>0&&(i+=sl(r))):o>=a?(i+=sl(o+1-a),n&&(r=n-o-1)>0&&(i=i+"."+sl(r))):((r=o+1)<a&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-a)>0&&(o+1===a&&(i+="."),i+=sl(r))),e.s<0?"-"+i:i}function wX(e,t){if(e.length>t)return e.length=t,!0}function RP(e){var t,n,r;function o(i){var a=this;if(!(a instanceof o))return new o(i);if(a.constructor=o,i instanceof o){a.s=i.s,a.e=i.e,a.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(fc+i);if(i>0)a.s=1;else if(i<0)i=-i,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(i===~~i&&i<1e7){a.e=0,a.d=[i];return}return ZX(a,i.toString())}else if(typeof i!="string")throw Error(fc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),a.s=-1):a.s=1,Bke.test(i))ZX(a,i);else throw Error(fc+i)}if(o.prototype=Ge,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=RP,o.config=o.set=kke,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return o.config(e),o}function kke(e){if(!e||typeof e!="object")throw Error(Ho+"Object expected");var t,n,r,o=["precision",1,od,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<o.length;t+=3)if((r=e[n=o[t]])!==void 0)if(id(r)===r&&r>=o[t+1]&&r<=o[t+2])this[n]=r;else throw Error(fc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(fc+n+": "+r);return this}var lk=RP(Gke);$r=new lk(1);const yt=lk;function Rke(e){return Eke(e)||Nke(e)||Wke(e)||Vke()}function Vke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wke(e,t){if(e){if(typeof e=="string")return wS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wS(e,t)}}function Nke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Eke(e){if(Array.isArray(e))return wS(e)}function wS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xke=function(t){return t},VP={"@@functional/placeholder":!0},WP=function(t){return t===VP},GX=function(t){return function n(){return arguments.length===0||arguments.length===1&&WP(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Jke=function e(t,n){return t===1?n:GX(function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=o.filter(function(l){return l!==VP}).length;return a>=t?n.apply(void 0,o):e(t-a,GX(function(){for(var l=arguments.length,s=new Array(l),c=0;c<l;c++)s[c]=arguments[c];var u=o.map(function(g){return WP(g)?s.shift():g});return n.apply(void 0,Rke(u).concat(s))}))})},zb=function(t){return Jke(t.length,t)},GS=function(t,n){for(var r=[],o=t;o<n;++o)r[o-t]=o;return r},Yke=zb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),Hke=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Xke;var o=n.reverse(),i=o[0],a=o.slice(1);return function(){return a.reduce(function(l,s){return s(l)},i.apply(void 0,arguments))}},BS=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},NP=function(t){var n=null,r=null;return function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n&&i.every(function(l,s){return l===n[s]})||(n=i,r=t.apply(void 0,i)),r}};function Fke(e){var t;return e===0?t=1:t=Math.floor(new yt(e).abs().log(10).toNumber())+1,t}function Mke(e,t,n){for(var r=new yt(e),o=0,i=[];r.lt(t)&&o<1e5;)i.push(r.toNumber()),r=r.add(n),o++;return i}var jke=zb(function(e,t,n){var r=+e,o=+t;return r+n*(o-r)}),Tke=zb(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),Lke=zb(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Ub={rangeStep:Mke,getDigitCount:Fke,interpolateNumber:jke,uninterpolateNumber:Tke,uninterpolateTruncation:Lke};function kS(e){return Pke(e)||Oke(e)||EP(e)||Kke()}function Kke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Pke(e){if(Array.isArray(e))return RS(e)}function vm(e,t){return Uke(e)||zke(e,t)||EP(e,t)||Dke()}function Dke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EP(e,t){if(e){if(typeof e=="string")return RS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RS(e,t)}}function RS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zke(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,o=!1,i=void 0;try{for(var a=e[Symbol.iterator](),l;!(r=(l=a.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(s){o=!0,i=s}finally{try{!r&&a.return!=null&&a.return()}finally{if(o)throw i}}return n}}function Uke(e){if(Array.isArray(e))return e}function XP(e){var t=vm(e,2),n=t[0],r=t[1],o=n,i=r;return n>r&&(o=r,i=n),[o,i]}function JP(e,t,n){if(e.lte(0))return new yt(0);var r=Ub.getDigitCount(e.toNumber()),o=new yt(10).pow(r),i=e.div(o),a=r!==1?.05:.1,l=new yt(Math.ceil(i.div(a).toNumber())).add(n).mul(a),s=l.mul(o);return t?s:new yt(Math.ceil(s))}function _ke(e,t,n){var r=1,o=new yt(e);if(!o.isint()&&n){var i=Math.abs(e);i<1?(r=new yt(10).pow(Ub.getDigitCount(e)-1),o=new yt(Math.floor(o.div(r).toNumber())).mul(r)):i>1&&(o=new yt(Math.floor(e)))}else e===0?o=new yt(Math.floor((t-1)/2)):n||(o=new yt(Math.floor(e)));var a=Math.floor((t-1)/2),l=Hke(Yke(function(s){return o.add(new yt(s-a).mul(r)).toNumber()}),GS);return l(0,t)}function YP(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new yt(0),tickMin:new yt(0),tickMax:new yt(0)};var i=JP(new yt(t).sub(e).div(n-1),r,o),a;e<=0&&t>=0?a=new yt(0):(a=new yt(e).add(t).div(2),a=a.sub(new yt(a).mod(i)));var l=Math.ceil(a.sub(e).div(i).toNumber()),s=Math.ceil(new yt(t).sub(a).div(i).toNumber()),c=l+s+1;return c>n?YP(e,t,n,r,o+1):(c<n&&(s=t>0?s+(n-c):s,l=t>0?l:l+(n-c)),{step:i,tickMin:a.sub(new yt(l).mul(i)),tickMax:a.add(new yt(s).mul(i))})}function Qke(e){var t=vm(e,2),n=t[0],r=t[1],o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(o,2),l=XP([n,r]),s=vm(l,2),c=s[0],u=s[1];if(c===-1/0||u===1/0){var g=u===1/0?[c].concat(kS(GS(0,o-1).map(function(){return 1/0}))):[].concat(kS(GS(0,o-1).map(function(){return-1/0})),[u]);return n>r?BS(g):g}if(c===u)return _ke(c,o,i);var d=YP(c,u,a,i),m=d.step,I=d.tickMin,h=d.tickMax,A=Ub.rangeStep(I,h.add(new yt(.1).mul(m)),m);return n>r?BS(A):A}function $ke(e,t){var n=vm(e,2),r=n[0],o=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=XP([r,o]),l=vm(a,2),s=l[0],c=l[1];if(s===-1/0||c===1/0)return[r,o];if(s===c)return[s];var u=Math.max(t,2),g=JP(new yt(c).sub(s).div(u-1),i,0),d=[].concat(kS(Ub.rangeStep(new yt(s),new yt(c).sub(new yt(.99).mul(g)),g)),[c]);return r>o?BS(d):d}var qke=NP(Qke),eRe=NP($ke),tRe=!0,u1="Invariant failed";function kc(e,t){if(!e){if(tRe)throw new Error(u1);var n=typeof t=="function"?t():t,r=n?"".concat(u1,": ").concat(n):u1;throw new Error(r)}}var nRe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function dg(e){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dg(e)}function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i0.apply(this,arguments)}function rRe(e,t){return lRe(e)||aRe(e,t)||iRe(e,t)||oRe()}function oRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iRe(e,t){if(e){if(typeof e=="string")return BX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BX(e,t)}}function BX(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aRe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,o=u}finally{try{if(!s&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function lRe(e){if(Array.isArray(e))return e}function sRe(e,t){if(e==null)return{};var n=cRe(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cRe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function uRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MP(r.key),r)}}function gRe(e,t,n){return t&&kX(e.prototype,t),n&&kX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dRe(e,t,n){return t=a0(t),fRe(e,HP()?Reflect.construct(t,n||[],a0(e).constructor):t.apply(e,n))}function fRe(e,t){if(t&&(dg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mRe(e)}function mRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HP=function(){return!!e})()}function a0(e){return a0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},a0(e)}function IRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VS(e,t)}function VS(e,t){return VS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},VS(e,t)}function FP(e,t,n){return t=MP(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MP(e){var t=hRe(e,"string");return dg(t)=="symbol"?t:t+""}function hRe(e,t){if(dg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(dg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ad=function(e){function t(){return uRe(this,t),dRe(this,t,arguments)}return IRe(t,e),gRe(t,[{key:"render",value:function(){var r=this.props,o=r.offset,i=r.layout,a=r.width,l=r.dataKey,s=r.data,c=r.dataPointFormatter,u=r.xAxis,g=r.yAxis,d=sRe(r,nRe),m=We(d,!1);this.props.direction==="x"&&u.type!=="number"&&kc(!1);var I=s.map(function(h){var A=c(h,l),C=A.x,p=A.y,v=A.value,y=A.errorVal;if(!y)return null;var x=[],S,B;if(Array.isArray(y)){var Z=rRe(y,2);S=Z[0],B=Z[1]}else S=B=y;if(i==="vertical"){var R=u.scale,w=p+o,k=w+a,V=w-a,W=R(v-S),N=R(v+B);x.push({x1:N,y1:k,x2:N,y2:V}),x.push({x1:W,y1:w,x2:N,y2:w}),x.push({x1:W,y1:k,x2:W,y2:V})}else if(i==="horizontal"){var X=g.scale,J=C+o,E=J-a,F=J+a,H=X(v-S),M=X(v+B);x.push({x1:E,y1:M,x2:F,y2:M}),x.push({x1:J,y1:H,x2:J,y2:M}),x.push({x1:E,y1:H,x2:F,y2:H})}return G.createElement(_e,i0({className:"recharts-errorBar",key:"bar-".concat(x.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},m),x.map(function(Y){return G.createElement("line",i0({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return G.createElement(_e,{className:"recharts-errorBars"},I)}}])}(G.Component);FP(ad,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});FP(ad,"displayName","ErrorBar");function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}function RX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ws(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RX(Object(n),!0).forEach(function(r){CRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CRe(e,t,n){return t=pRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pRe(e){var t=ARe(e,"string");return ym(t)=="symbol"?t:t+""}function ARe(e,t){if(ym(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jP=function(t){var n=t.children,r=t.formattedGraphicalItems,o=t.legendWidth,i=t.legendContent,a=zr(n,Ji);if(!a)return null;var l=Ji.defaultProps,s=l!==void 0?ws(ws({},l),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:i==="children"?c=(r||[]).reduce(function(u,g){var d=g.item,m=g.props,I=m.sectors||m.data||[];return u.concat(I.map(function(h){return{type:a.props.iconType||d.props.legendType,value:h.name,color:h.fill,payload:h}}))},[]):c=(r||[]).map(function(u){var g=u.item,d=g.type.defaultProps,m=d!==void 0?ws(ws({},d),g.props):{},I=m.dataKey,h=m.name,A=m.legendType,C=m.hide;return{inactive:C,dataKey:I,type:s.iconType||A||"square",color:sk(g),value:h||I,payload:m}}),ws(ws(ws({},s),Ji.getWithHeight(a,o)),{},{payload:c,item:a})};function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}function VX(e){return xRe(e)||yRe(e)||vRe(e)||bRe()}function bRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vRe(e,t){if(e){if(typeof e=="string")return WS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WS(e,t)}}function yRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xRe(e){if(Array.isArray(e))return WS(e)}function WS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WX(Object(n),!0).forEach(function(r){Yu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yu(e,t,n){return t=SRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SRe(e){var t=ZRe(e,"string");return xm(t)=="symbol"?t:t+""}function ZRe(e,t){if(xm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ot(e,t,n){return He(e)||He(t)?n:Gn(t)?io(e,t,n):je(t)?t(e):n}function Sf(e,t,n,r){var o=wke(e,function(l){return Ot(l,t)});if(n==="number"){var i=o.filter(function(l){return Ae(l)||parseFloat(l)});return i.length?[Db(i),yl(i)]:[1/0,-1/0]}var a=r?o.filter(function(l){return!He(l)}):o;return a.map(function(l){return Gn(l)||l instanceof Date?l:""})}var wRe=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,c=0;c<l;c++){var u=c>0?o[c-1].coordinate:o[l-1].coordinate,g=o[c].coordinate,d=c>=l-1?o[0].coordinate:o[c+1].coordinate,m=void 0;if(mr(g-u)!==mr(d-g)){var I=[];if(mr(d-g)===mr(s[1]-s[0])){m=d;var h=g+s[1]-s[0];I[0]=Math.min(h,(h+u)/2),I[1]=Math.max(h,(h+u)/2)}else{m=u;var A=d+s[1]-s[0];I[0]=Math.min(g,(A+g)/2),I[1]=Math.max(g,(A+g)/2)}var C=[Math.min(g,(m+g)/2),Math.max(g,(m+g)/2)];if(t>C[0]&&t<=C[1]||t>=I[0]&&t<=I[1]){a=o[c].index;break}}else{var p=Math.min(u,d),v=Math.max(u,d);if(t>(p+g)/2&&t<=(v+g)/2){a=o[c].index;break}}}else for(var y=0;y<l;y++)if(y===0&&t<=(r[y].coordinate+r[y+1].coordinate)/2||y>0&&y<l-1&&t>(r[y].coordinate+r[y-1].coordinate)/2&&t<=(r[y].coordinate+r[y+1].coordinate)/2||y===l-1&&t>(r[y].coordinate+r[y-1].coordinate)/2){a=r[y].index;break}return a},sk=function(t){var n,r=t,o=r.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?sn(sn({},t.type.defaultProps),t.props):t.props,a=i.stroke,l=i.fill,s;switch(o){case"Line":s=a;break;case"Area":case"Radar":s=a&&a!=="none"?a:l;break;default:s=l;break}return s},GRe=function(t){var n=t.barSize,r=t.totalSize,o=t.stackGroups,i=o===void 0?{}:o;if(!i)return{};for(var a={},l=Object.keys(i),s=0,c=l.length;s<c;s++)for(var u=i[l[s]].stackGroups,g=Object.keys(u),d=0,m=g.length;d<m;d++){var I=u[g[d]],h=I.items,A=I.cateAxisId,C=h.filter(function(B){return ba(B.type).indexOf("Bar")>=0});if(C&&C.length){var p=C[0].type.defaultProps,v=p!==void 0?sn(sn({},p),C[0].props):C[0].props,y=v.barSize,x=v[A];a[x]||(a[x]=[]);var S=He(y)?n:y;a[x].push({item:C[0],stackList:C.slice(1),barSize:He(S)?void 0:Ir(S,r,0)})}}return a},BRe=function(t){var n=t.barGap,r=t.barCategoryGap,o=t.bandSize,i=t.sizeList,a=i===void 0?[]:i,l=t.maxBarSize,s=a.length;if(s<1)return null;var c=Ir(n,o,0,!0),u,g=[];if(a[0].barSize===+a[0].barSize){var d=!1,m=o/s,I=a.reduce(function(y,x){return y+x.barSize||0},0);I+=(s-1)*c,I>=o&&(I-=(s-1)*c,c=0),I>=o&&m>0&&(d=!0,m*=.9,I=s*m);var h=(o-I)/2>>0,A={offset:h-c,size:0};u=a.reduce(function(y,x){var S={item:x.item,position:{offset:A.offset+A.size+c,size:d?m:x.barSize}},B=[].concat(VX(y),[S]);return A=B[B.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(Z){B.push({item:Z,position:A})}),B},g)}else{var C=Ir(r,o,0,!0);o-2*C-(s-1)*c<=0&&(c=0);var p=(o-2*C-(s-1)*c)/s;p>1&&(p>>=0);var v=l===+l?Math.min(p,l):p;u=a.reduce(function(y,x,S){var B=[].concat(VX(y),[{item:x.item,position:{offset:C+(p+c)*S+(p-v)/2,size:v}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(Z){B.push({item:Z,position:B[B.length-1].position})}),B},g)}return u},kRe=function(t,n,r,o){var i=r.children,a=r.width,l=r.margin,s=a-(l.left||0)-(l.right||0),c=jP({children:i,legendWidth:s});if(c){var u=o||{},g=u.width,d=u.height,m=c.align,I=c.verticalAlign,h=c.layout;if((h==="vertical"||h==="horizontal"&&I==="middle")&&m!=="center"&&Ae(t[m]))return sn(sn({},t),{},Yu({},m,t[m]+(g||0)));if((h==="horizontal"||h==="vertical"&&m==="center")&&I!=="middle"&&Ae(t[I]))return sn(sn({},t),{},Yu({},I,t[I]+(d||0)))}return t},RRe=function(t,n,r){return He(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},TP=function(t,n,r,o,i){var a=n.props.children,l=pr(a,ad).filter(function(c){return RRe(o,i,c.props.direction)});if(l&&l.length){var s=l.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var g=Ot(u,r);if(He(g))return c;var d=Array.isArray(g)?[Db(g),yl(g)]:[g,g],m=s.reduce(function(I,h){var A=Ot(u,h,0),C=d[0]-Math.abs(Array.isArray(A)?A[0]:A),p=d[1]+Math.abs(Array.isArray(A)?A[1]:A);return[Math.min(C,I[0]),Math.max(p,I[1])]},[1/0,-1/0]);return[Math.min(m[0],c[0]),Math.max(m[1],c[1])]},[1/0,-1/0])}return null},VRe=function(t,n,r,o,i){var a=n.map(function(l){return TP(t,l,r,i,o)}).filter(function(l){return!He(l)});return a&&a.length?a.reduce(function(l,s){return[Math.min(l[0],s[0]),Math.max(l[1],s[1])]},[1/0,-1/0]):null},LP=function(t,n,r,o,i){var a=n.map(function(s){var c=s.props.dataKey;return r==="number"&&c&&TP(t,s,c,o)||Sf(t,c,r,i)});if(r==="number")return a.reduce(function(s,c){return[Math.min(s[0],c[0]),Math.max(s[1],c[1])]},[1/0,-1/0]);var l={};return a.reduce(function(s,c){for(var u=0,g=c.length;u<g;u++)l[c[u]]||(l[c[u]]=!0,s.push(c[u]));return s},[])},KP=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},OP=function(t,n,r,o){if(o)return t.map(function(s){return s.coordinate});var i,a,l=t.map(function(s){return s.coordinate===n&&(i=!0),s.coordinate===r&&(a=!0),s.coordinate});return i||l.push(n),a||l.push(r),l},fa=function(t,n,r){if(!t)return null;var o=t.scale,i=t.duplicateDomain,a=t.type,l=t.range,s=t.realScaleType==="scaleBand"?o.bandwidth()/2:2,c=(n||r)&&a==="category"&&o.bandwidth?o.bandwidth()/s:0;if(c=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?mr(l[0]-l[1])*2*c:c,n&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(g){var d=i?i.indexOf(g):g;return{coordinate:o(d)+c,value:g,offset:c}});return u.filter(function(g){return!td(g.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(g,d){return{coordinate:o(g)+c,value:g,index:d,offset:c}}):o.ticks&&!r?o.ticks(t.tickCount).map(function(g){return{coordinate:o(g)+c,value:g,offset:c}}):o.domain().map(function(g,d){return{coordinate:o(g)+c,value:i?i[g]:g,index:d,offset:c}})},g1=new WeakMap,Xh=function(t,n){if(typeof n!="function")return t;g1.has(t)||g1.set(t,new WeakMap);var r=g1.get(t);if(r.has(n))return r.get(n);var o=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,o),o},PP=function(t,n,r){var o=t.scale,i=t.type,a=t.layout,l=t.axisType;if(o==="auto")return a==="radial"&&l==="radiusAxis"?{scale:Im(),realScaleType:"band"}:a==="radial"&&l==="angleAxis"?{scale:e0(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:xf(),realScaleType:"point"}:i==="category"?{scale:Im(),realScaleType:"band"}:{scale:e0(),realScaleType:"linear"};if(pI(o)){var s="scale".concat(Wb(o));return{scale:(SX[s]||xf)(),realScaleType:SX[s]?s:"point"}}return je(o)?{scale:o}:{scale:xf(),realScaleType:"point"}},NX=1e-4,DP=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,o=t.range(),i=Math.min(o[0],o[1])-NX,a=Math.max(o[0],o[1])+NX,l=t(n[0]),s=t(n[r-1]);(l<i||l>a||s<i||s>a)&&t.domain([n[0],n[r-1]])}},WRe=function(t,n){if(!t)return null;for(var r=0,o=t.length;r<o;r++)if(t[r].item===n)return t[r].position;return null},NRe=function(t,n){if(!n||n.length!==2||!Ae(n[0])||!Ae(n[1]))return t;var r=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!Ae(t[0])||t[0]<r)&&(i[0]=r),(!Ae(t[1])||t[1]>o)&&(i[1]=o),i[0]>o&&(i[0]=o),i[1]<r&&(i[1]=r),i},ERe=function(t){var n=t.length;if(!(n<=0))for(var r=0,o=t[0].length;r<o;++r)for(var i=0,a=0,l=0;l<n;++l){var s=td(t[l][r][1])?t[l][r][0]:t[l][r][1];s>=0?(t[l][r][0]=i,t[l][r][1]=i+s,i=t[l][r][1]):(t[l][r][0]=a,t[l][r][1]=a+s,a=t[l][r][1])}},XRe=function(t){var n=t.length;if(!(n<=0))for(var r=0,o=t[0].length;r<o;++r)for(var i=0,a=0;a<n;++a){var l=td(t[a][r][1])?t[a][r][0]:t[a][r][1];l>=0?(t[a][r][0]=i,t[a][r][1]=i+l,i=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},JRe={sign:ERe,expand:Oye,none:og,silhouette:Pye,wiggle:Dye,positive:XRe},YRe=function(t,n,r){var o=n.map(function(l){return l.props.dataKey}),i=JRe[r],a=Kye().keys(o).value(function(l,s){return+Ot(l,s,0)}).order(sS).offset(i);return a(t)},HRe=function(t,n,r,o,i,a){if(!t)return null;var l=a?n.reverse():n,s={},c=l.reduce(function(g,d){var m,I=(m=d.type)!==null&&m!==void 0&&m.defaultProps?sn(sn({},d.type.defaultProps),d.props):d.props,h=I.stackId,A=I.hide;if(A)return g;var C=I[r],p=g[C]||{hasStack:!1,stackGroups:{}};if(Gn(h)){var v=p.stackGroups[h]||{numericAxisId:r,cateAxisId:o,items:[]};v.items.push(d),p.hasStack=!0,p.stackGroups[h]=v}else p.stackGroups[ms("_stackId_")]={numericAxisId:r,cateAxisId:o,items:[d]};return sn(sn({},g),{},Yu({},C,p))},s),u={};return Object.keys(c).reduce(function(g,d){var m=c[d];if(m.hasStack){var I={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(h,A){var C=m.stackGroups[A];return sn(sn({},h),{},Yu({},A,{numericAxisId:r,cateAxisId:o,items:C.items,stackedData:YRe(t,C.items,i)}))},I)}return sn(sn({},g),{},Yu({},d,m))},u)},zP=function(t,n){var r=n.realScaleType,o=n.type,i=n.tickCount,a=n.originalDomain,l=n.allowDecimals,s=r||n.scale;if(s!=="auto"&&s!=="linear")return null;if(i&&o==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=qke(c,i,l);return t.domain([Db(u),yl(u)]),{niceTicks:u}}if(i&&o==="number"){var g=t.domain(),d=eRe(g,i,l);return{niceTicks:d}}return null};function fg(e){var t=e.axis,n=e.ticks,r=e.bandSize,o=e.entry,i=e.index,a=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!He(o[t.dataKey])){var l=Jp(n,"value",o[t.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var s=Ot(o,He(a)?t.dataKey:a);return He(s)?null:t.scale(s)}var EX=function(t){var n=t.axis,r=t.ticks,o=t.offset,i=t.bandSize,a=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+o:null;var s=Ot(a,n.dataKey,n.domain[l]);return He(s)?null:n.scale(s)-i/2+o},FRe=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var o=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return o<=0&&i>=0?0:i<0?i:o}return r[0]},MRe=function(t,n){var r,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?sn(sn({},t.type.defaultProps),t.props):t.props,i=o.stackId;if(Gn(i)){var a=n[i];if(a){var l=a.items.indexOf(t);return l>=0?a.stackedData[l]:null}}return null},jRe=function(t){return t.reduce(function(n,r){return[Db(r.concat([n[0]]).filter(Ae)),yl(r.concat([n[1]]).filter(Ae))]},[1/0,-1/0])},UP=function(t,n,r){return Object.keys(t).reduce(function(o,i){var a=t[i],l=a.stackedData,s=l.reduce(function(c,u){var g=jRe(u.slice(n,r+1));return[Math.min(c[0],g[0]),Math.max(c[1],g[1])]},[1/0,-1/0]);return[Math.min(s[0],o[0]),Math.max(s[1],o[1])]},[1/0,-1/0]).map(function(o){return o===1/0||o===-1/0?0:o})},XX=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JX=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NS=function(t,n,r){if(je(t))return t(n,r);if(!Array.isArray(t))return n;var o=[];if(Ae(t[0]))o[0]=r?t[0]:Math.min(t[0],n[0]);else if(XX.test(t[0])){var i=+XX.exec(t[0])[1];o[0]=n[0]-i}else je(t[0])?o[0]=t[0](n[0]):o[0]=n[0];if(Ae(t[1]))o[1]=r?t[1]:Math.max(t[1],n[1]);else if(JX.test(t[1])){var a=+JX.exec(t[1])[1];o[1]=n[1]+a}else je(t[1])?o[1]=t[1](n[1]):o[1]=n[1];return o},l0=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var o=t.scale.bandwidth();if(!r||o>0)return o}if(t&&n&&n.length>=2){for(var i=JB(n,function(g){return g.coordinate}),a=1/0,l=1,s=i.length;l<s;l++){var c=i[l],u=i[l-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},YX=function(t,n,r){return!t||!t.length||Ol(t,io(r,"type.defaultProps.domain"))?n:t},_P=function(t,n){var r=t.type.defaultProps?sn(sn({},t.type.defaultProps),t.props):t.props,o=r.dataKey,i=r.name,a=r.unit,l=r.formatter,s=r.tooltipType,c=r.chartType,u=r.hide;return sn(sn({},We(t,!1)),{},{dataKey:o,unit:a,formatter:l,name:i||o,color:sk(t),value:Ot(n,o),type:s,payload:n,chartType:c,hide:u})};function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function HX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function la(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HX(Object(n),!0).forEach(function(r){QP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QP(e,t,n){return t=TRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TRe(e){var t=LRe(e,"string");return Sm(t)=="symbol"?t:t+""}function LRe(e,t){if(Sm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KRe(e,t){return zRe(e)||DRe(e,t)||PRe(e,t)||ORe()}function ORe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PRe(e,t){if(e){if(typeof e=="string")return FX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FX(e,t)}}function FX(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DRe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,o=u}finally{try{if(!s&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function zRe(e){if(Array.isArray(e))return e}var s0=Math.PI/180,URe=function(t){return t*180/Math.PI},Yt=function(t,n,r,o){return{x:t+Math.cos(-s0*o)*r,y:n+Math.sin(-s0*o)*r}},$P=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},_Re=function(t,n,r,o,i){var a=t.width,l=t.height,s=t.startAngle,c=t.endAngle,u=Ir(t.cx,a,a/2),g=Ir(t.cy,l,l/2),d=$P(a,l,r),m=Ir(t.innerRadius,d,0),I=Ir(t.outerRadius,d,d*.8),h=Object.keys(n);return h.reduce(function(A,C){var p=n[C],v=p.domain,y=p.reversed,x;if(He(p.range))o==="angleAxis"?x=[s,c]:o==="radiusAxis"&&(x=[m,I]),y&&(x=[x[1],x[0]]);else{x=p.range;var S=x,B=KRe(S,2);s=B[0],c=B[1]}var Z=PP(p,i),R=Z.realScaleType,w=Z.scale;w.domain(v).range(x),DP(w);var k=zP(w,la(la({},p),{},{realScaleType:R})),V=la(la(la({},p),k),{},{range:x,radius:I,realScaleType:R,scale:w,cx:u,cy:g,innerRadius:m,outerRadius:I,startAngle:s,endAngle:c});return la(la({},A),{},QP({},C,V))},{})},QRe=function(t,n){var r=t.x,o=t.y,i=n.x,a=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(o-a,2))},$Re=function(t,n){var r=t.x,o=t.y,i=n.cx,a=n.cy,l=QRe({x:r,y:o},{x:i,y:a});if(l<=0)return{radius:l};var s=(r-i)/l,c=Math.acos(s);return o>a&&(c=2*Math.PI-c),{radius:l,angle:URe(c),angleInRadian:c}},qRe=function(t){var n=t.startAngle,r=t.endAngle,o=Math.floor(n/360),i=Math.floor(r/360),a=Math.min(o,i);return{startAngle:n-a*360,endAngle:r-a*360}},e5e=function(t,n){var r=n.startAngle,o=n.endAngle,i=Math.floor(r/360),a=Math.floor(o/360),l=Math.min(i,a);return t+l*360},MX=function(t,n){var r=t.x,o=t.y,i=$Re({x:r,y:o},n),a=i.radius,l=i.angle,s=n.innerRadius,c=n.outerRadius;if(a<s||a>c)return!1;if(a===0)return!0;var u=qRe(n),g=u.startAngle,d=u.endAngle,m=l,I;if(g<=d){for(;m>d;)m-=360;for(;m<g;)m+=360;I=m>=g&&m<=d}else{for(;m>g;)m-=360;for(;m<d;)m+=360;I=m>=d&&m<=g}return I?la(la({},n),{},{radius:a,angle:e5e(m,n)}):null},qP=function(t){return!b.isValidElement(t)&&!je(t)&&typeof t!="boolean"?t.className:""};function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}var t5e=["offset"];function n5e(e){return a5e(e)||i5e(e)||o5e(e)||r5e()}function r5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o5e(e,t){if(e){if(typeof e=="string")return ES(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ES(e,t)}}function i5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a5e(e){if(Array.isArray(e))return ES(e)}function ES(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l5e(e,t){if(e==null)return{};var n=s5e(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function s5e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function jX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jX(Object(n),!0).forEach(function(r){c5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c5e(e,t,n){return t=u5e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u5e(e){var t=g5e(e,"string");return Zm(t)=="symbol"?t:t+""}function g5e(e,t){if(Zm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wm(){return wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wm.apply(this,arguments)}var d5e=function(t){var n=t.value,r=t.formatter,o=He(t.children)?n:t.children;return je(r)?r(o):o},f5e=function(t,n){var r=mr(n-t),o=Math.min(Math.abs(n-t),360);return r*o},m5e=function(t,n,r){var o=t.position,i=t.viewBox,a=t.offset,l=t.className,s=i,c=s.cx,u=s.cy,g=s.innerRadius,d=s.outerRadius,m=s.startAngle,I=s.endAngle,h=s.clockWise,A=(g+d)/2,C=f5e(m,I),p=C>=0?1:-1,v,y;o==="insideStart"?(v=m+p*a,y=h):o==="insideEnd"?(v=I-p*a,y=!h):o==="end"&&(v=I+p*a,y=h),y=C<=0?y:!y;var x=Yt(c,u,A,v),S=Yt(c,u,A,v+(y?1:-1)*359),B="M".concat(x.x,",").concat(x.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(y?0:1,`,
    `).concat(S.x,",").concat(S.y),Z=He(t.id)?ms("recharts-radial-line-"):t.id;return G.createElement("text",wm({},r,{dominantBaseline:"central",className:Ve("recharts-radial-bar-label",l)}),G.createElement("defs",null,G.createElement("path",{id:Z,d:B})),G.createElement("textPath",{xlinkHref:"#".concat(Z)},n))},I5e=function(t){var n=t.viewBox,r=t.offset,o=t.position,i=n,a=i.cx,l=i.cy,s=i.innerRadius,c=i.outerRadius,u=i.startAngle,g=i.endAngle,d=(u+g)/2;if(o==="outside"){var m=Yt(a,l,c+r,d),I=m.x,h=m.y;return{x:I,y:h,textAnchor:I>=a?"start":"end",verticalAnchor:"middle"}}if(o==="center")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(o==="centerTop")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"start"};if(o==="centerBottom")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"end"};var A=(s+c)/2,C=Yt(a,l,A,d),p=C.x,v=C.y;return{x:p,y:v,textAnchor:"middle",verticalAnchor:"middle"}},h5e=function(t){var n=t.viewBox,r=t.parentViewBox,o=t.offset,i=t.position,a=n,l=a.x,s=a.y,c=a.width,u=a.height,g=u>=0?1:-1,d=g*o,m=g>0?"end":"start",I=g>0?"start":"end",h=c>=0?1:-1,A=h*o,C=h>0?"end":"start",p=h>0?"start":"end";if(i==="top"){var v={x:l+c/2,y:s-g*o,textAnchor:"middle",verticalAnchor:m};return Sn(Sn({},v),r?{height:Math.max(s-r.y,0),width:c}:{})}if(i==="bottom"){var y={x:l+c/2,y:s+u+d,textAnchor:"middle",verticalAnchor:I};return Sn(Sn({},y),r?{height:Math.max(r.y+r.height-(s+u),0),width:c}:{})}if(i==="left"){var x={x:l-A,y:s+u/2,textAnchor:C,verticalAnchor:"middle"};return Sn(Sn({},x),r?{width:Math.max(x.x-r.x,0),height:u}:{})}if(i==="right"){var S={x:l+c+A,y:s+u/2,textAnchor:p,verticalAnchor:"middle"};return Sn(Sn({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:u}:{})}var B=r?{width:c,height:u}:{};return i==="insideLeft"?Sn({x:l+A,y:s+u/2,textAnchor:p,verticalAnchor:"middle"},B):i==="insideRight"?Sn({x:l+c-A,y:s+u/2,textAnchor:C,verticalAnchor:"middle"},B):i==="insideTop"?Sn({x:l+c/2,y:s+d,textAnchor:"middle",verticalAnchor:I},B):i==="insideBottom"?Sn({x:l+c/2,y:s+u-d,textAnchor:"middle",verticalAnchor:m},B):i==="insideTopLeft"?Sn({x:l+A,y:s+d,textAnchor:p,verticalAnchor:I},B):i==="insideTopRight"?Sn({x:l+c-A,y:s+d,textAnchor:C,verticalAnchor:I},B):i==="insideBottomLeft"?Sn({x:l+A,y:s+u-d,textAnchor:p,verticalAnchor:m},B):i==="insideBottomRight"?Sn({x:l+c-A,y:s+u-d,textAnchor:C,verticalAnchor:m},B):Og(i)&&(Ae(i.x)||tc(i.x))&&(Ae(i.y)||tc(i.y))?Sn({x:l+Ir(i.x,c),y:s+Ir(i.y,u),textAnchor:"end",verticalAnchor:"end"},B):Sn({x:l+c/2,y:s+u/2,textAnchor:"middle",verticalAnchor:"middle"},B)},C5e=function(t){return"cx"in t&&Ae(t.cx)};function xt(e){var t=e.offset,n=t===void 0?5:t,r=l5e(e,t5e),o=Sn({offset:n},r),i=o.viewBox,a=o.position,l=o.value,s=o.children,c=o.content,u=o.className,g=u===void 0?"":u,d=o.textBreakAll;if(!i||He(l)&&He(s)&&!b.isValidElement(c)&&!je(c))return null;if(b.isValidElement(c))return b.cloneElement(c,o);var m;if(je(c)){if(m=b.createElement(c,o),b.isValidElement(m))return m}else m=d5e(o);var I=C5e(i),h=We(o,!0);if(I&&(a==="insideStart"||a==="insideEnd"||a==="end"))return m5e(o,m,h);var A=I?I5e(o):h5e(o);return G.createElement(Gc,wm({className:Ve("recharts-label",g)},h,A,{breakAll:d}),m)}xt.displayName="Label";var eD=function(t){var n=t.cx,r=t.cy,o=t.angle,i=t.startAngle,a=t.endAngle,l=t.r,s=t.radius,c=t.innerRadius,u=t.outerRadius,g=t.x,d=t.y,m=t.top,I=t.left,h=t.width,A=t.height,C=t.clockWise,p=t.labelViewBox;if(p)return p;if(Ae(h)&&Ae(A)){if(Ae(g)&&Ae(d))return{x:g,y:d,width:h,height:A};if(Ae(m)&&Ae(I))return{x:m,y:I,width:h,height:A}}return Ae(g)&&Ae(d)?{x:g,y:d,width:0,height:0}:Ae(n)&&Ae(r)?{cx:n,cy:r,startAngle:i||o||0,endAngle:a||o||0,innerRadius:c||0,outerRadius:u||s||l||0,clockWise:C}:t.viewBox?t.viewBox:{}},p5e=function(t,n){return t?t===!0?G.createElement(xt,{key:"label-implicit",viewBox:n}):Gn(t)?G.createElement(xt,{key:"label-implicit",viewBox:n,value:t}):b.isValidElement(t)?t.type===xt?b.cloneElement(t,{key:"label-implicit",viewBox:n}):G.createElement(xt,{key:"label-implicit",content:t,viewBox:n}):je(t)?G.createElement(xt,{key:"label-implicit",content:t,viewBox:n}):Og(t)?G.createElement(xt,wm({viewBox:n},t,{key:"label-implicit"})):null:null},A5e=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var o=t.children,i=eD(t),a=pr(o,xt).map(function(s,c){return b.cloneElement(s,{viewBox:n||i,key:"label-".concat(c)})});if(!r)return a;var l=p5e(t.label,n||i);return[l].concat(n5e(a))};xt.parseViewBox=eD;xt.renderCallByParent=A5e;function b5e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var v5e=b5e;const y5e=ot(v5e);function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}var x5e=["valueAccessor"],S5e=["data","dataKey","clockWise","id","textBreakAll"];function Z5e(e){return k5e(e)||B5e(e)||G5e(e)||w5e()}function w5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G5e(e,t){if(e){if(typeof e=="string")return XS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XS(e,t)}}function B5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k5e(e){if(Array.isArray(e))return XS(e)}function XS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c0(){return c0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c0.apply(this,arguments)}function TX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function LX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TX(Object(n),!0).forEach(function(r){R5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R5e(e,t,n){return t=V5e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V5e(e){var t=W5e(e,"string");return Gm(t)=="symbol"?t:t+""}function W5e(e,t){if(Gm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KX(e,t){if(e==null)return{};var n=N5e(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function N5e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var E5e=function(t){return Array.isArray(t.value)?y5e(t.value):t.value};function si(e){var t=e.valueAccessor,n=t===void 0?E5e:t,r=KX(e,x5e),o=r.data,i=r.dataKey,a=r.clockWise,l=r.id,s=r.textBreakAll,c=KX(r,S5e);return!o||!o.length?null:G.createElement(_e,{className:"recharts-label-list"},o.map(function(u,g){var d=He(i)?n(u,g):Ot(u&&u.payload,i),m=He(l)?{}:{id:"".concat(l,"-").concat(g)};return G.createElement(xt,c0({},We(u,!0),c,m,{parentViewBox:u.parentViewBox,value:d,textBreakAll:s,viewBox:xt.parseViewBox(He(a)?u:LX(LX({},u),{},{clockWise:a})),key:"label-".concat(g),index:g}))}))}si.displayName="LabelList";function X5e(e,t){return e?e===!0?G.createElement(si,{key:"labelList-implicit",data:t}):G.isValidElement(e)||je(e)?G.createElement(si,{key:"labelList-implicit",data:t,content:e}):Og(e)?G.createElement(si,c0({data:t},e,{key:"labelList-implicit"})):null:null}function J5e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,o=pr(r,si).map(function(a,l){return b.cloneElement(a,{data:t,key:"labelList-".concat(l)})});if(!n)return o;var i=X5e(e.label,t);return[i].concat(Z5e(o))}si.renderCallByParent=J5e;function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function JS(){return JS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JS.apply(this,arguments)}function OX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function PX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OX(Object(n),!0).forEach(function(r){Y5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y5e(e,t,n){return t=H5e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H5e(e){var t=F5e(e,"string");return Bm(t)=="symbol"?t:t+""}function F5e(e,t){if(Bm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M5e=function(t,n){var r=mr(n-t),o=Math.min(Math.abs(n-t),359.999);return r*o},Jh=function(t){var n=t.cx,r=t.cy,o=t.radius,i=t.angle,a=t.sign,l=t.isExternal,s=t.cornerRadius,c=t.cornerIsExternal,u=s*(l?1:-1)+o,g=Math.asin(s/u)/s0,d=c?i:i+a*g,m=Yt(n,r,u,d),I=Yt(n,r,o,d),h=c?i-a*g:i,A=Yt(n,r,u*Math.cos(g*s0),h);return{center:m,circleTangency:I,lineTangency:A,theta:g}},tD=function(t){var n=t.cx,r=t.cy,o=t.innerRadius,i=t.outerRadius,a=t.startAngle,l=t.endAngle,s=M5e(a,l),c=a+s,u=Yt(n,r,i,a),g=Yt(n,r,i,c),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(a>c),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(o>0){var m=Yt(n,r,o,a),I=Yt(n,r,o,c);d+="L ".concat(I.x,",").concat(I.y,`
            A `).concat(o,",").concat(o,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(a<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},j5e=function(t){var n=t.cx,r=t.cy,o=t.innerRadius,i=t.outerRadius,a=t.cornerRadius,l=t.forceCornerRadius,s=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,g=mr(u-c),d=Jh({cx:n,cy:r,radius:i,angle:c,sign:g,cornerRadius:a,cornerIsExternal:s}),m=d.circleTangency,I=d.lineTangency,h=d.theta,A=Jh({cx:n,cy:r,radius:i,angle:u,sign:-g,cornerRadius:a,cornerIsExternal:s}),C=A.circleTangency,p=A.lineTangency,v=A.theta,y=s?Math.abs(c-u):Math.abs(c-u)-h-v;if(y<0)return l?"M ".concat(I.x,",").concat(I.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):tD({cx:n,cy:r,innerRadius:o,outerRadius:i,startAngle:c,endAngle:u});var x="M ".concat(I.x,",").concat(I.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(g<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(g<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(g<0),",").concat(p.x,",").concat(p.y,`
  `);if(o>0){var S=Jh({cx:n,cy:r,radius:o,angle:c,sign:g,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),B=S.circleTangency,Z=S.lineTangency,R=S.theta,w=Jh({cx:n,cy:r,radius:o,angle:u,sign:-g,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),k=w.circleTangency,V=w.lineTangency,W=w.theta,N=s?Math.abs(c-u):Math.abs(c-u)-R-W;if(N<0&&a===0)return"".concat(x,"L").concat(n,",").concat(r,"Z");x+="L".concat(V.x,",").concat(V.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(g<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,").concat(+(N>180),",").concat(+(g>0),",").concat(B.x,",").concat(B.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(g<0),",").concat(Z.x,",").concat(Z.y,"Z")}else x+="L".concat(n,",").concat(r,"Z");return x},T5e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ck=function(t){var n=PX(PX({},T5e),t),r=n.cx,o=n.cy,i=n.innerRadius,a=n.outerRadius,l=n.cornerRadius,s=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,g=n.endAngle,d=n.className;if(a<i||u===g)return null;var m=Ve("recharts-sector",d),I=a-i,h=Ir(l,I,0,!0),A;return h>0&&Math.abs(u-g)<360?A=j5e({cx:r,cy:o,innerRadius:i,outerRadius:a,cornerRadius:Math.min(h,I/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:u,endAngle:g}):A=tD({cx:r,cy:o,innerRadius:i,outerRadius:a,startAngle:u,endAngle:g}),G.createElement("path",JS({},We(n,!0),{className:m,d:A,role:"img"}))};function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function YS(){return YS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YS.apply(this,arguments)}function DX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function zX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DX(Object(n),!0).forEach(function(r){L5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L5e(e,t,n){return t=K5e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K5e(e){var t=O5e(e,"string");return km(t)=="symbol"?t:t+""}function O5e(e,t){if(km(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UX={curveBasisClosed:Nye,curveBasisOpen:Eye,curveBasis:Wye,curveBumpX:pye,curveBumpY:Aye,curveLinearClosed:Xye,curveLinear:Eb,curveMonotoneX:Jye,curveMonotoneY:Yye,curveNatural:Hye,curveStep:Fye,curveStepAfter:jye,curveStepBefore:Mye},Yh=function(t){return t.x===+t.x&&t.y===+t.y},Hd=function(t){return t.x},Fd=function(t){return t.y},P5e=function(t,n){if(je(t))return t;var r="curve".concat(Wb(t));return(r==="curveMonotone"||r==="curveBump")&&n?UX["".concat(r).concat(n==="vertical"?"Y":"X")]:UX[r]||Eb},D5e=function(t){var n=t.type,r=n===void 0?"linear":n,o=t.points,i=o===void 0?[]:o,a=t.baseLine,l=t.layout,s=t.connectNulls,c=s===void 0?!1:s,u=P5e(r,l),g=c?i.filter(function(h){return Yh(h)}):i,d;if(Array.isArray(a)){var m=c?a.filter(function(h){return Yh(h)}):a,I=g.map(function(h,A){return zX(zX({},h),{},{base:m[A]})});return l==="vertical"?d=Bh().y(Fd).x1(Hd).x0(function(h){return h.base.x}):d=Bh().x(Hd).y1(Fd).y0(function(h){return h.base.y}),d.defined(Yh).curve(u),d(I)}return l==="vertical"&&Ae(a)?d=Bh().y(Fd).x1(Hd).x0(a):Ae(a)?d=Bh().x(Hd).y1(Fd).y0(a):d=uO().x(Hd).y(Fd),d.defined(Yh).curve(u),d(g)},Ml=function(t){var n=t.className,r=t.points,o=t.path,i=t.pathRef;if((!r||!r.length)&&!o)return null;var a=r&&r.length?D5e(t):o;return G.createElement("path",YS({},We(t,!1),Yp(t),{className:Ve("recharts-curve",n),d:a,ref:i}))},z5e=Object.getOwnPropertyNames,U5e=Object.getOwnPropertySymbols,_5e=Object.prototype.hasOwnProperty;function _X(e,t){return function(r,o,i){return e(r,o,i)&&t(r,o,i)}}function Hh(e){return function(n,r,o){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,o);var i=o.cache,a=i.get(n),l=i.get(r);if(a&&l)return a===r&&l===n;i.set(n,r),i.set(r,n);var s=e(n,r,o);return i.delete(n),i.delete(r),s}}function QX(e){return z5e(e).concat(U5e(e))}var nD=Object.hasOwn||function(e,t){return _5e.call(e,t)};function ld(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var rD="_owner",$X=Object.getOwnPropertyDescriptor,qX=Object.keys;function Q5e(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function $5e(e,t){return ld(e.getTime(),t.getTime())}function e9(e,t,n){if(e.size!==t.size)return!1;for(var r={},o=e.entries(),i=0,a,l;(a=o.next())&&!a.done;){for(var s=t.entries(),c=!1,u=0;(l=s.next())&&!l.done;){var g=a.value,d=g[0],m=g[1],I=l.value,h=I[0],A=I[1];!c&&!r[u]&&(c=n.equals(d,h,i,u,e,t,n)&&n.equals(m,A,d,h,e,t,n))&&(r[u]=!0),u++}if(!c)return!1;i++}return!0}function q5e(e,t,n){var r=qX(e),o=r.length;if(qX(t).length!==o)return!1;for(var i;o-- >0;)if(i=r[o],i===rD&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!nD(t,i)||!n.equals(e[i],t[i],i,i,e,t,n))return!1;return!0}function Md(e,t,n){var r=QX(e),o=r.length;if(QX(t).length!==o)return!1;for(var i,a,l;o-- >0;)if(i=r[o],i===rD&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!nD(t,i)||!n.equals(e[i],t[i],i,i,e,t,n)||(a=$X(e,i),l=$X(t,i),(a||l)&&(!a||!l||a.configurable!==l.configurable||a.enumerable!==l.enumerable||a.writable!==l.writable)))return!1;return!0}function eVe(e,t){return ld(e.valueOf(),t.valueOf())}function tVe(e,t){return e.source===t.source&&e.flags===t.flags}function t9(e,t,n){if(e.size!==t.size)return!1;for(var r={},o=e.values(),i,a;(i=o.next())&&!i.done;){for(var l=t.values(),s=!1,c=0;(a=l.next())&&!a.done;)!s&&!r[c]&&(s=n.equals(i.value,a.value,i.value,a.value,e,t,n))&&(r[c]=!0),c++;if(!s)return!1}return!0}function nVe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}var rVe="[object Arguments]",oVe="[object Boolean]",iVe="[object Date]",aVe="[object Map]",lVe="[object Number]",sVe="[object Object]",cVe="[object RegExp]",uVe="[object Set]",gVe="[object String]",dVe=Array.isArray,n9=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,r9=Object.assign,fVe=Object.prototype.toString.call.bind(Object.prototype.toString);function mVe(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,o=e.areObjectsEqual,i=e.arePrimitiveWrappersEqual,a=e.areRegExpsEqual,l=e.areSetsEqual,s=e.areTypedArraysEqual;return function(u,g,d){if(u===g)return!0;if(u==null||g==null||typeof u!="object"||typeof g!="object")return u!==u&&g!==g;var m=u.constructor;if(m!==g.constructor)return!1;if(m===Object)return o(u,g,d);if(dVe(u))return t(u,g,d);if(n9!=null&&n9(u))return s(u,g,d);if(m===Date)return n(u,g,d);if(m===RegExp)return a(u,g,d);if(m===Map)return r(u,g,d);if(m===Set)return l(u,g,d);var I=fVe(u);return I===iVe?n(u,g,d):I===cVe?a(u,g,d):I===aVe?r(u,g,d):I===uVe?l(u,g,d):I===sVe?typeof u.then!="function"&&typeof g.then!="function"&&o(u,g,d):I===rVe?o(u,g,d):I===oVe||I===lVe||I===gVe?i(u,g,d):!1}}function IVe(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,o={areArraysEqual:r?Md:Q5e,areDatesEqual:$5e,areMapsEqual:r?_X(e9,Md):e9,areObjectsEqual:r?Md:q5e,arePrimitiveWrappersEqual:eVe,areRegExpsEqual:tVe,areSetsEqual:r?_X(t9,Md):t9,areTypedArraysEqual:r?Md:nVe};if(n&&(o=r9({},o,n(o))),t){var i=Hh(o.areArraysEqual),a=Hh(o.areMapsEqual),l=Hh(o.areObjectsEqual),s=Hh(o.areSetsEqual);o=r9({},o,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:l,areSetsEqual:s})}return o}function hVe(e){return function(t,n,r,o,i,a,l){return e(t,n,l)}}function CVe(e){var t=e.circular,n=e.comparator,r=e.createState,o=e.equals,i=e.strict;if(r)return function(s,c){var u=r(),g=u.cache,d=g===void 0?t?new WeakMap:void 0:g,m=u.meta;return n(s,c,{cache:d,equals:o,meta:m,strict:i})};if(t)return function(s,c){return n(s,c,{cache:new WeakMap,equals:o,meta:void 0,strict:i})};var a={cache:void 0,equals:o,meta:void 0,strict:i};return function(s,c){return n(s,c,a)}}var pVe=ps();ps({strict:!0});ps({circular:!0});ps({circular:!0,strict:!0});ps({createInternalComparator:function(){return ld}});ps({strict:!0,createInternalComparator:function(){return ld}});ps({circular:!0,createInternalComparator:function(){return ld}});ps({circular:!0,createInternalComparator:function(){return ld},strict:!0});function ps(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,o=e.createState,i=e.strict,a=i===void 0?!1:i,l=IVe(e),s=mVe(l),c=r?r(s):hVe(s);return CVe({circular:n,comparator:s,createState:o,equals:c,strict:a})}function AVe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function o9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function o(i){n<0&&(n=i),i-n>t?(e(i),n=-1):AVe(o)};requestAnimationFrame(r)}function HS(e){"@babel/helpers - typeof";return HS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},HS(e)}function bVe(e){return SVe(e)||xVe(e)||yVe(e)||vVe()}function vVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yVe(e,t){if(e){if(typeof e=="string")return i9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i9(e,t)}}function i9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SVe(e){if(Array.isArray(e))return e}function ZVe(){var e={},t=function(){return null},n=!1,r=function o(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var a=i,l=bVe(a),s=l[0],c=l.slice(1);if(typeof s=="number"){o9(o.bind(null,c),s);return}o(s),o9(o.bind(null,c));return}HS(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function a9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function l9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a9(Object(n),!0).forEach(function(r){oD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oD(e,t,n){return t=wVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wVe(e){var t=GVe(e,"string");return Rm(t)==="symbol"?t:String(t)}function GVe(e,t){if(Rm(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BVe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,o){return r.filter(function(i){return o.includes(i)})})},kVe=function(t){return t},RVe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Zf=function(t,n){return Object.keys(n).reduce(function(r,o){return l9(l9({},r),{},oD({},o,t(o,n[o])))},{})},s9=function(t,n,r){return t.map(function(o){return"".concat(RVe(o)," ").concat(n,"ms ").concat(r)}).join(",")};function VVe(e,t){return EVe(e)||NVe(e,t)||iD(e,t)||WVe()}function WVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NVe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,o=u}finally{try{if(!s&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function EVe(e){if(Array.isArray(e))return e}function XVe(e){return HVe(e)||YVe(e)||iD(e)||JVe()}function JVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iD(e,t){if(e){if(typeof e=="string")return FS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FS(e,t)}}function YVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HVe(e){if(Array.isArray(e))return FS(e)}function FS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u0=1e-4,aD=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},lD=function(t,n){return t.map(function(r,o){return r*Math.pow(n,o)}).reduce(function(r,o){return r+o})},c9=function(t,n){return function(r){var o=aD(t,n);return lD(o,r)}},FVe=function(t,n){return function(r){var o=aD(t,n),i=[].concat(XVe(o.map(function(a,l){return a*l}).slice(1)),[0]);return lD(i,r)}},u9=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[0],i=n[1],a=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":o=0,i=0,a=1,l=1;break;case"ease":o=.25,i=.1,a=.25,l=1;break;case"ease-in":o=.42,i=0,a=1,l=1;break;case"ease-out":o=.42,i=0,a=.58,l=1;break;case"ease-in-out":o=0,i=0,a=.58,l=1;break;default:{var s=n[0].split("(");if(s[0]==="cubic-bezier"&&s[1].split(")")[0].split(",").length===4){var c=s[1].split(")")[0].split(",").map(function(A){return parseFloat(A)}),u=VVe(c,4);o=u[0],i=u[1],a=u[2],l=u[3]}}}var g=c9(o,a),d=c9(i,l),m=FVe(o,a),I=function(C){return C>1?1:C<0?0:C},h=function(C){for(var p=C>1?1:C,v=p,y=0;y<8;++y){var x=g(v)-p,S=m(v);if(Math.abs(x-p)<u0||S<u0)return d(v);v=I(v-x/S)}return d(v)};return h.isStepper=!1,h},MVe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,o=t.damping,i=o===void 0?8:o,a=t.dt,l=a===void 0?17:a,s=function(u,g,d){var m=-(u-g)*r,I=d*i,h=d+(m-I)*l/1e3,A=d*l/1e3+u;return Math.abs(A-g)<u0&&Math.abs(h)<u0?[g,0]:[A,h]};return s.isStepper=!0,s.dt=l,s},jVe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[0];if(typeof o=="string")switch(o){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return u9(o);case"spring":return MVe();default:if(o.split("(")[0]==="cubic-bezier")return u9(o)}return typeof o=="function"?o:null};function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function g9(e){return KVe(e)||LVe(e)||sD(e)||TVe()}function TVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KVe(e){if(Array.isArray(e))return jS(e)}function d9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d9(Object(n),!0).forEach(function(r){MS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MS(e,t,n){return t=OVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OVe(e){var t=PVe(e,"string");return Vm(t)==="symbol"?t:String(t)}function PVe(e,t){if(Vm(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DVe(e,t){return _Ve(e)||UVe(e,t)||sD(e,t)||zVe()}function zVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sD(e,t){if(e){if(typeof e=="string")return jS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jS(e,t)}}function jS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UVe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,o=u}finally{try{if(!s&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function _Ve(e){if(Array.isArray(e))return e}var g0=function(t,n,r){return t+(n-t)*r},TS=function(t){var n=t.from,r=t.to;return n!==r},QVe=function e(t,n,r){var o=Zf(function(i,a){if(TS(a)){var l=t(a.from,a.to,a.velocity),s=DVe(l,2),c=s[0],u=s[1];return On(On({},a),{},{from:c,velocity:u})}return a},n);return r<1?Zf(function(i,a){return TS(a)?On(On({},a),{},{velocity:g0(a.velocity,o[i].velocity,r),from:g0(a.from,o[i].from,r)}):a},n):e(t,o,r-1)};const $Ve=function(e,t,n,r,o){var i=BVe(e,t),a=i.reduce(function(A,C){return On(On({},A),{},MS({},C,[e[C],t[C]]))},{}),l=i.reduce(function(A,C){return On(On({},A),{},MS({},C,{from:e[C],velocity:0,to:t[C]}))},{}),s=-1,c,u,g=function(){return null},d=function(){return Zf(function(C,p){return p.from},l)},m=function(){return!Object.values(l).filter(TS).length},I=function(C){c||(c=C);var p=C-c,v=p/n.dt;l=QVe(n,l,v),o(On(On(On({},e),t),d())),c=C,m()||(s=requestAnimationFrame(g))},h=function(C){u||(u=C);var p=(C-u)/r,v=Zf(function(x,S){return g0.apply(void 0,g9(S).concat([n(p)]))},a);if(o(On(On(On({},e),t),v)),p<1)s=requestAnimationFrame(g);else{var y=Zf(function(x,S){return g0.apply(void 0,g9(S).concat([n(1)]))},a);o(On(On(On({},e),t),y))}};return g=n.isStepper?I:h,function(){return requestAnimationFrame(g),function(){cancelAnimationFrame(s)}}};function mg(e){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(e)}var qVe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function eWe(e,t){if(e==null)return{};var n=tWe(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tWe(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function d1(e){return iWe(e)||oWe(e)||rWe(e)||nWe()}function nWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rWe(e,t){if(e){if(typeof e=="string")return LS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LS(e,t)}}function oWe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iWe(e){if(Array.isArray(e))return LS(e)}function LS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function _o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f9(Object(n),!0).forEach(function(r){of(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function of(e,t,n){return t=cD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cD(r.key),r)}}function lWe(e,t,n){return t&&m9(e.prototype,t),n&&m9(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cD(e){var t=sWe(e,"string");return mg(t)==="symbol"?t:String(t)}function sWe(e,t){if(mg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KS(e,t)}function KS(e,t){return KS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},KS(e,t)}function uWe(e){var t=gWe();return function(){var r=d0(e),o;if(t){var i=d0(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return OS(this,o)}}function OS(e,t){if(t&&(mg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PS(e)}function PS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gWe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d0(e){return d0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},d0(e)}var Fo=function(e){cWe(n,e);var t=uWe(n);function n(r,o){var i;aWe(this,n),i=t.call(this,r,o);var a=i.props,l=a.isActive,s=a.attributeName,c=a.from,u=a.to,g=a.steps,d=a.children,m=a.duration;if(i.handleStyleChange=i.handleStyleChange.bind(PS(i)),i.changeStyle=i.changeStyle.bind(PS(i)),!l||m<=0)return i.state={style:{}},typeof d=="function"&&(i.state={style:u}),OS(i);if(g&&g.length)i.state={style:g[0].style};else if(c){if(typeof d=="function")return i.state={style:c},OS(i);i.state={style:s?of({},s,c):c}}else i.state={style:{}};return i}return lWe(n,[{key:"componentDidMount",value:function(){var o=this.props,i=o.isActive,a=o.canBegin;this.mounted=!0,!(!i||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(o){var i=this.props,a=i.isActive,l=i.canBegin,s=i.attributeName,c=i.shouldReAnimate,u=i.to,g=i.from,d=this.state.style;if(l){if(!a){var m={style:s?of({},s,u):u};this.state&&d&&(s&&d[s]!==u||!s&&d!==u)&&this.setState(m);return}if(!(pVe(o.to,u)&&o.canBegin&&o.isActive)){var I=!o.canBegin||!o.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var h=I||c?g:o.to;if(this.state&&d){var A={style:s?of({},s,h):h};(s&&d[s]!==h||!s&&d!==h)&&this.setState(A)}this.runAnimation(_o(_o({},this.props),{},{from:h,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var o=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),o&&o()}},{key:"handleStyleChange",value:function(o){this.changeStyle(o)}},{key:"changeStyle",value:function(o){this.mounted&&this.setState({style:o})}},{key:"runJSAnimation",value:function(o){var i=this,a=o.from,l=o.to,s=o.duration,c=o.easing,u=o.begin,g=o.onAnimationEnd,d=o.onAnimationStart,m=$Ve(a,l,jVe(c),s,this.changeStyle),I=function(){i.stopJSAnimation=m()};this.manager.start([d,u,I,s,g])}},{key:"runStepAnimation",value:function(o){var i=this,a=o.steps,l=o.begin,s=o.onAnimationStart,c=a[0],u=c.style,g=c.duration,d=g===void 0?0:g,m=function(h,A,C){if(C===0)return h;var p=A.duration,v=A.easing,y=v===void 0?"ease":v,x=A.style,S=A.properties,B=A.onAnimationEnd,Z=C>0?a[C-1]:A,R=S||Object.keys(x);if(typeof y=="function"||y==="spring")return[].concat(d1(h),[i.runJSAnimation.bind(i,{from:Z.style,to:x,duration:p,easing:y}),p]);var w=s9(R,p,y),k=_o(_o(_o({},Z.style),x),{},{transition:w});return[].concat(d1(h),[k,p,B]).filter(kVe)};return this.manager.start([s].concat(d1(a.reduce(m,[u,Math.max(d,l)])),[o.onAnimationEnd]))}},{key:"runAnimation",value:function(o){this.manager||(this.manager=ZVe());var i=o.begin,a=o.duration,l=o.attributeName,s=o.to,c=o.easing,u=o.onAnimationStart,g=o.onAnimationEnd,d=o.steps,m=o.children,I=this.manager;if(this.unSubscribe=I.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(o);return}if(d.length>1){this.runStepAnimation(o);return}var h=l?of({},l,s):s,A=s9(Object.keys(h),a,c);I.start([u,i,_o(_o({},h),{},{transition:A}),a,g])}},{key:"render",value:function(){var o=this.props,i=o.children;o.begin;var a=o.duration;o.attributeName,o.easing;var l=o.isActive;o.steps,o.from,o.to,o.canBegin,o.onAnimationEnd,o.shouldReAnimate,o.onAnimationReStart;var s=eWe(o,qVe),c=b.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||c===0||a<=0)return i;var g=function(m){var I=m.props,h=I.style,A=h===void 0?{}:h,C=I.className,p=b.cloneElement(m,_o(_o({},s),{},{style:_o(_o({},A),u),className:C}));return p};return c===1?g(b.Children.only(i)):G.createElement("div",null,b.Children.map(i,function(d){return g(d)}))}}]),n}(b.PureComponent);Fo.displayName="Animate";Fo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Fo.propTypes={from:De.oneOfType([De.object,De.string]),to:De.oneOfType([De.object,De.string]),attributeName:De.string,duration:De.number,begin:De.number,easing:De.oneOfType([De.string,De.func]),steps:De.arrayOf(De.shape({duration:De.number.isRequired,style:De.object.isRequired,easing:De.oneOfType([De.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),De.func]),properties:De.arrayOf("string"),onAnimationEnd:De.func})),children:De.oneOfType([De.node,De.func]),isActive:De.bool,canBegin:De.bool,onAnimationEnd:De.func,shouldReAnimate:De.bool,onAnimationStart:De.func,onAnimationReStart:De.func};De.object,De.object,De.object,De.element;De.object,De.object,De.object,De.oneOfType([De.array,De.element]),De.any;function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function f0(){return f0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f0.apply(this,arguments)}function dWe(e,t){return hWe(e)||IWe(e,t)||mWe(e,t)||fWe()}function fWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mWe(e,t){if(e){if(typeof e=="string")return I9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I9(e,t)}}function I9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IWe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,o=u}finally{try{if(!s&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function hWe(e){if(Array.isArray(e))return e}function h9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function C9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h9(Object(n),!0).forEach(function(r){CWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CWe(e,t,n){return t=pWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pWe(e){var t=AWe(e,"string");return Wm(t)=="symbol"?t:t+""}function AWe(e,t){if(Wm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p9=function(t,n,r,o,i){var a=Math.min(Math.abs(r)/2,Math.abs(o)/2),l=o>=0?1:-1,s=r>=0?1:-1,c=o>=0&&r>=0||o<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var g=[0,0,0,0],d=0,m=4;d<m;d++)g[d]=i[d]>a?a:i[d];u="M".concat(t,",").concat(n+l*g[0]),g[0]>0&&(u+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(c,",").concat(t+s*g[0],",").concat(n)),u+="L ".concat(t+r-s*g[1],",").concat(n),g[1]>0&&(u+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(c,`,
        `).concat(t+r,",").concat(n+l*g[1])),u+="L ".concat(t+r,",").concat(n+o-l*g[2]),g[2]>0&&(u+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(c,`,
        `).concat(t+r-s*g[2],",").concat(n+o)),u+="L ".concat(t+s*g[3],",").concat(n+o),g[3]>0&&(u+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(n+o-l*g[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var I=Math.min(a,i);u="M ".concat(t,",").concat(n+l*I,`
            A `).concat(I,",").concat(I,",0,0,").concat(c,",").concat(t+s*I,",").concat(n,`
            L `).concat(t+r-s*I,",").concat(n,`
            A `).concat(I,",").concat(I,",0,0,").concat(c,",").concat(t+r,",").concat(n+l*I,`
            L `).concat(t+r,",").concat(n+o-l*I,`
            A `).concat(I,",").concat(I,",0,0,").concat(c,",").concat(t+r-s*I,",").concat(n+o,`
            L `).concat(t+s*I,",").concat(n+o,`
            A `).concat(I,",").concat(I,",0,0,").concat(c,",").concat(t,",").concat(n+o-l*I," Z")}else u="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(o," h ").concat(-r," Z");return u},bWe=function(t,n){if(!t||!n)return!1;var r=t.x,o=t.y,i=n.x,a=n.y,l=n.width,s=n.height;if(Math.abs(l)>0&&Math.abs(s)>0){var c=Math.min(i,i+l),u=Math.max(i,i+l),g=Math.min(a,a+s),d=Math.max(a,a+s);return r>=c&&r<=u&&o>=g&&o<=d}return!1},vWe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uk=function(t){var n=C9(C9({},vWe),t),r=b.useRef(),o=b.useState(-1),i=dWe(o,2),a=i[0],l=i[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&l(y)}catch{}},[]);var s=n.x,c=n.y,u=n.width,g=n.height,d=n.radius,m=n.className,I=n.animationEasing,h=n.animationDuration,A=n.animationBegin,C=n.isAnimationActive,p=n.isUpdateAnimationActive;if(s!==+s||c!==+c||u!==+u||g!==+g||u===0||g===0)return null;var v=Ve("recharts-rectangle",m);return p?G.createElement(Fo,{canBegin:a>0,from:{width:u,height:g,x:s,y:c},to:{width:u,height:g,x:s,y:c},duration:h,animationEasing:I,isActive:p},function(y){var x=y.width,S=y.height,B=y.x,Z=y.y;return G.createElement(Fo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:h,isActive:C,easing:I},G.createElement("path",f0({},We(n,!0),{className:v,d:p9(B,Z,x,S,d),ref:r})))}):G.createElement("path",f0({},We(n,!0),{className:v,d:p9(s,c,u,g,d)}))},yWe=["points","className","baseLinePoints","connectNulls"];function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bu.apply(this,arguments)}function xWe(e,t){if(e==null)return{};var n=SWe(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function SWe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function A9(e){return BWe(e)||GWe(e)||wWe(e)||ZWe()}function ZWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wWe(e,t){if(e){if(typeof e=="string")return DS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DS(e,t)}}function GWe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BWe(e){if(Array.isArray(e))return DS(e)}function DS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b9=function(t){return t&&t.x===+t.x&&t.y===+t.y},kWe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){b9(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),b9(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},wf=function(t,n){var r=kWe(t);n&&(r=[r.reduce(function(i,a){return[].concat(A9(i),A9(a))},[])]);var o=r.map(function(i){return i.reduce(function(a,l,s){return"".concat(a).concat(s===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(o,"Z"):o},RWe=function(t,n,r){var o=wf(t,r);return"".concat(o.slice(-1)==="Z"?o.slice(0,-1):o,"L").concat(wf(n.reverse(),r).slice(1))},VWe=function(t){var n=t.points,r=t.className,o=t.baseLinePoints,i=t.connectNulls,a=xWe(t,yWe);if(!n||!n.length)return null;var l=Ve("recharts-polygon",r);if(o&&o.length){var s=a.stroke&&a.stroke!=="none",c=RWe(n,o,i);return G.createElement("g",{className:l},G.createElement("path",bu({},We(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:c})),s?G.createElement("path",bu({},We(a,!0),{fill:"none",d:wf(n,i)})):null,s?G.createElement("path",bu({},We(a,!0),{fill:"none",d:wf(o,i)})):null)}var u=wf(n,i);return G.createElement("path",bu({},We(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",className:l,d:u}))};function zS(){return zS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zS.apply(this,arguments)}var Pi=function(t){var n=t.cx,r=t.cy,o=t.r,i=t.className,a=Ve("recharts-dot",i);return n===+n&&r===+r&&o===+o?G.createElement("circle",zS({},We(t,!1),Yp(t),{className:a,cx:n,cy:r,r:o})):null};function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}var WWe=["x","y","top","left","width","height","className"];function US(){return US=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},US.apply(this,arguments)}function v9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function NWe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v9(Object(n),!0).forEach(function(r){EWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EWe(e,t,n){return t=XWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XWe(e){var t=JWe(e,"string");return Nm(t)=="symbol"?t:t+""}function JWe(e,t){if(Nm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YWe(e,t){if(e==null)return{};var n=HWe(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function HWe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var FWe=function(t,n,r,o,i,a){return"M".concat(t,",").concat(i,"v").concat(o,"M").concat(a,",").concat(n,"h").concat(r)},MWe=function(t){var n=t.x,r=n===void 0?0:n,o=t.y,i=o===void 0?0:o,a=t.top,l=a===void 0?0:a,s=t.left,c=s===void 0?0:s,u=t.width,g=u===void 0?0:u,d=t.height,m=d===void 0?0:d,I=t.className,h=YWe(t,WWe),A=NWe({x:r,y:i,top:l,left:c,width:g,height:m},h);return!Ae(r)||!Ae(i)||!Ae(g)||!Ae(m)||!Ae(l)||!Ae(c)?null:G.createElement("path",US({},We(A,!0),{className:Ve("recharts-cross",I),d:FWe(r,i,g,m,l,c)}))},jWe=Pb,TWe=SP,LWe=Qi;function KWe(e,t){return e&&e.length?jWe(e,LWe(t),TWe):void 0}var OWe=KWe;const PWe=ot(OWe);var DWe=Pb,zWe=Qi,UWe=ZP;function _We(e,t){return e&&e.length?DWe(e,zWe(t),UWe):void 0}var QWe=_We;const $We=ot(QWe);var qWe=["cx","cy","angle","ticks","axisLine"],eNe=["ticks","tick","angle","tickFormatter","stroke"];function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function Gf(){return Gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gf.apply(this,arguments)}function y9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Gs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y9(Object(n),!0).forEach(function(r){_b(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x9(e,t){if(e==null)return{};var n=tNe(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tNe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function nNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gD(r.key),r)}}function rNe(e,t,n){return t&&S9(e.prototype,t),n&&S9(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oNe(e,t,n){return t=m0(t),iNe(e,uD()?Reflect.construct(t,n||[],m0(e).constructor):t.apply(e,n))}function iNe(e,t){if(t&&(Ig(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aNe(e)}function aNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uD=function(){return!!e})()}function m0(e){return m0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},m0(e)}function lNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_S(e,t)}function _S(e,t){return _S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},_S(e,t)}function _b(e,t,n){return t=gD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gD(e){var t=sNe(e,"string");return Ig(t)=="symbol"?t:t+""}function sNe(e,t){if(Ig(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qb=function(e){function t(){return nNe(this,t),oNe(this,t,arguments)}return lNe(t,e),rNe(t,[{key:"getTickValueCoord",value:function(r){var o=r.coordinate,i=this.props,a=i.angle,l=i.cx,s=i.cy;return Yt(l,s,o,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,o;switch(r){case"left":o="end";break;case"right":o="start";break;default:o="middle";break}return o}},{key:"getViewBox",value:function(){var r=this.props,o=r.cx,i=r.cy,a=r.angle,l=r.ticks,s=PWe(l,function(u){return u.coordinate||0}),c=$We(l,function(u){return u.coordinate||0});return{cx:o,cy:i,startAngle:a,endAngle:a,innerRadius:c.coordinate||0,outerRadius:s.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,o=r.cx,i=r.cy,a=r.angle,l=r.ticks,s=r.axisLine,c=x9(r,qWe),u=l.reduce(function(I,h){return[Math.min(I[0],h.coordinate),Math.max(I[1],h.coordinate)]},[1/0,-1/0]),g=Yt(o,i,u[0],a),d=Yt(o,i,u[1],a),m=Gs(Gs(Gs({},We(c,!1)),{},{fill:"none"},We(s,!1)),{},{x1:g.x,y1:g.y,x2:d.x,y2:d.y});return G.createElement("line",Gf({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,o=this.props,i=o.ticks,a=o.tick,l=o.angle,s=o.tickFormatter,c=o.stroke,u=x9(o,eNe),g=this.getTickTextAnchor(),d=We(u,!1),m=We(a,!1),I=i.map(function(h,A){var C=r.getTickValueCoord(h),p=Gs(Gs(Gs(Gs({textAnchor:g,transform:"rotate(".concat(90-l,", ").concat(C.x,", ").concat(C.y,")")},d),{},{stroke:"none",fill:c},m),{},{index:A},C),{},{payload:h});return G.createElement(_e,Gf({className:Ve("recharts-polar-radius-axis-tick",qP(a)),key:"tick-".concat(h.coordinate)},Ul(r.props,h,A)),t.renderTickItem(a,p,s?s(h.value,A):h.value))});return G.createElement(_e,{className:"recharts-polar-radius-axis-ticks"},I)}},{key:"render",value:function(){var r=this.props,o=r.ticks,i=r.axisLine,a=r.tick;return!o||!o.length?null:G.createElement(_e,{className:Ve("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),a&&this.renderTicks(),xt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,o,i){var a;return G.isValidElement(r)?a=G.cloneElement(r,o):je(r)?a=r(o):a=G.createElement(Gc,Gf({},o,{className:"recharts-polar-radius-axis-tick-value"}),i),a}}])}(b.PureComponent);_b(Qb,"displayName","PolarRadiusAxis");_b(Qb,"axisType","radiusAxis");_b(Qb,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ps.apply(this,arguments)}function Z9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Bs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z9(Object(n),!0).forEach(function(r){$b(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fD(r.key),r)}}function uNe(e,t,n){return t&&w9(e.prototype,t),n&&w9(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gNe(e,t,n){return t=I0(t),dNe(e,dD()?Reflect.construct(t,n||[],I0(e).constructor):t.apply(e,n))}function dNe(e,t){if(t&&(hg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fNe(e)}function fNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dD=function(){return!!e})()}function I0(e){return I0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},I0(e)}function mNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QS(e,t)}function QS(e,t){return QS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},QS(e,t)}function $b(e,t,n){return t=fD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fD(e){var t=INe(e,"string");return hg(t)=="symbol"?t:t+""}function INe(e,t){if(hg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hNe=Math.PI/180,G9=1e-5,qb=function(e){function t(){return cNe(this,t),gNe(this,t,arguments)}return mNe(t,e),uNe(t,[{key:"getTickLineCoord",value:function(r){var o=this.props,i=o.cx,a=o.cy,l=o.radius,s=o.orientation,c=o.tickSize,u=c||8,g=Yt(i,a,l,r.coordinate),d=Yt(i,a,l+(s==="inner"?-1:1)*u,r.coordinate);return{x1:g.x,y1:g.y,x2:d.x,y2:d.y}}},{key:"getTickTextAnchor",value:function(r){var o=this.props.orientation,i=Math.cos(-r.coordinate*hNe),a;return i>G9?a=o==="outer"?"start":"end":i<-G9?a=o==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,o=r.cx,i=r.cy,a=r.radius,l=r.axisLine,s=r.axisLineType,c=Bs(Bs({},We(this.props,!1)),{},{fill:"none"},We(l,!1));if(s==="circle")return G.createElement(Pi,Ps({className:"recharts-polar-angle-axis-line"},c,{cx:o,cy:i,r:a}));var u=this.props.ticks,g=u.map(function(d){return Yt(o,i,a,d.coordinate)});return G.createElement(VWe,Ps({className:"recharts-polar-angle-axis-line"},c,{points:g}))}},{key:"renderTicks",value:function(){var r=this,o=this.props,i=o.ticks,a=o.tick,l=o.tickLine,s=o.tickFormatter,c=o.stroke,u=We(this.props,!1),g=We(a,!1),d=Bs(Bs({},u),{},{fill:"none"},We(l,!1)),m=i.map(function(I,h){var A=r.getTickLineCoord(I),C=r.getTickTextAnchor(I),p=Bs(Bs(Bs({textAnchor:C},u),{},{stroke:"none",fill:c},g),{},{index:h,payload:I,x:A.x2,y:A.y2});return G.createElement(_e,Ps({className:Ve("recharts-polar-angle-axis-tick",qP(a)),key:"tick-".concat(I.coordinate)},Ul(r.props,I,h)),l&&G.createElement("line",Ps({className:"recharts-polar-angle-axis-tick-line"},d,A)),a&&t.renderTickItem(a,p,s?s(I.value,h):I.value))});return G.createElement(_e,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,o=r.ticks,i=r.radius,a=r.axisLine;return i<=0||!o||!o.length?null:G.createElement(_e,{className:Ve("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,o,i){var a;return G.isValidElement(r)?a=G.cloneElement(r,o):je(r)?a=r(o):a=G.createElement(Gc,Ps({},o,{className:"recharts-polar-angle-axis-tick-value"}),i),a}}])}(b.PureComponent);$b(qb,"displayName","PolarAngleAxis");$b(qb,"axisType","angleAxis");$b(qb,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var CNe=yT,pNe=CNe(Object.getPrototypeOf,Object),ANe=pNe,bNe=Ha,vNe=ANe,yNe=Fa,xNe="[object Object]",SNe=Function.prototype,ZNe=Object.prototype,mD=SNe.toString,wNe=ZNe.hasOwnProperty,GNe=mD.call(Object);function BNe(e){if(!yNe(e)||bNe(e)!=xNe)return!1;var t=vNe(e);if(t===null)return!0;var n=wNe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&mD.call(n)==GNe}var kNe=BNe;const RNe=ot(kNe);var VNe=Ha,WNe=Fa,NNe="[object Boolean]";function ENe(e){return e===!0||e===!1||WNe(e)&&VNe(e)==NNe}var XNe=ENe;const JNe=ot(XNe);function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h0.apply(this,arguments)}function YNe(e,t){return jNe(e)||MNe(e,t)||FNe(e,t)||HNe()}function HNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FNe(e,t){if(e){if(typeof e=="string")return B9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B9(e,t)}}function B9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MNe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,o=u}finally{try{if(!s&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function jNe(e){if(Array.isArray(e))return e}function k9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function R9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k9(Object(n),!0).forEach(function(r){TNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TNe(e,t,n){return t=LNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LNe(e){var t=KNe(e,"string");return Em(t)=="symbol"?t:t+""}function KNe(e,t){if(Em(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V9=function(t,n,r,o,i){var a=r-o,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-a/2,",").concat(n+i),l+="L ".concat(t+r-a/2-o,",").concat(n+i),l+="L ".concat(t,",").concat(n," Z"),l},ONe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PNe=function(t){var n=R9(R9({},ONe),t),r=b.useRef(),o=b.useState(-1),i=YNe(o,2),a=i[0],l=i[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var v=r.current.getTotalLength();v&&l(v)}catch{}},[]);var s=n.x,c=n.y,u=n.upperWidth,g=n.lowerWidth,d=n.height,m=n.className,I=n.animationEasing,h=n.animationDuration,A=n.animationBegin,C=n.isUpdateAnimationActive;if(s!==+s||c!==+c||u!==+u||g!==+g||d!==+d||u===0&&g===0||d===0)return null;var p=Ve("recharts-trapezoid",m);return C?G.createElement(Fo,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:c},to:{upperWidth:u,lowerWidth:g,height:d,x:s,y:c},duration:h,animationEasing:I,isActive:C},function(v){var y=v.upperWidth,x=v.lowerWidth,S=v.height,B=v.x,Z=v.y;return G.createElement(Fo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:h,easing:I},G.createElement("path",h0({},We(n,!0),{className:p,d:V9(B,Z,y,x,S),ref:r})))}):G.createElement("g",null,G.createElement("path",h0({},We(n,!0),{className:p,d:V9(s,c,u,g,d)})))},DNe=["option","shapeType","propTransformer","activeClassName","isActive"];function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function zNe(e,t){if(e==null)return{};var n=UNe(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function UNe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function W9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function C0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W9(Object(n),!0).forEach(function(r){_Ne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Ne(e,t,n){return t=QNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QNe(e){var t=$Ne(e,"string");return Xm(t)=="symbol"?t:t+""}function $Ne(e,t){if(Xm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qNe(e,t){return C0(C0({},t),e)}function e3e(e,t){return e==="symbols"}function N9(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return G.createElement(uk,n);case"trapezoid":return G.createElement(PNe,n);case"sector":return G.createElement(ck,n);case"symbols":if(e3e(t))return G.createElement(Jb,n);break;default:return null}}function t3e(e){return b.isValidElement(e)?e.props:e}function p0(e){var t=e.option,n=e.shapeType,r=e.propTransformer,o=r===void 0?qNe:r,i=e.activeClassName,a=i===void 0?"recharts-active-shape":i,l=e.isActive,s=zNe(e,DNe),c;if(b.isValidElement(t))c=b.cloneElement(t,C0(C0({},s),t3e(t)));else if(je(t))c=t(s);else if(RNe(t)&&!JNe(t)){var u=o(t,s);c=G.createElement(N9,{shapeType:n,elementProps:u})}else{var g=s;c=G.createElement(N9,{shapeType:n,elementProps:g})}return l?G.createElement(_e,{className:a},c):c}function ev(e,t){return t!=null&&"trapezoids"in e.props}function tv(e,t){return t!=null&&"sectors"in e.props}function Jm(e,t){return t!=null&&"points"in e.props}function n3e(e,t){var n,r,o=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return o&&i}function r3e(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function o3e(e,t){var n=e.x===t.x,r=e.y===t.y,o=e.z===t.z;return n&&r&&o}function i3e(e,t){var n;return ev(e,t)?n=n3e:tv(e,t)?n=r3e:Jm(e,t)&&(n=o3e),n}function a3e(e,t){var n;return ev(e,t)?n="trapezoids":tv(e,t)?n="sectors":Jm(e,t)&&(n="points"),n}function l3e(e,t){if(ev(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(tv(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Jm(e,t)?t.payload:{}}function s3e(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,o=a3e(n,t),i=l3e(n,t),a=r.filter(function(s,c){var u=Ol(i,s),g=n.props[o].filter(function(I){var h=i3e(n,t);return h(I,t)}),d=n.props[o].indexOf(g[g.length-1]),m=c===d;return u&&m}),l=r.indexOf(a[a.length-1]);return l}var yC;function Cg(e){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cg(e)}function vu(){return vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vu.apply(this,arguments)}function E9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E9(Object(n),!0).forEach(function(r){Ro(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hD(r.key),r)}}function u3e(e,t,n){return t&&X9(e.prototype,t),n&&X9(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g3e(e,t,n){return t=A0(t),d3e(e,ID()?Reflect.construct(t,n||[],A0(e).constructor):t.apply(e,n))}function d3e(e,t){if(t&&(Cg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f3e(e)}function f3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ID(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ID=function(){return!!e})()}function A0(e){return A0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},A0(e)}function m3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$S(e,t)}function $S(e,t){return $S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},$S(e,t)}function Ro(e,t,n){return t=hD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hD(e){var t=I3e(e,"string");return Cg(t)=="symbol"?t:t+""}function I3e(e,t){if(Cg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ta=function(e){function t(n){var r;return c3e(this,t),r=g3e(this,t,[n]),Ro(r,"pieRef",null),Ro(r,"sectorRefs",[]),Ro(r,"id",ms("recharts-pie-")),Ro(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),je(o)&&o()}),Ro(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),je(o)&&o()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return m3e(t,e),u3e(t,[{key:"isActiveIndex",value:function(r){var o=this.props.activeIndex;return Array.isArray(o)?o.indexOf(r)!==-1:r===o}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.label,l=i.labelLine,s=i.dataKey,c=i.valueKey,u=We(this.props,!1),g=We(a,!1),d=We(l,!1),m=a&&a.offsetRadius||20,I=r.map(function(h,A){var C=(h.startAngle+h.endAngle)/2,p=Yt(h.cx,h.cy,h.outerRadius+m,C),v=Et(Et(Et(Et({},u),h),{},{stroke:"none"},g),{},{index:A,textAnchor:t.getTextAnchor(p.x,h.cx)},p),y=Et(Et(Et(Et({},u),h),{},{fill:"none",stroke:h.fill},d),{},{index:A,points:[Yt(h.cx,h.cy,h.outerRadius,C),p]}),x=s;return He(s)&&He(c)?x="value":He(s)&&(x=c),G.createElement(_e,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(A)},l&&t.renderLabelLineItem(l,y,"line"),t.renderLabelItem(a,v,Ot(h,x)))});return G.createElement(_e,{className:"recharts-pie-labels"},I)}},{key:"renderSectorsStatically",value:function(r){var o=this,i=this.props,a=i.activeShape,l=i.blendStroke,s=i.inactiveShape;return r.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var g=o.isActiveIndex(u),d=s&&o.hasActiveIndex()?s:null,m=g?a:d,I=Et(Et({},c),{},{stroke:l?c.fill:c.stroke,tabIndex:-1});return G.createElement(_e,vu({ref:function(A){A&&!o.sectorRefs.includes(A)&&o.sectorRefs.push(A)},tabIndex:-1,className:"recharts-pie-sector"},Ul(o.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),G.createElement(p0,vu({option:m,isActive:g,shapeType:"sector"},I)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,o=this.props,i=o.sectors,a=o.isAnimationActive,l=o.animationBegin,s=o.animationDuration,c=o.animationEasing,u=o.animationId,g=this.state,d=g.prevSectors,m=g.prevIsAnimationActive;return G.createElement(Fo,{begin:l,duration:s,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(I){var h=I.t,A=[],C=i&&i[0],p=C.startAngle;return i.forEach(function(v,y){var x=d&&d[y],S=y>0?io(v,"paddingAngle",0):0;if(x){var B=$t(x.endAngle-x.startAngle,v.endAngle-v.startAngle),Z=Et(Et({},v),{},{startAngle:p+S,endAngle:p+B(h)+S});A.push(Z),p=Z.endAngle}else{var R=v.endAngle,w=v.startAngle,k=$t(0,R-w),V=k(h),W=Et(Et({},v),{},{startAngle:p+S,endAngle:p+V+S});A.push(W),p=W.endAngle}}),G.createElement(_e,null,r.renderSectorsStatically(A))})}},{key:"attachKeyboardHandlers",value:function(r){var o=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var a=++o.state.sectorToFocus%o.sectorRefs.length;o.sectorRefs[a].focus(),o.setState({sectorToFocus:a});break}case"ArrowRight":{var l=--o.state.sectorToFocus<0?o.sectorRefs.length-1:o.state.sectorToFocus%o.sectorRefs.length;o.sectorRefs[l].focus(),o.setState({sectorToFocus:l});break}case"Escape":{o.sectorRefs[o.state.sectorToFocus].blur(),o.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,o=r.sectors,i=r.isAnimationActive,a=this.state.prevSectors;return i&&o&&o.length&&(!a||!Ol(a,o))?this.renderSectorsWithAnimation():this.renderSectorsStatically(o)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,o=this.props,i=o.hide,a=o.sectors,l=o.className,s=o.label,c=o.cx,u=o.cy,g=o.innerRadius,d=o.outerRadius,m=o.isAnimationActive,I=this.state.isAnimationFinished;if(i||!a||!a.length||!Ae(c)||!Ae(u)||!Ae(g)||!Ae(d))return null;var h=Ve("recharts-pie",l);return G.createElement(_e,{tabIndex:this.props.rootTabIndex,className:h,ref:function(C){r.pieRef=C}},this.renderSectors(),s&&this.renderLabels(a),xt.renderCallByParent(this.props,null,!1),(!m||I)&&si.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,o){return o.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==o.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:o.curSectors,isAnimationFinished:!0}:r.sectors!==o.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,o){return r>o?"start":r<o?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,o,i){if(G.isValidElement(r))return G.cloneElement(r,o);if(je(r))return r(o);var a=Ve("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return G.createElement(Ml,vu({},o,{key:i,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,o,i){if(G.isValidElement(r))return G.cloneElement(r,o);var a=i;if(je(r)&&(a=r(o),G.isValidElement(a)))return a;var l=Ve("recharts-pie-label-text",typeof r!="boolean"&&!je(r)?r.className:"");return G.createElement(Gc,vu({},o,{alignmentBaseline:"middle",className:l}),a)}}])}(b.PureComponent);yC=Ta;Ro(Ta,"displayName","Pie");Ro(Ta,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Xo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ro(Ta,"parseDeltaAngle",function(e,t){var n=mr(t-e),r=Math.min(Math.abs(t-e),360);return n*r});Ro(Ta,"getRealPieData",function(e){var t=e.data,n=e.children,r=We(e,!1),o=pr(n,Fb);return t&&t.length?t.map(function(i,a){return Et(Et(Et({payload:i},r),i),o&&o[a]&&o[a].props)}):o&&o.length?o.map(function(i){return Et(Et({},r),i.props)}):[]});Ro(Ta,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,o=t.width,i=t.height,a=$P(o,i),l=r+Ir(e.cx,o,o/2),s=n+Ir(e.cy,i,i/2),c=Ir(e.innerRadius,a,0),u=Ir(e.outerRadius,a,a*.8),g=e.maxRadius||Math.sqrt(o*o+i*i)/2;return{cx:l,cy:s,innerRadius:c,outerRadius:u,maxRadius:g}});Ro(Ta,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?Et(Et({},t.type.defaultProps),t.props):t.props,o=yC.getRealPieData(r);if(!o||!o.length)return null;var i=r.cornerRadius,a=r.startAngle,l=r.endAngle,s=r.paddingAngle,c=r.dataKey,u=r.nameKey,g=r.valueKey,d=r.tooltipType,m=Math.abs(r.minAngle),I=yC.parseCoordinateOfPie(r,n),h=yC.parseDeltaAngle(a,l),A=Math.abs(h),C=c;He(c)&&He(g)?(li(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),C="value"):He(c)&&(li(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),C=g);var p=o.filter(function(Z){return Ot(Z,C,0)!==0}).length,v=(A>=360?p:p-1)*s,y=A-p*m-v,x=o.reduce(function(Z,R){var w=Ot(R,C,0);return Z+(Ae(w)?w:0)},0),S;if(x>0){var B;S=o.map(function(Z,R){var w=Ot(Z,C,0),k=Ot(Z,u,R),V=(Ae(w)?w:0)/x,W;R?W=B.endAngle+mr(h)*s*(w!==0?1:0):W=a;var N=W+mr(h)*((w!==0?m:0)+V*y),X=(W+N)/2,J=(I.innerRadius+I.outerRadius)/2,E=[{name:k,value:w,payload:Z,dataKey:C,type:d}],F=Yt(I.cx,I.cy,J,X);return B=Et(Et(Et({percent:V,cornerRadius:i,name:k,tooltipPayload:E,midAngle:X,middleRadius:J,tooltipPosition:F},Z),I),{},{value:Ot(Z,C),startAngle:W,endAngle:N,payload:Z,paddingAngle:mr(h)*s}),B})}return Et(Et({},I),{},{sectors:S,data:o})});var h3e=Math.ceil,C3e=Math.max;function p3e(e,t,n,r){for(var o=-1,i=C3e(h3e((t-e)/(n||1)),0),a=Array(i);i--;)a[r?i:++o]=e,e+=n;return a}var A3e=p3e,b3e=FO,J9=1/0,v3e=17976931348623157e292;function y3e(e){if(!e)return e===0?e:0;if(e=b3e(e),e===J9||e===-J9){var t=e<0?-1:1;return t*v3e}return e===e?e:0}var CD=y3e,x3e=A3e,S3e=Hb,f1=CD;function Z3e(e){return function(t,n,r){return r&&typeof r!="number"&&S3e(t,n,r)&&(n=r=void 0),t=f1(t),n===void 0?(n=t,t=0):n=f1(n),r=r===void 0?t<n?1:-1:f1(r),x3e(t,n,r,e)}}var w3e=Z3e,G3e=w3e,B3e=G3e(),k3e=B3e;const b0=ot(k3e);function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function Y9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function H9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y9(Object(n),!0).forEach(function(r){pD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pD(e,t,n){return t=R3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R3e(e){var t=V3e(e,"string");return Ym(t)=="symbol"?t:t+""}function V3e(e,t){if(Ym(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W3e=["Webkit","Moz","O","ms"],N3e=function(t,n){if(!t)return null;var r=t.replace(/(\w)/,function(i){return i.toUpperCase()}),o=W3e.reduce(function(i,a){return H9(H9({},i),{},pD({},a+r,n))},{});return o[t]=n,o};function pg(e){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pg(e)}function v0(){return v0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v0.apply(this,arguments)}function F9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function m1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F9(Object(n),!0).forEach(function(r){Or(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bD(r.key),r)}}function X3e(e,t,n){return t&&M9(e.prototype,t),n&&M9(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function J3e(e,t,n){return t=y0(t),Y3e(e,AD()?Reflect.construct(t,n||[],y0(e).constructor):t.apply(e,n))}function Y3e(e,t){if(t&&(pg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H3e(e)}function H3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AD=function(){return!!e})()}function y0(e){return y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},y0(e)}function F3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qS(e,t)}function qS(e,t){return qS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},qS(e,t)}function Or(e,t,n){return t=bD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bD(e){var t=M3e(e,"string");return pg(t)=="symbol"?t:t+""}function M3e(e,t){if(pg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j3e=function(t){var n=t.data,r=t.startIndex,o=t.endIndex,i=t.x,a=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var s=n.length,c=xf().domain(b0(0,s)).range([i,i+a-l]),u=c.domain().map(function(g){return c(g)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(o),scale:c,scaleValues:u}},j9=function(t){return t.changedTouches&&!!t.changedTouches.length},Ag=function(e){function t(n){var r;return E3e(this,t),r=J3e(this,t,[n]),Or(r,"handleDrag",function(o){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(o):r.state.isSlideMoving&&r.handleSlideDrag(o)}),Or(r,"handleTouchMove",function(o){o.changedTouches!=null&&o.changedTouches.length>0&&r.handleDrag(o.changedTouches[0])}),Or(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var o=r.props,i=o.endIndex,a=o.onDragEnd,l=o.startIndex;a==null||a({endIndex:i,startIndex:l})}),r.detachDragEndListener()}),Or(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Or(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Or(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Or(r,"handleSlideDragStart",function(o){var i=j9(o)?o.changedTouches[0]:o;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return F3e(t,e),X3e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var o=r.startX,i=r.endX,a=this.state.scaleValues,l=this.props,s=l.gap,c=l.data,u=c.length-1,g=Math.min(o,i),d=Math.max(o,i),m=t.getIndexInRange(a,g),I=t.getIndexInRange(a,d);return{startIndex:m-m%s,endIndex:I===u?u:I-I%s}}},{key:"getTextOfTick",value:function(r){var o=this.props,i=o.data,a=o.tickFormatter,l=o.dataKey,s=Ot(i[r],l,r);return je(a)?a(s,r):s}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var o=this.state,i=o.slideMoveStartX,a=o.startX,l=o.endX,s=this.props,c=s.x,u=s.width,g=s.travellerWidth,d=s.startIndex,m=s.endIndex,I=s.onChange,h=r.pageX-i;h>0?h=Math.min(h,c+u-g-l,c+u-g-a):h<0&&(h=Math.max(h,c-a,c-l));var A=this.getIndex({startX:a+h,endX:l+h});(A.startIndex!==d||A.endIndex!==m)&&I&&I(A),this.setState({startX:a+h,endX:l+h,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,o){var i=j9(o)?o.changedTouches[0]:o;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var o=this.state,i=o.brushMoveStartX,a=o.movingTravellerId,l=o.endX,s=o.startX,c=this.state[a],u=this.props,g=u.x,d=u.width,m=u.travellerWidth,I=u.onChange,h=u.gap,A=u.data,C={startX:this.state.startX,endX:this.state.endX},p=r.pageX-i;p>0?p=Math.min(p,g+d-m-c):p<0&&(p=Math.max(p,g-c)),C[a]=c+p;var v=this.getIndex(C),y=v.startIndex,x=v.endIndex,S=function(){var Z=A.length-1;return a==="startX"&&(l>s?y%h===0:x%h===0)||l<s&&x===Z||a==="endX"&&(l>s?x%h===0:y%h===0)||l>s&&x===Z};this.setState(Or(Or({},a,c+p),"brushMoveStartX",r.pageX),function(){I&&S()&&I(v)})}},{key:"handleTravellerMoveKeyboard",value:function(r,o){var i=this,a=this.state,l=a.scaleValues,s=a.startX,c=a.endX,u=this.state[o],g=l.indexOf(u);if(g!==-1){var d=g+r;if(!(d===-1||d>=l.length)){var m=l[d];o==="startX"&&m>=c||o==="endX"&&m<=s||this.setState(Or({},o,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,o=r.x,i=r.y,a=r.width,l=r.height,s=r.fill,c=r.stroke;return G.createElement("rect",{stroke:c,fill:s,x:o,y:i,width:a,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,o=r.x,i=r.y,a=r.width,l=r.height,s=r.data,c=r.children,u=r.padding,g=b.Children.only(c);return g?G.cloneElement(g,{x:o,y:i,width:a,height:l,margin:u,compact:!0,data:s}):null}},{key:"renderTravellerLayer",value:function(r,o){var i,a,l=this,s=this.props,c=s.y,u=s.travellerWidth,g=s.height,d=s.traveller,m=s.ariaLabel,I=s.data,h=s.startIndex,A=s.endIndex,C=Math.max(r,this.props.x),p=m1(m1({},We(this.props,!1)),{},{x:C,y:c,width:u,height:g}),v=m||"Min value: ".concat((i=I[h])===null||i===void 0?void 0:i.name,", Max value: ").concat((a=I[A])===null||a===void 0?void 0:a.name);return G.createElement(_e,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[o],onTouchStart:this.travellerDragStartHandlers[o],onKeyDown:function(x){["ArrowLeft","ArrowRight"].includes(x.key)&&(x.preventDefault(),x.stopPropagation(),l.handleTravellerMoveKeyboard(x.key==="ArrowRight"?1:-1,o))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,p))}},{key:"renderSlide",value:function(r,o){var i=this.props,a=i.y,l=i.height,s=i.stroke,c=i.travellerWidth,u=Math.min(r,o)+c,g=Math.max(Math.abs(o-r)-c,0);return G.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:s,fillOpacity:.2,x:u,y:a,width:g,height:l})}},{key:"renderText",value:function(){var r=this.props,o=r.startIndex,i=r.endIndex,a=r.y,l=r.height,s=r.travellerWidth,c=r.stroke,u=this.state,g=u.startX,d=u.endX,m=5,I={pointerEvents:"none",fill:c};return G.createElement(_e,{className:"recharts-brush-texts"},G.createElement(Gc,v0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(g,d)-m,y:a+l/2},I),this.getTextOfTick(o)),G.createElement(Gc,v0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(g,d)+s+m,y:a+l/2},I),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,o=r.data,i=r.className,a=r.children,l=r.x,s=r.y,c=r.width,u=r.height,g=r.alwaysShowText,d=this.state,m=d.startX,I=d.endX,h=d.isTextActive,A=d.isSlideMoving,C=d.isTravellerMoving,p=d.isTravellerFocused;if(!o||!o.length||!Ae(l)||!Ae(s)||!Ae(c)||!Ae(u)||c<=0||u<=0)return null;var v=Ve("recharts-brush",i),y=G.Children.count(a)===1,x=N3e("userSelect","none");return G.createElement(_e,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),y&&this.renderPanorama(),this.renderSlide(m,I),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(I,"endX"),(h||A||C||p||g)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var o=r.x,i=r.y,a=r.width,l=r.height,s=r.stroke,c=Math.floor(i+l/2)-1;return G.createElement(G.Fragment,null,G.createElement("rect",{x:o,y:i,width:a,height:l,fill:s,stroke:"none"}),G.createElement("line",{x1:o+1,y1:c,x2:o+a-1,y2:c,fill:"none",stroke:"#fff"}),G.createElement("line",{x1:o+1,y1:c+2,x2:o+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,o){var i;return G.isValidElement(r)?i=G.cloneElement(r,o):je(r)?i=r(o):i=t.renderDefaultTraveller(o),i}},{key:"getDerivedStateFromProps",value:function(r,o){var i=r.data,a=r.width,l=r.x,s=r.travellerWidth,c=r.updateId,u=r.startIndex,g=r.endIndex;if(i!==o.prevData||c!==o.prevUpdateId)return m1({prevData:i,prevTravellerWidth:s,prevUpdateId:c,prevX:l,prevWidth:a},i&&i.length?j3e({data:i,width:a,x:l,travellerWidth:s,startIndex:u,endIndex:g}):{scale:null,scaleValues:null});if(o.scale&&(a!==o.prevWidth||l!==o.prevX||s!==o.prevTravellerWidth)){o.scale.range([l,l+a-s]);var d=o.scale.domain().map(function(m){return o.scale(m)});return{prevData:i,prevTravellerWidth:s,prevUpdateId:c,prevX:l,prevWidth:a,startX:o.scale(r.startIndex),endX:o.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,o){for(var i=r.length,a=0,l=i-1;l-a>1;){var s=Math.floor((a+l)/2);r[s]>o?l=s:a=s}return o>=r[l]?l:a}}])}(b.PureComponent);Or(Ag,"displayName","Brush");Or(Ag,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var T3e=XB;function L3e(e,t){var n;return T3e(e,function(r,o,i){return n=t(r,o,i),!n}),!!n}var K3e=L3e,O3e=mT,P3e=Qi,D3e=K3e,z3e=jr,U3e=Hb;function _3e(e,t,n){var r=z3e(e)?O3e:D3e;return n&&U3e(e,t,n)&&(t=void 0),r(e,P3e(t))}var Q3e=_3e;const $3e=ot(Q3e);var Hi=function(t,n){var r=t.alwaysShow,o=t.ifOverflow;return r&&(o="extendDomain"),o===n},T9=EO;function q3e(e,t,n){t=="__proto__"&&T9?T9(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var eEe=q3e,tEe=eEe,nEe=WO,rEe=Qi;function oEe(e,t){var n={};return t=rEe(t),nEe(e,function(r,o,i){tEe(n,o,t(r,o,i))}),n}var iEe=oEe;const aEe=ot(iEe);function lEe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var sEe=lEe,cEe=XB;function uEe(e,t){var n=!0;return cEe(e,function(r,o,i){return n=!!t(r,o,i),n}),n}var gEe=uEe,dEe=sEe,fEe=gEe,mEe=Qi,IEe=jr,hEe=Hb;function CEe(e,t,n){var r=IEe(e)?dEe:fEe;return n&&hEe(e,t,n)&&(t=void 0),r(e,mEe(t))}var pEe=CEe;const vD=ot(pEe);var AEe=["x","y"];function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function eZ(){return eZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eZ.apply(this,arguments)}function L9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function jd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L9(Object(n),!0).forEach(function(r){bEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bEe(e,t,n){return t=vEe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vEe(e){var t=yEe(e,"string");return Hm(t)=="symbol"?t:t+""}function yEe(e,t){if(Hm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xEe(e,t){if(e==null)return{};var n=SEe(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function SEe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ZEe(e,t){var n=e.x,r=e.y,o=xEe(e,AEe),i="".concat(n),a=parseInt(i,10),l="".concat(r),s=parseInt(l,10),c="".concat(t.height||o.height),u=parseInt(c,10),g="".concat(t.width||o.width),d=parseInt(g,10);return jd(jd(jd(jd(jd({},t),o),a?{x:a}:{}),s?{y:s}:{}),{},{height:u,width:d,name:t.name,radius:t.radius})}function K9(e){return G.createElement(p0,eZ({shapeType:"rectangle",propTransformer:ZEe,activeClassName:"recharts-active-bar"},e))}var wEe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,o){if(typeof t=="number")return t;var i=typeof r=="number";return i?t(r,o):(i||kc(!1),n)}},GEe=["value","background"],yD;function bg(e){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(e)}function BEe(e,t){if(e==null)return{};var n=kEe(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kEe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x0.apply(this,arguments)}function O9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O9(Object(n),!0).forEach(function(r){xl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function REe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SD(r.key),r)}}function VEe(e,t,n){return t&&P9(e.prototype,t),n&&P9(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function WEe(e,t,n){return t=S0(t),NEe(e,xD()?Reflect.construct(t,n||[],S0(e).constructor):t.apply(e,n))}function NEe(e,t){if(t&&(bg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EEe(e)}function EEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xD=function(){return!!e})()}function S0(e){return S0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},S0(e)}function XEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tZ(e,t)}function tZ(e,t){return tZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},tZ(e,t)}function xl(e,t,n){return t=SD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SD(e){var t=JEe(e,"string");return bg(t)=="symbol"?t:t+""}function JEe(e,t){if(bg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var As=function(e){function t(){var n;REe(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=WEe(this,t,[].concat(o)),xl(n,"state",{isAnimationFinished:!1}),xl(n,"id",ms("recharts-bar-")),xl(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),xl(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return XEe(t,e),VEe(t,[{key:"renderRectanglesStatically",value:function(r){var o=this,i=this.props,a=i.shape,l=i.dataKey,s=i.activeIndex,c=i.activeBar,u=We(this.props,!1);return r&&r.map(function(g,d){var m=d===s,I=m?c:a,h=Cn(Cn(Cn({},u),g),{},{isActive:m,option:I,index:d,dataKey:l,onAnimationStart:o.handleAnimationStart,onAnimationEnd:o.handleAnimationEnd});return G.createElement(_e,x0({className:"recharts-bar-rectangle"},Ul(o.props,g,d),{key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value)}),G.createElement(K9,h))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,o=this.props,i=o.data,a=o.layout,l=o.isAnimationActive,s=o.animationBegin,c=o.animationDuration,u=o.animationEasing,g=o.animationId,d=this.state.prevData;return G.createElement(Fo,{begin:s,duration:c,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var I=m.t,h=i.map(function(A,C){var p=d&&d[C];if(p){var v=$t(p.x,A.x),y=$t(p.y,A.y),x=$t(p.width,A.width),S=$t(p.height,A.height);return Cn(Cn({},A),{},{x:v(I),y:y(I),width:x(I),height:S(I)})}if(a==="horizontal"){var B=$t(0,A.height),Z=B(I);return Cn(Cn({},A),{},{y:A.y+A.height-Z,height:Z})}var R=$t(0,A.width),w=R(I);return Cn(Cn({},A),{},{width:w})});return G.createElement(_e,null,r.renderRectanglesStatically(h))})}},{key:"renderRectangles",value:function(){var r=this.props,o=r.data,i=r.isAnimationActive,a=this.state.prevData;return i&&o&&o.length&&(!a||!Ol(a,o))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(o)}},{key:"renderBackground",value:function(){var r=this,o=this.props,i=o.data,a=o.dataKey,l=o.activeIndex,s=We(this.props.background,!1);return i.map(function(c,u){c.value;var g=c.background,d=BEe(c,GEe);if(!g)return null;var m=Cn(Cn(Cn(Cn(Cn({},d),{},{fill:"#eee"},g),s),Ul(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:u,className:"recharts-bar-background-rectangle"});return G.createElement(K9,x0({key:"background-bar-".concat(u),option:r.props.background,isActive:u===l},m))})}},{key:"renderErrorBar",value:function(r,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.data,l=i.xAxis,s=i.yAxis,c=i.layout,u=i.children,g=pr(u,ad);if(!g)return null;var d=c==="vertical"?a[0].height/2:a[0].width/2,m=function(A,C){var p=Array.isArray(A.value)?A.value[1]:A.value;return{x:A.x,y:A.y,value:p,errorVal:Ot(A,C)}},I={clipPath:r?"url(#clipPath-".concat(o,")"):null};return G.createElement(_e,I,g.map(function(h){return G.cloneElement(h,{key:"error-bar-".concat(o,"-").concat(h.props.dataKey),data:a,xAxis:l,yAxis:s,layout:c,offset:d,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,o=r.hide,i=r.data,a=r.className,l=r.xAxis,s=r.yAxis,c=r.left,u=r.top,g=r.width,d=r.height,m=r.isAnimationActive,I=r.background,h=r.id;if(o||!i||!i.length)return null;var A=this.state.isAnimationFinished,C=Ve("recharts-bar",a),p=l&&l.allowDataOverflow,v=s&&s.allowDataOverflow,y=p||v,x=He(h)?this.id:h;return G.createElement(_e,{className:C},p||v?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(x)},G.createElement("rect",{x:p?c:c-g/2,y:v?u:u-d/2,width:p?g:g*2,height:v?d:d*2}))):null,G.createElement(_e,{className:"recharts-bar-rectangles",clipPath:y?"url(#clipPath-".concat(x,")"):null},I?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(y,x),(!m||A)&&si.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,o){return r.animationId!==o.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:o.curData}:r.data!==o.curData?{curData:r.data}:null}}])}(b.PureComponent);yD=As;xl(As,"displayName","Bar");xl(As,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Xo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});xl(As,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,o=e.bandSize,i=e.xAxis,a=e.yAxis,l=e.xAxisTicks,s=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,g=e.displayedData,d=e.offset,m=WRe(r,n);if(!m)return null;var I=t.layout,h=n.type.defaultProps,A=h!==void 0?Cn(Cn({},h),n.props):n.props,C=A.dataKey,p=A.children,v=A.minPointSize,y=I==="horizontal"?a:i,x=c?y.scale.domain():null,S=FRe({numericAxis:y}),B=pr(p,Fb),Z=g.map(function(R,w){var k,V,W,N,X,J;c?k=NRe(c[u+w],x):(k=Ot(R,C),Array.isArray(k)||(k=[S,k]));var E=wEe(v,yD.defaultProps.minPointSize)(k[1],w);if(I==="horizontal"){var F,H=[a.scale(k[0]),a.scale(k[1])],M=H[0],Y=H[1];V=EX({axis:i,ticks:l,bandSize:o,offset:m.offset,entry:R,index:w}),W=(F=Y??M)!==null&&F!==void 0?F:void 0,N=m.size;var T=M-Y;if(X=Number.isNaN(T)?0:T,J={x:V,y:a.y,width:N,height:a.height},Math.abs(E)>0&&Math.abs(X)<Math.abs(E)){var O=mr(X||E)*(Math.abs(E)-Math.abs(X));W-=O,X+=O}}else{var P=[i.scale(k[0]),i.scale(k[1])],L=P[0],j=P[1];if(V=L,W=EX({axis:a,ticks:s,bandSize:o,offset:m.offset,entry:R,index:w}),N=j-L,X=m.size,J={x:i.x,y:W,width:i.width,height:X},Math.abs(E)>0&&Math.abs(N)<Math.abs(E)){var D=mr(N||E)*(Math.abs(E)-Math.abs(N));N+=D}}return Cn(Cn(Cn({},R),{},{x:V,y:W,width:N,height:X,value:c?k:k[1],payload:R,background:J},B&&B[w]&&B[w].props),{},{tooltipPayload:[_P(n,R)],tooltipPosition:{x:V+N/2,y:W+X/2}})});return Cn({data:Z,layout:I},d)});function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function YEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZD(r.key),r)}}function HEe(e,t,n){return t&&D9(e.prototype,t),n&&D9(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function z9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z9(Object(n),!0).forEach(function(r){nv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nv(e,t,n){return t=ZD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZD(e){var t=FEe(e,"string");return Fm(t)=="symbol"?t:t+""}function FEe(e,t){if(Fm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rv=function(t,n,r,o,i){var a=t.width,l=t.height,s=t.layout,c=t.children,u=Object.keys(n),g={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},d=!!zr(c,As);return u.reduce(function(m,I){var h=n[I],A=h.orientation,C=h.domain,p=h.padding,v=p===void 0?{}:p,y=h.mirror,x=h.reversed,S="".concat(A).concat(y?"Mirror":""),B,Z,R,w,k;if(h.type==="number"&&(h.padding==="gap"||h.padding==="no-gap")){var V=C[1]-C[0],W=1/0,N=h.categoricalDomain.sort();if(N.forEach(function(P,L){L>0&&(W=Math.min((P||0)-(N[L-1]||0),W))}),Number.isFinite(W)){var X=W/V,J=h.layout==="vertical"?r.height:r.width;if(h.padding==="gap"&&(B=X*J/2),h.padding==="no-gap"){var E=Ir(t.barCategoryGap,X*J),F=X*J/2;B=F-E-(F-E)/J*E}}}o==="xAxis"?Z=[r.left+(v.left||0)+(B||0),r.left+r.width-(v.right||0)-(B||0)]:o==="yAxis"?Z=s==="horizontal"?[r.top+r.height-(v.bottom||0),r.top+(v.top||0)]:[r.top+(v.top||0)+(B||0),r.top+r.height-(v.bottom||0)-(B||0)]:Z=h.range,x&&(Z=[Z[1],Z[0]]);var H=PP(h,i,d),M=H.scale,Y=H.realScaleType;M.domain(C).range(Z),DP(M);var T=zP(M,ei(ei({},h),{},{realScaleType:Y}));o==="xAxis"?(k=A==="top"&&!y||A==="bottom"&&y,R=r.left,w=g[S]-k*h.height):o==="yAxis"&&(k=A==="left"&&!y||A==="right"&&y,R=g[S]-k*h.width,w=r.top);var O=ei(ei(ei({},h),T),{},{realScaleType:Y,x:R,y:w,scale:M,width:o==="xAxis"?r.width:h.width,height:o==="yAxis"?r.height:h.height});return O.bandSize=l0(O,T),!h.hide&&o==="xAxis"?g[S]+=(k?-1:1)*O.height:h.hide||(g[S]+=(k?-1:1)*O.width),ei(ei({},m),{},nv({},I,O))},{})},wD=function(t,n){var r=t.x,o=t.y,i=n.x,a=n.y;return{x:Math.min(r,i),y:Math.min(o,a),width:Math.abs(i-r),height:Math.abs(a-o)}},MEe=function(t){var n=t.x1,r=t.y1,o=t.x2,i=t.y2;return wD({x:n,y:r},{x:o,y:i})},GD=function(){function e(t){YEe(this,e),this.scale=t}return HEe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(o){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),o=r[0],i=r[r.length-1];return o<=i?n>=o&&n<=i:n>=i&&n<=o}}],[{key:"create",value:function(n){return new e(n)}}])}();nv(GD,"EPS",1e-4);var gk=function(t){var n=Object.keys(t).reduce(function(r,o){return ei(ei({},r),{},nv({},o,GD.create(t[o])))},{});return ei(ei({},n),{},{apply:function(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.bandAware,l=i.position;return aEe(o,function(s,c){return n[c].apply(s,{bandAware:a,position:l})})},isInRange:function(o){return vD(o,function(i,a){return n[a].isInRange(i)})}})};function jEe(e){return(e%180+180)%180}var TEe=function(t){var n=t.width,r=t.height,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=jEe(o),a=i*Math.PI/180,l=Math.atan(r/n),s=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(s)},LEe=Qi,KEe=lI,OEe=JA;function PEe(e){return function(t,n,r){var o=Object(t);if(!KEe(t)){var i=LEe(n);t=OEe(t),n=function(l){return i(o[l],l,o)}}var a=e(t,n,r);return a>-1?o[i?t[a]:a]:void 0}}var DEe=PEe,zEe=CD;function UEe(e){var t=zEe(e),n=t%1;return t===t?n?t-n:t:0}var _Ee=UEe,QEe=wO,$Ee=Qi,qEe=_Ee,eXe=Math.max;function tXe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:qEe(n);return o<0&&(o=eXe(r+o,0)),QEe(e,$Ee(t),o)}var nXe=tXe,rXe=DEe,oXe=nXe,iXe=rXe(oXe),aXe=iXe;const lXe=ot(aXe);var sXe=ube(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),dk=b.createContext(void 0),fk=b.createContext(void 0),BD=b.createContext(void 0),kD=b.createContext({}),RD=b.createContext(void 0),VD=b.createContext(0),WD=b.createContext(0),U9=function(t){var n=t.state,r=n.xAxisMap,o=n.yAxisMap,i=n.offset,a=t.clipPathId,l=t.children,s=t.width,c=t.height,u=sXe(i);return G.createElement(dk.Provider,{value:r},G.createElement(fk.Provider,{value:o},G.createElement(kD.Provider,{value:i},G.createElement(BD.Provider,{value:u},G.createElement(RD.Provider,{value:a},G.createElement(VD.Provider,{value:c},G.createElement(WD.Provider,{value:s},l)))))))},cXe=function(){return b.useContext(RD)},ND=function(t){var n=b.useContext(dk);n==null&&kc(!1);var r=n[t];return r==null&&kc(!1),r},uXe=function(){var t=b.useContext(dk);return ml(t)},gXe=function(){var t=b.useContext(fk),n=lXe(t,function(r){return vD(r.domain,Number.isFinite)});return n||ml(t)},ED=function(t){var n=b.useContext(fk);n==null&&kc(!1);var r=n[t];return r==null&&kc(!1),r},dXe=function(){var t=b.useContext(BD);return t},fXe=function(){return b.useContext(kD)},mk=function(){return b.useContext(WD)},Ik=function(){return b.useContext(VD)};function vg(e){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(e)}function mXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JD(r.key),r)}}function IXe(e,t,n){return t&&_9(e.prototype,t),n&&_9(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hXe(e,t,n){return t=Z0(t),CXe(e,XD()?Reflect.construct(t,n||[],Z0(e).constructor):t.apply(e,n))}function CXe(e,t){if(t&&(vg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pXe(e)}function pXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XD=function(){return!!e})()}function Z0(e){return Z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z0(e)}function AXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nZ(e,t)}function nZ(e,t){return nZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},nZ(e,t)}function Q9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function $9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q9(Object(n),!0).forEach(function(r){hk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hk(e,t,n){return t=JD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JD(e){var t=bXe(e,"string");return vg(t)=="symbol"?t:t+""}function bXe(e,t){if(vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vXe(e,t){return ZXe(e)||SXe(e,t)||xXe(e,t)||yXe()}function yXe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xXe(e,t){if(e){if(typeof e=="string")return q9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q9(e,t)}}function q9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SXe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,o=u}finally{try{if(!s&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function ZXe(e){if(Array.isArray(e))return e}function rZ(){return rZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rZ.apply(this,arguments)}var wXe=function(t,n){var r;return G.isValidElement(t)?r=G.cloneElement(t,n):je(t)?r=t(n):r=G.createElement("line",rZ({},n,{className:"recharts-reference-line-line"})),r},GXe=function(t,n,r,o,i,a,l,s,c){var u=i.x,g=i.y,d=i.width,m=i.height;if(r){var I=c.y,h=t.y.apply(I,{position:a});if(Hi(c,"discard")&&!t.y.isInRange(h))return null;var A=[{x:u+d,y:h},{x:u,y:h}];return s==="left"?A.reverse():A}if(n){var C=c.x,p=t.x.apply(C,{position:a});if(Hi(c,"discard")&&!t.x.isInRange(p))return null;var v=[{x:p,y:g+m},{x:p,y:g}];return l==="top"?v.reverse():v}if(o){var y=c.segment,x=y.map(function(S){return t.apply(S,{position:a})});return Hi(c,"discard")&&$3e(x,function(S){return!t.isInRange(S)})?null:x}return null};function BXe(e){var t=e.x,n=e.y,r=e.segment,o=e.xAxisId,i=e.yAxisId,a=e.shape,l=e.className,s=e.alwaysShow,c=cXe(),u=ND(o),g=ED(i),d=dXe();if(!c||!d)return null;li(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=gk({x:u.scale,y:g.scale}),I=Gn(t),h=Gn(n),A=r&&r.length===2,C=GXe(m,I,h,A,d,e.position,u.orientation,g.orientation,e);if(!C)return null;var p=vXe(C,2),v=p[0],y=v.x,x=v.y,S=p[1],B=S.x,Z=S.y,R=Hi(e,"hidden")?"url(#".concat(c,")"):void 0,w=$9($9({clipPath:R},We(e,!0)),{},{x1:y,y1:x,x2:B,y2:Z});return G.createElement(_e,{className:Ve("recharts-reference-line",l)},wXe(a,w),xt.renderCallByParent(e,MEe({x1:y,y1:x,x2:B,y2:Z})))}var Ck=function(e){function t(){return mXe(this,t),hXe(this,t,arguments)}return AXe(t,e),IXe(t,[{key:"render",value:function(){return G.createElement(BXe,this.props)}}])}(G.Component);hk(Ck,"displayName","ReferenceLine");hk(Ck,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function oZ(){return oZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oZ.apply(this,arguments)}function yg(e){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(e)}function eJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function tJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eJ(Object(n),!0).forEach(function(r){ov(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HD(r.key),r)}}function RXe(e,t,n){return t&&nJ(e.prototype,t),n&&nJ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function VXe(e,t,n){return t=w0(t),WXe(e,YD()?Reflect.construct(t,n||[],w0(e).constructor):t.apply(e,n))}function WXe(e,t){if(t&&(yg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NXe(e)}function NXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YD=function(){return!!e})()}function w0(e){return w0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},w0(e)}function EXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iZ(e,t)}function iZ(e,t){return iZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},iZ(e,t)}function ov(e,t,n){return t=HD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HD(e){var t=XXe(e,"string");return yg(t)=="symbol"?t:t+""}function XXe(e,t){if(yg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JXe=function(t){var n=t.x,r=t.y,o=t.xAxis,i=t.yAxis,a=gk({x:o.scale,y:i.scale}),l=a.apply({x:n,y:r},{bandAware:!0});return Hi(t,"discard")&&!a.isInRange(l)?null:l},iv=function(e){function t(){return kXe(this,t),VXe(this,t,arguments)}return EXe(t,e),RXe(t,[{key:"render",value:function(){var r=this.props,o=r.x,i=r.y,a=r.r,l=r.alwaysShow,s=r.clipPathId,c=Gn(o),u=Gn(i);if(li(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var g=JXe(this.props);if(!g)return null;var d=g.x,m=g.y,I=this.props,h=I.shape,A=I.className,C=Hi(this.props,"hidden")?"url(#".concat(s,")"):void 0,p=tJ(tJ({clipPath:C},We(this.props,!0)),{},{cx:d,cy:m});return G.createElement(_e,{className:Ve("recharts-reference-dot",A)},t.renderDot(h,p),xt.renderCallByParent(this.props,{x:d-a,y:m-a,width:2*a,height:2*a}))}}])}(G.Component);ov(iv,"displayName","ReferenceDot");ov(iv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ov(iv,"renderDot",function(e,t){var n;return G.isValidElement(e)?n=G.cloneElement(e,t):je(e)?n=e(t):n=G.createElement(Pi,oZ({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function aZ(){return aZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aZ.apply(this,arguments)}function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}function rJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function oJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rJ(Object(n),!0).forEach(function(r){av(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MD(r.key),r)}}function HXe(e,t,n){return t&&iJ(e.prototype,t),n&&iJ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function FXe(e,t,n){return t=G0(t),MXe(e,FD()?Reflect.construct(t,n||[],G0(e).constructor):t.apply(e,n))}function MXe(e,t){if(t&&(xg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jXe(e)}function jXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FD=function(){return!!e})()}function G0(e){return G0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},G0(e)}function TXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lZ(e,t)}function lZ(e,t){return lZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},lZ(e,t)}function av(e,t,n){return t=MD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MD(e){var t=LXe(e,"string");return xg(t)=="symbol"?t:t+""}function LXe(e,t){if(xg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KXe=function(t,n,r,o,i){var a=i.x1,l=i.x2,s=i.y1,c=i.y2,u=i.xAxis,g=i.yAxis;if(!u||!g)return null;var d=gk({x:u.scale,y:g.scale}),m={x:t?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(s,{position:"start"}):d.y.rangeMin},I={x:n?d.x.apply(l,{position:"end"}):d.x.rangeMax,y:o?d.y.apply(c,{position:"end"}):d.y.rangeMax};return Hi(i,"discard")&&(!d.isInRange(m)||!d.isInRange(I))?null:wD(m,I)},lv=function(e){function t(){return YXe(this,t),FXe(this,t,arguments)}return TXe(t,e),HXe(t,[{key:"render",value:function(){var r=this.props,o=r.x1,i=r.x2,a=r.y1,l=r.y2,s=r.className,c=r.alwaysShow,u=r.clipPathId;li(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=Gn(o),d=Gn(i),m=Gn(a),I=Gn(l),h=this.props.shape;if(!g&&!d&&!m&&!I&&!h)return null;var A=KXe(g,d,m,I,this.props);if(!A&&!h)return null;var C=Hi(this.props,"hidden")?"url(#".concat(u,")"):void 0;return G.createElement(_e,{className:Ve("recharts-reference-area",s)},t.renderRect(h,oJ(oJ({clipPath:C},We(this.props,!0)),A)),xt.renderCallByParent(this.props,A))}}])}(G.Component);av(lv,"displayName","ReferenceArea");av(lv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});av(lv,"renderRect",function(e,t){var n;return G.isValidElement(e)?n=G.cloneElement(e,t):je(e)?n=e(t):n=G.createElement(uk,aZ({},t,{className:"recharts-reference-area-rect"})),n});function jD(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],o=0;o<e.length;o+=t)if(n===void 0||n(e[o])===!0)r.push(e[o]);else return;return r}function OXe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return TEe(r,n)}function PXe(e,t,n){var r=n==="width",o=e.x,i=e.y,a=e.width,l=e.height;return t===1?{start:r?o:i,end:r?o+a:i+l}:{start:r?o+a:i+l,end:r?o:i}}function B0(e,t,n,r,o){if(e*t<e*r||e*t>e*o)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-o)<=0}function DXe(e,t){return jD(e,t+1)}function zXe(e,t,n,r,o){for(var i=(r||[]).slice(),a=t.start,l=t.end,s=0,c=1,u=a,g=function(){var I=r==null?void 0:r[s];if(I===void 0)return{v:jD(r,c)};var h=s,A,C=function(){return A===void 0&&(A=n(I,h)),A},p=I.coordinate,v=s===0||B0(e,p,C,u,l);v||(s=0,u=a,c+=1),v&&(u=p+e*(C()/2+o),s+=c)},d;c<=i.length;)if(d=g(),d)return d.v;return[]}function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function aJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aJ(Object(n),!0).forEach(function(r){UXe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UXe(e,t,n){return t=_Xe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Xe(e){var t=QXe(e,"string");return Mm(t)=="symbol"?t:t+""}function QXe(e,t){if(Mm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Xe(e,t,n,r,o){for(var i=(r||[]).slice(),a=i.length,l=t.start,s=t.end,c=function(d){var m=i[d],I,h=function(){return I===void 0&&(I=n(m,d)),I};if(d===a-1){var A=e*(m.coordinate+e*h()/2-s);i[d]=m=ir(ir({},m),{},{tickCoord:A>0?m.coordinate-A*e:m.coordinate})}else i[d]=m=ir(ir({},m),{},{tickCoord:m.coordinate});var C=B0(e,m.tickCoord,h,l,s);C&&(s=m.tickCoord-e*(h()/2+o),i[d]=ir(ir({},m),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return i}function qXe(e,t,n,r,o,i){var a=(r||[]).slice(),l=a.length,s=t.start,c=t.end;if(i){var u=r[l-1],g=n(u,l-1),d=e*(u.coordinate+e*g/2-c);a[l-1]=u=ir(ir({},u),{},{tickCoord:d>0?u.coordinate-d*e:u.coordinate});var m=B0(e,u.tickCoord,function(){return g},s,c);m&&(c=u.tickCoord-e*(g/2+o),a[l-1]=ir(ir({},u),{},{isShow:!0}))}for(var I=i?l-1:l,h=function(p){var v=a[p],y,x=function(){return y===void 0&&(y=n(v,p)),y};if(p===0){var S=e*(v.coordinate-e*x()/2-s);a[p]=v=ir(ir({},v),{},{tickCoord:S<0?v.coordinate-S*e:v.coordinate})}else a[p]=v=ir(ir({},v),{},{tickCoord:v.coordinate});var B=B0(e,v.tickCoord,x,s,c);B&&(s=v.tickCoord+e*(x()/2+o),a[p]=ir(ir({},v),{},{isShow:!0}))},A=0;A<I;A++)h(A);return a}function pk(e,t,n){var r=e.tick,o=e.ticks,i=e.viewBox,a=e.minTickGap,l=e.orientation,s=e.interval,c=e.tickFormatter,u=e.unit,g=e.angle;if(!o||!o.length||!r)return[];if(Ae(s)||Xo.isSsr)return DXe(o,typeof s=="number"&&Ae(s)?s:0);var d=[],m=l==="top"||l==="bottom"?"width":"height",I=u&&m==="width"?yf(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},h=function(v,y){var x=je(c)?c(v.value,y):v.value;return m==="width"?OXe(yf(x,{fontSize:t,letterSpacing:n}),I,g):yf(x,{fontSize:t,letterSpacing:n})[m]},A=o.length>=2?mr(o[1].coordinate-o[0].coordinate):1,C=PXe(i,A,m);return s==="equidistantPreserveStart"?zXe(A,C,h,o,a):(s==="preserveStart"||s==="preserveStartEnd"?d=qXe(A,C,h,o,a,s==="preserveStartEnd"):d=$Xe(A,C,h,o,a),d.filter(function(p){return p.isShow}))}var e9e=["viewBox"],t9e=["viewBox"],n9e=["ticks"];function Sg(e){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(e)}function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yu.apply(this,arguments)}function lJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ur(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lJ(Object(n),!0).forEach(function(r){Ak(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I1(e,t){if(e==null)return{};var n=r9e(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function r9e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function o9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LD(r.key),r)}}function i9e(e,t,n){return t&&sJ(e.prototype,t),n&&sJ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a9e(e,t,n){return t=k0(t),l9e(e,TD()?Reflect.construct(t,n||[],k0(e).constructor):t.apply(e,n))}function l9e(e,t){if(t&&(Sg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s9e(e)}function s9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TD=function(){return!!e})()}function k0(e){return k0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},k0(e)}function c9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sZ(e,t)}function sZ(e,t){return sZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},sZ(e,t)}function Ak(e,t,n){return t=LD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LD(e){var t=u9e(e,"string");return Sg(t)=="symbol"?t:t+""}function u9e(e,t){if(Sg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sd=function(e){function t(n){var r;return o9e(this,t),r=a9e(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return c9e(t,e),i9e(t,[{key:"shouldComponentUpdate",value:function(r,o){var i=r.viewBox,a=I1(r,e9e),l=this.props,s=l.viewBox,c=I1(l,t9e);return!Xu(i,s)||!Xu(a,c)||!Xu(o,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var o=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];o&&this.setState({fontSize:window.getComputedStyle(o).fontSize,letterSpacing:window.getComputedStyle(o).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var o=this.props,i=o.x,a=o.y,l=o.width,s=o.height,c=o.orientation,u=o.tickSize,g=o.mirror,d=o.tickMargin,m,I,h,A,C,p,v=g?-1:1,y=r.tickSize||u,x=Ae(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":m=I=r.coordinate,A=a+ +!g*s,h=A-v*y,p=h-v*d,C=x;break;case"left":h=A=r.coordinate,I=i+ +!g*l,m=I-v*y,C=m-v*d,p=x;break;case"right":h=A=r.coordinate,I=i+ +g*l,m=I+v*y,C=m+v*d,p=x;break;default:m=I=r.coordinate,A=a+ +g*s,h=A+v*y,p=h+v*d,C=x;break}return{line:{x1:m,y1:h,x2:I,y2:A},tick:{x:C,y:p}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,o=r.orientation,i=r.mirror,a;switch(o){case"left":a=i?"start":"end";break;case"right":a=i?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,o=r.orientation,i=r.mirror,a="end";switch(o){case"left":case"right":a="middle";break;case"top":a=i?"start":"end";break;default:a=i?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,o=r.x,i=r.y,a=r.width,l=r.height,s=r.orientation,c=r.mirror,u=r.axisLine,g=ur(ur(ur({},We(this.props,!1)),We(u,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!c||s==="bottom"&&c);g=ur(ur({},g),{},{x1:o,y1:i+d*l,x2:o+a,y2:i+d*l})}else{var m=+(s==="left"&&!c||s==="right"&&c);g=ur(ur({},g),{},{x1:o+m*a,y1:i,x2:o+m*a,y2:i+l})}return G.createElement("line",yu({},g,{className:Ve("recharts-cartesian-axis-line",io(u,"className"))}))}},{key:"renderTicks",value:function(r,o,i){var a=this,l=this.props,s=l.tickLine,c=l.stroke,u=l.tick,g=l.tickFormatter,d=l.unit,m=pk(ur(ur({},this.props),{},{ticks:r}),o,i),I=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),A=We(this.props,!1),C=We(u,!1),p=ur(ur({},A),{},{fill:"none"},We(s,!1)),v=m.map(function(y,x){var S=a.getTickLineCoord(y),B=S.line,Z=S.tick,R=ur(ur(ur(ur({textAnchor:I,verticalAnchor:h},A),{},{stroke:"none",fill:c},C),Z),{},{index:x,payload:y,visibleTicksCount:m.length,tickFormatter:g});return G.createElement(_e,yu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},Ul(a.props,y,x)),s&&G.createElement("line",yu({},p,B,{className:Ve("recharts-cartesian-axis-tick-line",io(s,"className"))})),u&&t.renderTickItem(u,R,"".concat(je(g)?g(y.value,x):y.value).concat(d||"")))});return G.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var r=this,o=this.props,i=o.axisLine,a=o.width,l=o.height,s=o.ticksGenerator,c=o.className,u=o.hide;if(u)return null;var g=this.props,d=g.ticks,m=I1(g,n9e),I=d;return je(s)&&(I=d&&d.length>0?s(this.props):s(m)),a<=0||l<=0||!I||!I.length?null:G.createElement(_e,{className:Ve("recharts-cartesian-axis",c),ref:function(A){r.layerReference=A}},i&&this.renderAxisLine(),this.renderTicks(I,this.state.fontSize,this.state.letterSpacing),xt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,o,i){var a;return G.isValidElement(r)?a=G.cloneElement(r,o):je(r)?a=r(o):a=G.createElement(Gc,yu({},o,{className:"recharts-cartesian-axis-tick-value"}),i),a}}])}(b.Component);Ak(sd,"displayName","CartesianAxis");Ak(sd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var g9e=["x1","y1","x2","y2","key"],d9e=["offset"];function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function cJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cJ(Object(n),!0).forEach(function(r){f9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f9e(e,t,n){return t=m9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m9e(e){var t=I9e(e,"string");return Rc(t)=="symbol"?t:t+""}function I9e(e,t){if(Rc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oc(){return oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oc.apply(this,arguments)}function uJ(e,t){if(e==null)return{};var n=h9e(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function h9e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var C9e=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,o=t.x,i=t.y,a=t.width,l=t.height,s=t.ry;return G.createElement("rect",{x:o,y:i,ry:s,width:a,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function KD(e,t){var n;if(G.isValidElement(e))n=G.cloneElement(e,t);else if(je(e))n=e(t);else{var r=t.x1,o=t.y1,i=t.x2,a=t.y2,l=t.key,s=uJ(t,g9e),c=We(s,!1);c.offset;var u=uJ(c,d9e);n=G.createElement("line",oc({},u,{x1:r,y1:o,x2:i,y2:a,fill:"none",key:l}))}return n}function p9e(e){var t=e.x,n=e.width,r=e.horizontal,o=r===void 0?!0:r,i=e.horizontalPoints;if(!o||!i||!i.length)return null;var a=i.map(function(l,s){var c=lr(lr({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(s),index:s});return KD(o,c)});return G.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function A9e(e){var t=e.y,n=e.height,r=e.vertical,o=r===void 0?!0:r,i=e.verticalPoints;if(!o||!i||!i.length)return null;var a=i.map(function(l,s){var c=lr(lr({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(s),index:s});return KD(o,c)});return G.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function b9e(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,o=e.y,i=e.width,a=e.height,l=e.horizontalPoints,s=e.horizontal,c=s===void 0?!0:s;if(!c||!t||!t.length)return null;var u=l.map(function(d){return Math.round(d+o-o)}).sort(function(d,m){return d-m});o!==u[0]&&u.unshift(0);var g=u.map(function(d,m){var I=!u[m+1],h=I?o+a-d:u[m+1]-d;if(h<=0)return null;var A=m%t.length;return G.createElement("rect",{key:"react-".concat(m),y:d,x:r,height:h,width:i,stroke:"none",fill:t[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function v9e(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,o=e.fillOpacity,i=e.x,a=e.y,l=e.width,s=e.height,c=e.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(d){return Math.round(d+i-i)}).sort(function(d,m){return d-m});i!==u[0]&&u.unshift(0);var g=u.map(function(d,m){var I=!u[m+1],h=I?i+l-d:u[m+1]-d;if(h<=0)return null;var A=m%r.length;return G.createElement("rect",{key:"react-".concat(m),x:d,y:a,width:h,height:s,stroke:"none",fill:r[A],fillOpacity:o,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var y9e=function(t,n){var r=t.xAxis,o=t.width,i=t.height,a=t.offset;return OP(pk(lr(lr(lr({},sd.defaultProps),r),{},{ticks:fa(r,!0),viewBox:{x:0,y:0,width:o,height:i}})),a.left,a.left+a.width,n)},x9e=function(t,n){var r=t.yAxis,o=t.width,i=t.height,a=t.offset;return OP(pk(lr(lr(lr({},sd.defaultProps),r),{},{ticks:fa(r,!0),viewBox:{x:0,y:0,width:o,height:i}})),a.top,a.top+a.height,n)},eu={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function xI(e){var t,n,r,o,i,a,l=mk(),s=Ik(),c=fXe(),u=lr(lr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:eu.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:eu.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:eu.horizontal,horizontalFill:(o=e.horizontalFill)!==null&&o!==void 0?o:eu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:eu.vertical,verticalFill:(a=e.verticalFill)!==null&&a!==void 0?a:eu.verticalFill,x:Ae(e.x)?e.x:c.left,y:Ae(e.y)?e.y:c.top,width:Ae(e.width)?e.width:c.width,height:Ae(e.height)?e.height:c.height}),g=u.x,d=u.y,m=u.width,I=u.height,h=u.syncWithTicks,A=u.horizontalValues,C=u.verticalValues,p=uXe(),v=gXe();if(!Ae(m)||m<=0||!Ae(I)||I<=0||!Ae(g)||g!==+g||!Ae(d)||d!==+d)return null;var y=u.verticalCoordinatesGenerator||y9e,x=u.horizontalCoordinatesGenerator||x9e,S=u.horizontalPoints,B=u.verticalPoints;if((!S||!S.length)&&je(x)){var Z=A&&A.length,R=x({yAxis:v?lr(lr({},v),{},{ticks:Z?A:v.ticks}):void 0,width:l,height:s,offset:c},Z?!0:h);li(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Rc(R),"]")),Array.isArray(R)&&(S=R)}if((!B||!B.length)&&je(y)){var w=C&&C.length,k=y({xAxis:p?lr(lr({},p),{},{ticks:w?C:p.ticks}):void 0,width:l,height:s,offset:c},w?!0:h);li(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Rc(k),"]")),Array.isArray(k)&&(B=k)}return G.createElement("g",{className:"recharts-cartesian-grid"},G.createElement(C9e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),G.createElement(p9e,oc({},u,{offset:c,horizontalPoints:S,xAxis:p,yAxis:v})),G.createElement(A9e,oc({},u,{offset:c,verticalPoints:B,xAxis:p,yAxis:v})),G.createElement(b9e,oc({},u,{horizontalPoints:S})),G.createElement(v9e,oc({},u,{verticalPoints:B})))}xI.displayName="CartesianGrid";var S9e=["type","layout","connectNulls","ref"],Z9e=["key"];function Zg(e){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(e)}function gJ(e,t){if(e==null)return{};var n=w9e(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function w9e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Bf(){return Bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bf.apply(this,arguments)}function dJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dJ(Object(n),!0).forEach(function(r){ti(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tu(e){return R9e(e)||k9e(e)||B9e(e)||G9e()}function G9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B9e(e,t){if(e){if(typeof e=="string")return cZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cZ(e,t)}}function k9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function R9e(e){if(Array.isArray(e))return cZ(e)}function cZ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PD(r.key),r)}}function W9e(e,t,n){return t&&fJ(e.prototype,t),n&&fJ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function N9e(e,t,n){return t=R0(t),E9e(e,OD()?Reflect.construct(t,n||[],R0(e).constructor):t.apply(e,n))}function E9e(e,t){if(t&&(Zg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X9e(e)}function X9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OD=function(){return!!e})()}function R0(e){return R0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},R0(e)}function J9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uZ(e,t)}function uZ(e,t){return uZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},uZ(e,t)}function ti(e,t,n){return t=PD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PD(e){var t=Y9e(e,"string");return Zg(t)=="symbol"?t:t+""}function Y9e(e,t){if(Zg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _l=function(e){function t(){var n;V9e(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=N9e(this,t,[].concat(o)),ti(n,"state",{isAnimationFinished:!0,totalLength:0}),ti(n,"generateSimpleStrokeDasharray",function(a,l){return"".concat(l,"px ").concat(a-l,"px")}),ti(n,"getStrokeDasharray",function(a,l,s){var c=s.reduce(function(C,p){return C+p});if(!c)return n.generateSimpleStrokeDasharray(l,a);for(var u=Math.floor(a/c),g=a%c,d=l-a,m=[],I=0,h=0;I<s.length;h+=s[I],++I)if(h+s[I]>g){m=[].concat(tu(s.slice(0,I)),[g-h]);break}var A=m.length%2===0?[0,d]:[d];return[].concat(tu(t.repeat(s,u)),tu(m),A).map(function(C){return"".concat(C,"px")}).join(", ")}),ti(n,"id",ms("recharts-line-")),ti(n,"pathRef",function(a){n.mainCurve=a}),ti(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ti(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return J9e(t,e),W9e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,l=i.xAxis,s=i.yAxis,c=i.layout,u=i.children,g=pr(u,ad);if(!g)return null;var d=function(h,A){return{x:h.x,y:h.y,value:h.value,errorVal:Ot(h.payload,A)}},m={clipPath:r?"url(#clipPath-".concat(o,")"):null};return G.createElement(_e,m,g.map(function(I){return G.cloneElement(I,{key:"bar-".concat(I.props.dataKey),data:a,xAxis:l,yAxis:s,layout:c,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,o,i){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var l=this.props,s=l.dot,c=l.points,u=l.dataKey,g=We(this.props,!1),d=We(s,!0),m=c.map(function(h,A){var C=Kr(Kr(Kr({key:"dot-".concat(A),r:3},g),d),{},{value:h.value,dataKey:u,cx:h.x,cy:h.y,index:A,payload:h.payload});return t.renderDotItem(s,C)}),I={clipPath:r?"url(#clipPath-".concat(o?"":"dots-").concat(i,")"):null};return G.createElement(_e,Bf({className:"recharts-line-dots",key:"dots"},I),m)}},{key:"renderCurveStatically",value:function(r,o,i,a){var l=this.props,s=l.type,c=l.layout,u=l.connectNulls;l.ref;var g=gJ(l,S9e),d=Kr(Kr(Kr({},We(g,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:o?"url(#clipPath-".concat(i,")"):null,points:r},a),{},{type:s,layout:c,connectNulls:u});return G.createElement(Ml,Bf({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,o){var i=this,a=this.props,l=a.points,s=a.strokeDasharray,c=a.isAnimationActive,u=a.animationBegin,g=a.animationDuration,d=a.animationEasing,m=a.animationId,I=a.animateNewValues,h=a.width,A=a.height,C=this.state,p=C.prevPoints,v=C.totalLength;return G.createElement(Fo,{begin:u,duration:g,isActive:c,easing:d,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var x=y.t;if(p){var S=p.length/l.length,B=l.map(function(V,W){var N=Math.floor(W*S);if(p[N]){var X=p[N],J=$t(X.x,V.x),E=$t(X.y,V.y);return Kr(Kr({},V),{},{x:J(x),y:E(x)})}if(I){var F=$t(h*2,V.x),H=$t(A/2,V.y);return Kr(Kr({},V),{},{x:F(x),y:H(x)})}return Kr(Kr({},V),{},{x:V.x,y:V.y})});return i.renderCurveStatically(B,r,o)}var Z=$t(0,v),R=Z(x),w;if(s){var k="".concat(s).split(/[,\s]+/gim).map(function(V){return parseFloat(V)});w=i.getStrokeDasharray(R,v,k)}else w=i.generateSimpleStrokeDasharray(v,R);return i.renderCurveStatically(l,r,o,{strokeDasharray:w})})}},{key:"renderCurve",value:function(r,o){var i=this.props,a=i.points,l=i.isAnimationActive,s=this.state,c=s.prevPoints,u=s.totalLength;return l&&a&&a.length&&(!c&&u>0||!Ol(c,a))?this.renderCurveWithAnimation(r,o):this.renderCurveStatically(a,r,o)}},{key:"render",value:function(){var r,o=this.props,i=o.hide,a=o.dot,l=o.points,s=o.className,c=o.xAxis,u=o.yAxis,g=o.top,d=o.left,m=o.width,I=o.height,h=o.isAnimationActive,A=o.id;if(i||!l||!l.length)return null;var C=this.state.isAnimationFinished,p=l.length===1,v=Ve("recharts-line",s),y=c&&c.allowDataOverflow,x=u&&u.allowDataOverflow,S=y||x,B=He(A)?this.id:A,Z=(r=We(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},R=Z.r,w=R===void 0?3:R,k=Z.strokeWidth,V=k===void 0?2:k,W=QK(a)?a:{},N=W.clipDot,X=N===void 0?!0:N,J=w*2+V;return G.createElement(_e,{className:v},y||x?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(B)},G.createElement("rect",{x:y?d:d-m/2,y:x?g:g-I/2,width:y?m:m*2,height:x?I:I*2})),!X&&G.createElement("clipPath",{id:"clipPath-dots-".concat(B)},G.createElement("rect",{x:d-J/2,y:g-J/2,width:m+J,height:I+J}))):null,!p&&this.renderCurve(S,B),this.renderErrorBar(S,B),(p||a)&&this.renderDots(S,X,B),(!h||C)&&si.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,o){return r.animationId!==o.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:o.curPoints}:r.points!==o.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,o){for(var i=r.length%2!==0?[].concat(tu(r),[0]):r,a=[],l=0;l<o;++l)a=[].concat(tu(a),tu(i));return a}},{key:"renderDotItem",value:function(r,o){var i;if(G.isValidElement(r))i=G.cloneElement(r,o);else if(je(r))i=r(o);else{var a=o.key,l=gJ(o,Z9e),s=Ve("recharts-line-dot",typeof r!="boolean"?r.className:"");i=G.createElement(Pi,Bf({key:a},l,{className:s}))}return i}}])}(b.PureComponent);ti(_l,"displayName","Line");ti(_l,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Xo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ti(_l,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,a=e.dataKey,l=e.bandSize,s=e.displayedData,c=e.offset,u=t.layout,g=s.map(function(d,m){var I=Ot(d,a);return u==="horizontal"?{x:fg({axis:n,ticks:o,bandSize:l,entry:d,index:m}),y:He(I)?null:r.scale(I),value:I,payload:d}:{x:He(I)?null:n.scale(I),y:fg({axis:r,ticks:i,bandSize:l,entry:d,index:m}),value:I,payload:d}});return Kr({points:g,layout:u},c)});var H9e=["layout","type","stroke","connectNulls","isRange","ref"],F9e=["key"],DD;function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}function zD(e,t){if(e==null)return{};var n=M9e(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function M9e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ic(){return ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ic.apply(this,arguments)}function mJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function tl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mJ(Object(n),!0).forEach(function(r){Vi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_D(r.key),r)}}function T9e(e,t,n){return t&&IJ(e.prototype,t),n&&IJ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function L9e(e,t,n){return t=V0(t),K9e(e,UD()?Reflect.construct(t,n||[],V0(e).constructor):t.apply(e,n))}function K9e(e,t){if(t&&(wg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O9e(e)}function O9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UD=function(){return!!e})()}function V0(e){return V0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},V0(e)}function P9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gZ(e,t)}function gZ(e,t){return gZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},gZ(e,t)}function Vi(e,t,n){return t=_D(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _D(e){var t=D9e(e,"string");return wg(t)=="symbol"?t:t+""}function D9e(e,t){if(wg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var La=function(e){function t(){var n;j9e(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=L9e(this,t,[].concat(o)),Vi(n,"state",{isAnimationFinished:!0}),Vi(n,"id",ms("recharts-area-")),Vi(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),je(a)&&a()}),Vi(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),je(a)&&a()}),n}return P9e(t,e),T9e(t,[{key:"renderDots",value:function(r,o,i){var a=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(a&&!l)return null;var s=this.props,c=s.dot,u=s.points,g=s.dataKey,d=We(this.props,!1),m=We(c,!0),I=u.map(function(A,C){var p=tl(tl(tl({key:"dot-".concat(C),r:3},d),m),{},{index:C,cx:A.x,cy:A.y,dataKey:g,value:A.value,payload:A.payload,points:u});return t.renderDotItem(c,p)}),h={clipPath:r?"url(#clipPath-".concat(o?"":"dots-").concat(i,")"):null};return G.createElement(_e,ic({className:"recharts-area-dots"},h),I)}},{key:"renderHorizontalRect",value:function(r){var o=this.props,i=o.baseLine,a=o.points,l=o.strokeWidth,s=a[0].x,c=a[a.length-1].x,u=r*Math.abs(s-c),g=yl(a.map(function(d){return d.y||0}));return Ae(i)&&typeof i=="number"?g=Math.max(i,g):i&&Array.isArray(i)&&i.length&&(g=Math.max(yl(i.map(function(d){return d.y||0})),g)),Ae(g)?G.createElement("rect",{x:s<c?s:s-u,y:0,width:u,height:Math.floor(g+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var o=this.props,i=o.baseLine,a=o.points,l=o.strokeWidth,s=a[0].y,c=a[a.length-1].y,u=r*Math.abs(s-c),g=yl(a.map(function(d){return d.x||0}));return Ae(i)&&typeof i=="number"?g=Math.max(i,g):i&&Array.isArray(i)&&i.length&&(g=Math.max(yl(i.map(function(d){return d.x||0})),g)),Ae(g)?G.createElement("rect",{x:0,y:s<c?s:s-u,width:g+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var o=this.props.layout;return o==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,o,i,a){var l=this.props,s=l.layout,c=l.type,u=l.stroke,g=l.connectNulls,d=l.isRange;l.ref;var m=zD(l,H9e);return G.createElement(_e,{clipPath:i?"url(#clipPath-".concat(a,")"):null},G.createElement(Ml,ic({},We(m,!0),{points:r,connectNulls:g,type:c,baseLine:o,layout:s,stroke:"none",className:"recharts-area-area"})),u!=="none"&&G.createElement(Ml,ic({},We(this.props,!1),{className:"recharts-area-curve",layout:s,type:c,connectNulls:g,fill:"none",points:r})),u!=="none"&&d&&G.createElement(Ml,ic({},We(this.props,!1),{className:"recharts-area-curve",layout:s,type:c,connectNulls:g,fill:"none",points:o})))}},{key:"renderAreaWithAnimation",value:function(r,o){var i=this,a=this.props,l=a.points,s=a.baseLine,c=a.isAnimationActive,u=a.animationBegin,g=a.animationDuration,d=a.animationEasing,m=a.animationId,I=this.state,h=I.prevPoints,A=I.prevBaseLine;return G.createElement(Fo,{begin:u,duration:g,isActive:c,easing:d,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var p=C.t;if(h){var v=h.length/l.length,y=l.map(function(Z,R){var w=Math.floor(R*v);if(h[w]){var k=h[w],V=$t(k.x,Z.x),W=$t(k.y,Z.y);return tl(tl({},Z),{},{x:V(p),y:W(p)})}return Z}),x;if(Ae(s)&&typeof s=="number"){var S=$t(A,s);x=S(p)}else if(He(s)||td(s)){var B=$t(A,0);x=B(p)}else x=s.map(function(Z,R){var w=Math.floor(R*v);if(A[w]){var k=A[w],V=$t(k.x,Z.x),W=$t(k.y,Z.y);return tl(tl({},Z),{},{x:V(p),y:W(p)})}return Z});return i.renderAreaStatically(y,x,r,o)}return G.createElement(_e,null,G.createElement("defs",null,G.createElement("clipPath",{id:"animationClipPath-".concat(o)},i.renderClipRect(p))),G.createElement(_e,{clipPath:"url(#animationClipPath-".concat(o,")")},i.renderAreaStatically(l,s,r,o)))})}},{key:"renderArea",value:function(r,o){var i=this.props,a=i.points,l=i.baseLine,s=i.isAnimationActive,c=this.state,u=c.prevPoints,g=c.prevBaseLine,d=c.totalLength;return s&&a&&a.length&&(!u&&d>0||!Ol(u,a)||!Ol(g,l))?this.renderAreaWithAnimation(r,o):this.renderAreaStatically(a,l,r,o)}},{key:"render",value:function(){var r,o=this.props,i=o.hide,a=o.dot,l=o.points,s=o.className,c=o.top,u=o.left,g=o.xAxis,d=o.yAxis,m=o.width,I=o.height,h=o.isAnimationActive,A=o.id;if(i||!l||!l.length)return null;var C=this.state.isAnimationFinished,p=l.length===1,v=Ve("recharts-area",s),y=g&&g.allowDataOverflow,x=d&&d.allowDataOverflow,S=y||x,B=He(A)?this.id:A,Z=(r=We(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},R=Z.r,w=R===void 0?3:R,k=Z.strokeWidth,V=k===void 0?2:k,W=QK(a)?a:{},N=W.clipDot,X=N===void 0?!0:N,J=w*2+V;return G.createElement(_e,{className:v},y||x?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(B)},G.createElement("rect",{x:y?u:u-m/2,y:x?c:c-I/2,width:y?m:m*2,height:x?I:I*2})),!X&&G.createElement("clipPath",{id:"clipPath-dots-".concat(B)},G.createElement("rect",{x:u-J/2,y:c-J/2,width:m+J,height:I+J}))):null,p?null:this.renderArea(S,B),(a||p)&&this.renderDots(S,X,B),(!h||C)&&si.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,o){return r.animationId!==o.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:o.curPoints,prevBaseLine:o.curBaseLine}:r.points!==o.curPoints||r.baseLine!==o.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(b.PureComponent);DD=La;Vi(La,"displayName","Area");Vi(La,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Xo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Vi(La,"getBaseValue",function(e,t,n,r){var o=e.layout,i=e.baseValue,a=t.props.baseValue,l=a??i;if(Ae(l)&&typeof l=="number")return l;var s=o==="horizontal"?r:n,c=s.scale.domain();if(s.type==="number"){var u=Math.max(c[0],c[1]),g=Math.min(c[0],c[1]);return l==="dataMin"?g:l==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return l==="dataMin"?c[0]:l==="dataMax"?c[1]:c[0]});Vi(La,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,o=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,l=e.bandSize,s=e.dataKey,c=e.stackedData,u=e.dataStartIndex,g=e.displayedData,d=e.offset,m=t.layout,I=c&&c.length,h=DD.getBaseValue(t,n,r,o),A=m==="horizontal",C=!1,p=g.map(function(y,x){var S;I?S=c[u+x]:(S=Ot(y,s),Array.isArray(S)?C=!0:S=[h,S]);var B=S[1]==null||I&&Ot(y,s)==null;return A?{x:fg({axis:r,ticks:i,bandSize:l,entry:y,index:x}),y:B?null:o.scale(S[1]),value:S,payload:y}:{x:B?null:r.scale(S[1]),y:fg({axis:o,ticks:a,bandSize:l,entry:y,index:x}),value:S,payload:y}}),v;return I||C?v=p.map(function(y){var x=Array.isArray(y.value)?y.value[0]:null;return A?{x:y.x,y:x!=null&&y.y!=null?o.scale(x):null}:{x:x!=null?r.scale(x):null,y:y.y}}):v=A?o.scale(h):r.scale(h),tl({points:p,baseLine:v,layout:m,isRange:C},d)});Vi(La,"renderDotItem",function(e,t){var n;if(G.isValidElement(e))n=G.cloneElement(e,t);else if(je(e))n=e(t);else{var r=Ve("recharts-area-dot",typeof e!="boolean"?e.className:""),o=t.key,i=zD(t,F9e);n=G.createElement(Pi,ic({},i,{key:o,className:r}))}return n});function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}function z9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qD(r.key),r)}}function U9e(e,t,n){return t&&hJ(e.prototype,t),n&&hJ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _9e(e,t,n){return t=W0(t),Q9e(e,QD()?Reflect.construct(t,n||[],W0(e).constructor):t.apply(e,n))}function Q9e(e,t){if(t&&(Gg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $9e(e)}function $9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QD=function(){return!!e})()}function W0(e){return W0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},W0(e)}function q9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dZ(e,t)}function dZ(e,t){return dZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},dZ(e,t)}function $D(e,t,n){return t=qD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qD(e){var t=eJe(e,"string");return Gg(t)=="symbol"?t:t+""}function eJe(e,t){if(Gg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SI=function(e){function t(){return z9e(this,t),_9e(this,t,arguments)}return q9e(t,e),U9e(t,[{key:"render",value:function(){return null}}])}(G.Component);$D(SI,"displayName","ZAxis");$D(SI,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var tJe=["option","isActive"];function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kf.apply(this,arguments)}function nJe(e,t){if(e==null)return{};var n=rJe(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rJe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function oJe(e){var t=e.option,n=e.isActive,r=nJe(e,tJe);return typeof t=="string"?G.createElement(p0,kf({option:G.createElement(Jb,kf({type:t},r)),isActive:n,shapeType:"symbols"},r)):G.createElement(p0,kf({option:t,isActive:n,shapeType:"symbols"},r))}function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rf.apply(this,arguments)}function CJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Zo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CJ(Object(n),!0).forEach(function(r){Sl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tz(r.key),r)}}function aJe(e,t,n){return t&&pJ(e.prototype,t),n&&pJ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lJe(e,t,n){return t=N0(t),sJe(e,ez()?Reflect.construct(t,n||[],N0(e).constructor):t.apply(e,n))}function sJe(e,t){if(t&&(Bg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cJe(e)}function cJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ez(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ez=function(){return!!e})()}function N0(e){return N0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},N0(e)}function uJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fZ(e,t)}function fZ(e,t){return fZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},fZ(e,t)}function Sl(e,t,n){return t=tz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tz(e){var t=gJe(e,"string");return Bg(t)=="symbol"?t:t+""}function gJe(e,t){if(Bg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZI=function(e){function t(){var n;iJe(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=lJe(this,t,[].concat(o)),Sl(n,"state",{isAnimationFinished:!1}),Sl(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),Sl(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),Sl(n,"id",ms("recharts-scatter-")),n}return uJe(t,e),aJe(t,[{key:"renderSymbolsStatically",value:function(r){var o=this,i=this.props,a=i.shape,l=i.activeShape,s=i.activeIndex,c=We(this.props,!1);return r.map(function(u,g){var d=s===g,m=d?l:a,I=Zo(Zo({},c),u);return G.createElement(_e,Rf({className:"recharts-scatter-symbol",key:"symbol-".concat(u==null?void 0:u.cx,"-").concat(u==null?void 0:u.cy,"-").concat(u==null?void 0:u.size,"-").concat(g)},Ul(o.props,u,g),{role:"img"}),G.createElement(oJe,Rf({option:m,isActive:d,key:"symbol-".concat(g)},I)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,o=this.props,i=o.points,a=o.isAnimationActive,l=o.animationBegin,s=o.animationDuration,c=o.animationEasing,u=o.animationId,g=this.state.prevPoints;return G.createElement(Fo,{begin:l,duration:s,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var m=d.t,I=i.map(function(h,A){var C=g&&g[A];if(C){var p=$t(C.cx,h.cx),v=$t(C.cy,h.cy),y=$t(C.size,h.size);return Zo(Zo({},h),{},{cx:p(m),cy:v(m),size:y(m)})}var x=$t(0,h.size);return Zo(Zo({},h),{},{size:x(m)})});return G.createElement(_e,null,r.renderSymbolsStatically(I))})}},{key:"renderSymbols",value:function(){var r=this.props,o=r.points,i=r.isAnimationActive,a=this.state.prevPoints;return i&&o&&o.length&&(!a||!Ol(a,o))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(o)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,a=o.xAxis,l=o.yAxis,s=o.children,c=pr(s,ad);return c?c.map(function(u,g){var d=u.props,m=d.direction,I=d.dataKey;return G.cloneElement(u,{key:"".concat(m,"-").concat(I,"-").concat(i[g]),data:i,xAxis:a,yAxis:l,layout:m==="x"?"vertical":"horizontal",dataPointFormatter:function(A,C){return{x:A.cx,y:A.cy,value:m==="x"?+A.node.x:+A.node.y,errorVal:Ot(A,C)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,o=r.points,i=r.line,a=r.lineType,l=r.lineJointType,s=We(this.props,!1),c=We(i,!1),u,g;if(a==="joint")u=o.map(function(v){return{x:v.cx,y:v.cy}});else if(a==="fitting"){var d=lve(o),m=d.xmin,I=d.xmax,h=d.a,A=d.b,C=function(y){return h*y+A};u=[{x:m,y:C(m)},{x:I,y:C(I)}]}var p=Zo(Zo(Zo({},s),{},{fill:"none",stroke:s&&s.fill},c),{},{points:u});return G.isValidElement(i)?g=G.cloneElement(i,p):je(i)?g=i(p):g=G.createElement(Ml,Rf({},p,{type:l})),G.createElement(_e,{className:"recharts-scatter-line",key:"recharts-scatter-line"},g)}},{key:"render",value:function(){var r=this.props,o=r.hide,i=r.points,a=r.line,l=r.className,s=r.xAxis,c=r.yAxis,u=r.left,g=r.top,d=r.width,m=r.height,I=r.id,h=r.isAnimationActive;if(o||!i||!i.length)return null;var A=this.state.isAnimationFinished,C=Ve("recharts-scatter",l),p=s&&s.allowDataOverflow,v=c&&c.allowDataOverflow,y=p||v,x=He(I)?this.id:I;return G.createElement(_e,{className:C,clipPath:y?"url(#clipPath-".concat(x,")"):null},p||v?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(x)},G.createElement("rect",{x:p?u:u-d/2,y:v?g:g-m/2,width:p?d:d*2,height:v?m:m*2}))):null,a&&this.renderLine(),this.renderErrorBar(),G.createElement(_e,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!h||A)&&si.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,o){return r.animationId!==o.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:o.curPoints}:r.points!==o.curPoints?{curPoints:r.points}:null}}])}(b.PureComponent);Sl(ZI,"displayName","Scatter");Sl(ZI,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Xo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Sl(ZI,"getComposedData",function(e){var t=e.xAxis,n=e.yAxis,r=e.zAxis,o=e.item,i=e.displayedData,a=e.xAxisTicks,l=e.yAxisTicks,s=e.offset,c=o.props.tooltipType,u=pr(o.props.children,Fb),g=He(t.dataKey)?o.props.dataKey:t.dataKey,d=He(n.dataKey)?o.props.dataKey:n.dataKey,m=r&&r.dataKey,I=r?r.range:SI.defaultProps.range,h=I&&I[0],A=t.scale.bandwidth?t.scale.bandwidth():0,C=n.scale.bandwidth?n.scale.bandwidth():0,p=i.map(function(v,y){var x=Ot(v,g),S=Ot(v,d),B=!He(m)&&Ot(v,m)||"-",Z=[{name:He(t.dataKey)?o.props.name:t.name||t.dataKey,unit:t.unit||"",value:x,payload:v,dataKey:g,type:c},{name:He(n.dataKey)?o.props.name:n.name||n.dataKey,unit:n.unit||"",value:S,payload:v,dataKey:d,type:c}];B!=="-"&&Z.push({name:r.name||r.dataKey,unit:r.unit||"",value:B,payload:v,dataKey:m,type:c});var R=fg({axis:t,ticks:a,bandSize:A,entry:v,index:y,dataKey:g}),w=fg({axis:n,ticks:l,bandSize:C,entry:v,index:y,dataKey:d}),k=B!=="-"?r.scale(B):h,V=Math.sqrt(Math.max(k,0)/Math.PI);return Zo(Zo({},v),{},{cx:R,cy:w,x:R-V,y:w-V,xAxis:t,yAxis:n,zAxis:r,width:2*V,height:2*V,size:k,node:{x,y:S,z:B},tooltipPayload:Z,tooltipPosition:{x:R,y:w},payload:v},u&&u[y]&&u[y].props)});return Zo({points:p},s)});function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}function dJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oz(r.key),r)}}function fJe(e,t,n){return t&&AJ(e.prototype,t),n&&AJ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function mJe(e,t,n){return t=E0(t),IJe(e,nz()?Reflect.construct(t,n||[],E0(e).constructor):t.apply(e,n))}function IJe(e,t){if(t&&(kg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hJe(e)}function hJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nz=function(){return!!e})()}function E0(e){return E0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},E0(e)}function CJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mZ(e,t)}function mZ(e,t){return mZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},mZ(e,t)}function rz(e,t,n){return t=oz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oz(e){var t=pJe(e,"string");return kg(t)=="symbol"?t:t+""}function pJe(e,t){if(kg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IZ(){return IZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IZ.apply(this,arguments)}function AJe(e){var t=e.xAxisId,n=mk(),r=Ik(),o=ND(t);return o==null?null:G.createElement(sd,IZ({},o,{className:Ve("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return fa(a,!0)}}))}var Yr=function(e){function t(){return dJe(this,t),mJe(this,t,arguments)}return CJe(t,e),fJe(t,[{key:"render",value:function(){return G.createElement(AJe,this.props)}}])}(G.Component);rz(Yr,"displayName","XAxis");rz(Yr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}function bJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lz(r.key),r)}}function vJe(e,t,n){return t&&bJ(e.prototype,t),n&&bJ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yJe(e,t,n){return t=X0(t),xJe(e,iz()?Reflect.construct(t,n||[],X0(e).constructor):t.apply(e,n))}function xJe(e,t){if(t&&(Rg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SJe(e)}function SJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iz=function(){return!!e})()}function X0(e){return X0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X0(e)}function ZJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hZ(e,t)}function hZ(e,t){return hZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},hZ(e,t)}function az(e,t,n){return t=lz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lz(e){var t=wJe(e,"string");return Rg(t)=="symbol"?t:t+""}function wJe(e,t){if(Rg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CZ(){return CZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CZ.apply(this,arguments)}var GJe=function(t){var n=t.yAxisId,r=mk(),o=Ik(),i=ED(n);return i==null?null:G.createElement(sd,CZ({},i,{className:Ve("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:o},ticksGenerator:function(l){return fa(l,!0)}}))},Hr=function(e){function t(){return bJe(this,t),yJe(this,t,arguments)}return ZJe(t,e),vJe(t,[{key:"render",value:function(){return G.createElement(GJe,this.props)}}])}(G.Component);az(Hr,"displayName","YAxis");az(Hr,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function vJ(e){return VJe(e)||RJe(e)||kJe(e)||BJe()}function BJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kJe(e,t){if(e){if(typeof e=="string")return pZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pZ(e,t)}}function RJe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VJe(e){if(Array.isArray(e))return pZ(e)}function pZ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var AZ=function(t,n,r,o,i){var a=pr(t,Ck),l=pr(t,iv),s=[].concat(vJ(a),vJ(l)),c=pr(t,lv),u="".concat(o,"Id"),g=o[0],d=n;if(s.length&&(d=s.reduce(function(h,A){if(A.props[u]===r&&Hi(A.props,"extendDomain")&&Ae(A.props[g])){var C=A.props[g];return[Math.min(h[0],C),Math.max(h[1],C)]}return h},d)),c.length){var m="".concat(g,"1"),I="".concat(g,"2");d=c.reduce(function(h,A){if(A.props[u]===r&&Hi(A.props,"extendDomain")&&Ae(A.props[m])&&Ae(A.props[I])){var C=A.props[m],p=A.props[I];return[Math.min(h[0],C,p),Math.max(h[1],C,p)]}return h},d)}return i&&i.length&&(d=i.reduce(function(h,A){return Ae(A)?[Math.min(h[0],A),Math.max(h[1],A)]:h},d)),d},sz={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(s,c,u){this.fn=s,this.context=c,this.once=u||!1}function i(s,c,u,g,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new o(u,g||s,d),I=n?n+c:c;return s._events[I]?s._events[I].fn?s._events[I]=[s._events[I],m]:s._events[I].push(m):(s._events[I]=m,s._eventsCount++),s}function a(s,c){--s._eventsCount===0?s._events=new r:delete s._events[c]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],u,g;if(this._eventsCount===0)return c;for(g in u=this._events)t.call(u,g)&&c.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},l.prototype.listeners=function(c){var u=n?n+c:c,g=this._events[u];if(!g)return[];if(g.fn)return[g.fn];for(var d=0,m=g.length,I=new Array(m);d<m;d++)I[d]=g[d].fn;return I},l.prototype.listenerCount=function(c){var u=n?n+c:c,g=this._events[u];return g?g.fn?1:g.length:0},l.prototype.emit=function(c,u,g,d,m,I){var h=n?n+c:c;if(!this._events[h])return!1;var A=this._events[h],C=arguments.length,p,v;if(A.fn){switch(A.once&&this.removeListener(c,A.fn,void 0,!0),C){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,u),!0;case 3:return A.fn.call(A.context,u,g),!0;case 4:return A.fn.call(A.context,u,g,d),!0;case 5:return A.fn.call(A.context,u,g,d,m),!0;case 6:return A.fn.call(A.context,u,g,d,m,I),!0}for(v=1,p=new Array(C-1);v<C;v++)p[v-1]=arguments[v];A.fn.apply(A.context,p)}else{var y=A.length,x;for(v=0;v<y;v++)switch(A[v].once&&this.removeListener(c,A[v].fn,void 0,!0),C){case 1:A[v].fn.call(A[v].context);break;case 2:A[v].fn.call(A[v].context,u);break;case 3:A[v].fn.call(A[v].context,u,g);break;case 4:A[v].fn.call(A[v].context,u,g,d);break;default:if(!p)for(x=1,p=new Array(C-1);x<C;x++)p[x-1]=arguments[x];A[v].fn.apply(A[v].context,p)}}return!0},l.prototype.on=function(c,u,g){return i(this,c,u,g,!1)},l.prototype.once=function(c,u,g){return i(this,c,u,g,!0)},l.prototype.removeListener=function(c,u,g,d){var m=n?n+c:c;if(!this._events[m])return this;if(!u)return a(this,m),this;var I=this._events[m];if(I.fn)I.fn===u&&(!d||I.once)&&(!g||I.context===g)&&a(this,m);else{for(var h=0,A=[],C=I.length;h<C;h++)(I[h].fn!==u||d&&!I[h].once||g&&I[h].context!==g)&&A.push(I[h]);A.length?this._events[m]=A.length===1?A[0]:A:a(this,m)}return this},l.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(sz);var WJe=sz.exports;const NJe=ot(WJe);var h1=new NJe,C1="recharts.syncMouseEvents";function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}function EJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cz(r.key),r)}}function XJe(e,t,n){return t&&yJ(e.prototype,t),n&&yJ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p1(e,t,n){return t=cz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cz(e){var t=JJe(e,"string");return jm(t)=="symbol"?t:t+""}function JJe(e,t){if(jm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YJe=function(){function e(){EJe(this,e),p1(this,"activeIndex",0),p1(this,"coordinateList",[]),p1(this,"layout","horizontal")}return XJe(e,[{key:"setDetails",value:function(n){var r,o=n.coordinateList,i=o===void 0?null:o,a=n.container,l=a===void 0?null:a,s=n.layout,c=s===void 0?null:s,u=n.offset,g=u===void 0?null:u,d=n.mouseHandlerCallback,m=d===void 0?null:d;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=c??this.layout,this.offset=g??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var o=this.container.getBoundingClientRect(),i=o.x,a=o.y,l=o.height,s=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,g=i+s+c,d=a+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:g,pageY:d})}}}])}();function HJe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],o=e==null?void 0:e[1];if(r&&o&&Ae(r)&&Ae(o))return!0}return!1}function FJe(e,t,n,r){var o=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-o:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-o,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function uz(e){var t=e.cx,n=e.cy,r=e.radius,o=e.startAngle,i=e.endAngle,a=Yt(t,n,r,o),l=Yt(t,n,r,i);return{points:[a,l],cx:t,cy:n,radius:r,startAngle:o,endAngle:i}}function MJe(e,t,n){var r,o,i,a;if(e==="horizontal")r=t.x,i=r,o=n.top,a=n.top+n.height;else if(e==="vertical")o=t.y,a=o,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,s=t.cy,c=t.innerRadius,u=t.outerRadius,g=t.angle,d=Yt(l,s,c,g),m=Yt(l,s,u,g);r=d.x,o=d.y,i=m.x,a=m.y}else return uz(t);return[{x:r,y:o},{x:i,y:a}]}function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function xJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Fh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xJ(Object(n),!0).forEach(function(r){jJe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jJe(e,t,n){return t=TJe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TJe(e){var t=LJe(e,"string");return Tm(t)=="symbol"?t:t+""}function LJe(e,t){if(Tm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KJe(e){var t,n,r=e.element,o=e.tooltipEventType,i=e.isActive,a=e.activeCoordinate,l=e.activePayload,s=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,g=e.layout,d=e.chartName,m=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!i||!a||d!=="ScatterChart"&&o!=="axis")return null;var I,h=Ml;if(d==="ScatterChart")I=a,h=MWe;else if(d==="BarChart")I=FJe(g,a,s,u),h=uk;else if(g==="radial"){var A=uz(a),C=A.cx,p=A.cy,v=A.radius,y=A.startAngle,x=A.endAngle;I={cx:C,cy:p,startAngle:y,endAngle:x,innerRadius:v,outerRadius:v},h=ck}else I={points:MJe(g,a,s)},h=Ml;var S=Fh(Fh(Fh(Fh({stroke:"#ccc",pointerEvents:"none"},s),I),We(m,!1)),{},{payload:l,payloadIndex:c,className:Ve("recharts-tooltip-cursor",m.className)});return b.isValidElement(m)?b.cloneElement(m,S):b.createElement(h,S)}var OJe=["item"],PJe=["children","className","width","height","style","compact","title","desc"];function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vf.apply(this,arguments)}function SJ(e,t){return UJe(e)||zJe(e,t)||dz(e,t)||DJe()}function DJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zJe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(u){c=!0,o=u}finally{try{if(!s&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function UJe(e){if(Array.isArray(e))return e}function ZJ(e,t){if(e==null)return{};var n=_Je(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _Je(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function QJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fz(r.key),r)}}function $Je(e,t,n){return t&&wJ(e.prototype,t),n&&wJ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qJe(e,t,n){return t=J0(t),eYe(e,gz()?Reflect.construct(t,n||[],J0(e).constructor):t.apply(e,n))}function eYe(e,t){if(t&&(Vg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tYe(e)}function tYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gz=function(){return!!e})()}function J0(e){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J0(e)}function nYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bZ(e,t)}function bZ(e,t){return bZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},bZ(e,t)}function Wg(e){return iYe(e)||oYe(e)||dz(e)||rYe()}function rYe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dz(e,t){if(e){if(typeof e=="string")return vZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vZ(e,t)}}function oYe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iYe(e){if(Array.isArray(e))return vZ(e)}function vZ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GJ(Object(n),!0).forEach(function(r){Te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Te(e,t,n){return t=fz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fz(e){var t=aYe(e,"string");return Vg(t)=="symbol"?t:t+""}function aYe(e,t){if(Vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lYe={xAxis:["bottom","top"],yAxis:["left","right"]},sYe={width:"100%",height:"100%"},mz={x:0,y:0};function Mh(e){return e}var cYe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},uYe=function(t,n,r,o){var i=n.find(function(u){return u&&u.index===r});if(i){if(t==="horizontal")return{x:i.coordinate,y:o.y};if(t==="vertical")return{x:o.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,l=o.radius;return ge(ge(ge({},o),Yt(o.cx,o.cy,l,a)),{},{angle:a,radius:l})}var s=i.coordinate,c=o.angle;return ge(ge(ge({},o),Yt(o.cx,o.cy,s,c)),{},{angle:c,radius:s})}return mz},sv=function(t,n){var r=n.graphicalItems,o=n.dataStartIndex,i=n.dataEndIndex,a=(r??[]).reduce(function(l,s){var c=s.props.data;return c&&c.length?[].concat(Wg(l),Wg(c)):l},[]);return a.length>0?a:t&&t.length&&Ae(o)&&Ae(i)?t.slice(o,i+1):[]};function Iz(e){return e==="number"?[0,"auto"]:void 0}var yZ=function(t,n,r,o){var i=t.graphicalItems,a=t.tooltipAxis,l=sv(n,t);return r<0||!i||!i.length||r>=l.length?null:i.reduce(function(s,c){var u,g=(u=c.props.data)!==null&&u!==void 0?u:n;g&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(g=g.slice(t.dataStartIndex,t.dataEndIndex+1));var d;if(a.dataKey&&!a.allowDuplicatedCategory){var m=g===void 0?l:g;d=Jp(m,a.dataKey,o)}else d=g&&g[r]||l[r];return d?[].concat(Wg(s),[_P(c,d)]):s},[])},BJ=function(t,n,r,o){var i=o||{x:t.chartX,y:t.chartY},a=cYe(i,r),l=t.orderedTooltipTicks,s=t.tooltipAxis,c=t.tooltipTicks,u=wRe(a,l,c,s);if(u>=0&&c){var g=c[u]&&c[u].value,d=yZ(t,n,u,g),m=uYe(r,l,u,i);return{activeTooltipIndex:u,activeLabel:g,activePayload:d,activeCoordinate:m}}return null},gYe=function(t,n){var r=n.axes,o=n.graphicalItems,i=n.axisType,a=n.axisIdKey,l=n.stackGroups,s=n.dataStartIndex,c=n.dataEndIndex,u=t.layout,g=t.children,d=t.stackOffset,m=KP(u,i);return r.reduce(function(I,h){var A,C=h.type.defaultProps!==void 0?ge(ge({},h.type.defaultProps),h.props):h.props,p=C.type,v=C.dataKey,y=C.allowDataOverflow,x=C.allowDuplicatedCategory,S=C.scale,B=C.ticks,Z=C.includeHidden,R=C[a];if(I[R])return I;var w=sv(t.data,{graphicalItems:o.filter(function(T){var O,P=a in T.props?T.props[a]:(O=T.type.defaultProps)===null||O===void 0?void 0:O[a];return P===R}),dataStartIndex:s,dataEndIndex:c}),k=w.length,V,W,N;HJe(C.domain,y,p)&&(V=NS(C.domain,null,y),m&&(p==="number"||S!=="auto")&&(N=Sf(w,v,"category")));var X=Iz(p);if(!V||V.length===0){var J,E=(J=C.domain)!==null&&J!==void 0?J:X;if(v){if(V=Sf(w,v,p),p==="category"&&m){var F=ave(V);x&&F?(W=V,V=b0(0,k)):x||(V=YX(E,V,h).reduce(function(T,O){return T.indexOf(O)>=0?T:[].concat(Wg(T),[O])},[]))}else if(p==="category")x?V=V.filter(function(T){return T!==""&&!He(T)}):V=YX(E,V,h).reduce(function(T,O){return T.indexOf(O)>=0||O===""||He(O)?T:[].concat(Wg(T),[O])},[]);else if(p==="number"){var H=VRe(w,o.filter(function(T){var O,P,L=a in T.props?T.props[a]:(O=T.type.defaultProps)===null||O===void 0?void 0:O[a],j="hide"in T.props?T.props.hide:(P=T.type.defaultProps)===null||P===void 0?void 0:P.hide;return L===R&&(Z||!j)}),v,i,u);H&&(V=H)}m&&(p==="number"||S!=="auto")&&(N=Sf(w,v,"category"))}else m?V=b0(0,k):l&&l[R]&&l[R].hasStack&&p==="number"?V=d==="expand"?[0,1]:UP(l[R].stackGroups,s,c):V=LP(w,o.filter(function(T){var O=a in T.props?T.props[a]:T.type.defaultProps[a],P="hide"in T.props?T.props.hide:T.type.defaultProps.hide;return O===R&&(Z||!P)}),p,u,!0);if(p==="number")V=AZ(g,V,R,i,B),E&&(V=NS(E,V,y));else if(p==="category"&&E){var M=E,Y=V.every(function(T){return M.indexOf(T)>=0});Y&&(V=M)}}return ge(ge({},I),{},Te({},R,ge(ge({},C),{},{axisType:i,domain:V,categoricalDomain:N,duplicateDomain:W,originalDomain:(A=C.domain)!==null&&A!==void 0?A:X,isCategorical:m,layout:u})))},{})},dYe=function(t,n){var r=n.graphicalItems,o=n.Axis,i=n.axisType,a=n.axisIdKey,l=n.stackGroups,s=n.dataStartIndex,c=n.dataEndIndex,u=t.layout,g=t.children,d=sv(t.data,{graphicalItems:r,dataStartIndex:s,dataEndIndex:c}),m=d.length,I=KP(u,i),h=-1;return r.reduce(function(A,C){var p=C.type.defaultProps!==void 0?ge(ge({},C.type.defaultProps),C.props):C.props,v=p[a],y=Iz("number");if(!A[v]){h++;var x;return I?x=b0(0,m):l&&l[v]&&l[v].hasStack?(x=UP(l[v].stackGroups,s,c),x=AZ(g,x,v,i)):(x=NS(y,LP(d,r.filter(function(S){var B,Z,R=a in S.props?S.props[a]:(B=S.type.defaultProps)===null||B===void 0?void 0:B[a],w="hide"in S.props?S.props.hide:(Z=S.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return R===v&&!w}),"number",u),o.defaultProps.allowDataOverflow),x=AZ(g,x,v,i)),ge(ge({},A),{},Te({},v,ge(ge({axisType:i},o.defaultProps),{},{hide:!0,orientation:io(lYe,"".concat(i,".").concat(h%2),null),domain:x,originalDomain:y,isCategorical:I,layout:u})))}return A},{})},fYe=function(t,n){var r=n.axisType,o=r===void 0?"xAxis":r,i=n.AxisComp,a=n.graphicalItems,l=n.stackGroups,s=n.dataStartIndex,c=n.dataEndIndex,u=t.children,g="".concat(o,"Id"),d=pr(u,i),m={};return d&&d.length?m=gYe(t,{axes:d,graphicalItems:a,axisType:o,axisIdKey:g,stackGroups:l,dataStartIndex:s,dataEndIndex:c}):a&&a.length&&(m=dYe(t,{Axis:i,graphicalItems:a,axisType:o,axisIdKey:g,stackGroups:l,dataStartIndex:s,dataEndIndex:c})),m},mYe=function(t){var n=ml(t),r=fa(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:JB(r,function(o){return o.coordinate}),tooltipAxis:n,tooltipAxisBandSize:l0(n,r)}},kJ=function(t){var n=t.children,r=t.defaultShowTooltip,o=zr(n,Ag),i=0,a=0;return t.data&&t.data.length!==0&&(a=t.data.length-1),o&&o.props&&(o.props.startIndex>=0&&(i=o.props.startIndex),o.props.endIndex>=0&&(a=o.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},IYe=function(t){return!t||!t.length?!1:t.some(function(n){var r=ba(n&&n.type);return r&&r.indexOf("Bar")>=0})},RJ=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},hYe=function(t,n){var r=t.props,o=t.graphicalItems,i=t.xAxisMap,a=i===void 0?{}:i,l=t.yAxisMap,s=l===void 0?{}:l,c=r.width,u=r.height,g=r.children,d=r.margin||{},m=zr(g,Ag),I=zr(g,Ji),h=Object.keys(s).reduce(function(x,S){var B=s[S],Z=B.orientation;return!B.mirror&&!B.hide?ge(ge({},x),{},Te({},Z,x[Z]+B.width)):x},{left:d.left||0,right:d.right||0}),A=Object.keys(a).reduce(function(x,S){var B=a[S],Z=B.orientation;return!B.mirror&&!B.hide?ge(ge({},x),{},Te({},Z,io(x,"".concat(Z))+B.height)):x},{top:d.top||0,bottom:d.bottom||0}),C=ge(ge({},A),h),p=C.bottom;m&&(C.bottom+=m.props.height||Ag.defaultProps.height),I&&n&&(C=kRe(C,o,r,n));var v=c-C.left-C.right,y=u-C.top-C.bottom;return ge(ge({brushBottom:p},C),{},{width:Math.max(v,0),height:Math.max(y,0)})},CYe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},wI=function(t){var n=t.chartName,r=t.GraphicalChild,o=t.defaultTooltipEventType,i=o===void 0?"axis":o,a=t.validateTooltipEventTypes,l=a===void 0?["axis"]:a,s=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,g=t.defaultProps,d=function(A,C){var p=C.graphicalItems,v=C.stackGroups,y=C.offset,x=C.updateId,S=C.dataStartIndex,B=C.dataEndIndex,Z=A.barSize,R=A.layout,w=A.barGap,k=A.barCategoryGap,V=A.maxBarSize,W=RJ(R),N=W.numericAxisName,X=W.cateAxisName,J=IYe(p),E=[];return p.forEach(function(F,H){var M=sv(A.data,{graphicalItems:[F],dataStartIndex:S,dataEndIndex:B}),Y=F.type.defaultProps!==void 0?ge(ge({},F.type.defaultProps),F.props):F.props,T=Y.dataKey,O=Y.maxBarSize,P=Y["".concat(N,"Id")],L=Y["".concat(X,"Id")],j={},D=s.reduce(function(oe,ae){var ne=C["".concat(ae.axisType,"Map")],fe=Y["".concat(ae.axisType,"Id")];ne&&ne[fe]||ae.axisType==="zAxis"||kc(!1);var le=ne[fe];return ge(ge({},oe),{},Te(Te({},ae.axisType,le),"".concat(ae.axisType,"Ticks"),fa(le)))},j),$=D[X],K=D["".concat(X,"Ticks")],z=v&&v[P]&&v[P].hasStack&&MRe(F,v[P].stackGroups),_=ba(F.type).indexOf("Bar")>=0,U=l0($,K),te=[],ie=J&&GRe({barSize:Z,stackGroups:v,totalSize:CYe(D,X)});if(_){var re,se,ce=He(O)?V:O,q=(re=(se=l0($,K,!0))!==null&&se!==void 0?se:ce)!==null&&re!==void 0?re:0;te=BRe({barGap:w,barCategoryGap:k,bandSize:q!==U?q:U,sizeList:ie[L],maxBarSize:ce}),q!==U&&(te=te.map(function(oe){return ge(ge({},oe),{},{position:ge(ge({},oe.position),{},{offset:oe.position.offset-q/2})})}))}var ee=F&&F.type&&F.type.getComposedData;ee&&E.push({props:ge(ge({},ee(ge(ge({},D),{},{displayedData:M,props:A,dataKey:T,item:F,bandSize:U,barPosition:te,offset:y,stackedData:z,layout:R,dataStartIndex:S,dataEndIndex:B}))),{},Te(Te(Te({key:F.key||"item-".concat(H)},N,D[N]),X,D[X]),"animationId",x)),childIndex:pve(F,A.children),item:F})}),E},m=function(A,C){var p=A.props,v=A.dataStartIndex,y=A.dataEndIndex,x=A.updateId;if(!D3({props:p}))return null;var S=p.children,B=p.layout,Z=p.stackOffset,R=p.data,w=p.reverseStackOrder,k=RJ(B),V=k.numericAxisName,W=k.cateAxisName,N=pr(S,r),X=HRe(R,N,"".concat(V,"Id"),"".concat(W,"Id"),Z,w),J=s.reduce(function(Y,T){var O="".concat(T.axisType,"Map");return ge(ge({},Y),{},Te({},O,fYe(p,ge(ge({},T),{},{graphicalItems:N,stackGroups:T.axisType===V&&X,dataStartIndex:v,dataEndIndex:y}))))},{}),E=hYe(ge(ge({},J),{},{props:p,graphicalItems:N}),C==null?void 0:C.legendBBox);Object.keys(J).forEach(function(Y){J[Y]=u(p,J[Y],E,Y.replace("Map",""),n)});var F=J["".concat(W,"Map")],H=mYe(F),M=d(p,ge(ge({},J),{},{dataStartIndex:v,dataEndIndex:y,updateId:x,graphicalItems:N,stackGroups:X,offset:E}));return ge(ge({formattedGraphicalItems:M,graphicalItems:N,offset:E,stackGroups:X},H),J)},I=function(h){function A(C){var p,v,y;return QJe(this,A),y=qJe(this,A,[C]),Te(y,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Te(y,"accessibilityManager",new YJe),Te(y,"handleLegendBBoxUpdate",function(x){if(x){var S=y.state,B=S.dataStartIndex,Z=S.dataEndIndex,R=S.updateId;y.setState(ge({legendBBox:x},m({props:y.props,dataStartIndex:B,dataEndIndex:Z,updateId:R},ge(ge({},y.state),{},{legendBBox:x}))))}}),Te(y,"handleReceiveSyncEvent",function(x,S,B){if(y.props.syncId===x){if(B===y.eventEmitterSymbol&&typeof y.props.syncMethod!="function")return;y.applySyncEvent(S)}}),Te(y,"handleBrushChange",function(x){var S=x.startIndex,B=x.endIndex;if(S!==y.state.dataStartIndex||B!==y.state.dataEndIndex){var Z=y.state.updateId;y.setState(function(){return ge({dataStartIndex:S,dataEndIndex:B},m({props:y.props,dataStartIndex:S,dataEndIndex:B,updateId:Z},y.state))}),y.triggerSyncEvent({dataStartIndex:S,dataEndIndex:B})}}),Te(y,"handleMouseEnter",function(x){var S=y.getMouseInfo(x);if(S){var B=ge(ge({},S),{},{isTooltipActive:!0});y.setState(B),y.triggerSyncEvent(B);var Z=y.props.onMouseEnter;je(Z)&&Z(B,x)}}),Te(y,"triggeredAfterMouseMove",function(x){var S=y.getMouseInfo(x),B=S?ge(ge({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};y.setState(B),y.triggerSyncEvent(B);var Z=y.props.onMouseMove;je(Z)&&Z(B,x)}),Te(y,"handleItemMouseEnter",function(x){y.setState(function(){return{isTooltipActive:!0,activeItem:x,activePayload:x.tooltipPayload,activeCoordinate:x.tooltipPosition||{x:x.cx,y:x.cy}}})}),Te(y,"handleItemMouseLeave",function(){y.setState(function(){return{isTooltipActive:!1}})}),Te(y,"handleMouseMove",function(x){x.persist(),y.throttleTriggeredAfterMouseMove(x)}),Te(y,"handleMouseLeave",function(x){y.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};y.setState(S),y.triggerSyncEvent(S);var B=y.props.onMouseLeave;je(B)&&B(S,x)}),Te(y,"handleOuterEvent",function(x){var S=Cve(x),B=io(y.props,"".concat(S));if(S&&je(B)){var Z,R;/.*touch.*/i.test(S)?R=y.getMouseInfo(x.changedTouches[0]):R=y.getMouseInfo(x),B((Z=R)!==null&&Z!==void 0?Z:{},x)}}),Te(y,"handleClick",function(x){var S=y.getMouseInfo(x);if(S){var B=ge(ge({},S),{},{isTooltipActive:!0});y.setState(B),y.triggerSyncEvent(B);var Z=y.props.onClick;je(Z)&&Z(B,x)}}),Te(y,"handleMouseDown",function(x){var S=y.props.onMouseDown;if(je(S)){var B=y.getMouseInfo(x);S(B,x)}}),Te(y,"handleMouseUp",function(x){var S=y.props.onMouseUp;if(je(S)){var B=y.getMouseInfo(x);S(B,x)}}),Te(y,"handleTouchMove",function(x){x.changedTouches!=null&&x.changedTouches.length>0&&y.throttleTriggeredAfterMouseMove(x.changedTouches[0])}),Te(y,"handleTouchStart",function(x){x.changedTouches!=null&&x.changedTouches.length>0&&y.handleMouseDown(x.changedTouches[0])}),Te(y,"handleTouchEnd",function(x){x.changedTouches!=null&&x.changedTouches.length>0&&y.handleMouseUp(x.changedTouches[0])}),Te(y,"triggerSyncEvent",function(x){y.props.syncId!==void 0&&h1.emit(C1,y.props.syncId,x,y.eventEmitterSymbol)}),Te(y,"applySyncEvent",function(x){var S=y.props,B=S.layout,Z=S.syncMethod,R=y.state.updateId,w=x.dataStartIndex,k=x.dataEndIndex;if(x.dataStartIndex!==void 0||x.dataEndIndex!==void 0)y.setState(ge({dataStartIndex:w,dataEndIndex:k},m({props:y.props,dataStartIndex:w,dataEndIndex:k,updateId:R},y.state)));else if(x.activeTooltipIndex!==void 0){var V=x.chartX,W=x.chartY,N=x.activeTooltipIndex,X=y.state,J=X.offset,E=X.tooltipTicks;if(!J)return;if(typeof Z=="function")N=Z(E,x);else if(Z==="value"){N=-1;for(var F=0;F<E.length;F++)if(E[F].value===x.activeLabel){N=F;break}}var H=ge(ge({},J),{},{x:J.left,y:J.top}),M=Math.min(V,H.x+H.width),Y=Math.min(W,H.y+H.height),T=E[N]&&E[N].value,O=yZ(y.state,y.props.data,N),P=E[N]?{x:B==="horizontal"?E[N].coordinate:M,y:B==="horizontal"?Y:E[N].coordinate}:mz;y.setState(ge(ge({},x),{},{activeLabel:T,activeCoordinate:P,activePayload:O,activeTooltipIndex:N}))}else y.setState(x)}),Te(y,"renderCursor",function(x){var S,B=y.state,Z=B.isTooltipActive,R=B.activeCoordinate,w=B.activePayload,k=B.offset,V=B.activeTooltipIndex,W=B.tooltipAxisBandSize,N=y.getTooltipEventType(),X=(S=x.props.active)!==null&&S!==void 0?S:Z,J=y.props.layout,E=x.key||"_recharts-cursor";return G.createElement(KJe,{key:E,activeCoordinate:R,activePayload:w,activeTooltipIndex:V,chartName:n,element:x,isActive:X,layout:J,offset:k,tooltipAxisBandSize:W,tooltipEventType:N})}),Te(y,"renderPolarAxis",function(x,S,B){var Z=io(x,"type.axisType"),R=io(y.state,"".concat(Z,"Map")),w=x.type.defaultProps,k=w!==void 0?ge(ge({},w),x.props):x.props,V=R&&R[k["".concat(Z,"Id")]];return b.cloneElement(x,ge(ge({},V),{},{className:Ve(Z,V.className),key:x.key||"".concat(S,"-").concat(B),ticks:fa(V,!0)}))}),Te(y,"renderPolarGrid",function(x){var S=x.props,B=S.radialLines,Z=S.polarAngles,R=S.polarRadius,w=y.state,k=w.radiusAxisMap,V=w.angleAxisMap,W=ml(k),N=ml(V),X=N.cx,J=N.cy,E=N.innerRadius,F=N.outerRadius;return b.cloneElement(x,{polarAngles:Array.isArray(Z)?Z:fa(N,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(R)?R:fa(W,!0).map(function(H){return H.coordinate}),cx:X,cy:J,innerRadius:E,outerRadius:F,key:x.key||"polar-grid",radialLines:B})}),Te(y,"renderLegend",function(){var x=y.state.formattedGraphicalItems,S=y.props,B=S.children,Z=S.width,R=S.height,w=y.props.margin||{},k=Z-(w.left||0)-(w.right||0),V=jP({children:B,formattedGraphicalItems:x,legendWidth:k,legendContent:c});if(!V)return null;var W=V.item,N=ZJ(V,OJe);return b.cloneElement(W,ge(ge({},N),{},{chartWidth:Z,chartHeight:R,margin:w,onBBoxUpdate:y.handleLegendBBoxUpdate}))}),Te(y,"renderTooltip",function(){var x,S=y.props,B=S.children,Z=S.accessibilityLayer,R=zr(B,Zr);if(!R)return null;var w=y.state,k=w.isTooltipActive,V=w.activeCoordinate,W=w.activePayload,N=w.activeLabel,X=w.offset,J=(x=R.props.active)!==null&&x!==void 0?x:k;return b.cloneElement(R,{viewBox:ge(ge({},X),{},{x:X.left,y:X.top}),active:J,label:N,payload:J?W:[],coordinate:V,accessibilityLayer:Z})}),Te(y,"renderBrush",function(x){var S=y.props,B=S.margin,Z=S.data,R=y.state,w=R.offset,k=R.dataStartIndex,V=R.dataEndIndex,W=R.updateId;return b.cloneElement(x,{key:x.key||"_recharts-brush",onChange:Xh(y.handleBrushChange,x.props.onChange),data:Z,x:Ae(x.props.x)?x.props.x:w.left,y:Ae(x.props.y)?x.props.y:w.top+w.height+w.brushBottom-(B.bottom||0),width:Ae(x.props.width)?x.props.width:w.width,startIndex:k,endIndex:V,updateId:"brush-".concat(W)})}),Te(y,"renderReferenceElement",function(x,S,B){if(!x)return null;var Z=y,R=Z.clipPathId,w=y.state,k=w.xAxisMap,V=w.yAxisMap,W=w.offset,N=x.type.defaultProps||{},X=x.props,J=X.xAxisId,E=J===void 0?N.xAxisId:J,F=X.yAxisId,H=F===void 0?N.yAxisId:F;return b.cloneElement(x,{key:x.key||"".concat(S,"-").concat(B),xAxis:k[E],yAxis:V[H],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:R})}),Te(y,"renderActivePoints",function(x){var S=x.item,B=x.activePoint,Z=x.basePoint,R=x.childIndex,w=x.isRange,k=[],V=S.props.key,W=S.item.type.defaultProps!==void 0?ge(ge({},S.item.type.defaultProps),S.item.props):S.item.props,N=W.activeDot,X=W.dataKey,J=ge(ge({index:R,dataKey:X,cx:B.x,cy:B.y,r:4,fill:sk(S.item),strokeWidth:2,stroke:"#fff",payload:B.payload,value:B.value},We(N,!1)),Yp(N));return k.push(A.renderActiveDot(N,J,"".concat(V,"-activePoint-").concat(R))),Z?k.push(A.renderActiveDot(N,ge(ge({},J),{},{cx:Z.x,cy:Z.y}),"".concat(V,"-basePoint-").concat(R))):w&&k.push(null),k}),Te(y,"renderGraphicChild",function(x,S,B){var Z=y.filterFormatItem(x,S,B);if(!Z)return null;var R=y.getTooltipEventType(),w=y.state,k=w.isTooltipActive,V=w.tooltipAxis,W=w.activeTooltipIndex,N=w.activeLabel,X=y.props.children,J=zr(X,Zr),E=Z.props,F=E.points,H=E.isRange,M=E.baseLine,Y=Z.item.type.defaultProps!==void 0?ge(ge({},Z.item.type.defaultProps),Z.item.props):Z.item.props,T=Y.activeDot,O=Y.hide,P=Y.activeBar,L=Y.activeShape,j=!!(!O&&k&&J&&(T||P||L)),D={};R!=="axis"&&J&&J.props.trigger==="click"?D={onClick:Xh(y.handleItemMouseEnter,x.props.onClick)}:R!=="axis"&&(D={onMouseLeave:Xh(y.handleItemMouseLeave,x.props.onMouseLeave),onMouseEnter:Xh(y.handleItemMouseEnter,x.props.onMouseEnter)});var $=b.cloneElement(x,ge(ge({},Z.props),D));function K(ae){return typeof V.dataKey=="function"?V.dataKey(ae.payload):null}if(j)if(W>=0){var z,_;if(V.dataKey&&!V.allowDuplicatedCategory){var U=typeof V.dataKey=="function"?K:"payload.".concat(V.dataKey.toString());z=Jp(F,U,N),_=H&&M&&Jp(M,U,N)}else z=F==null?void 0:F[W],_=H&&M&&M[W];if(L||P){var te=x.props.activeIndex!==void 0?x.props.activeIndex:W;return[b.cloneElement(x,ge(ge(ge({},Z.props),D),{},{activeIndex:te})),null,null]}if(!He(z))return[$].concat(Wg(y.renderActivePoints({item:Z,activePoint:z,basePoint:_,childIndex:W,isRange:H})))}else{var ie,re=(ie=y.getItemByXY(y.state.activeCoordinate))!==null&&ie!==void 0?ie:{graphicalItem:$},se=re.graphicalItem,ce=se.item,q=ce===void 0?x:ce,ee=se.childIndex,oe=ge(ge(ge({},Z.props),D),{},{activeIndex:ee});return[b.cloneElement(q,oe),null,null]}return H?[$,null,null]:[$,null]}),Te(y,"renderCustomized",function(x,S,B){return b.cloneElement(x,ge(ge({key:"recharts-customized-".concat(B)},y.props),y.state))}),Te(y,"renderMap",{CartesianGrid:{handler:Mh,once:!0},ReferenceArea:{handler:y.renderReferenceElement},ReferenceLine:{handler:Mh},ReferenceDot:{handler:y.renderReferenceElement},XAxis:{handler:Mh},YAxis:{handler:Mh},Brush:{handler:y.renderBrush,once:!0},Bar:{handler:y.renderGraphicChild},Line:{handler:y.renderGraphicChild},Area:{handler:y.renderGraphicChild},Radar:{handler:y.renderGraphicChild},RadialBar:{handler:y.renderGraphicChild},Scatter:{handler:y.renderGraphicChild},Pie:{handler:y.renderGraphicChild},Funnel:{handler:y.renderGraphicChild},Tooltip:{handler:y.renderCursor,once:!0},PolarGrid:{handler:y.renderPolarGrid,once:!0},PolarAngleAxis:{handler:y.renderPolarAxis},PolarRadiusAxis:{handler:y.renderPolarAxis},Customized:{handler:y.renderCustomized}}),y.clipPathId="".concat((p=C.id)!==null&&p!==void 0?p:ms("recharts"),"-clip"),y.throttleTriggeredAfterMouseMove=MO(y.triggeredAfterMouseMove,(v=C.throttleDelay)!==null&&v!==void 0?v:1e3/60),y.state={},y}return nYe(A,h),$Je(A,[{key:"componentDidMount",value:function(){var p,v;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(p=this.props.margin.left)!==null&&p!==void 0?p:0,top:(v=this.props.margin.top)!==null&&v!==void 0?v:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var p=this.props,v=p.children,y=p.data,x=p.height,S=p.layout,B=zr(v,Zr);if(B){var Z=B.props.defaultIndex;if(!(typeof Z!="number"||Z<0||Z>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[Z]&&this.state.tooltipTicks[Z].value,w=yZ(this.state,y,Z,R),k=this.state.tooltipTicks[Z].coordinate,V=(this.state.offset.top+x)/2,W=S==="horizontal",N=W?{x:k,y:V}:{y:k,x:V},X=this.state.formattedGraphicalItems.find(function(E){var F=E.item;return F.type.name==="Scatter"});X&&(N=ge(ge({},N),X.props.points[Z].tooltipPosition),w=X.props.points[Z].tooltipPayload);var J={activeTooltipIndex:Z,isTooltipActive:!0,activeLabel:R,activePayload:w,activeCoordinate:N};this.setState(J),this.renderCursor(B),this.accessibilityManager.setIndex(Z)}}}},{key:"getSnapshotBeforeUpdate",value:function(p,v){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==v.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==p.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==p.margin){var y,x;this.accessibilityManager.setDetails({offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(x=this.props.margin.top)!==null&&x!==void 0?x:0}})}return null}},{key:"componentDidUpdate",value:function(p){qx([zr(p.children,Zr)],[zr(this.props.children,Zr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var p=zr(this.props.children,Zr);if(p&&typeof p.props.shared=="boolean"){var v=p.props.shared?"axis":"item";return l.indexOf(v)>=0?v:i}return i}},{key:"getMouseInfo",value:function(p){if(!this.container)return null;var v=this.container,y=v.getBoundingClientRect(),x=rwe(y),S={chartX:Math.round(p.pageX-x.left),chartY:Math.round(p.pageY-x.top)},B=y.width/v.offsetWidth||1,Z=this.inRange(S.chartX,S.chartY,B);if(!Z)return null;var R=this.state,w=R.xAxisMap,k=R.yAxisMap,V=this.getTooltipEventType();if(V!=="axis"&&w&&k){var W=ml(w).scale,N=ml(k).scale,X=W&&W.invert?W.invert(S.chartX):null,J=N&&N.invert?N.invert(S.chartY):null;return ge(ge({},S),{},{xValue:X,yValue:J})}var E=BJ(this.state,this.props.data,this.props.layout,Z);return E?ge(ge({},S),E):null}},{key:"inRange",value:function(p,v){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,x=this.props.layout,S=p/y,B=v/y;if(x==="horizontal"||x==="vertical"){var Z=this.state.offset,R=S>=Z.left&&S<=Z.left+Z.width&&B>=Z.top&&B<=Z.top+Z.height;return R?{x:S,y:B}:null}var w=this.state,k=w.angleAxisMap,V=w.radiusAxisMap;if(k&&V){var W=ml(k);return MX({x:S,y:B},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var p=this.props.children,v=this.getTooltipEventType(),y=zr(p,Zr),x={};y&&v==="axis"&&(y.props.trigger==="click"?x={onClick:this.handleClick}:x={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var S=Yp(this.props,this.handleOuterEvent);return ge(ge({},S),x)}},{key:"addListener",value:function(){h1.on(C1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){h1.removeListener(C1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(p,v,y){for(var x=this.state.formattedGraphicalItems,S=0,B=x.length;S<B;S++){var Z=x[S];if(Z.item===p||Z.props.key===p.key||v===ba(Z.item.type)&&y===Z.childIndex)return Z}return null}},{key:"renderClipPath",value:function(){var p=this.clipPathId,v=this.state.offset,y=v.left,x=v.top,S=v.height,B=v.width;return G.createElement("defs",null,G.createElement("clipPath",{id:p},G.createElement("rect",{x:y,y:x,height:S,width:B})))}},{key:"getXScales",value:function(){var p=this.state.xAxisMap;return p?Object.entries(p).reduce(function(v,y){var x=SJ(y,2),S=x[0],B=x[1];return ge(ge({},v),{},Te({},S,B.scale))},{}):null}},{key:"getYScales",value:function(){var p=this.state.yAxisMap;return p?Object.entries(p).reduce(function(v,y){var x=SJ(y,2),S=x[0],B=x[1];return ge(ge({},v),{},Te({},S,B.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(p){var v;return(v=this.state.xAxisMap)===null||v===void 0||(v=v[p])===null||v===void 0?void 0:v.scale}},{key:"getYScaleByAxisId",value:function(p){var v;return(v=this.state.yAxisMap)===null||v===void 0||(v=v[p])===null||v===void 0?void 0:v.scale}},{key:"getItemByXY",value:function(p){var v=this.state,y=v.formattedGraphicalItems,x=v.activeItem;if(y&&y.length)for(var S=0,B=y.length;S<B;S++){var Z=y[S],R=Z.props,w=Z.item,k=w.type.defaultProps!==void 0?ge(ge({},w.type.defaultProps),w.props):w.props,V=ba(w.type);if(V==="Bar"){var W=(R.data||[]).find(function(E){return bWe(p,E)});if(W)return{graphicalItem:Z,payload:W}}else if(V==="RadialBar"){var N=(R.data||[]).find(function(E){return MX(p,E)});if(N)return{graphicalItem:Z,payload:N}}else if(ev(Z,x)||tv(Z,x)||Jm(Z,x)){var X=s3e({graphicalItem:Z,activeTooltipItem:x,itemData:k.data}),J=k.activeIndex===void 0?X:k.activeIndex;return{graphicalItem:ge(ge({},Z),{},{childIndex:J}),payload:Jm(Z,x)?k.data[X]:Z.props.data[X]}}}return null}},{key:"render",value:function(){var p=this;if(!D3(this))return null;var v=this.props,y=v.children,x=v.className,S=v.width,B=v.height,Z=v.style,R=v.compact,w=v.title,k=v.desc,V=ZJ(v,PJe),W=We(V,!1);if(R)return G.createElement(U9,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement(tS,Vf({},W,{width:S,height:B,title:w,desc:k}),this.renderClipPath(),U3(y,this.renderMap)));if(this.props.accessibilityLayer){var N,X;W.tabIndex=(N=this.props.tabIndex)!==null&&N!==void 0?N:0,W.role=(X=this.props.role)!==null&&X!==void 0?X:"application",W.onKeyDown=function(E){p.accessibilityManager.keyboardEvent(E)},W.onFocus=function(){p.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return G.createElement(U9,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement("div",Vf({className:Ve("recharts-wrapper",x),style:ge({position:"relative",cursor:"default",width:S,height:B},Z)},J,{ref:function(F){p.container=F}}),G.createElement(tS,Vf({},W,{width:S,height:B,title:w,desc:k,style:sYe}),this.renderClipPath(),U3(y,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);return Te(I,"displayName",n),Te(I,"defaultProps",ge({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},g)),Te(I,"getDerivedStateFromProps",function(h,A){var C=h.dataKey,p=h.data,v=h.children,y=h.width,x=h.height,S=h.layout,B=h.stackOffset,Z=h.margin,R=A.dataStartIndex,w=A.dataEndIndex;if(A.updateId===void 0){var k=kJ(h);return ge(ge(ge({},k),{},{updateId:0},m(ge(ge({props:h},k),{},{updateId:0}),A)),{},{prevDataKey:C,prevData:p,prevWidth:y,prevHeight:x,prevLayout:S,prevStackOffset:B,prevMargin:Z,prevChildren:v})}if(C!==A.prevDataKey||p!==A.prevData||y!==A.prevWidth||x!==A.prevHeight||S!==A.prevLayout||B!==A.prevStackOffset||!Xu(Z,A.prevMargin)){var V=kJ(h),W={chartX:A.chartX,chartY:A.chartY,isTooltipActive:A.isTooltipActive},N=ge(ge({},BJ(A,p,S)),{},{updateId:A.updateId+1}),X=ge(ge(ge({},V),W),N);return ge(ge(ge({},X),m(ge({props:h},X),A)),{},{prevDataKey:C,prevData:p,prevWidth:y,prevHeight:x,prevLayout:S,prevStackOffset:B,prevMargin:Z,prevChildren:v})}if(!qx(v,A.prevChildren)){var J,E,F,H,M=zr(v,Ag),Y=M&&(J=(E=M.props)===null||E===void 0?void 0:E.startIndex)!==null&&J!==void 0?J:R,T=M&&(F=(H=M.props)===null||H===void 0?void 0:H.endIndex)!==null&&F!==void 0?F:w,O=Y!==R||T!==w,P=!He(p),L=P&&!O?A.updateId:A.updateId+1;return ge(ge({updateId:L},m(ge(ge({props:h},A),{},{updateId:L,dataStartIndex:Y,dataEndIndex:T}),A)),{},{prevChildren:v,dataStartIndex:Y,dataEndIndex:T})}return null}),Te(I,"renderActiveDot",function(h,A,C){var p;return b.isValidElement(h)?p=b.cloneElement(h,A):je(h)?p=h(A):p=G.createElement(Pi,A),G.createElement(_e,{className:"recharts-active-dot",key:C},p)}),function(A){return G.createElement(I,A)}},hz=wI({chartName:"LineChart",GraphicalChild:_l,axisComponents:[{axisType:"xAxis",AxisComp:Yr},{axisType:"yAxis",AxisComp:Hr}],formatAxisMap:rv}),Cz=wI({chartName:"BarChart",GraphicalChild:As,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Yr},{axisType:"yAxis",AxisComp:Hr}],formatAxisMap:rv}),pYe=wI({chartName:"PieChart",GraphicalChild:Ta,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:qb},{axisType:"radiusAxis",AxisComp:Qb}],formatAxisMap:_Re,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),AYe=wI({chartName:"ScatterChart",GraphicalChild:ZI,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:Yr},{axisType:"yAxis",AxisComp:Hr},{axisType:"zAxis",AxisComp:SI}],formatAxisMap:rv}),pz=wI({chartName:"AreaChart",GraphicalChild:La,axisComponents:[{axisType:"xAxis",AxisComp:Yr},{axisType:"yAxis",AxisComp:Hr}],formatAxisMap:rv});const bYe=e=>{b.useEffect(()=>{const t=()=>{e()};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[e])},kt={Increase:"increase",ModerateIncrease:"moderateIncrease",Decrease:"decrease",ModerateDecrease:"moderateDecrease",Unchanged:"unchanged"},xe={Slate:"slate",Gray:"gray",Zinc:"zinc",Neutral:"neutral",Stone:"stone",Red:"red",Orange:"orange",Amber:"amber",Yellow:"yellow",Lime:"lime",Green:"green",Emerald:"emerald",Teal:"teal",Cyan:"cyan",Sky:"sky",Blue:"blue",Indigo:"indigo",Violet:"violet",Purple:"purple",Fuchsia:"fuchsia",Pink:"pink",Rose:"rose"},cv={XS:"xs",SM:"sm",MD:"md",LG:"lg",XL:"xl"},Hu={Left:"left",Right:"right"},VJ={Top:"top",Bottom:"bottom"},pe={canvasBackground:50,lightBackground:100,background:500,darkBackground:600,darkestBackground:800,lightBorder:200,border:500,darkBorder:700,lightRing:200,ring:300,iconRing:500,lightText:400,text:500,iconText:600,darkText:700,darkestText:900,icon:500},$i=[xe.Blue,xe.Cyan,xe.Sky,xe.Indigo,xe.Violet,xe.Purple,xe.Fuchsia,xe.Slate,xe.Gray,xe.Zinc,xe.Neutral,xe.Stone,xe.Red,xe.Orange,xe.Amber,xe.Yellow,xe.Lime,xe.Green,xe.Emerald,xe.Teal,xe.Pink,xe.Rose],bk="-",vYe=e=>{const t=xYe(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const l=a.split(bk);return l[0]===""&&l.length!==1&&l.shift(),Az(l,t)||yYe(a)},getConflictingClassGroupIds:(a,l)=>{const s=n[a]||[];return l&&r[a]?[...s,...r[a]]:s}}},Az=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?Az(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const i=e.join(bk);return(a=t.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},WJ=/^\[(.+)\]$/,yYe=e=>{if(WJ.test(e)){const t=WJ.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},xYe=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return ZYe(Object.entries(e.classGroups),n).forEach(([i,a])=>{xZ(a,r,i,t)}),r},xZ=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const i=o===""?t:NJ(t,o);i.classGroupId=n;return}if(typeof o=="function"){if(SYe(o)){xZ(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([i,a])=>{xZ(a,NJ(t,i),n,r)})})},NJ=(e,t)=>{let n=e;return t.split(bk).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},SYe=e=>e.isThemeGetter,ZYe=(e,t)=>t?e.map(([n,r])=>{const o=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[t+a,l])):i);return[n,o]}):e,wYe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return o(i,a),a},set(i,a){n.has(i)?n.set(i,a):o(i,a)}}},bz="!",GYe=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],i=t.length,a=l=>{const s=[];let c=0,u=0,g;for(let A=0;A<l.length;A++){let C=l[A];if(c===0){if(C===o&&(r||l.slice(A,A+i)===t)){s.push(l.slice(u,A)),u=A+i;continue}if(C==="/"){g=A;continue}}C==="["?c++:C==="]"&&c--}const d=s.length===0?l:l.substring(u),m=d.startsWith(bz),I=m?d.substring(1):d,h=g&&g>u?g-u:void 0;return{modifiers:s,hasImportantModifier:m,baseClassName:I,maybePostfixModifierPosition:h}};return n?l=>n({className:l,parseClassName:a}):a},BYe=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},kYe=e=>({cache:wYe(e.cacheSize),parseClassName:GYe(e),...vYe(e)}),RYe=/\s+/,VYe=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,i=[],a=e.trim().split(RYe);let l="";for(let s=a.length-1;s>=0;s-=1){const c=a[s],{modifiers:u,hasImportantModifier:g,baseClassName:d,maybePostfixModifierPosition:m}=n(c);let I=!!m,h=r(I?d.substring(0,m):d);if(!h){if(!I){l=c+(l.length>0?" "+l:l);continue}if(h=r(d),!h){l=c+(l.length>0?" "+l:l);continue}I=!1}const A=BYe(u).join(":"),C=g?A+bz:A,p=C+h;if(i.includes(p))continue;i.push(p);const v=o(h,I);for(let y=0;y<v.length;++y){const x=v[y];i.push(C+x)}l=c+(l.length>0?" "+l:l)}return l};function WYe(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=vz(t))&&(r&&(r+=" "),r+=n);return r}const vz=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=vz(e[r]))&&(n&&(n+=" "),n+=t);return n};function EJ(e,...t){let n,r,o,i=a;function a(s){const c=t.reduce((u,g)=>g(u),e());return n=kYe(c),r=n.cache.get,o=n.cache.set,i=l,l(s)}function l(s){const c=r(s);if(c)return c;const u=VYe(s,n);return o(s,u),u}return function(){return i(WYe.apply(null,arguments))}}const Mt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},yz=/^\[(?:([a-z-]+):)?(.+)\]$/i,NYe=/^\d+\/\d+$/,EYe=new Set(["px","full","screen"]),XYe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,JYe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,YYe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,HYe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,FYe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,na=e=>Fu(e)||EYe.has(e)||NYe.test(e),_a=e=>cd(e,"length",DYe),Fu=e=>!!e&&!Number.isNaN(Number(e)),A1=e=>cd(e,"number",Fu),Td=e=>!!e&&Number.isInteger(Number(e)),MYe=e=>e.endsWith("%")&&Fu(e.slice(0,-1)),Qe=e=>yz.test(e),Qa=e=>XYe.test(e),jYe=new Set(["length","size","percentage"]),TYe=e=>cd(e,jYe,xz),LYe=e=>cd(e,"position",xz),KYe=new Set(["image","url"]),OYe=e=>cd(e,KYe,UYe),PYe=e=>cd(e,"",zYe),Ld=()=>!0,cd=(e,t,n)=>{const r=yz.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},DYe=e=>JYe.test(e)&&!YYe.test(e),xz=()=>!1,zYe=e=>HYe.test(e),UYe=e=>FYe.test(e),XJ=()=>{const e=Mt("colors"),t=Mt("spacing"),n=Mt("blur"),r=Mt("brightness"),o=Mt("borderColor"),i=Mt("borderRadius"),a=Mt("borderSpacing"),l=Mt("borderWidth"),s=Mt("contrast"),c=Mt("grayscale"),u=Mt("hueRotate"),g=Mt("invert"),d=Mt("gap"),m=Mt("gradientColorStops"),I=Mt("gradientColorStopPositions"),h=Mt("inset"),A=Mt("margin"),C=Mt("opacity"),p=Mt("padding"),v=Mt("saturate"),y=Mt("scale"),x=Mt("sepia"),S=Mt("skew"),B=Mt("space"),Z=Mt("translate"),R=()=>["auto","contain","none"],w=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Qe,t],V=()=>[Qe,t],W=()=>["",na,_a],N=()=>["auto",Fu,Qe],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],E=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",Qe],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[Fu,Qe];return{cacheSize:500,separator:":",theme:{colors:[Ld],spacing:[na,_a],blur:["none","",Qa,Qe],brightness:Y(),borderColor:[e],borderRadius:["none","","full",Qa,Qe],borderSpacing:V(),borderWidth:W(),contrast:Y(),grayscale:H(),hueRotate:Y(),invert:H(),gap:V(),gradientColorStops:[e],gradientColorStopPositions:[MYe,_a],inset:k(),margin:k(),opacity:Y(),padding:V(),saturate:Y(),scale:Y(),sepia:H(),skew:Y(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Qe]}],container:["container"],columns:[{columns:[Qa]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),Qe]}],overflow:[{overflow:w()}],"overflow-x":[{"overflow-x":w()}],"overflow-y":[{"overflow-y":w()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Td,Qe]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qe]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",Td,Qe]}],"grid-cols":[{"grid-cols":[Ld]}],"col-start-end":[{col:["auto",{span:["full",Td,Qe]},Qe]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[Ld]}],"row-start-end":[{row:["auto",{span:[Td,Qe]},Qe]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qe]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qe,t]}],"min-w":[{"min-w":[Qe,t,"min","max","fit"]}],"max-w":[{"max-w":[Qe,t,"none","full","min","max","fit","prose",{screen:[Qa]},Qa]}],h:[{h:[Qe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Qa,_a]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",A1]}],"font-family":[{font:[Ld]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qe]}],"line-clamp":[{"line-clamp":["none",Fu,A1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",na,Qe]}],"list-image":[{"list-image":["none",Qe]}],"list-style-type":[{list:["none","disc","decimal",Qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",na,_a]}],"underline-offset":[{"underline-offset":["auto",na,Qe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),LYe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",TYe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},OYe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[I]}],"gradient-via-pos":[{via:[I]}],"gradient-to-pos":[{to:[I]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:J()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[na,Qe]}],"outline-w":[{outline:[na,_a]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[na,_a]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Qa,PYe]}],"shadow-color":[{shadow:[Ld]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...E(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":E()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",Qa,Qe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[g]}],saturate:[{saturate:[v]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qe]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",Qe]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[Td,Qe]}],"translate-x":[{"translate-x":[Z]}],"translate-y":[{"translate-y":[Z]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[na,_a,A1]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_Ye=(e,{cacheSize:t,prefix:n,separator:r,experimentalParseClassName:o,extend:i={},override:a={}})=>{af(e,"cacheSize",t),af(e,"prefix",n),af(e,"separator",r),af(e,"experimentalParseClassName",o);for(const l in a)QYe(e[l],a[l]);for(const l in i)$Ye(e[l],i[l]);return e},af=(e,t,n)=>{n!==void 0&&(e[t]=n)},QYe=(e,t)=>{if(t)for(const n in t)af(e,n,t[n])},$Ye=(e,t)=>{if(t)for(const n in t){const r=t[n];r!==void 0&&(e[n]=(e[n]||[]).concat(r))}},qYe=(e,...t)=>typeof e=="function"?EJ(XJ,e,...t):EJ(()=>_Ye(XJ(),e),...t),Q=qYe({extend:{classGroups:{shadow:[{shadow:[{tremor:["input","card","dropdown"],"dark-tremor":["input","card","dropdown"]}]}],rounded:[{rounded:[{tremor:["small","default","full"],"dark-tremor":["small","default","full"]}]}],"font-size":[{text:[{tremor:["default","title","metric"],"dark-tremor":["default","title","metric"]}]}]}}}),eHe=["slate","gray","zinc","neutral","stone","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],tHe=e=>eHe.includes(e),Sz=(e,t)=>{if(t||e===kt.Unchanged)return e;switch(e){case kt.Increase:return kt.Decrease;case kt.ModerateIncrease:return kt.ModerateDecrease;case kt.Decrease:return kt.Increase;case kt.ModerateDecrease:return kt.ModerateIncrease}return""},Fi=e=>e.toString(),vk=e=>e.reduce((t,n)=>t+n,0),nHe=(e,t)=>{for(let n=0;n<t.length;n++)if(t[n]===e)return!0;return!1};function Ka(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function Ye(e){return t=>`tremor-${e}-${t}`}function he(e,t){const n=tHe(e);if(e==="white"||e==="black"||e==="transparent"||!t||!n){const r=(o=>o.includes("#")||o.includes("--")||o.includes("rgb"))(e)?`[${e}]`:e;return{bgColor:`bg-${r} dark:bg-${r}`,hoverBgColor:`hover:bg-${r} dark:hover:bg-${r}`,selectBgColor:`ui-selected:bg-${r} dark:ui-selected:bg-${r}`,textColor:`text-${r} dark:text-${r}`,selectTextColor:`ui-selected:text-${r} dark:ui-selected:text-${r}`,hoverTextColor:`hover:text-${r} dark:hover:text-${r}`,borderColor:`border-${r} dark:border-${r}`,selectBorderColor:`ui-selected:border-${r} dark:ui-selected:border-${r}`,hoverBorderColor:`hover:border-${r} dark:hover:border-${r}`,ringColor:`ring-${r} dark:ring-${r}`,strokeColor:`stroke-${r} dark:stroke-${r}`,fillColor:`fill-${r} dark:fill-${r}`}}return{bgColor:`bg-${e}-${t} dark:bg-${e}-${t}`,selectBgColor:`ui-selected:bg-${e}-${t} dark:ui-selected:bg-${e}-${t}`,hoverBgColor:`hover:bg-${e}-${t} dark:hover:bg-${e}-${t}`,textColor:`text-${e}-${t} dark:text-${e}-${t}`,selectTextColor:`ui-selected:text-${e}-${t} dark:ui-selected:text-${e}-${t}`,hoverTextColor:`hover:text-${e}-${t} dark:hover:text-${e}-${t}`,borderColor:`border-${e}-${t} dark:border-${e}-${t}`,selectBorderColor:`ui-selected:border-${e}-${t} dark:ui-selected:border-${e}-${t}`,hoverBorderColor:`hover:border-${e}-${t} dark:hover:border-${e}-${t}`,ringColor:`ring-${e}-${t} dark:ring-${e}-${t}`,strokeColor:`stroke-${e}-${t} dark:stroke-${e}-${t}`,fillColor:`fill-${e}-${t} dark:fill-${e}-${t}`}}const rHe=e=>{var t=Ie(e,[]);return G.createElement("svg",Object.assign({},t,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}),G.createElement("path",{d:"M8 12L14 6V18L8 12Z"}))},oHe=e=>{var t=Ie(e,[]);return G.createElement("svg",Object.assign({},t,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}),G.createElement("path",{d:"M16 12L10 18V6L16 12Z"}))},yk=Ye("Legend"),iHe=({name:e,color:t,onClick:n,activeLegend:r})=>{const o=!!n;return G.createElement("li",{className:Q(yk("legendItem"),"group inline-flex items-center px-2 py-0.5 rounded-tremor-small transition whitespace-nowrap",o?"cursor-pointer":"cursor-default","text-tremor-content",o?"hover:bg-tremor-background-subtle":"","dark:text-dark-tremor-content",o?"dark:hover:bg-dark-tremor-background-subtle":""),onClick:i=>{i.stopPropagation(),n==null||n(e,t)}},G.createElement("svg",{className:Q("flex-none h-2 w-2 mr-1.5",he(t,pe.text).textColor,r&&r!==e?"opacity-40":"opacity-100"),fill:"currentColor",viewBox:"0 0 8 8"},G.createElement("circle",{cx:4,cy:4,r:4})),G.createElement("p",{className:Q("whitespace-nowrap truncate text-tremor-default","text-tremor-content",o?"group-hover:text-tremor-content-emphasis":"","dark:text-dark-tremor-content",r&&r!==e?"opacity-40":"opacity-100",o?"dark:group-hover:text-dark-tremor-content-emphasis":"")},e))},JJ=({icon:e,onClick:t,disabled:n})=>{const r=e,[o,i]=G.useState(!1),a=G.useRef(null);return G.useEffect(()=>(o?a.current=setInterval(()=>{t==null||t()},300):clearInterval(a.current),()=>clearInterval(a.current)),[o,t]),b.useEffect(()=>{n&&(clearInterval(a.current),i(!1))},[n]),G.createElement("button",{type:"button",className:Q(yk("legendSliderButton"),"w-5 group inline-flex items-center truncate rounded-tremor-small transition",n?"cursor-not-allowed":"cursor-pointer",n?"text-tremor-content-subtle":"text-tremor-content hover:text-tremor-content-emphasis hover:bg-tremor-background-subtle",n?"dark:text-dark-tremor-subtle":"dark:text-dark-tremor dark:hover:text-tremor-content-emphasis dark:hover:bg-dark-tremor-background-subtle"),disabled:n,onClick:l=>{l.stopPropagation(),t==null||t()},onMouseDown:l=>{l.stopPropagation(),i(!0)},onMouseUp:l=>{l.stopPropagation(),i(!1)}},G.createElement(r,{className:"w-full"}))},Zz=G.forwardRef((e,t)=>{var n,r;const{categories:o,colors:i=$i,className:a,onClickLegendItem:l,activeLegend:s,enableLegendSlider:c=!1}=e,u=Ie(e,["categories","colors","className","onClickLegendItem","activeLegend","enableLegendSlider"]),g=G.useRef(null),d=G.useRef(null),[m,I]=G.useState(null),[h,A]=G.useState(null),C=G.useRef(null),p=b.useCallback(()=>{const S=g==null?void 0:g.current;if(!S)return;const B=S.scrollLeft>0,Z=S.scrollWidth-S.clientWidth>S.scrollLeft;I({left:B,right:Z})},[I]),v=b.useCallback(S=>{var B,Z;const R=g==null?void 0:g.current,w=d==null?void 0:d.current,k=(B=R==null?void 0:R.clientWidth)!==null&&B!==void 0?B:0,V=(Z=w==null?void 0:w.clientWidth)!==null&&Z!==void 0?Z:0;R&&c&&(R.scrollTo({left:S==="left"?R.scrollLeft-k+V:R.scrollLeft+k-V,behavior:"smooth"}),setTimeout(()=>{p()},400))},[c,p]);G.useEffect(()=>{const S=B=>{B==="ArrowLeft"?v("left"):B==="ArrowRight"&&v("right")};return h?(S(h),C.current=setInterval(()=>{S(h)},300)):clearInterval(C.current),()=>clearInterval(C.current)},[h,v]);const y=S=>{S.stopPropagation(),S.key!=="ArrowLeft"&&S.key!=="ArrowRight"||(S.preventDefault(),A(S.key))},x=S=>{S.stopPropagation(),A(null)};return G.useEffect(()=>{const S=g==null?void 0:g.current;return c&&(p(),S==null||S.addEventListener("keydown",y),S==null||S.addEventListener("keyup",x)),()=>{S==null||S.removeEventListener("keydown",y),S==null||S.removeEventListener("keyup",x)}},[p,c]),G.createElement("ol",Object.assign({ref:t,className:Q(yk("root"),"relative overflow-hidden",a)},u),G.createElement("div",{ref:g,tabIndex:0,className:Q("h-full flex",c?m!=null&&m.right||m!=null&&m.left?"pl-4 pr-12  items-center overflow-auto snap-mandatory [&::-webkit-scrollbar]:hidden [scrollbar-width:none]":"":"flex-wrap")},o.map((S,B)=>G.createElement(iHe,{key:`item-${B}`,name:S,color:i[B%i.length],onClick:l,activeLegend:s}))),c&&(m!=null&&m.right||m!=null&&m.left)?G.createElement(G.Fragment,null,G.createElement("div",{className:Q("bg-tremor-background","dark:bg-dark-tremor-background","absolute flex top-0 pr-1 bottom-0 right-0 items-center justify-center h-full"),ref:d},G.createElement(JJ,{icon:rHe,onClick:()=>{A(null),v("left")},disabled:(n=!(m!=null&&m.left))===null||n===void 0||n}),G.createElement(JJ,{icon:oHe,onClick:()=>{A(null),v("right")},disabled:(r=!(m!=null&&m.right))===null||r===void 0||r}))):null)});Zz.displayName="Legend";const uv=({payload:e},t,n,r,o,i)=>{const a=b.useRef(null);bYe(()=>{var s,c;n((c=(s=a.current)===null||s===void 0?void 0:s.clientHeight)?Number(c)+20:60)});const l=e.filter(s=>s.type!=="none");return G.createElement("div",{ref:a,className:"flex items-center justify-end"},G.createElement(Zz,{categories:l.map(s=>s.value),colors:l.map(s=>t.get(s.value)),onClickLegendItem:o,activeLegend:r,enableLegendSlider:i}))},xk=({children:e})=>G.createElement("div",{className:Q("rounded-tremor-default text-tremor-default border","bg-tremor-background shadow-tremor-dropdown border-tremor-border","dark:bg-dark-tremor-background dark:shadow-dark-tremor-dropdown dark:border-dark-tremor-border")},e),Sk=({value:e,name:t,color:n})=>G.createElement("div",{className:"flex items-center justify-between space-x-8"},G.createElement("div",{className:"flex items-center space-x-2"},G.createElement("span",{className:Q("shrink-0 rounded-tremor-full border-2 h-3 w-3","border-tremor-background shadow-tremor-card","dark:border-dark-tremor-background dark:shadow-dark-tremor-card",he(n,pe.background).bgColor)}),G.createElement("p",{className:Q("text-right whitespace-nowrap","text-tremor-content","dark:text-dark-tremor-content")},t)),G.createElement("p",{className:Q("font-medium tabular-nums text-right whitespace-nowrap","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis")},e)),Zk=({active:e,payload:t,label:n,categoryColors:r,valueFormatter:o})=>{if(e&&t){const i=t.filter(a=>a.type!=="none");return G.createElement(xk,null,G.createElement("div",{className:Q("border-tremor-border border-b px-4 py-2","dark:border-dark-tremor-border")},G.createElement("p",{className:Q("font-medium","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis")},n)),G.createElement("div",{className:Q("px-4 py-2 space-y-1")},i.map(({value:a,name:l},s)=>{var c;return G.createElement(Sk,{key:`id-${s}`,value:o(a),name:l,color:(c=r.get(l))!==null&&c!==void 0?c:xe.Blue})})))}return null},Oa=({className:e,noDataText:t="No data"})=>G.createElement("div",{className:Q("flex items-center justify-center w-full h-full border border-dashed rounded-tremor-default","border-tremor-border","dark:border-dark-tremor-border",e)},G.createElement("p",{className:Q("text-tremor-content text-tremor-default","dark:text-dark-tremor-content")},t)),Mc=(e,t)=>{const n=new Map;return e.forEach((r,o)=>{n.set(r,t[o%t.length])}),n},Ql=(e,t,n)=>[e?"auto":t??0,n??"auto"],aHe=(e,t)=>{if(!t)return[];const n=new Set;return e.forEach(r=>{n.add(r[t])}),Array.from(n)};function Lm(e,t){if(e===t)return!0;if(typeof e!="object"||typeof t!="object"||e===null||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const o of n)if(!r.includes(o)||!Lm(e[o],t[o]))return!1;return!0}function Mu(e,t){const n=[];for(const r of e)if(Object.prototype.hasOwnProperty.call(r,t)&&(n.push(r[t]),n.length>1))return!1;return!0}const lHe=G.forwardRef((e,t)=>{const{data:n=[],categories:r=[],index:o,stack:i=!1,colors:a=$i,valueFormatter:l=Fi,startEndOnly:s=!1,showXAxis:c=!0,showYAxis:u=!0,yAxisWidth:g=56,intervalType:d="equidistantPreserveStart",showAnimation:m=!1,animationDuration:I=900,showTooltip:h=!0,showLegend:A=!0,showGridLines:C=!0,showGradient:p=!0,autoMinValue:v=!1,curveType:y="linear",minValue:x,maxValue:S,connectNulls:B=!1,allowDecimals:Z=!0,noDataText:R,className:w,onValueChange:k,enableLegendSlider:V=!1,customTooltip:W,rotateLabelX:N,padding:X=!c&&!u||s&&!u?{left:0,right:0}:{left:20,right:20},tickGap:J=5,xAxisLabel:E,yAxisLabel:F}=e,H=Ie(e,["data","categories","index","stack","colors","valueFormatter","startEndOnly","showXAxis","showYAxis","yAxisWidth","intervalType","showAnimation","animationDuration","showTooltip","showLegend","showGridLines","showGradient","autoMinValue","curveType","minValue","maxValue","connectNulls","allowDecimals","noDataText","className","onValueChange","enableLegendSlider","customTooltip","rotateLabelX","padding","tickGap","xAxisLabel","yAxisLabel"]),M=W,[Y,T]=b.useState(60),[O,P]=b.useState(void 0),[L,j]=b.useState(void 0),D=Mc(r,a),$=Ql(v,x,S),K=!!k;function z(_){K&&(_===L&&!O||Mu(n,_)&&O&&O.dataKey===_?(j(void 0),k==null||k(null)):(j(_),k==null||k({eventType:"category",categoryClicked:_})),P(void 0))}return G.createElement("div",Object.assign({ref:t,className:Q("w-full h-80",w)},H),G.createElement(Is,{className:"h-full w-full"},n!=null&&n.length?G.createElement(pz,{data:n,onClick:K&&(L||O)?()=>{P(void 0),j(void 0),k==null||k(null)}:void 0,margin:{bottom:E?30:void 0,left:F?20:void 0,right:F?5:void 0,top:5}},C?G.createElement(xI,{className:Q("stroke-1","stroke-tremor-border","dark:stroke-dark-tremor-border"),horizontal:!0,vertical:!1}):null,G.createElement(Yr,{padding:X,hide:!c,dataKey:o,tick:{transform:"translate(0, 6)"},ticks:s?[n[0][o],n[n.length-1][o]]:void 0,fill:"",stroke:"",className:Q("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content"),interval:s?"preserveStartEnd":d,tickLine:!1,axisLine:!1,minTickGap:J,angle:N==null?void 0:N.angle,dy:N==null?void 0:N.verticalShift,height:N==null?void 0:N.xAxisHeight},E&&G.createElement(xt,{position:"insideBottom",offset:-20,className:"fill-tremor-content-emphasis text-tremor-default font-medium dark:fill-dark-tremor-content-emphasis"},E)),G.createElement(Hr,{width:g,hide:!u,axisLine:!1,tickLine:!1,type:"number",domain:$,tick:{transform:"translate(-3, 0)"},fill:"",stroke:"",className:Q("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content"),tickFormatter:l,allowDecimals:Z},F&&G.createElement(xt,{position:"insideLeft",style:{textAnchor:"middle"},angle:-90,offset:-15,className:"fill-tremor-content-emphasis text-tremor-default font-medium dark:fill-dark-tremor-content-emphasis"},F)),G.createElement(Zr,{wrapperStyle:{outline:"none"},isAnimationActive:!1,cursor:{stroke:"#d1d5db",strokeWidth:1},content:h?({active:_,payload:U,label:te})=>M?G.createElement(M,{payload:U==null?void 0:U.map(ie=>{var re;return Object.assign(Object.assign({},ie),{color:(re=D.get(ie.dataKey))!==null&&re!==void 0?re:xe.Gray})}),active:_,label:te}):G.createElement(Zk,{active:_,payload:U,label:te,valueFormatter:l,categoryColors:D}):G.createElement(G.Fragment,null),position:{y:0}}),A?G.createElement(Ji,{verticalAlign:"top",height:Y,content:({payload:_})=>uv({payload:_},D,T,L,K?U=>z(U):void 0,V)}):null,r.map(_=>{var U,te,ie;const re=((U=D.get(_))!==null&&U!==void 0?U:xe.Gray).replace("#","");return G.createElement("defs",{key:_},p?G.createElement("linearGradient",{className:he((te=D.get(_))!==null&&te!==void 0?te:xe.Gray,pe.text).textColor,id:re,x1:"0",y1:"0",x2:"0",y2:"1"},G.createElement("stop",{offset:"5%",stopColor:"currentColor",stopOpacity:O||L&&L!==_?.15:.4}),G.createElement("stop",{offset:"95%",stopColor:"currentColor",stopOpacity:0})):G.createElement("linearGradient",{className:he((ie=D.get(_))!==null&&ie!==void 0?ie:xe.Gray,pe.text).textColor,id:re,x1:"0",y1:"0",x2:"0",y2:"1"},G.createElement("stop",{stopColor:"currentColor",stopOpacity:O||L&&L!==_?.1:.3})))}),r.map(_=>{var U,te;const ie=((U=D.get(_))!==null&&U!==void 0?U:xe.Gray).replace("#","");return G.createElement(La,{className:he((te=D.get(_))!==null&&te!==void 0?te:xe.Gray,pe.text).strokeColor,strokeOpacity:O||L&&L!==_?.3:1,activeDot:re=>{var se;const{cx:ce,cy:q,stroke:ee,strokeLinecap:oe,strokeLinejoin:ae,strokeWidth:ne,dataKey:fe}=re;return G.createElement(Pi,{className:Q("stroke-tremor-background dark:stroke-dark-tremor-background",k?"cursor-pointer":"",he((se=D.get(fe))!==null&&se!==void 0?se:xe.Gray,pe.text).fillColor),cx:ce,cy:q,r:5,fill:"",stroke:ee,strokeLinecap:oe,strokeLinejoin:ae,strokeWidth:ne,onClick:(le,be)=>function(ye,Fe){Fe.stopPropagation(),K&&(ye.index===(O==null?void 0:O.index)&&ye.dataKey===(O==null?void 0:O.dataKey)||Mu(n,ye.dataKey)&&L&&L===ye.dataKey?(j(void 0),P(void 0),k==null||k(null)):(j(ye.dataKey),P({index:ye.index,dataKey:ye.dataKey}),k==null||k(Object.assign({eventType:"dot",categoryClicked:ye.dataKey},ye.payload))))}(re,be)})},dot:re=>{var se;const{stroke:ce,strokeLinecap:q,strokeLinejoin:ee,strokeWidth:oe,cx:ae,cy:ne,dataKey:fe,index:le}=re;return Mu(n,_)&&!(O||L&&L!==_)||(O==null?void 0:O.index)===le&&(O==null?void 0:O.dataKey)===_?G.createElement(Pi,{key:le,cx:ae,cy:ne,r:5,stroke:ce,fill:"",strokeLinecap:q,strokeLinejoin:ee,strokeWidth:oe,className:Q("stroke-tremor-background dark:stroke-dark-tremor-background",k?"cursor-pointer":"",he((se=D.get(fe))!==null&&se!==void 0?se:xe.Gray,pe.text).fillColor)}):G.createElement(b.Fragment,{key:le})},key:_,name:_,type:y,dataKey:_,stroke:"",fill:`url(#${ie})`,strokeWidth:2,strokeLinejoin:"round",strokeLinecap:"round",isAnimationActive:m,animationDuration:I,stackId:i?"a":void 0,connectNulls:B})}),k?r.map(_=>G.createElement(_l,{className:Q("cursor-pointer"),strokeOpacity:0,key:_,name:_,type:y,dataKey:_,stroke:"transparent",fill:"transparent",legendType:"none",tooltipType:"none",strokeWidth:12,connectNulls:B,onClick:(U,te)=>{te.stopPropagation();const{name:ie}=U;z(ie)}})):null):G.createElement(Oa,{noDataText:R})))});lHe.displayName="AreaChart";const sHe=G.forwardRef((e,t)=>{const{data:n=[],categories:r=[],index:o,colors:i=$i,valueFormatter:a=Fi,layout:l="horizontal",stack:s=!1,relative:c=!1,startEndOnly:u=!1,animationDuration:g=900,showAnimation:d=!1,showXAxis:m=!0,showYAxis:I=!0,yAxisWidth:h=56,intervalType:A="equidistantPreserveStart",showTooltip:C=!0,showLegend:p=!0,showGridLines:v=!0,autoMinValue:y=!1,minValue:x,maxValue:S,allowDecimals:B=!0,noDataText:Z,onValueChange:R,enableLegendSlider:w=!1,customTooltip:k,rotateLabelX:V,barCategoryGap:W,tickGap:N=5,xAxisLabel:X,yAxisLabel:J,className:E,padding:F=m||I?{left:20,right:20}:{left:0,right:0}}=e,H=Ie(e,["data","categories","index","colors","valueFormatter","layout","stack","relative","startEndOnly","animationDuration","showAnimation","showXAxis","showYAxis","yAxisWidth","intervalType","showTooltip","showLegend","showGridLines","autoMinValue","minValue","maxValue","allowDecimals","noDataText","onValueChange","enableLegendSlider","customTooltip","rotateLabelX","barCategoryGap","tickGap","xAxisLabel","yAxisLabel","className","padding"]),M=k,[Y,T]=b.useState(60),O=Mc(r,i),[P,L]=G.useState(void 0),[j,D]=b.useState(void 0),$=!!R;function K(_,U,te){var ie,re,se,ce;te.stopPropagation(),R&&(Lm(P,Object.assign(Object.assign({},_.payload),{value:_.value}))?(D(void 0),L(void 0),R==null||R(null)):(D((re=(ie=_.tooltipPayload)===null||ie===void 0?void 0:ie[0])===null||re===void 0?void 0:re.dataKey),L(Object.assign(Object.assign({},_.payload),{value:_.value})),R==null||R(Object.assign({eventType:"bar",categoryClicked:(ce=(se=_.tooltipPayload)===null||se===void 0?void 0:se[0])===null||ce===void 0?void 0:ce.dataKey},_.payload))))}const z=Ql(y,x,S);return G.createElement("div",Object.assign({ref:t,className:Q("w-full h-80",E)},H),G.createElement(Is,{className:"h-full w-full"},n!=null&&n.length?G.createElement(Cz,{barCategoryGap:W,data:n,stackOffset:s?"sign":c?"expand":"none",layout:l==="vertical"?"vertical":"horizontal",onClick:$&&(j||P)?()=>{L(void 0),D(void 0),R==null||R(null)}:void 0,margin:{bottom:X?30:void 0,left:J?20:void 0,right:J?5:void 0,top:5}},v?G.createElement(xI,{className:Q("stroke-1","stroke-tremor-border","dark:stroke-dark-tremor-border"),horizontal:l!=="vertical",vertical:l==="vertical"}):null,l!=="vertical"?G.createElement(Yr,{padding:F,hide:!m,dataKey:o,interval:u?"preserveStartEnd":A,tick:{transform:"translate(0, 6)"},ticks:u?[n[0][o],n[n.length-1][o]]:void 0,fill:"",stroke:"",className:Q("mt-4 text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content"),tickLine:!1,axisLine:!1,angle:V==null?void 0:V.angle,dy:V==null?void 0:V.verticalShift,height:V==null?void 0:V.xAxisHeight,minTickGap:N},X&&G.createElement(xt,{position:"insideBottom",offset:-20,className:"fill-tremor-content-emphasis text-tremor-default font-medium dark:fill-dark-tremor-content-emphasis"},X)):G.createElement(Yr,{hide:!m,type:"number",tick:{transform:"translate(-3, 0)"},domain:z,fill:"",stroke:"",className:Q("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content"),tickLine:!1,axisLine:!1,tickFormatter:a,minTickGap:N,allowDecimals:B,angle:V==null?void 0:V.angle,dy:V==null?void 0:V.verticalShift,height:V==null?void 0:V.xAxisHeight},X&&G.createElement(xt,{position:"insideBottom",offset:-20,className:"fill-tremor-content-emphasis text-tremor-default font-medium dark:fill-dark-tremor-content-emphasis"},X)),l!=="vertical"?G.createElement(Hr,{width:h,hide:!I,axisLine:!1,tickLine:!1,type:"number",domain:z,tick:{transform:"translate(-3, 0)"},fill:"",stroke:"",className:Q("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content"),tickFormatter:c?_=>`${(100*_).toString()} %`:a,allowDecimals:B},J&&G.createElement(xt,{position:"insideLeft",style:{textAnchor:"middle"},angle:-90,offset:-15,className:"fill-tremor-content-emphasis text-tremor-default font-medium dark:fill-dark-tremor-content-emphasis"},J)):G.createElement(Hr,{width:h,hide:!I,dataKey:o,axisLine:!1,tickLine:!1,ticks:u?[n[0][o],n[n.length-1][o]]:void 0,type:"category",interval:"preserveStartEnd",tick:{transform:"translate(0, 6)"},fill:"",stroke:"",className:Q("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content")},J&&G.createElement(xt,{position:"insideLeft",style:{textAnchor:"middle"},angle:-90,offset:-15,className:"fill-tremor-content-emphasis text-tremor-default font-medium dark:fill-dark-tremor-content-emphasis"},J)),G.createElement(Zr,{wrapperStyle:{outline:"none"},isAnimationActive:!1,cursor:{fill:"#d1d5db",opacity:"0.15"},content:C?({active:_,payload:U,label:te})=>M?G.createElement(M,{payload:U==null?void 0:U.map(ie=>{var re;return Object.assign(Object.assign({},ie),{color:(re=O.get(ie.dataKey))!==null&&re!==void 0?re:xe.Gray})}),active:_,label:te}):G.createElement(Zk,{active:_,payload:U,label:te,valueFormatter:a,categoryColors:O}):G.createElement(G.Fragment,null),position:{y:0}}),p?G.createElement(Ji,{verticalAlign:"top",height:Y,content:({payload:_})=>uv({payload:_},O,T,j,$?U=>{return te=U,void($&&(te!==j||P?(D(te),R==null||R({eventType:"category",categoryClicked:te})):(D(void 0),R==null||R(null)),L(void 0)));var te}:void 0,w)}):null,r.map(_=>{var U;return G.createElement(As,{className:Q(he((U=O.get(_))!==null&&U!==void 0?U:xe.Gray,pe.background).fillColor,R?"cursor-pointer":""),key:_,name:_,type:"linear",stackId:s||c?"a":void 0,dataKey:_,fill:"",isAnimationActive:d,animationDuration:g,shape:te=>((ie,re,se,ce)=>{const{fillOpacity:q,name:ee,payload:oe,value:ae}=ie;let{x:ne,width:fe,y:le,height:be}=ie;return ce==="horizontal"&&be<0?(le+=be,be=Math.abs(be)):ce==="vertical"&&fe<0&&(ne+=fe,fe=Math.abs(fe)),G.createElement("rect",{x:ne,y:le,width:fe,height:be,opacity:re||se&&se!==ee?Lm(re,Object.assign(Object.assign({},oe),{value:ae}))?q:.3:q})})(te,P,j,l),onClick:K})})):G.createElement(Oa,{noDataText:Z})))});sHe.displayName="BarChart";const cHe=({active:e,payload:t,valueFormatter:n})=>{if(e&&(t!=null&&t[0])){const r=t==null?void 0:t[0];return G.createElement(xk,null,G.createElement("div",{className:Q("px-4 py-2")},G.createElement(Sk,{value:n(r.value),name:r.name,color:r.payload.color})))}return null},uHe=(e,t)=>e.map((n,r)=>{const o=r<t.length?t[r]:xe.Gray;return Object.assign(Object.assign({},n),{color:o,className:he(o??xe.Gray,pe.background).fillColor,fill:""})}),gHe=(e,t,n,r)=>e||t(((o,i)=>vk(o.map(a=>a[i])))(n,r)),dHe=e=>{const{cx:t,cy:n,innerRadius:r,outerRadius:o,startAngle:i,endAngle:a,className:l}=e;return G.createElement("g",null,G.createElement(ck,{cx:t,cy:n,innerRadius:r,outerRadius:o,startAngle:i,endAngle:a,className:l,fill:"",opacity:.3,style:{outline:"none"}}))},fHe=G.forwardRef((e,t)=>{const{data:n=[],category:r="value",index:o="name",colors:i=$i,variant:a="donut",valueFormatter:l=Fi,label:s,showLabel:c=!0,animationDuration:u=900,showAnimation:g=!1,showTooltip:d=!0,noDataText:m,onValueChange:I,customTooltip:h,className:A}=e,C=Ie(e,["data","category","index","colors","variant","valueFormatter","label","showLabel","animationDuration","showAnimation","showTooltip","noDataText","onValueChange","customTooltip","className"]),p=h,v=a=="donut",y=gHe(s,l,n,r),[x,S]=G.useState(void 0),B=!!I;return b.useEffect(()=>{const Z=document.querySelectorAll(".recharts-pie-sector");Z&&Z.forEach(R=>{R.setAttribute("style","outline: none")})},[x]),G.createElement("div",Object.assign({ref:t,className:Q("w-full h-40",A)},C),G.createElement(Is,{className:"h-full w-full"},n!=null&&n.length?G.createElement(pYe,{onClick:B&&x?()=>{S(void 0),I==null||I(null)}:void 0,margin:{top:0,left:0,right:0,bottom:0}},c&&v?G.createElement("text",{className:Q("fill-tremor-content-emphasis","dark:fill-dark-tremor-content-emphasis"),x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle"},y):null,G.createElement(Ta,{className:Q("stroke-tremor-background dark:stroke-dark-tremor-background",I?"cursor-pointer":"cursor-default"),data:uHe(n,i),cx:"50%",cy:"50%",startAngle:90,endAngle:-270,innerRadius:v?"75%":"0%",outerRadius:"100%",stroke:"",strokeLinejoin:"round",dataKey:r,nameKey:o,isAnimationActive:g,animationDuration:u,onClick:function(Z,R,w){w.stopPropagation(),B&&(x===R?(S(void 0),I==null||I(null)):(S(R),I==null||I(Object.assign({eventType:"slice"},Z.payload.payload))))},activeIndex:x,inactiveShape:dHe,style:{outline:"none"}}),G.createElement(Zr,{wrapperStyle:{outline:"none"},isAnimationActive:!1,content:d?({active:Z,payload:R})=>{var w;return p?G.createElement(p,{payload:R==null?void 0:R.map(k=>{var V,W,N;return Object.assign(Object.assign({},k),{color:(N=(W=(V=R==null?void 0:R[0])===null||V===void 0?void 0:V.payload)===null||W===void 0?void 0:W.color)!==null&&N!==void 0?N:xe.Gray})}),active:Z,label:(w=R==null?void 0:R[0])===null||w===void 0?void 0:w.name}):G.createElement(cHe,{active:Z,payload:R,valueFormatter:l})}:G.createElement(G.Fragment,null)})):G.createElement(Oa,{noDataText:m})))});fHe.displayName="DonutChart";const SZ=G.forwardRef((e,t)=>{const{data:n=[],categories:r=[],index:o,colors:i=$i,valueFormatter:a=Fi,startEndOnly:l=!1,showXAxis:s=!0,showYAxis:c=!0,yAxisWidth:u=56,intervalType:g="equidistantPreserveStart",animationDuration:d=900,showAnimation:m=!1,showTooltip:I=!0,showLegend:h=!0,showGridLines:A=!0,autoMinValue:C=!1,curveType:p="linear",minValue:v,maxValue:y,connectNulls:x=!1,allowDecimals:S=!0,noDataText:B,className:Z,onValueChange:R,enableLegendSlider:w=!1,customTooltip:k,rotateLabelX:V,padding:W=s||c?{left:20,right:20}:{left:0,right:0},tickGap:N=5,xAxisLabel:X,yAxisLabel:J}=e,E=Ie(e,["data","categories","index","colors","valueFormatter","startEndOnly","showXAxis","showYAxis","yAxisWidth","intervalType","animationDuration","showAnimation","showTooltip","showLegend","showGridLines","autoMinValue","curveType","minValue","maxValue","connectNulls","allowDecimals","noDataText","className","onValueChange","enableLegendSlider","customTooltip","rotateLabelX","padding","tickGap","xAxisLabel","yAxisLabel"]),F=k,[H,M]=b.useState(60),[Y,T]=b.useState(void 0),[O,P]=b.useState(void 0),L=Mc(r,i),j=Ql(C,v,y),D=!!R;function $(K){D&&(K===O&&!Y||Mu(n,K)&&Y&&Y.dataKey===K?(P(void 0),R==null||R(null)):(P(K),R==null||R({eventType:"category",categoryClicked:K})),T(void 0))}return G.createElement("div",Object.assign({ref:t,className:Q("w-full h-80",Z)},E),G.createElement(Is,{className:"h-full w-full"},n!=null&&n.length?G.createElement(hz,{data:n,onClick:D&&(O||Y)?()=>{T(void 0),P(void 0),R==null||R(null)}:void 0,margin:{bottom:X?30:void 0,left:J?20:void 0,right:J?5:void 0,top:5}},A?G.createElement(xI,{className:Q("stroke-1","stroke-tremor-border","dark:stroke-dark-tremor-border"),horizontal:!0,vertical:!1}):null,G.createElement(Yr,{padding:W,hide:!s,dataKey:o,interval:l?"preserveStartEnd":g,tick:{transform:"translate(0, 6)"},ticks:l?[n[0][o],n[n.length-1][o]]:void 0,fill:"",stroke:"",className:Q("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content"),tickLine:!1,axisLine:!1,minTickGap:N,angle:V==null?void 0:V.angle,dy:V==null?void 0:V.verticalShift,height:V==null?void 0:V.xAxisHeight},X&&G.createElement(xt,{position:"insideBottom",offset:-20,className:"fill-tremor-content-emphasis text-tremor-default font-medium dark:fill-dark-tremor-content-emphasis"},X)),G.createElement(Hr,{width:u,hide:!c,axisLine:!1,tickLine:!1,type:"number",domain:j,tick:{transform:"translate(-3, 0)"},fill:"",stroke:"",className:Q("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content"),tickFormatter:a,allowDecimals:S},J&&G.createElement(xt,{position:"insideLeft",style:{textAnchor:"middle"},angle:-90,offset:-15,className:"fill-tremor-content-emphasis text-tremor-default font-medium dark:fill-dark-tremor-content-emphasis"},J)),G.createElement(Zr,{wrapperStyle:{outline:"none"},isAnimationActive:!1,cursor:{stroke:"#d1d5db",strokeWidth:1},content:I?({active:K,payload:z,label:_})=>F?G.createElement(F,{payload:z==null?void 0:z.map(U=>{var te;return Object.assign(Object.assign({},U),{color:(te=L.get(U.dataKey))!==null&&te!==void 0?te:xe.Gray})}),active:K,label:_}):G.createElement(Zk,{active:K,payload:z,label:_,valueFormatter:a,categoryColors:L}):G.createElement(G.Fragment,null),position:{y:0}}),h?G.createElement(Ji,{verticalAlign:"top",height:H,content:({payload:K})=>uv({payload:K},L,M,O,D?z=>$(z):void 0,w)}):null,r.map(K=>{var z;return G.createElement(_l,{className:Q(he((z=L.get(K))!==null&&z!==void 0?z:xe.Gray,pe.text).strokeColor),strokeOpacity:Y||O&&O!==K?.3:1,activeDot:_=>{var U;const{cx:te,cy:ie,stroke:re,strokeLinecap:se,strokeLinejoin:ce,strokeWidth:q,dataKey:ee}=_;return G.createElement(Pi,{className:Q("stroke-tremor-background dark:stroke-dark-tremor-background",R?"cursor-pointer":"",he((U=L.get(ee))!==null&&U!==void 0?U:xe.Gray,pe.text).fillColor),cx:te,cy:ie,r:5,fill:"",stroke:re,strokeLinecap:se,strokeLinejoin:ce,strokeWidth:q,onClick:(oe,ae)=>function(ne,fe){fe.stopPropagation(),D&&(ne.index===(Y==null?void 0:Y.index)&&ne.dataKey===(Y==null?void 0:Y.dataKey)||Mu(n,ne.dataKey)&&O&&O===ne.dataKey?(P(void 0),T(void 0),R==null||R(null)):(P(ne.dataKey),T({index:ne.index,dataKey:ne.dataKey}),R==null||R(Object.assign({eventType:"dot",categoryClicked:ne.dataKey},ne.payload))))}(_,ae)})},dot:_=>{var U;const{stroke:te,strokeLinecap:ie,strokeLinejoin:re,strokeWidth:se,cx:ce,cy:q,dataKey:ee,index:oe}=_;return Mu(n,K)&&!(Y||O&&O!==K)||(Y==null?void 0:Y.index)===oe&&(Y==null?void 0:Y.dataKey)===K?G.createElement(Pi,{key:oe,cx:ce,cy:q,r:5,stroke:te,fill:"",strokeLinecap:ie,strokeLinejoin:re,strokeWidth:se,className:Q("stroke-tremor-background dark:stroke-dark-tremor-background",R?"cursor-pointer":"",he((U=L.get(ee))!==null&&U!==void 0?U:xe.Gray,pe.text).fillColor)}):G.createElement(b.Fragment,{key:oe})},key:K,name:K,type:p,dataKey:K,stroke:"",strokeWidth:2,strokeLinejoin:"round",strokeLinecap:"round",isAnimationActive:m,animationDuration:d,connectNulls:x})}),R?r.map(K=>G.createElement(_l,{className:Q("cursor-pointer"),strokeOpacity:0,key:K,name:K,type:p,dataKey:K,stroke:"transparent",fill:"transparent",legendType:"none",tooltipType:"none",strokeWidth:12,connectNulls:x,onClick:(z,_)=>{_.stopPropagation();const{name:U}=z;$(U)}})):null):G.createElement(Oa,{noDataText:B})))});SZ.displayName="LineChart";const mHe=({children:e})=>G.createElement("div",{className:Q("rounded-tremor-default text-tremor-default border","bg-tremor-background shadow-tremor-dropdown border-tremor-border","dark:bg-dark-tremor-background dark:shadow-dark-tremor-dropdown dark:border-dark-tremor-border")},e),IHe=({value:e,name:t})=>G.createElement("div",{className:"flex items-center justify-between space-x-8"},G.createElement("div",{className:"flex items-center space-x-2"},G.createElement("p",{className:Q("text-right whitespace-nowrap","text-tremor-content","dark:text-dark-tremor-content")},t)),G.createElement("p",{className:Q("font-medium tabular-nums text-right whitespace-nowrap","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis")},e)),hHe=({label:e,active:t,payload:n,valueFormatter:r,axis:o,category:i,categoryColors:a})=>{var l,s;return t&&n?G.createElement(mHe,null,G.createElement("div",{className:Q("flex items-center space-x-2 border-b px-4 py-2","border-tremor-border","dark:border-dark-tremor-border")},G.createElement("span",{className:Q("shrink-0 rounded-tremor-full border-2 h-3 w-3","border-tremor-background shadow-tremor-card","dark:border-dark-tremor-background dark:shadow-dark-tremor-card",he(i&&(s=a.get((l=n==null?void 0:n[0])===null||l===void 0?void 0:l.payload[i]))!==null&&s!==void 0?s:xe.Blue,pe.background).bgColor)}),G.createElement("p",{className:Q("font-medium","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis")},e)),G.createElement("div",{className:Q("px-4 py-2 space-y-1")},n.map(({value:c,name:u},g)=>{var d,m;const I=(d=Object.keys(o).find(A=>o[A]===u))!==null&&d!==void 0?d:"",h=(m=r[I])!==null&&m!==void 0?m:Fi;return G.createElement(IHe,{key:`id-${g}`,value:r&&h?h(c):`${c}`,name:u})}))):null},CHe=G.forwardRef((e,t)=>{const{data:n=[],x:r,y:o,size:i,category:a,colors:l=$i,showOpacity:s=!1,sizeRange:c=[1,1e3],valueFormatter:u={x:Fi,y:Fi,size:Fi},startEndOnly:g=!1,showXAxis:d=!0,showYAxis:m=!0,yAxisWidth:I=56,intervalType:h="equidistantPreserveStart",animationDuration:A=900,showAnimation:C=!1,showTooltip:p=!0,showLegend:v=!0,showGridLines:y=!0,autoMinXValue:x=!1,minXValue:S,maxXValue:B,autoMinYValue:Z=!1,minYValue:R,maxYValue:w,allowDecimals:k=!0,noDataText:V,onValueChange:W,customTooltip:N,rotateLabelX:X,className:J,enableLegendSlider:E=!1,tickGap:F=5,xAxisLabel:H,yAxisLabel:M}=e,Y=Ie(e,["data","x","y","size","category","colors","showOpacity","sizeRange","valueFormatter","startEndOnly","showXAxis","showYAxis","yAxisWidth","intervalType","animationDuration","showAnimation","showTooltip","showLegend","showGridLines","autoMinXValue","minXValue","maxXValue","autoMinYValue","minYValue","maxYValue","allowDecimals","noDataText","onValueChange","customTooltip","rotateLabelX","className","enableLegendSlider","tickGap","xAxisLabel","yAxisLabel"]),T=N,[O,P]=b.useState(60),[L,j]=G.useState(void 0),[D,$]=b.useState(void 0),K=!!W;function z(re,se,ce){ce.stopPropagation(),K&&(Lm(L,re.node)?($(void 0),j(void 0),W==null||W(null)):(j(re.node),$(re.payload[a]),W==null||W(Object.assign({eventType:"bubble",categoryClicked:re.payload[a]},re.payload))))}const _=aHe(n,a),U=Mc(_,l),te=Ql(x,S,B),ie=Ql(Z,R,w);return G.createElement("div",Object.assign({ref:t,className:Q("w-full h-80",J)},Y),G.createElement(Is,{className:"h-full w-full"},n!=null&&n.length?G.createElement(AYe,{onClick:K&&(D||L)?()=>{j(void 0),$(void 0),W==null||W(null)}:void 0,margin:{bottom:H?20:void 0,left:20,right:20,top:5}},y?G.createElement(xI,{className:Q("stroke-1","stroke-tremor-border","dark:stroke-dark-tremor-border"),horizontal:!0,vertical:!0}):null,r?G.createElement(Yr,{hide:!d,dataKey:r,interval:g?"preserveStartEnd":h,tick:{transform:"translate(0, 6)"},ticks:g?[n[0][r],n[n.length-1][r]]:void 0,type:"number",name:r,fill:"",stroke:"",className:Q("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content"),tickLine:!1,tickFormatter:u.x,axisLine:!1,minTickGap:F,domain:te,allowDataOverflow:!0,angle:X==null?void 0:X.angle,dy:X==null?void 0:X.verticalShift,height:X==null?void 0:X.xAxisHeight},H&&G.createElement(xt,{position:"insideBottom",offset:-20,className:"fill-tremor-content-emphasis text-tremor-default font-medium dark:fill-dark-tremor-content-emphasis"},H)):null,o?G.createElement(Hr,{width:I,hide:!m,axisLine:!1,tickLine:!1,dataKey:o,type:"number",name:o,domain:ie,tick:{transform:"translate(-3, 0)"},tickFormatter:u.y,fill:"",stroke:"",className:Q("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content"),allowDecimals:k,allowDataOverflow:!0},M&&G.createElement(xt,{position:"insideLeft",style:{textAnchor:"middle"},angle:-90,offset:-15,className:"fill-tremor-content-emphasis text-tremor-default font-medium dark:fill-dark-tremor-content-emphasis"},M)):null,G.createElement(Zr,{wrapperStyle:{outline:"none"},isAnimationActive:!1,cursor:{stroke:"#d1d5db",strokeWidth:1},content:p?({active:re,payload:se,label:ce})=>{var q,ee;const oe=a?(ee=(q=se==null?void 0:se[0])===null||q===void 0?void 0:q.payload)===null||ee===void 0?void 0:ee[a]:ce;return T?G.createElement(T,{payload:se==null?void 0:se.map(ae=>{var ne;return Object.assign(Object.assign({},ae),{color:(ne=U.get(oe))!==null&&ne!==void 0?ne:xe.Gray})}),active:re,label:oe}):G.createElement(hHe,{active:re,payload:se,label:oe,valueFormatter:u,axis:{x:r,y:o,size:i},category:a,categoryColors:U})}:G.createElement(G.Fragment,null)}),i?G.createElement(SI,{dataKey:i,type:"number",range:c,name:i}):null,_.map(re=>{var se,ce;return G.createElement(ZI,{className:Q(he((se=U.get(re))!==null&&se!==void 0?se:xe.Gray,pe.text).fillColor,s?he((ce=U.get(re))!==null&&ce!==void 0?ce:xe.Gray,pe.text).strokeColor:"",W?"cursor-pointer":""),fill:`url(#${U.get(re)})`,fillOpacity:s?.7:1,key:re,name:re,data:a?n.filter(q=>q[a]===re):n,isAnimationActive:C,animationDuration:A,shape:q=>((ee,oe,ae)=>{const{cx:ne,cy:fe,width:le,node:be,fillOpacity:ye,name:Fe}=ee;return G.createElement(Pi,{cx:ne,cy:fe,r:le/2,opacity:oe||ae&&ae!==Fe?Lm(oe,be)?ye:.3:ye})})(q,L,D),onClick:z})}),v?G.createElement(Ji,{verticalAlign:"top",height:O,content:({payload:re})=>uv({payload:re},U,P,D,K?se=>{return ce=se,void(K&&(ce!==D||L?($(ce),W==null||W({eventType:"category",categoryClicked:ce})):($(void 0),W==null||W(null)),j(void 0)));var ce}:void 0,E)}):null):G.createElement(Oa,{noDataText:V})))});CHe.displayName="ScatterChart";const wz=e=>{var t=Ie(e,[]);return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),G.createElement("path",{d:"M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"}))},pHe=["100%","75%","50%","25%","0%"],AHe=G.forwardRef((e,t)=>{var n,r;const{data:o,evolutionGradient:i=!1,gradient:a=!0,valueFormatter:l=Fi,className:s,calculateFrom:c="first",color:u,variant:g="base",showGridLines:d=!0,showYAxis:m=c!=="previous",showXAxis:I=!0,showArrow:h=!0,xAxisLabel:A="",yAxisLabel:C="",yAxisPadding:p=m?C?70:45:0,showTooltip:v=!0,onValueChange:y,customTooltip:x,noDataText:S,rotateLabelX:B,barGap:Z="20%"}=e,R=Ie(e,["data","evolutionGradient","gradient","valueFormatter","className","calculateFrom","color","variant","showGridLines","showYAxis","showXAxis","showArrow","xAxisLabel","yAxisLabel","yAxisPadding","showTooltip","onValueChange","customTooltip","noDataText","rotateLabelX","barGap"]),w=I&&A?25:15,k=x,V=G.useRef(null),W=G.useRef(null),[N,X]=G.useState(0),[J,E]=G.useState(0),[F,H]=G.useState({x:0,y:0}),[M,Y]=G.useState(void 0),T=!!y,O=G.useMemo(()=>Math.max(...o.map(U=>U.value)),[o]),P=N-10-p,L=G.useMemo(()=>{if(typeof Z=="number")return Z;if(typeof Z=="string"&&Z.endsWith("%")){const U=parseFloat(Z.slice(0,-1));return P*U/100/(o.length-1)}return console.error('Invalid barGap value. It must be a number or a percentage string (e.g., "10%").'),30},[P,o.length,Z]),j=G.useMemo(()=>(P-(o.length-1)*L-L)/o.length,[P,L,o.length]),D=J-10-(I?((B==null?void 0:B.xAxisHeight)||w)+(I&&A?30:10):0),$=c==="previous",K=g==="center";G.useLayoutEffect(()=>{const U=()=>{if(V.current){const te=V.current.getBoundingClientRect();X(te.width),E(te.height)}};return U(),window.addEventListener("resize",U),()=>{window.removeEventListener("resize",U)}},[s]),G.useEffect(()=>{const U=()=>{if(W.current){const te=W.current.getBoundingClientRect();te.right>window.innerWidth&&(W.current.style.left=N-te.width+"px")}};return U(),window.addEventListener("resize",U),()=>{window.removeEventListener("resize",U)}},[F,N]);const z=G.useMemo(()=>D<=0?[]:o.reduce((U,te,ie)=>{var re,se,ce,q;const ee=U[ie-1],oe=te.value,ae=$&&(re=ee==null?void 0:ee.value)!==null&&re!==void 0?re:O,ne=$&&(se=ee==null?void 0:ee.barHeight)!==null&&se!==void 0?se:D,fe=oe/ae,le=fe*ne,be=ie*(j+L)+.5*L,ye=ne-le+($?D-((ce=ee==null?void 0:ee.barHeight)!==null&&ce!==void 0?ce:D):0),Fe=(q=o[ie+1])===null||q===void 0?void 0:q.value,ue=Fe/ae,Se=ue*ne,ke=(ie+1)*(j+L)+.5*L;return U.push({value:oe,normalizedValue:fe,name:te.name,startX:be,startY:ye,barHeight:le,nextValue:Fe,nextNormalizedValue:ue,nextBarHeight:Se,nextStartX:ke}),U},[]),[o,D,$,j,L,O]),_=U=>{var te;const ie=(te=V.current)===null||te===void 0?void 0:te.getBoundingClientRect();if(!ie)return;const re=ie.x,se=ie.y+window.scrollY,ce=re+window.scrollX+p+5,q=ce+(ie.width-p-5),ee=se+(ie.height-5-(I?w:0));if(U.pageX<ce||U.pageX>q||U.pageY<se||U.pageY>ee)return console.log("out of bounds"),H({x:0,y:0});const oe=U.pageX-re-j/2-p-5,ae=z.reduce((fe,le)=>Math.abs(le.startX-oe)<Math.abs(fe.startX-oe)?le:fe),ne=z.findIndex(fe=>fe===ae);H({x:ae.startX,y:ae.startY,data:{dataKey:ae.name,name:ae.name,value:ae.value,color:u??xe.Blue,className:Q(he(u??xe.Blue,pe.text).textColor,T?"cursor-pointer":"cursor-default"),fill:"",payload:ae},index:ne})};return G.createElement("div",Object.assign({ref:t,className:Q("tremor-wrapper relative w-full h-80",s)},R),o!=null&&o.length?G.createElement(G.Fragment,null,G.createElement("svg",{ref:V,xmlns:"http://www.w3.org/2000/svg",className:Q("w-full h-full"),onMouseMove:U=>{const te={clientX:U.clientX,clientY:U.clientY,pageX:U.pageX,pageY:U.pageY};_(te)},onTouchMove:U=>{const te=U.touches[0];_(te)},onMouseLeave:()=>H({x:0,y:0}),onTouchEnd:()=>H({x:0,y:0})},pHe.map((U,te)=>G.createElement(G.Fragment,{key:`y-axis-${te}`},d?G.createElement("line",{x1:p+5,y1:te*D/4+5,x2:N-5,y2:te*D/4+5,stroke:"currentColor",className:Q("stroke-1","stroke-tremor-border","dark:stroke-dark-tremor-border")}):null,G.createElement("text",{x:p-10+5,y:te*D/4+5+5,textAnchor:"end",fill:"",stroke:"",className:Q("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content")},U))),z.map((U,te)=>{var ie,re;return G.createElement("g",{key:`bar-${te}`},G.createElement("rect",{x:U.startX-.5*L+5+p,y:5,width:j+L,height:D,fill:"currentColor",className:Q("z-0",F.index===te?"text-[#d1d5db]/15":"text-transparent")}),a?G.createElement("rect",{x:U.startX+5+p,y:D-($&&((ie=z[te-1])===null||ie===void 0?void 0:ie.barHeight)||D)+5,width:j,height:(D-U.barHeight-($&&D-((re=z[te-1])===null||re===void 0?void 0:re.barHeight)||0))/(K?2:1),fill:"url(#base-gradient)",className:Q(M&&M.index!==te?"opacity-30":"")}):null,G.createElement("rect",{x:U.startX+5+p,y:(K?D/2-U.barHeight/2:U.startY)+5,width:j,height:U.barHeight,fill:"currentColor",className:Q(he(u??xe.Blue,pe.text).textColor,M&&M.index!==te?"opacity-30":"",T?"cursor-pointer":"cursor-default"),onClick:se=>function(ce,q,ee){ee.stopPropagation(),T&&(q===(M==null?void 0:M.index)?(Y(void 0),y(void 0)):(Y({data:ce,index:q}),y({eventType:"bar",categoryClicked:ce.name,[ce.name]:ce.value,percentage:ce.normalizedValue})))}(U,te,se)}),a&&K?G.createElement("rect",{x:U.startX+5+p,y:D/2+U.barHeight/2+5,width:j,height:(D-U.barHeight)/2,fill:"url(#base-gradient-revert)",className:Q(M&&M.index!==te?"opacity-30":"")}):null,I?G.createElement("foreignObject",{x:U.startX+5+p,y:D+5+10,width:j,height:(B==null?void 0:B.xAxisHeight)||w,transform:B?`rotate(${B==null?void 0:B.angle}, ${U.startX+j/2+5+p}, ${D+((B==null?void 0:B.xAxisHeight)||w)/2+5+((B==null?void 0:B.verticalShift)||0)})`:void 0},G.createElement("div",{className:Q("truncate text-center !text-tremor-label","text-tremor-content","dark:text-dark-tremor-content"),title:U.name},U.name)):null)}),z.map((U,te)=>G.createElement(G.Fragment,{key:`gradient-${te}`},te<o.length-1&&i?G.createElement(G.Fragment,null,K?G.createElement(G.Fragment,null,G.createElement("polygon",{points:`
                                    ${U.startX+j+5+p}, ${D/2+U.nextBarHeight/4+5}
                                    ${U.nextStartX+5+p}, ${D/2+U.nextBarHeight/4+5}
                                    ${U.nextStartX+5+p}, ${D/2-U.nextBarHeight/2+5}
                                    ${U.startX+j+5+p}, ${D/2-U.barHeight/2+5}
                                  `,fill:"url(#base-gradient)",className:Q("z-10",M&&M.index!==te?"opacity-30":"")}),G.createElement("polygon",{points:`
                                    ${U.startX+j+5+p}, ${D/2+U.barHeight/2+5}
                                    ${U.nextStartX+5+p}, ${D/2+U.nextBarHeight/2+5}
                                    ${U.nextStartX+5+p}, ${D/2-U.nextBarHeight/4+5}
                                    ${U.startX+j+5+p}, ${D/2-U.nextBarHeight/4+5}
                                  `,fill:"url(#base-gradient-revert)",className:Q("z-10",M&&M.index!==te?"opacity-30":"")})):G.createElement("polygon",{points:`
                                  ${U.startX+j+5+p}, ${U.startY+5} 
                                  ${U.nextStartX+5+p}, ${D-U.nextBarHeight+5} 
                                  ${U.nextStartX+5+p}, ${D+5} 
                                  ${U.startX+j+5+p}, ${D+5}
                                `,fill:"url(#base-gradient)",className:Q("z-10",M&&M.index!==te?"opacity-30":"")})):null,te<o.length-1&&I&&h&&L>=14?G.createElement("foreignObject",{x:U.startX+j+5+p-6+L/2,y:D+5+11,width:12,height:(B==null?void 0:B.xAxisHeight)||w},G.createElement("div",{className:Q("text-tremor-content","dark:text-dark-tremor-content")},G.createElement(wz,{className:"size-3.5 shrink-0"}))):null)),G.createElement("linearGradient",{id:"base-gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",className:Q(he(u??xe.Blue,pe.text).textColor)},G.createElement("stop",{offset:"5%",stopColor:"currentColor",stopOpacity:.4}),G.createElement("stop",{offset:"95%",stopColor:"currentColor",stopOpacity:0})),G.createElement("linearGradient",{id:"base-gradient-revert",x1:"0%",y1:"0%",x2:"0%",y2:"100%",className:Q(he(u??xe.Blue,pe.text).textColor)},G.createElement("stop",{offset:"5%",stopColor:"currentColor",stopOpacity:0}),G.createElement("stop",{offset:"95%",stopColor:"currentColor",stopOpacity:.4})),I&&A?G.createElement("text",{x:N/2+p/2,y:D+5+50,style:{textAnchor:"middle"},fill:"",stroke:"",className:Q("text-tremor-default cursor-default font-medium","fill-tremor-content-emphasis","dark:fill-dark-tremor-content-emphasis")},A):null,m&&C?G.createElement("text",{x:-5,y:D/2+10,textAnchor:"middle",style:{textAnchor:"middle"},transform:`rotate(-90, 0, ${D/2})`,fill:"",stroke:"",className:Q("text-tremor-default cursor-default font-medium","fill-tremor-content-emphasis","dark:fill-dark-tremor-content-emphasis")},C):null),v?G.createElement("div",{ref:W,className:Q("absolute top-0 pointer-events-none",F.data?"visible":"hidden"),tabIndex:-1,role:"dialog",style:{left:F.x+.66*j}},k?G.createElement(k,{payload:F.data?[F.data]:[],active:!!F.data,label:(n=F.data)===null||n===void 0?void 0:n.name}):G.createElement(xk,null,G.createElement("div",{className:Q("border-tremor-border border-b px-4 py-2","dark:border-dark-tremor-border")},G.createElement("p",{className:Q("font-medium","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis")},(r=F==null?void 0:F.data)===null||r===void 0?void 0:r.name)),G.createElement("div",{className:Q("px-4 py-2 space-y-1")},F.data?G.createElement(Sk,{value:l(F.data.value),name:`${(100*F.data.payload.normalizedValue).toFixed(2)}%`,color:u??xe.Blue}):null))):null):G.createElement(Oa,{noDataText:S}))});AHe.displayName="FunnelChart";var xC=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Y0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Y0(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Y0(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function YJ(e){const t=b.useRef(e);return xC(()=>{t.current=e}),t}function bHe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,whileElementsMounted:i,open:a}=e,[l,s]=b.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[c,u]=b.useState(r);Y0(c,r)||u(r);const g=b.useRef(null),d=b.useRef(null),m=b.useRef(l),I=YJ(i),h=YJ(o),[A,C]=b.useState(null),[p,v]=b.useState(null),y=b.useCallback(w=>{g.current!==w&&(g.current=w,C(w))},[]),x=b.useCallback(w=>{d.current!==w&&(d.current=w,v(w))},[]),S=b.useCallback(()=>{if(!g.current||!d.current)return;const w={placement:t,strategy:n,middleware:c};h.current&&(w.platform=h.current),CL(g.current,d.current,w).then(k=>{const V={...k,isPositioned:!0};B.current&&!Y0(m.current,V)&&(m.current=V,Bn.flushSync(()=>{s(V)}))})},[c,t,n,h]);xC(()=>{a===!1&&m.current.isPositioned&&(m.current.isPositioned=!1,s(w=>({...w,isPositioned:!1})))},[a]);const B=b.useRef(!1);xC(()=>(B.current=!0,()=>{B.current=!1}),[]),xC(()=>{if(A&&p){if(I.current)return I.current(A,p,S);S()}},[A,p,S,I]);const Z=b.useMemo(()=>({reference:g,floating:d,setReference:y,setFloating:x}),[y,x]),R=b.useMemo(()=>({reference:A,floating:p}),[A,p]);return b.useMemo(()=>({...l,update:S,refs:Z,elements:R,reference:y,floating:x}),[l,S,Z,R,y,x])}var Km=typeof document<"u"?b.useLayoutEffect:b.useEffect;let b1=!1,vHe=0;const HJ=()=>"floating-ui-"+vHe++;function yHe(){const[e,t]=b.useState(()=>b1?HJ():void 0);return Km(()=>{e==null&&t(HJ())},[]),b.useEffect(()=>{b1||(b1=!0)},[]),e}const xHe=ui["useId".toString()],FJ=xHe||yHe;function SHe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}const ZHe=b.createContext(null),wHe=b.createContext(null),Gz=()=>{var e;return((e=b.useContext(ZHe))==null?void 0:e.id)||null},wk=()=>b.useContext(wHe);function Zl(e){return(e==null?void 0:e.ownerDocument)||document}function GHe(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function BHe(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function Gk(e){return Zl(e).defaultView||window}function Wi(e){return e?e instanceof Gk(e).Element:!1}function Bz(e){return e?e instanceof Gk(e).HTMLElement:!1}function kHe(e){if(typeof ShadowRoot>"u")return!1;const t=Gk(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function RHe(e){if(e.mozInputSource===0&&e.isTrusted)return!0;const t=/Android/i;return(t.test(GHe())||t.test(BHe()))&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function VHe(e){return e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType!=="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function kz(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function MJ(e){const t=b.useRef(e);return Km(()=>{t.current=e}),t}const jJ="data-floating-ui-safe-polygon";function v1(e,t,n){return n&&!kz(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}const WHe=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:o=null,mouseOnly:i=!1,restMs:a=0,move:l=!0}=t===void 0?{}:t;const{open:s,onOpenChange:c,dataRef:u,events:g,elements:{domReference:d,floating:m},refs:I}=e,h=wk(),A=Gz(),C=MJ(o),p=MJ(r),v=b.useRef(),y=b.useRef(),x=b.useRef(),S=b.useRef(),B=b.useRef(!0),Z=b.useRef(!1),R=b.useRef(()=>{}),w=b.useCallback(()=>{var N;const X=(N=u.current.openEvent)==null?void 0:N.type;return(X==null?void 0:X.includes("mouse"))&&X!=="mousedown"},[u]);b.useEffect(()=>{if(!n)return;function N(){clearTimeout(y.current),clearTimeout(S.current),B.current=!0}return g.on("dismiss",N),()=>{g.off("dismiss",N)}},[n,g]),b.useEffect(()=>{if(!n||!C.current||!s)return;function N(){w()&&c(!1)}const X=Zl(m).documentElement;return X.addEventListener("mouseleave",N),()=>{X.removeEventListener("mouseleave",N)}},[m,s,c,n,C,u,w]);const k=b.useCallback(function(N){N===void 0&&(N=!0);const X=v1(p.current,"close",v.current);X&&!x.current?(clearTimeout(y.current),y.current=setTimeout(()=>c(!1),X)):N&&(clearTimeout(y.current),c(!1))},[p,c]),V=b.useCallback(()=>{R.current(),x.current=void 0},[]),W=b.useCallback(()=>{if(Z.current){const N=Zl(I.floating.current).body;N.style.pointerEvents="",N.removeAttribute(jJ),Z.current=!1}},[I]);return b.useEffect(()=>{if(!n)return;function N(){return u.current.openEvent?["click","mousedown"].includes(u.current.openEvent.type):!1}function X(F){if(clearTimeout(y.current),B.current=!1,i&&!kz(v.current)||a>0&&v1(p.current,"open")===0)return;u.current.openEvent=F;const H=v1(p.current,"open",v.current);H?y.current=setTimeout(()=>{c(!0)},H):c(!0)}function J(F){if(N())return;R.current();const H=Zl(m);if(clearTimeout(S.current),C.current){s||clearTimeout(y.current),x.current=C.current({...e,tree:h,x:F.clientX,y:F.clientY,onClose(){W(),V(),k()}});const M=x.current;H.addEventListener("mousemove",M),R.current=()=>{H.removeEventListener("mousemove",M)};return}k()}function E(F){N()||C.current==null||C.current({...e,tree:h,x:F.clientX,y:F.clientY,onClose(){W(),V(),k()}})(F)}if(Wi(d)){const F=d;return s&&F.addEventListener("mouseleave",E),m==null||m.addEventListener("mouseleave",E),l&&F.addEventListener("mousemove",X,{once:!0}),F.addEventListener("mouseenter",X),F.addEventListener("mouseleave",J),()=>{s&&F.removeEventListener("mouseleave",E),m==null||m.removeEventListener("mouseleave",E),l&&F.removeEventListener("mousemove",X),F.removeEventListener("mouseenter",X),F.removeEventListener("mouseleave",J)}}},[d,m,n,e,i,a,l,k,V,W,c,s,h,p,C,u]),Km(()=>{var N;if(n&&s&&(N=C.current)!=null&&N.__options.blockPointerEvents&&w()){const E=Zl(m).body;if(E.setAttribute(jJ,""),E.style.pointerEvents="none",Z.current=!0,Wi(d)&&m){var X,J;const F=d,H=h==null||(X=h.nodesRef.current.find(M=>M.id===A))==null||(J=X.context)==null?void 0:J.elements.floating;return H&&(H.style.pointerEvents=""),F.style.pointerEvents="auto",m.style.pointerEvents="auto",()=>{F.style.pointerEvents="",m.style.pointerEvents=""}}}},[n,s,A,m,d,h,C,u,w]),Km(()=>{s||(v.current=void 0,V(),W())},[s,V,W]),b.useEffect(()=>()=>{V(),clearTimeout(y.current),clearTimeout(S.current),W()},[n,V,W]),b.useMemo(()=>{if(!n)return{};function N(X){v.current=X.pointerType}return{reference:{onPointerDown:N,onPointerEnter:N,onMouseMove(){s||a===0||(clearTimeout(S.current),S.current=setTimeout(()=>{B.current||c(!0)},a))}},floating:{onMouseEnter(){clearTimeout(y.current)},onMouseLeave(){g.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),k(!1)}}}},[g,n,a,s,c,k])};function NHe(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}function TJ(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&kHe(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function y1(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)})||[],r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(a=>{var l;return o.parentId===a.id&&((l=o.context)==null?void 0:l.open)})})||[],n=n.concat(r);return n}function EHe(e){return"composedPath"in e?e.composedPath()[0]:e.target}const XHe=ui["useInsertionEffect".toString()],JHe=XHe||(e=>e());function Rz(e){const t=b.useRef(()=>{});return JHe(()=>{t.current=e}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function SC(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const YHe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},HHe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},FHe=function(e){var t,n;return e===void 0&&(e=!0),{escapeKeyBubbles:typeof e=="boolean"?e:(t=e.escapeKey)!=null?t:!0,outsidePressBubbles:typeof e=="boolean"?e:(n=e.outsidePress)!=null?n:!0}},MHe=function(e,t){let{open:n,onOpenChange:r,events:o,nodeId:i,elements:{reference:a,domReference:l,floating:s},dataRef:c}=e,{enabled:u=!0,escapeKey:g=!0,outsidePress:d=!0,outsidePressEvent:m="pointerdown",referencePress:I=!1,referencePressEvent:h="pointerdown",ancestorScroll:A=!1,bubbles:C=!0}=t===void 0?{}:t;const p=wk(),v=Gz()!=null,y=Rz(typeof d=="function"?d:()=>!1),x=typeof d=="function"?y:d,S=b.useRef(!1),{escapeKeyBubbles:B,outsidePressBubbles:Z}=FHe(C);return b.useEffect(()=>{if(!n||!u)return;c.current.__escapeKeyBubbles=B,c.current.__outsidePressBubbles=Z;function R(N){if(N.key==="Escape"){const X=p?y1(p.nodesRef.current,i):[];if(X.length>0){let J=!0;if(X.forEach(E=>{var F;if((F=E.context)!=null&&F.open&&!E.context.dataRef.current.__escapeKeyBubbles){J=!1;return}}),!J)return}o.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1)}}function w(N){const X=S.current;if(S.current=!1,X||typeof x=="function"&&!x(N))return;const J=EHe(N);if(Bz(J)&&s){const H=s.ownerDocument.defaultView||window,M=J.scrollWidth>J.clientWidth,Y=J.scrollHeight>J.clientHeight;let T=Y&&N.offsetX>J.clientWidth;if(Y&&H.getComputedStyle(J).direction==="rtl"&&(T=N.offsetX<=J.offsetWidth-J.clientWidth),T||M&&N.offsetY>J.clientHeight)return}const E=p&&y1(p.nodesRef.current,i).some(H=>{var M;return SC(N,(M=H.context)==null?void 0:M.elements.floating)});if(SC(N,s)||SC(N,l)||E)return;const F=p?y1(p.nodesRef.current,i):[];if(F.length>0){let H=!0;if(F.forEach(M=>{var Y;if((Y=M.context)!=null&&Y.open&&!M.context.dataRef.current.__outsidePressBubbles){H=!1;return}}),!H)return}o.emit("dismiss",{type:"outsidePress",data:{returnFocus:v?{preventScroll:!0}:RHe(N)||VHe(N)}}),r(!1)}function k(){r(!1)}const V=Zl(s);g&&V.addEventListener("keydown",R),x&&V.addEventListener(m,w);let W=[];return A&&(Wi(l)&&(W=Hl(l)),Wi(s)&&(W=W.concat(Hl(s))),!Wi(a)&&a&&a.contextElement&&(W=W.concat(Hl(a.contextElement)))),W=W.filter(N=>{var X;return N!==((X=V.defaultView)==null?void 0:X.visualViewport)}),W.forEach(N=>{N.addEventListener("scroll",k,{passive:!0})}),()=>{g&&V.removeEventListener("keydown",R),x&&V.removeEventListener(m,w),W.forEach(N=>{N.removeEventListener("scroll",k)})}},[c,s,l,a,g,x,m,o,p,i,n,r,A,u,B,Z,v]),b.useEffect(()=>{S.current=!1},[x,m]),b.useMemo(()=>u?{reference:{[YHe[h]]:()=>{I&&(o.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1))}},floating:{[HHe[m]]:()=>{S.current=!0}}}:{},[u,o,I,m,h,r])},jHe=function(e,t){let{open:n,onOpenChange:r,dataRef:o,events:i,refs:a,elements:{floating:l,domReference:s}}=e,{enabled:c=!0,keyboardOnly:u=!0}=t===void 0?{}:t;const g=b.useRef(""),d=b.useRef(!1),m=b.useRef();return b.useEffect(()=>{if(!c)return;const h=Zl(l).defaultView||window;function A(){!n&&Bz(s)&&s===NHe(Zl(s))&&(d.current=!0)}return h.addEventListener("blur",A),()=>{h.removeEventListener("blur",A)}},[l,s,n,c]),b.useEffect(()=>{if(!c)return;function I(h){(h.type==="referencePress"||h.type==="escapeKey")&&(d.current=!0)}return i.on("dismiss",I),()=>{i.off("dismiss",I)}},[i,c]),b.useEffect(()=>()=>{clearTimeout(m.current)},[]),b.useMemo(()=>c?{reference:{onPointerDown(I){let{pointerType:h}=I;g.current=h,d.current=!!(h&&u)},onMouseLeave(){d.current=!1},onFocus(I){var h;d.current||I.type==="focus"&&((h=o.current.openEvent)==null?void 0:h.type)==="mousedown"&&o.current.openEvent&&SC(o.current.openEvent,s)||(o.current.openEvent=I.nativeEvent,r(!0))},onBlur(I){d.current=!1;const h=I.relatedTarget,A=Wi(h)&&h.hasAttribute("data-floating-ui-focus-guard")&&h.getAttribute("data-type")==="outside";m.current=setTimeout(()=>{TJ(a.floating.current,h)||TJ(s,h)||A||r(!1)})}}}:{},[c,u,s,a,o,r])},THe=function(e,t){let{open:n}=e,{enabled:r=!0,role:o="dialog"}=t===void 0?{}:t;const i=FJ(),a=FJ();return b.useMemo(()=>{const l={id:i,role:o};return r?o==="tooltip"?{reference:{"aria-describedby":n?i:void 0},floating:l}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":o==="alertdialog"?"dialog":o,"aria-controls":n?i:void 0,...o==="listbox"&&{role:"combobox"},...o==="menu"&&{id:a}},floating:{...l,...o==="menu"&&{"aria-labelledby":a}}}:{}},[r,o,n,i,a])};function LHe(e){e===void 0&&(e={});const{open:t=!1,onOpenChange:n,nodeId:r}=e,o=bHe(e),i=wk(),a=b.useRef(null),l=b.useRef({}),s=b.useState(()=>SHe())[0],[c,u]=b.useState(null),g=b.useCallback(C=>{const p=Wi(C)?{getBoundingClientRect:()=>C.getBoundingClientRect(),contextElement:C}:C;o.refs.setReference(p)},[o.refs]),d=b.useCallback(C=>{(Wi(C)||C===null)&&(a.current=C,u(C)),(Wi(o.refs.reference.current)||o.refs.reference.current===null||C!==null&&!Wi(C))&&o.refs.setReference(C)},[o.refs]),m=b.useMemo(()=>({...o.refs,setReference:d,setPositionReference:g,domReference:a}),[o.refs,d,g]),I=b.useMemo(()=>({...o.elements,domReference:c}),[o.elements,c]),h=Rz(n),A=b.useMemo(()=>({...o,refs:m,elements:I,dataRef:l,nodeId:r,events:s,open:t,onOpenChange:h}),[o,r,s,t,h,m,I]);return Km(()=>{const C=i==null?void 0:i.nodesRef.current.find(p=>p.id===r);C&&(C.context=A)}),b.useMemo(()=>({...o,context:A,refs:m,reference:d,positionReference:g}),[o,m,A,d,g])}function x1(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(o=>o?o[n]:null).concat(e).reduce((o,i)=>(i&&Object.entries(i).forEach(a=>{let[l,s]=a;if(l.indexOf("on")===0){if(r.has(l)||r.set(l,[]),typeof s=="function"){var c;(c=r.get(l))==null||c.push(s),o[l]=function(){for(var u,g=arguments.length,d=new Array(g),m=0;m<g;m++)d[m]=arguments[m];(u=r.get(l))==null||u.forEach(I=>I(...d))}}}else o[l]=s}),o),{})}}const KHe=function(e){e===void 0&&(e=[]);const t=e,n=b.useCallback(i=>x1(i,e,"reference"),t),r=b.useCallback(i=>x1(i,e,"floating"),t),o=b.useCallback(i=>x1(i,e,"item"),e.map(i=>i==null?void 0:i.item));return b.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])},Mo=e=>{const[t,n]=b.useState(!1),[r,o]=b.useState(),{x:i,y:a,refs:l,strategy:s,context:c}=LHe({open:t,onOpenChange:A=>{if(A&&e){const C=setTimeout(()=>{n(A)},e);o(C)}else clearTimeout(r),n(A)},placement:"top",whileElementsMounted:fL,middleware:[mL(5),hL({fallbackAxisSideDirection:"start"}),IL()]}),u=WHe(c,{move:!1}),g=jHe(c),d=MHe(c),m=THe(c,{role:"tooltip"}),{getReferenceProps:I,getFloatingProps:h}=KHe([u,g,d,m]);return{tooltipProps:{open:t,x:i,y:a,refs:l,strategy:s,getFloatingProps:h},getReferenceProps:I}},lo=({text:e,open:t,x:n,y:r,refs:o,strategy:i,getFloatingProps:a})=>t&&e?G.createElement("div",Object.assign({className:Q("max-w-xs text-sm z-20 rounded-tremor-default opacity-100 px-2.5 py-1","text-white bg-tremor-background-emphasis","dark:text-tremor-content-emphasis dark:bg-white"),ref:o.setFloating,style:{position:i,top:r??0,left:n??0}},a()),e):null;lo.displayName="Tooltip";const S1={xs:{paddingX:"px-2",paddingY:"py-0.5",fontSize:"text-xs"},sm:{paddingX:"px-2.5",paddingY:"py-0.5",fontSize:"text-sm"},md:{paddingX:"px-3",paddingY:"py-0.5",fontSize:"text-md"},lg:{paddingX:"px-3.5",paddingY:"py-0.5",fontSize:"text-lg"},xl:{paddingX:"px-4",paddingY:"py-1",fontSize:"text-xl"}},LJ={xs:{height:"h-4",width:"w-4"},sm:{height:"h-4",width:"w-4"},md:{height:"h-4",width:"w-4"},lg:{height:"h-5",width:"w-5"},xl:{height:"h-6",width:"w-6"}},Z1=Ye("Badge"),OHe=G.forwardRef((e,t)=>{const{color:n,icon:r,size:o=cv.SM,tooltip:i,className:a,children:l}=e,s=Ie(e,["color","icon","size","tooltip","className","children"]),c=r||null,{tooltipProps:u,getReferenceProps:g}=Mo();return G.createElement("span",Object.assign({ref:Ka([t,u.refs.setReference]),className:Q(Z1("root"),"w-max shrink-0 inline-flex justify-center items-center cursor-default rounded-tremor-small ring-1 ring-inset",n?Q(he(n,pe.background).bgColor,he(n,pe.iconText).textColor,he(n,pe.iconRing).ringColor,"bg-opacity-10 ring-opacity-20","dark:bg-opacity-5 dark:ring-opacity-60"):Q("bg-tremor-brand-faint text-tremor-brand-emphasis ring-tremor-brand/20","dark:bg-dark-tremor-brand-muted/50 dark:text-dark-tremor-brand dark:ring-dark-tremor-subtle/20"),S1[o].paddingX,S1[o].paddingY,S1[o].fontSize,a)},g,s),G.createElement(lo,Object.assign({text:i},u)),c?G.createElement(c,{className:Q(Z1("icon"),"shrink-0 -ml-1 mr-1.5",LJ[o].height,LJ[o].width)}):null,G.createElement("span",{className:Q(Z1("text"),"whitespace-nowrap")},l))});OHe.displayName="Badge";const PHe=e=>{var t=Ie(e,[]);return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),G.createElement("path",{d:"M13.0001 16.1716L18.3641 10.8076L19.7783 12.2218L12.0001 20L4.22192 12.2218L5.63614 10.8076L11.0001 16.1716V4H13.0001V16.1716Z"}))},DHe=e=>{var t=Ie(e,[]);return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),G.createElement("path",{d:"M14.5895 16.0032L5.98291 7.39664L7.39712 5.98242L16.0037 14.589V7.00324H18.0037V18.0032H7.00373V16.0032H14.5895Z"}))},zHe=e=>{var t=Ie(e,[]);return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),G.createElement("path",{d:"M13.0001 7.82843V20H11.0001V7.82843L5.63614 13.1924L4.22192 11.7782L12.0001 4L19.7783 11.7782L18.3641 13.1924L13.0001 7.82843Z"}))},UHe=e=>{var t=Ie(e,[]);return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),G.createElement("path",{d:"M16.0037 9.41421L7.39712 18.0208L5.98291 16.6066L14.5895 8H7.00373V6H18.0037V17H16.0037V9.41421Z"}))},_He={xs:{paddingX:"px-2",paddingY:"py-0.5",fontSize:"text-xs"},sm:{paddingX:"px-2.5",paddingY:"py-1",fontSize:"text-sm"},md:{paddingX:"px-3",paddingY:"py-1.5",fontSize:"text-md"},lg:{paddingX:"px-3.5",paddingY:"py-1.5",fontSize:"text-lg"},xl:{paddingX:"px-3.5",paddingY:"py-1.5",fontSize:"text-xl"}},QHe={xs:{paddingX:"px-2",paddingY:"py-0.5",fontSize:"text-xs"},sm:{paddingX:"px-2.5",paddingY:"py-0.5",fontSize:"text-sm"},md:{paddingX:"px-3",paddingY:"py-0.5",fontSize:"text-md"},lg:{paddingX:"px-3.5",paddingY:"py-0.5",fontSize:"text-lg"},xl:{paddingX:"px-4",paddingY:"py-1",fontSize:"text-xl"}},KJ={xs:{height:"h-4",width:"w-4"},sm:{height:"h-4",width:"w-4"},md:{height:"h-4",width:"w-4"},lg:{height:"h-5",width:"w-5"},xl:{height:"h-6",width:"w-6"}},w1={[kt.Increase]:{bgColor:he(xe.Emerald,pe.background).bgColor,textColor:he(xe.Emerald,pe.iconText).textColor,ringColor:he(xe.Emerald,pe.iconRing).ringColor},[kt.ModerateIncrease]:{bgColor:he(xe.Emerald,pe.background).bgColor,textColor:he(xe.Emerald,pe.iconText).textColor,ringColor:he(xe.Emerald,pe.iconRing).ringColor},[kt.Decrease]:{bgColor:he(xe.Red,pe.background).bgColor,textColor:he(xe.Red,pe.iconText).textColor,ringColor:he(xe.Red,pe.iconRing).ringColor},[kt.ModerateDecrease]:{bgColor:he(xe.Red,pe.background).bgColor,textColor:he(xe.Red,pe.iconText).textColor,ringColor:he(xe.Red,pe.iconRing).ringColor},[kt.Unchanged]:{bgColor:he(xe.Orange,pe.background).bgColor,textColor:he(xe.Orange,pe.iconText).textColor,ringColor:he(xe.Orange,pe.iconRing).ringColor}},$He={[kt.Increase]:zHe,[kt.ModerateIncrease]:UHe,[kt.Decrease]:PHe,[kt.ModerateDecrease]:DHe,[kt.Unchanged]:wz},G1=Ye("BadgeDelta"),qHe=G.forwardRef((e,t)=>{const{deltaType:n=kt.Increase,isIncreasePositive:r=!0,size:o=cv.SM,tooltip:i,children:a,className:l}=e,s=Ie(e,["deltaType","isIncreasePositive","size","tooltip","children","className"]),c=$He[n],u=Sz(n,r),g=a?QHe:_He,{tooltipProps:d,getReferenceProps:m}=Mo();return G.createElement("span",Object.assign({ref:Ka([t,d.refs.setReference]),className:Q(G1("root"),"w-max shrink-0 inline-flex justify-center items-center cursor-default rounded-tremor-small ring-1 ring-inset",w1[u].bgColor,w1[u].textColor,w1[u].ringColor,g[o].paddingX,g[o].paddingY,g[o].fontSize,"bg-opacity-10 ring-opacity-20","dark:bg-opacity-5 dark:ring-opacity-60",l)},m,s),G.createElement(lo,Object.assign({text:i},d)),G.createElement(c,{className:Q(G1("icon"),"shrink-0",a?Q("-ml-1 mr-1.5"):KJ[o].height,KJ[o].width)}),a?G.createElement("span",{className:Q(G1("text"),"whitespace-nowrap")},a):null)});qHe.displayName="BadgeDelta";const OJ={xs:{paddingX:"px-1.5",paddingY:"py-1.5"},sm:{paddingX:"px-1.5",paddingY:"py-1.5"},md:{paddingX:"px-2",paddingY:"py-2"},lg:{paddingX:"px-2",paddingY:"py-2"},xl:{paddingX:"px-2.5",paddingY:"py-2.5"}},PJ={xs:{height:"h-3",width:"w-3"},sm:{height:"h-5",width:"w-5"},md:{height:"h-5",width:"w-5"},lg:{height:"h-7",width:"w-7"},xl:{height:"h-9",width:"w-9"}},jh={simple:{rounded:"",border:"",ring:"",shadow:""},light:{rounded:"rounded-tremor-default",border:"",ring:"",shadow:""},shadow:{rounded:"rounded-tremor-default",border:"border",ring:"",shadow:"shadow-tremor-card dark:shadow-dark-tremor-card"},solid:{rounded:"rounded-tremor-default",border:"border-2",ring:"ring-1",shadow:""},outlined:{rounded:"rounded-tremor-default",border:"border",ring:"ring-2",shadow:""}},eFe=(e,t)=>{switch(e){case"simple":return{textColor:t?he(t,pe.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",bgColor:"",borderColor:"",ringColor:""};case"light":return{textColor:t?he(t,pe.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",bgColor:t?Q(he(t,pe.background).bgColor,"bg-opacity-20"):"bg-tremor-brand-muted dark:bg-dark-tremor-brand-muted",borderColor:"",ringColor:""};case"shadow":return{textColor:t?he(t,pe.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",bgColor:t?Q(he(t,pe.background).bgColor,"bg-opacity-20"):"bg-tremor-background dark:bg-dark-tremor-background",borderColor:"border-tremor-border dark:border-dark-tremor-border",ringColor:""};case"solid":return{textColor:t?he(t,pe.text).textColor:"text-tremor-brand-inverted dark:text-dark-tremor-brand-inverted",bgColor:t?Q(he(t,pe.background).bgColor,"bg-opacity-20"):"bg-tremor-brand dark:bg-dark-tremor-brand",borderColor:"border-tremor-brand-inverted dark:border-dark-tremor-brand-inverted",ringColor:"ring-tremor-ring dark:ring-dark-tremor-ring"};case"outlined":return{textColor:t?he(t,pe.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",bgColor:t?Q(he(t,pe.background).bgColor,"bg-opacity-20"):"bg-tremor-background dark:bg-dark-tremor-background",borderColor:t?he(t,pe.ring).borderColor:"border-tremor-brand-subtle dark:border-dark-tremor-brand-subtle",ringColor:t?Q(he(t,pe.ring).ringColor,"ring-opacity-40"):"ring-tremor-brand-muted dark:ring-dark-tremor-brand-muted"}}},DJ=Ye("Icon"),tFe={Simple:"simple",Light:"light",Shadow:"shadow",Solid:"solid",Outlined:"outlined"},Vz=G.forwardRef((e,t)=>{const{icon:n,variant:r=tFe.Simple,tooltip:o,size:i=cv.SM,color:a,className:l}=e,s=Ie(e,["icon","variant","tooltip","size","color","className"]),c=n,u=eFe(r,a),{tooltipProps:g,getReferenceProps:d}=Mo();return G.createElement("span",Object.assign({ref:Ka([t,g.refs.setReference]),className:Q(DJ("root"),"inline-flex shrink-0 items-center justify-center",u.bgColor,u.textColor,u.borderColor,u.ringColor,jh[r].rounded,jh[r].border,jh[r].shadow,jh[r].ring,OJ[i].paddingX,OJ[i].paddingY,l)},d,s),G.createElement(lo,Object.assign({text:o},g)),G.createElement(c,{className:Q(DJ("icon"),"shrink-0",PJ[i].height,PJ[i].width)}))});Vz.displayName="Icon";const ZZ=0,wZ=1,H0=2,F0=3,M0=4,nFe=5,Wz=6,rFe=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],Nz=e=>({_s:e,status:rFe[e],isEnter:e<F0,isMounted:e!==Wz,isResolved:e===H0||e>M0}),GZ=e=>e?Wz:nFe,oFe=(e,t)=>{switch(e){case wZ:case ZZ:return H0;case M0:case F0:return GZ(t)}},iFe=e=>typeof e=="object"?[e.enter,e.exit]:[e,e],aFe=(e,t)=>setTimeout(()=>{isNaN(document.body.offsetTop)||e(t+1)},0),zJ=(e,t,n,r,o)=>{clearTimeout(r.current);const i=Nz(e);t(i),n.current=i,o&&o({current:i})},lFe=({enter:e=!0,exit:t=!0,preEnter:n,preExit:r,timeout:o,initialEntered:i,mountOnEnter:a,unmountOnExit:l,onStateChange:s}={})=>{const[c,u]=b.useState(()=>Nz(i?H0:GZ(a))),g=b.useRef(c),d=b.useRef(),[m,I]=iFe(o),h=b.useCallback(()=>{const C=oFe(g.current._s,l);C&&zJ(C,u,g,d,s)},[s,l]),A=b.useCallback(C=>{const p=y=>{switch(zJ(y,u,g,d,s),y){case wZ:m>=0&&(d.current=setTimeout(h,m));break;case M0:I>=0&&(d.current=setTimeout(h,I));break;case ZZ:case F0:d.current=aFe(p,y);break}},v=g.current.isEnter;typeof C!="boolean"&&(C=!v),C?!v&&p(e?n?ZZ:wZ:H0):v&&p(t?r?F0:M0:GZ(l))},[h,s,e,t,n,r,m,I,l]);return b.useEffect(()=>()=>clearTimeout(d.current),[]),[c,A,h]},sFe=e=>{var t=Ie(e,[]);return G.createElement("svg",Object.assign({},t,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}),G.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),G.createElement("path",{d:"M18.364 5.636L16.95 7.05A7 7 0 1 0 19 12h2a9 9 0 1 1-2.636-6.364z"}))},UJ={xs:{height:"h-4",width:"w-4"},sm:{height:"h-5",width:"w-5"},md:{height:"h-5",width:"w-5"},lg:{height:"h-6",width:"w-6"},xl:{height:"h-6",width:"w-6"}},cFe=e=>e!=="light"?{xs:{paddingX:"px-2.5",paddingY:"py-1.5",fontSize:"text-xs"},sm:{paddingX:"px-4",paddingY:"py-2",fontSize:"text-sm"},md:{paddingX:"px-4",paddingY:"py-2",fontSize:"text-md"},lg:{paddingX:"px-4",paddingY:"py-2.5",fontSize:"text-lg"},xl:{paddingX:"px-4",paddingY:"py-3",fontSize:"text-xl"}}:{xs:{paddingX:"",paddingY:"",fontSize:"text-xs"},sm:{paddingX:"",paddingY:"",fontSize:"text-sm"},md:{paddingX:"",paddingY:"",fontSize:"text-md"},lg:{paddingX:"",paddingY:"",fontSize:"text-lg"},xl:{paddingX:"",paddingY:"",fontSize:"text-xl"}},Th=(e,t)=>{switch(e){case"primary":return{textColor:t?he("white").textColor:"text-tremor-brand-inverted dark:text-dark-tremor-brand-inverted",hoverTextColor:t?he("white").textColor:"text-tremor-brand-inverted dark:text-dark-tremor-brand-inverted",bgColor:t?he(t,pe.background).bgColor:"bg-tremor-brand dark:bg-dark-tremor-brand",hoverBgColor:t?he(t,pe.darkBackground).hoverBgColor:"hover:bg-tremor-brand-emphasis dark:hover:bg-dark-tremor-brand-emphasis",borderColor:t?he(t,pe.border).borderColor:"border-tremor-brand dark:border-dark-tremor-brand",hoverBorderColor:t?he(t,pe.darkBorder).hoverBorderColor:"hover:border-tremor-brand-emphasis dark:hover:border-dark-tremor-brand-emphasis"};case"secondary":return{textColor:t?he(t,pe.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",hoverTextColor:t?he(t,pe.text).textColor:"hover:text-tremor-brand-emphasis dark:hover:text-dark-tremor-brand-emphasis",bgColor:he("transparent").bgColor,hoverBgColor:t?Q(he(t,pe.background).hoverBgColor,"hover:bg-opacity-20 dark:hover:bg-opacity-20"):"hover:bg-tremor-brand-faint dark:hover:bg-dark-tremor-brand-faint",borderColor:t?he(t,pe.border).borderColor:"border-tremor-brand dark:border-dark-tremor-brand"};case"light":return{textColor:t?he(t,pe.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",hoverTextColor:t?he(t,pe.darkText).hoverTextColor:"hover:text-tremor-brand-emphasis dark:hover:text-dark-tremor-brand-emphasis",bgColor:he("transparent").bgColor,borderColor:"",hoverBorderColor:""}}},j0=Ye("Button"),_J=({loading:e,iconSize:t,iconPosition:n,Icon:r,needMargin:o,transitionStatus:i})=>{const a=o?n===Hu.Left?Q("-ml-1","mr-1.5"):Q("-mr-1","ml-1.5"):"",l=Q("w-0 h-0"),s={default:l,entering:l,entered:t,exiting:t,exited:l};return e?G.createElement(sFe,{className:Q(j0("icon"),"animate-spin shrink-0",a,s.default,s[i]),style:{transition:"width 150ms"}}):G.createElement(r,{className:Q(j0("icon"),"shrink-0",t,a)})},uFe=G.forwardRef((e,t)=>{const{icon:n,iconPosition:r=Hu.Left,size:o=cv.SM,color:i,variant:a="primary",disabled:l,loading:s=!1,loadingText:c,children:u,tooltip:g,className:d}=e,m=Ie(e,["icon","iconPosition","size","color","variant","disabled","loading","loadingText","children","tooltip","className"]),I=n,h=s||l,A=I!==void 0||s,C=s&&c,p=!(!u&&!C),v=Q(UJ[o].height,UJ[o].width),y=a!=="light"?Q("rounded-tremor-default border","shadow-tremor-input","dark:shadow-dark-tremor-input"):"",x=Th(a,i),S=cFe(a)[o],{tooltipProps:B,getReferenceProps:Z}=Mo(300),[R,w]=lFe({timeout:50});return b.useEffect(()=>{w(s)},[s]),G.createElement("button",Object.assign({ref:Ka([t,B.refs.setReference]),className:Q(j0("root"),"shrink-0 inline-flex justify-center items-center group font-medium outline-none",y,S.paddingX,S.paddingY,S.fontSize,x.textColor,x.bgColor,x.borderColor,x.hoverBorderColor,h?"opacity-50 cursor-not-allowed":Q(Th(a,i).hoverTextColor,Th(a,i).hoverBgColor,Th(a,i).hoverBorderColor),d),disabled:h},Z,m),G.createElement(lo,Object.assign({text:g},B)),A&&r!==Hu.Right?G.createElement(_J,{loading:s,iconSize:v,iconPosition:r,Icon:I,transitionStatus:R.status,needMargin:p}):null,C||u?G.createElement("span",{className:Q(j0("text"),"text-tremor-default whitespace-nowrap")},C?c:u):null,A&&r===Hu.Right?G.createElement(_J,{loading:s,iconSize:v,iconPosition:r,Icon:I,transitionStatus:R.status,needMargin:p}):null)});uFe.displayName="Button";function st(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Fr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function fr(e,t){const n=st(e);return isNaN(t)?Fr(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function jo(e,t){const n=st(e);if(isNaN(t))return Fr(e,NaN);if(!t)return n;const r=n.getDate(),o=Fr(e,n.getTime());o.setMonth(n.getMonth()+t+1,0);const i=o.getDate();return r>=i?o:(n.setFullYear(o.getFullYear(),o.getMonth(),r),n)}const Bk=6048e5,gFe=864e5;let dFe={};function GI(){return dFe}function Di(e,t){var l,s,c,u;const n=GI(),r=(t==null?void 0:t.weekStartsOn)??((s=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:s.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,o=st(e),i=o.getDay(),a=(i<r?7:0)+i-r;return o.setDate(o.getDate()-a),o.setHours(0,0,0,0),o}function Vc(e){return Di(e,{weekStartsOn:1})}function Ez(e){const t=st(e),n=t.getFullYear(),r=Fr(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const o=Vc(r),i=Fr(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=Vc(i);return t.getTime()>=o.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function zi(e){const t=st(e);return t.setHours(0,0,0,0),t}function T0(e){const t=st(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Ni(e,t){const n=zi(e),r=zi(t),o=+n-T0(n),i=+r-T0(r);return Math.round((o-i)/gFe)}function fFe(e){const t=Ez(e),n=Fr(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Vc(n)}function BZ(e,t){const n=t*7;return fr(e,n)}function kZ(e,t){return jo(e,t*12)}function Xz(e){let t;return e.forEach(function(n){const r=st(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function Jz(e){let t;return e.forEach(n=>{const r=st(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function Wr(e,t){const n=zi(e),r=zi(t);return+n==+r}function kk(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function mFe(e){if(!kk(e)&&typeof e!="number")return!1;const t=st(e);return!isNaN(Number(t))}function Om(e,t){const n=st(e),r=st(t),o=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return o*12+i}function IFe(e,t,n){const r=Di(e,n),o=Di(t,n),i=+r-T0(r),a=+o-T0(o);return Math.round((i-a)/Bk)}function Rk(e){const t=st(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Qn(e){const t=st(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Vk(e){const t=st(e),n=Fr(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Wk(e,t){var l,s,c,u;const n=GI(),r=(t==null?void 0:t.weekStartsOn)??((s=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:s.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,o=st(e),i=o.getDay(),a=(i<r?-7:0)+6-(i-r);return o.setDate(o.getDate()+a),o.setHours(23,59,59,999),o}function Yz(e){return Wk(e,{weekStartsOn:1})}const hFe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},CFe=(e,t,n)=>{let r;const o=hFe[e];return typeof o=="string"?r=o:t===1?r=o.one:r=o.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function B1(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const pFe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},AFe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bFe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vFe={date:B1({formats:pFe,defaultWidth:"full"}),time:B1({formats:AFe,defaultWidth:"full"}),dateTime:B1({formats:bFe,defaultWidth:"full"})},yFe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xFe=(e,t,n,r)=>yFe[e];function Kd(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let o;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):a;o=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[l]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return o[i]}}const SFe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ZFe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wFe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},GFe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},BFe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kFe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},RFe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},VFe={ordinalNumber:RFe,era:Kd({values:SFe,defaultWidth:"wide"}),quarter:Kd({values:ZFe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Kd({values:wFe,defaultWidth:"wide"}),day:Kd({values:GFe,defaultWidth:"wide"}),dayPeriod:Kd({values:BFe,defaultWidth:"wide",formattingValues:kFe,defaultFormattingWidth:"wide"})};function Od(e){return(t,n={})=>{const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;const a=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],s=Array.isArray(l)?NFe(l,g=>g.test(a)):WFe(l,g=>g.test(a));let c;c=e.valueCallback?e.valueCallback(s):s,c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(a.length);return{value:c,rest:u}}}function WFe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function NFe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function EFe(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const o=r[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=t.slice(o.length);return{value:a,rest:l}}}const XFe=/^(\d+)(th|st|nd|rd)?/i,JFe=/\d+/i,YFe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},HFe={any:[/^b/i,/^(a|c)/i]},FFe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},MFe={any:[/1/i,/2/i,/3/i,/4/i]},jFe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},TFe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},LFe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},KFe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},OFe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},PFe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},DFe={ordinalNumber:EFe({matchPattern:XFe,parsePattern:JFe,valueCallback:e=>parseInt(e,10)}),era:Od({matchPatterns:YFe,defaultMatchWidth:"wide",parsePatterns:HFe,defaultParseWidth:"any"}),quarter:Od({matchPatterns:FFe,defaultMatchWidth:"wide",parsePatterns:MFe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Od({matchPatterns:jFe,defaultMatchWidth:"wide",parsePatterns:TFe,defaultParseWidth:"any"}),day:Od({matchPatterns:LFe,defaultMatchWidth:"wide",parsePatterns:KFe,defaultParseWidth:"any"}),dayPeriod:Od({matchPatterns:OFe,defaultMatchWidth:"any",parsePatterns:PFe,defaultParseWidth:"any"})},gv={code:"en-US",formatDistance:CFe,formatLong:vFe,formatRelative:xFe,localize:VFe,match:DFe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zFe(e){const t=st(e);return Ni(t,Vk(t))+1}function Hz(e){const t=st(e),n=+Vc(t)-+fFe(t);return Math.round(n/Bk)+1}function Fz(e,t){var u,g,d,m;const n=st(e),r=n.getFullYear(),o=GI(),i=(t==null?void 0:t.firstWeekContainsDate)??((g=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:g.firstWeekContainsDate)??o.firstWeekContainsDate??((m=(d=o.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??1,a=Fr(e,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const l=Di(a,t),s=Fr(e,0);s.setFullYear(r,0,i),s.setHours(0,0,0,0);const c=Di(s,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function UFe(e,t){var l,s,c,u;const n=GI(),r=(t==null?void 0:t.firstWeekContainsDate)??((s=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:s.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,o=Fz(e,t),i=Fr(e,0);return i.setFullYear(o,0,r),i.setHours(0,0,0,0),Di(i,t)}function Mz(e,t){const n=st(e),r=+Di(n,t)-+UFe(n,t);return Math.round(r/Bk)+1}function At(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const $a={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return At(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):At(n+1,2)},d(e,t){return At(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return At(e.getHours()%12||12,t.length)},H(e,t){return At(e.getHours(),t.length)},m(e,t){return At(e.getMinutes(),t.length)},s(e,t){return At(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return At(o,t.length)}},nu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},QJ={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return $a.y(e,t)},Y:function(e,t,n,r){const o=Fz(e,r),i=o>0?o:1-o;if(t==="YY"){const a=i%100;return At(a,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):At(i,t.length)},R:function(e,t){const n=Ez(e);return At(n,t.length)},u:function(e,t){const n=e.getFullYear();return At(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return At(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return At(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return $a.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return At(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=Mz(e,r);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):At(o,t.length)},I:function(e,t,n){const r=Hz(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):At(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):$a.d(e,t)},D:function(e,t,n){const r=zFe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):At(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return At(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return At(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=r===0?7:r;switch(t){case"i":return String(o);case"ii":return At(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(r===12?o=nu.noon:r===0?o=nu.midnight:o=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(r>=17?o=nu.evening:r>=12?o=nu.afternoon:r>=4?o=nu.morning:o=nu.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return $a.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):$a.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):At(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):At(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):$a.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):$a.s(e,t)},S:function(e,t){return $a.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return qJ(r);case"XXXX":case"XX":return Ys(r);case"XXXXX":case"XXX":default:return Ys(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return qJ(r);case"xxxx":case"xx":return Ys(r);case"xxxxx":case"xxx":default:return Ys(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+$J(r,":");case"OOOO":default:return"GMT"+Ys(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+$J(r,":");case"zzzz":default:return"GMT"+Ys(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return At(r,t.length)},T:function(e,t,n){const r=e.getTime();return At(r,t.length)}};function $J(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),i=r%60;return i===0?n+String(o):n+String(o)+t+At(i,2)}function qJ(e,t){return e%60===0?(e>0?"-":"+")+At(Math.abs(e)/60,2):Ys(e,t)}function Ys(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=At(Math.trunc(r/60),2),i=At(r%60,2);return n+o+t+i}const eY=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},jz=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},_Fe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return eY(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",eY(r,t)).replace("{{time}}",jz(o,t))},QFe={p:jz,P:_Fe},$Fe=/^D+$/,qFe=/^Y+$/,eMe=["D","DD","YY","YYYY"];function tMe(e){return $Fe.test(e)}function nMe(e){return qFe.test(e)}function rMe(e,t,n){const r=oMe(e,t,n);if(console.warn(r),eMe.includes(e))throw new RangeError(r)}function oMe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const iMe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,aMe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lMe=/^'([^]*?)'?$/,sMe=/''/g,cMe=/[a-zA-Z]/;function Br(e,t,n){var u,g,d,m,I,h,A,C;const r=GI(),o=(n==null?void 0:n.locale)??r.locale??gv,i=(n==null?void 0:n.firstWeekContainsDate)??((g=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(d=r.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((h=(I=n==null?void 0:n.locale)==null?void 0:I.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((C=(A=r.locale)==null?void 0:A.options)==null?void 0:C.weekStartsOn)??0,l=st(e);if(!mFe(l))throw new RangeError("Invalid time value");let s=t.match(aMe).map(p=>{const v=p[0];if(v==="p"||v==="P"){const y=QFe[v];return y(p,o.formatLong)}return p}).join("").match(iMe).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const v=p[0];if(v==="'")return{isToken:!1,value:uMe(p)};if(QJ[v])return{isToken:!0,value:p};if(v.match(cMe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:p}});o.localize.preprocessor&&(s=o.localize.preprocessor(l,s));const c={firstWeekContainsDate:i,weekStartsOn:a,locale:o};return s.map(p=>{if(!p.isToken)return p.value;const v=p.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&nMe(v)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&tMe(v))&&rMe(v,t,String(e));const y=QJ[v[0]];return y(l,v,o.localize,c)}).join("")}function uMe(e){const t=e.match(lMe);return t?t[1].replace(sMe,"'"):e}function gMe(e){const t=st(e),n=t.getFullYear(),r=t.getMonth(),o=Fr(e,0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function dMe(e){return Math.trunc(+st(e)/1e3)}function fMe(e){const t=st(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function mMe(e,t){return IFe(fMe(e),Qn(e),t)+1}function RZ(e,t){const n=st(e),r=st(t);return n.getTime()>r.getTime()}function Tz(e,t){const n=st(e),r=st(t);return+n<+r}function IMe(e,t){const n=st(e),r=st(t);return+n==+r}function Nk(e,t){const n=st(e),r=st(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function hMe(e,t){const n=st(e),r=st(t);return n.getFullYear()===r.getFullYear()}function ZC(e,t){return fr(e,-t)}function k1(e,t){const n=st(e),r=n.getFullYear(),o=n.getDate(),i=Fr(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const a=gMe(i);return n.setMonth(t,Math.min(o,a)),n}function tY(e,t){const n=st(e);return isNaN(+n)?Fr(e,NaN):(n.setFullYear(t),n)}function Il(){return zi(Date.now())}function CMe(e,t){return jo(e,-t)}function nY(e,t){const{years:n=0,months:r=0,weeks:o=0,days:i=0,hours:a=0,minutes:l=0,seconds:s=0}=t,c=CMe(e,r+n*12),u=ZC(c,i+o*7),g=l+a*60,m=(s+g*60)*1e3;return Fr(e,u.getTime()-m)}var pMe=Object.defineProperty,AMe=(e,t,n)=>t in e?pMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R1=(e,t,n)=>(AMe(e,typeof t!="symbol"?t+"":t,n),n);let bMe=class{constructor(){R1(this,"current",this.detect()),R1(this,"handoffState","pending"),R1(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ya=new bMe,lt=(e,t)=>{ya.isServer?b.useEffect(e,t):b.useLayoutEffect(e,t)};function Jn(e){let t=b.useRef(e);return lt(()=>{t.current=e},[e]),t}function BI(e,t){let[n,r]=b.useState(e),o=Jn(e);return lt(()=>r(o.current),[o,r,...t]),n}let me=function(e){let t=Jn(e);return G.useCallback((...n)=>t.current(...n),[t])};function Ek(e,t,n){let[r,o]=b.useState(n),i=e!==void 0,a=b.useRef(i),l=b.useRef(!1),s=b.useRef(!1);return i&&!a.current&&!l.current?(l.current=!0,a.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&a.current&&!s.current&&(s.current=!0,a.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?e:r,me(c=>(i||o(c),t==null?void 0:t(c)))]}function kI(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function To(){let e=[],t={addEventListener(n,r,o,i){return n.addEventListener(r,o,i),t.add(()=>n.removeEventListener(r,o,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return kI(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,o){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:o}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=To();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let o of e.splice(r,1))o()}},dispose(){for(let n of e.splice(0))n()}};return t}function fi(){let[e]=b.useState(To);return b.useEffect(()=>()=>e.dispose(),[e]),e}function vMe(){let e=typeof document>"u";return"useSyncExternalStore"in ui?(t=>t.useSyncExternalStore)(ui)(()=>()=>{},()=>!1,()=>!e):!1}function ud(){let e=vMe(),[t,n]=b.useState(ya.isHandoffComplete);return t&&ya.isHandoffComplete===!1&&n(!1),b.useEffect(()=>{t!==!0&&n(!0)},[t]),b.useEffect(()=>ya.handoff(),[]),e?!1:t}var rY;let Vt=(rY=G.useId)!=null?rY:function(){let e=ud(),[t,n]=G.useState(e?()=>ya.nextId():null);return lt(()=>{t===null&&n(ya.nextId())},[t]),t!=null?""+t:void 0};function ze(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ze),r}function jc(e){return ya.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let VZ=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Lt=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Lt||{}),ma=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(ma||{}),yMe=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(yMe||{});function dv(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(VZ)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var fv=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(fv||{});function Xk(e,t=0){var n;return e===((n=jc(e))==null?void 0:n.body)?!1:ze(t,{0(){return e.matches(VZ)},1(){let r=e;for(;r!==null;){if(r.matches(VZ))return!0;r=r.parentElement}return!1}})}var xMe=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(xMe||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function mc(e){e==null||e.focus({preventScroll:!0})}let SMe=["textarea","input"].join(",");function ZMe(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,SMe))!=null?n:!1}function wl(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),i=t(r);if(o===null||i===null)return 0;let a=o.compareDocumentPosition(i);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function zn(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?n?wl(e):e:dv(e);o.length>0&&a.length>1&&(a=a.filter(m=>!o.includes(m))),r=r??i.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),s=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=t&32?{preventScroll:!0}:{},u=0,g=a.length,d;do{if(u>=g||u+g<=0)return 0;let m=s+u;if(t&16)m=(m+g)%g;else{if(m<0)return 3;if(m>=g)return 1}d=a[m],d==null||d.focus(c),u+=l}while(d!==i.activeElement);return t&6&&ZMe(d)&&d.select(),2}function Lz(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function wMe(){return/Android/gi.test(window.navigator.userAgent)}function Kz(){return Lz()||wMe()}function Lh(e,t,n){let r=Jn(t);b.useEffect(()=>{function o(i){r.current(i)}return document.addEventListener(e,o,n),()=>document.removeEventListener(e,o,n)},[e,n])}function Oz(e,t,n){let r=Jn(t);b.useEffect(()=>{function o(i){r.current(i)}return window.addEventListener(e,o,n),()=>window.removeEventListener(e,o,n)},[e,n])}function mv(e,t,n=!0){let r=b.useRef(!1);b.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function o(a,l){if(!r.current||a.defaultPrevented)return;let s=l(a);if(s===null||!s.getRootNode().contains(s)||!s.isConnected)return;let c=function u(g){return typeof g=="function"?u(g()):Array.isArray(g)||g instanceof Set?g:[g]}(e);for(let u of c){if(u===null)continue;let g=u instanceof HTMLElement?u:u.current;if(g!=null&&g.contains(s)||a.composed&&a.composedPath().includes(g))return}return!Xk(s,fv.Loose)&&s.tabIndex!==-1&&a.preventDefault(),t(a,s)}let i=b.useRef(null);Lh("pointerdown",a=>{var l,s;r.current&&(i.current=((s=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:s[0])||a.target)},!0),Lh("mousedown",a=>{var l,s;r.current&&(i.current=((s=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:s[0])||a.target)},!0),Lh("click",a=>{Kz()||i.current&&(o(a,()=>i.current),i.current=null)},!0),Lh("touchend",a=>o(a,()=>a.target instanceof HTMLElement?a.target:null),!0),Oz("blur",a=>o(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Pa(...e){return b.useMemo(()=>jc(...e),[...e])}function oY(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function gd(e,t){let[n,r]=b.useState(()=>oY(e));return lt(()=>{r(oY(e))},[e.type,e.as]),lt(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}let Pz=Symbol();function Jk(e,t=!0){return Object.assign(e,{[Pz]:t})}function rt(...e){let t=b.useRef(e);b.useEffect(()=>{t.current=e},[e]);let n=me(r=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return e.every(r=>r==null||(r==null?void 0:r[Pz]))?void 0:n}function iY(e){return[e.screenX,e.screenY]}function Dz(){let e=b.useRef([-1,-1]);return{wasMoved(t){let n=iY(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=iY(t)}}}function GMe({container:e,accept:t,walk:n,enabled:r=!0}){let o=b.useRef(t),i=b.useRef(n);b.useEffect(()=>{o.current=t,i.current=n},[t,n]),lt(()=>{if(!e||!r)return;let a=jc(e);if(!a)return;let l=o.current,s=i.current,c=Object.assign(g=>l(g),{acceptNode:l}),u=a.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,c,!1);for(;u.nextNode();)s(u.currentNode)},[e,r,o,i])}function Pm(e,t){let n=b.useRef([]),r=me(e);b.useEffect(()=>{let o=[...n.current];for(let[i,a]of t.entries())if(n.current[i]!==a){let l=r(t,o);return n.current=t,l}},[r,...t])}function L0(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var cr=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(cr||{}),Gl=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Gl||{});function qe({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:i=!0,name:a,mergeRefs:l}){l=l??BMe;let s=zz(t,e);if(i)return Kh(s,n,r,a,l);let c=o??0;if(c&2){let{static:u=!1,...g}=s;if(u)return Kh(g,n,r,a,l)}if(c&1){let{unmount:u=!0,...g}=s;return ze(u?0:1,{0(){return null},1(){return Kh({...g,hidden:!0,style:{display:"none"}},n,r,a,l)}})}return Kh(s,n,r,a,l)}function Kh(e,t={},n,r,o){let{as:i=n,children:a,refName:l="ref",...s}=V1(e,["unmount","static"]),c=e.ref!==void 0?{[l]:e.ref}:{},u=typeof a=="function"?a(t):a;"className"in s&&s.className&&typeof s.className=="function"&&(s.className=s.className(t));let g={};if(t){let d=!1,m=[];for(let[I,h]of Object.entries(t))typeof h=="boolean"&&(d=!0),h===!0&&m.push(I);d&&(g["data-headlessui-state"]=m.join(" "))}if(i===b.Fragment&&Object.keys(Dm(s)).length>0){if(!b.isValidElement(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(s).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`));let d=u.props,m=typeof(d==null?void 0:d.className)=="function"?(...h)=>L0(d==null?void 0:d.className(...h),s.className):L0(d==null?void 0:d.className,s.className),I=m?{className:m}:{};return b.cloneElement(u,Object.assign({},zz(u.props,Dm(V1(s,["ref"]))),g,c,{ref:o(u.ref,c.ref)},I))}return b.createElement(i,Object.assign({},V1(s,["ref"]),i!==b.Fragment&&c,i!==b.Fragment&&g),u)}function Yk(){let e=b.useRef([]),t=b.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function BMe(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function zz(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](o,...i){let a=n[r];for(let l of a){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;l(o,...i)}}});return t}function et(e){var t;return Object.assign(b.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Dm(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function V1(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let kMe="div";var Lo=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Lo||{});function RMe(e,t){var n;let{features:r=1,...o}=e,i={ref:t,"aria-hidden":(r&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return qe({ourProps:i,theirProps:o,slot:{},defaultTag:kMe,name:"Hidden"})}let Ko=et(RMe),Hk=b.createContext(null);Hk.displayName="OpenClosedContext";var ht=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(ht||{});function bs(){return b.useContext(Hk)}function RI({value:e,children:t}){return G.createElement(Hk.Provider,{value:e},t)}function VMe(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Zi=[];VMe(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&Zi[0]!==t.target&&(Zi.unshift(t.target),Zi=Zi.filter(n=>n!=null&&n.isConnected),Zi.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Tc(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&WMe(n)?!1:r}function WMe(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function NMe(e){throw new Error("Unexpected object: "+e)}var ft=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(ft||{});function WZ(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),o=r??-1;switch(e.focus){case 0:{for(let i=0;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 1:{for(let i=o-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 2:{for(let i=o+1;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 3:{for(let i=n.length-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 4:{for(let i=0;i<n.length;++i)if(t.resolveId(n[i],i,n)===e.id)return i;return r}case 5:return null;default:NMe(e)}}function Fk(e={},t=null,n=[]){for(let[r,o]of Object.entries(e))_z(n,Uz(t,r),o);return n}function Uz(e,t){return e?e+"["+t+"]":t}function _z(e,t,n){if(Array.isArray(n))for(let[r,o]of n.entries())_z(e,Uz(t,r.toString()),o);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):Fk(n,t,e)}function EMe(e){var t,n;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let o of r.elements)if(o!==e&&(o.tagName==="INPUT"&&o.type==="submit"||o.tagName==="BUTTON"&&o.type==="submit"||o.nodeName==="INPUT"&&o.type==="image")){o.click();return}(n=r.requestSubmit)==null||n.call(r)}}var Je=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Je||{}),XMe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(XMe||{}),JMe=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(JMe||{}),YMe=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(YMe||{}),HMe=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.RegisterLabel=5]="RegisterLabel",e[e.SetActivationTrigger=6]="SetActivationTrigger",e[e.UpdateVirtualOptions=7]="UpdateVirtualOptions",e))(HMe||{});function W1(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=t(e.options.slice()),o=r.length>0&&r[0].dataRef.current.order!==null?r.sort((a,l)=>a.dataRef.current.order-l.dataRef.current.order):wl(r,a=>a.dataRef.current.domRef.current),i=n?o.indexOf(n):null;return i===-1&&(i=null),{options:o,activeOptionIndex:i}}let FMe={1(e){var t;return(t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},0(e){var t,n;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;if((n=e.dataRef.current)!=null&&n.value){let r=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(r!==-1)return{...e,activeOptionIndex:r,comboboxState:0}}return{...e,comboboxState:0}},2(e,t){var n,r,o,i,a;if((n=e.dataRef.current)!=null&&n.disabled||(r=e.dataRef.current)!=null&&r.optionsRef.current&&!((o=e.dataRef.current)!=null&&o.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let u=t.focus===ft.Specific?t.idx:WZ(t,{resolveItems:()=>e.virtual.options,resolveActiveIndex:()=>{var d,m;return(m=(d=e.activeOptionIndex)!=null?d:e.virtual.options.findIndex(I=>!e.virtual.disabled(I)))!=null?m:null},resolveDisabled:e.virtual.disabled,resolveId(){throw new Error("Function not implemented.")}}),g=(i=t.trigger)!=null?i:2;return e.activeOptionIndex===u&&e.activationTrigger===g?e:{...e,activeOptionIndex:u,activationTrigger:g}}let l=W1(e);if(l.activeOptionIndex===null){let u=l.options.findIndex(g=>!g.dataRef.current.disabled);u!==-1&&(l.activeOptionIndex=u)}let s=t.focus===ft.Specific?t.idx:WZ(t,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled}),c=(a=t.trigger)!=null?a:2;return e.activeOptionIndex===s&&e.activationTrigger===c?e:{...e,...l,activeOptionIndex:s,activationTrigger:c}},3:(e,t)=>{var n,r,o;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:[...e.options,t.payload]};let i=t.payload,a=W1(e,s=>(s.push(i),s));e.activeOptionIndex===null&&(r=e.dataRef.current)!=null&&r.isSelected(t.payload.dataRef.current.value)&&(a.activeOptionIndex=a.options.indexOf(i));let l={...e,...a,activationTrigger:2};return(o=e.dataRef.current)!=null&&o.__demoMode&&e.dataRef.current.value===void 0&&(l.activeOptionIndex=0),l},4:(e,t)=>{var n;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:e.options.filter(o=>o.id!==t.id)};let r=W1(e,o=>{let i=o.findIndex(a=>a.id===t.id);return i!==-1&&o.splice(i,1),o});return{...e,...r,activationTrigger:2}},5:(e,t)=>e.labelId===t.id?e:{...e,labelId:t.id},6:(e,t)=>e.activationTrigger===t.trigger?e:{...e,activationTrigger:t.trigger},7:(e,t)=>{var n;if(((n=e.virtual)==null?void 0:n.options)===t.options)return e;let r=e.activeOptionIndex;if(e.activeOptionIndex!==null){let o=t.options.indexOf(e.virtual.options[e.activeOptionIndex]);o!==-1?r=o:r=null}return{...e,activeOptionIndex:r,virtual:Object.assign({},e.virtual,{options:t.options})}}},Mk=b.createContext(null);Mk.displayName="ComboboxActionsContext";function VI(e){let t=b.useContext(Mk);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,VI),n}return t}let Qz=b.createContext(null);function MMe(e){var t;let n=Lc("VirtualProvider"),[r,o]=b.useMemo(()=>{let s=n.optionsRef.current;if(!s)return[0,0];let c=window.getComputedStyle(s);return[parseFloat(c.paddingBlockStart||c.paddingTop),parseFloat(c.paddingBlockEnd||c.paddingBottom)]},[n.optionsRef.current]),i=hfe({scrollPaddingStart:r,scrollPaddingEnd:o,count:n.virtual.options.length,estimateSize(){return 40},getScrollElement(){var s;return(s=n.optionsRef.current)!=null?s:null},overscan:12}),[a,l]=b.useState(0);return lt(()=>{l(s=>s+1)},[(t=n.virtual)==null?void 0:t.options]),G.createElement(Qz.Provider,{value:i},G.createElement("div",{style:{position:"relative",width:"100%",height:`${i.getTotalSize()}px`},ref:s=>{if(s){if(typeof process<"u"&&{}.JEST_WORKER_ID!==void 0||n.activationTrigger===0)return;n.activeOptionIndex!==null&&n.virtual.options.length>n.activeOptionIndex&&i.scrollToIndex(n.activeOptionIndex)}}},i.getVirtualItems().map(s=>{var c;return G.createElement(b.Fragment,{key:s.key},G.cloneElement((c=e.children)==null?void 0:c.call(e,{option:n.virtual.options[s.index],open:n.comboboxState===0}),{key:`${a}-${s.key}`,"data-index":s.index,"aria-setsize":n.virtual.options.length,"aria-posinset":s.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${s.start}px)`,overflowAnchor:"none"}}))})))}let jk=b.createContext(null);jk.displayName="ComboboxDataContext";function Lc(e){let t=b.useContext(jk);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Lc),n}return t}function jMe(e,t){return ze(t.type,FMe,e,t)}let TMe=b.Fragment;function LMe(e,t){let{value:n,defaultValue:r,onChange:o,form:i,name:a,by:l=null,disabled:s=!1,__demoMode:c=!1,nullable:u=!1,multiple:g=!1,immediate:d=!1,virtual:m=null,...I}=e,h=!1,A=null,[C=g?[]:void 0,p]=Ek(n,o,r),[v,y]=b.useReducer(jMe,{dataRef:b.createRef(),comboboxState:c?0:1,options:[],virtual:null,activeOptionIndex:null,activationTrigger:2,labelId:null}),x=b.useRef(!1),S=b.useRef({static:!1,hold:!1}),B=b.useRef(null),Z=b.useRef(null),R=b.useRef(null),w=b.useRef(null),k=me(typeof l=="string"?(K,z)=>{let _=l;return(K==null?void 0:K[_])===(z==null?void 0:z[_])}:l??((K,z)=>K===z)),V=me(K=>v.options.findIndex(z=>k(z.dataRef.current.value,K))),W=b.useCallback(K=>ze(X.mode,{1:()=>C.some(z=>k(z,K)),0:()=>k(C,K)}),[C]),N=me(K=>v.activeOptionIndex===V(K)),X=b.useMemo(()=>({...v,immediate:h,optionsPropsRef:S,labelRef:B,inputRef:Z,buttonRef:R,optionsRef:w,value:C,defaultValue:r,disabled:s,mode:g?1:0,virtual:v.virtual,get activeOptionIndex(){if(x.current&&v.activeOptionIndex===null&&v.options.length>0){let K=v.options.findIndex(z=>!z.dataRef.current.disabled);if(K!==-1)return K}return v.activeOptionIndex},calculateIndex:V,compare:k,isSelected:W,isActive:N,nullable:u,__demoMode:c}),[C,r,s,g,u,c,v,A]);lt(()=>{},[A,void 0]),lt(()=>{v.dataRef.current=X},[X]),mv([X.buttonRef,X.inputRef,X.optionsRef],()=>L.closeCombobox(),X.comboboxState===0);let J=b.useMemo(()=>{var K,z,_;return{open:X.comboboxState===0,disabled:s,activeIndex:X.activeOptionIndex,activeOption:X.activeOptionIndex===null?null:X.virtual?X.virtual.options[(K=X.activeOptionIndex)!=null?K:0]:(_=(z=X.options[X.activeOptionIndex])==null?void 0:z.dataRef.current.value)!=null?_:null,value:C}},[X,s,C]),E=me(()=>{if(X.activeOptionIndex!==null){if(X.virtual)O(X.virtual.options[X.activeOptionIndex]);else{let{dataRef:K}=X.options[X.activeOptionIndex];O(K.current.value)}L.goToOption(ft.Specific,X.activeOptionIndex)}}),F=me(()=>{y({type:0}),x.current=!0}),H=me(()=>{y({type:1}),x.current=!1}),M=me((K,z,_)=>(x.current=!1,K===ft.Specific?y({type:2,focus:ft.Specific,idx:z,trigger:_}):y({type:2,focus:K,trigger:_}))),Y=me((K,z)=>(y({type:3,payload:{id:K,dataRef:z}}),()=>{X.isActive(z.current.value)&&(x.current=!0),y({type:4,id:K})})),T=me(K=>(y({type:5,id:K}),()=>y({type:5,id:null}))),O=me(K=>ze(X.mode,{0(){return p==null?void 0:p(K)},1(){let z=X.value.slice(),_=z.findIndex(U=>k(U,K));return _===-1?z.push(K):z.splice(_,1),p==null?void 0:p(z)}})),P=me(K=>{y({type:6,trigger:K})}),L=b.useMemo(()=>({onChange:O,registerOption:Y,registerLabel:T,goToOption:M,closeCombobox:H,openCombobox:F,setActivationTrigger:P,selectActiveOption:E}),[]),j=t===null?{}:{ref:t},D=b.useRef(null),$=fi();return b.useEffect(()=>{D.current&&r!==void 0&&$.addEventListener(D.current,"reset",()=>{p==null||p(r)})},[D,p]),G.createElement(Mk.Provider,{value:L},G.createElement(jk.Provider,{value:X},G.createElement(RI,{value:ze(X.comboboxState,{0:ht.Open,1:ht.Closed})},a!=null&&C!=null&&Fk({[a]:C}).map(([K,z],_)=>G.createElement(Ko,{features:Lo.Hidden,ref:_===0?U=>{var te;D.current=(te=U==null?void 0:U.closest("form"))!=null?te:null}:void 0,...Dm({key:K,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:i,disabled:s,name:K,value:z})})),qe({ourProps:j,theirProps:I,slot:J,defaultTag:TMe,name:"Combobox"}))))}let KMe="input";function OMe(e,t){var n,r,o,i,a;let l=Vt(),{id:s=`headlessui-combobox-input-${l}`,onChange:c,displayValue:u,type:g="text",...d}=e,m=Lc("Combobox.Input"),I=VI("Combobox.Input"),h=rt(m.inputRef,t),A=Pa(m.inputRef),C=b.useRef(!1),p=fi(),v=me(()=>{I.onChange(null),m.optionsRef.current&&(m.optionsRef.current.scrollTop=0),I.goToOption(ft.Nothing)}),y=function(){var X;return typeof u=="function"&&m.value!==void 0?(X=u(m.value))!=null?X:"":typeof m.value=="string"?m.value:""}();Pm(([X,J],[E,F])=>{if(C.current)return;let H=m.inputRef.current;H&&((F===0&&J===1||X!==E)&&(H.value=X),requestAnimationFrame(()=>{if(C.current||!H||(A==null?void 0:A.activeElement)!==H)return;let{selectionStart:M,selectionEnd:Y}=H;Math.abs((Y??0)-(M??0))===0&&M===0&&H.setSelectionRange(H.value.length,H.value.length)}))},[y,m.comboboxState,A]),Pm(([X],[J])=>{if(X===0&&J===1){if(C.current)return;let E=m.inputRef.current;if(!E)return;let F=E.value,{selectionStart:H,selectionEnd:M,selectionDirection:Y}=E;E.value="",E.value=F,Y!==null?E.setSelectionRange(H,M,Y):E.setSelectionRange(H,M)}},[m.comboboxState]);let x=b.useRef(!1),S=me(()=>{x.current=!0}),B=me(()=>{p.nextFrame(()=>{x.current=!1})}),Z=me(X=>{switch(C.current=!0,X.key){case Je.Enter:if(C.current=!1,m.comboboxState!==0||x.current)return;if(X.preventDefault(),X.stopPropagation(),m.activeOptionIndex===null){I.closeCombobox();return}I.selectActiveOption(),m.mode===0&&I.closeCombobox();break;case Je.ArrowDown:return C.current=!1,X.preventDefault(),X.stopPropagation(),ze(m.comboboxState,{0:()=>I.goToOption(ft.Next),1:()=>I.openCombobox()});case Je.ArrowUp:return C.current=!1,X.preventDefault(),X.stopPropagation(),ze(m.comboboxState,{0:()=>I.goToOption(ft.Previous),1:()=>{I.openCombobox(),p.nextFrame(()=>{m.value||I.goToOption(ft.Last)})}});case Je.Home:if(X.shiftKey)break;return C.current=!1,X.preventDefault(),X.stopPropagation(),I.goToOption(ft.First);case Je.PageUp:return C.current=!1,X.preventDefault(),X.stopPropagation(),I.goToOption(ft.First);case Je.End:if(X.shiftKey)break;return C.current=!1,X.preventDefault(),X.stopPropagation(),I.goToOption(ft.Last);case Je.PageDown:return C.current=!1,X.preventDefault(),X.stopPropagation(),I.goToOption(ft.Last);case Je.Escape:return C.current=!1,m.comboboxState!==0?void 0:(X.preventDefault(),m.optionsRef.current&&!m.optionsPropsRef.current.static&&X.stopPropagation(),m.nullable&&m.mode===0&&m.value===null&&v(),I.closeCombobox());case Je.Tab:if(C.current=!1,m.comboboxState!==0)return;m.mode===0&&m.activationTrigger!==1&&I.selectActiveOption(),I.closeCombobox();break}}),R=me(X=>{c==null||c(X),m.nullable&&m.mode===0&&X.target.value===""&&v(),I.openCombobox()}),w=me(X=>{var J,E,F;let H=(J=X.relatedTarget)!=null?J:Zi.find(M=>M!==X.currentTarget);if(C.current=!1,!((E=m.optionsRef.current)!=null&&E.contains(H))&&!((F=m.buttonRef.current)!=null&&F.contains(H))&&m.comboboxState===0)return X.preventDefault(),m.mode===0&&(m.nullable&&m.value===null?v():m.activationTrigger!==1&&I.selectActiveOption()),I.closeCombobox()}),k=me(X=>{var J,E,F;let H=(J=X.relatedTarget)!=null?J:Zi.find(M=>M!==X.currentTarget);(E=m.buttonRef.current)!=null&&E.contains(H)||(F=m.optionsRef.current)!=null&&F.contains(H)||m.disabled||m.immediate&&m.comboboxState!==0&&(I.openCombobox(),p.nextFrame(()=>{I.setActivationTrigger(1)}))}),V=BI(()=>{if(m.labelId)return[m.labelId].join(" ")},[m.labelId]),W=b.useMemo(()=>({open:m.comboboxState===0,disabled:m.disabled}),[m]),N={ref:h,id:s,role:"combobox",type:g,"aria-controls":(n=m.optionsRef.current)==null?void 0:n.id,"aria-expanded":m.comboboxState===0,"aria-activedescendant":m.activeOptionIndex===null?void 0:m.virtual?(r=m.options.find(X=>{var J;return!((J=m.virtual)!=null&&J.disabled(X.dataRef.current.value))&&m.compare(X.dataRef.current.value,m.virtual.options[m.activeOptionIndex])}))==null?void 0:r.id:(o=m.options[m.activeOptionIndex])==null?void 0:o.id,"aria-labelledby":V,"aria-autocomplete":"list",defaultValue:(a=(i=e.defaultValue)!=null?i:m.defaultValue!==void 0?u==null?void 0:u(m.defaultValue):null)!=null?a:m.defaultValue,disabled:m.disabled,onCompositionStart:S,onCompositionEnd:B,onKeyDown:Z,onChange:R,onFocus:k,onBlur:w};return qe({ourProps:N,theirProps:d,slot:W,defaultTag:KMe,name:"Combobox.Input"})}let PMe="button";function DMe(e,t){var n;let r=Lc("Combobox.Button"),o=VI("Combobox.Button"),i=rt(r.buttonRef,t),a=Vt(),{id:l=`headlessui-combobox-button-${a}`,...s}=e,c=fi(),u=me(h=>{switch(h.key){case Je.ArrowDown:return h.preventDefault(),h.stopPropagation(),r.comboboxState===1&&o.openCombobox(),c.nextFrame(()=>{var A;return(A=r.inputRef.current)==null?void 0:A.focus({preventScroll:!0})});case Je.ArrowUp:return h.preventDefault(),h.stopPropagation(),r.comboboxState===1&&(o.openCombobox(),c.nextFrame(()=>{r.value||o.goToOption(ft.Last)})),c.nextFrame(()=>{var A;return(A=r.inputRef.current)==null?void 0:A.focus({preventScroll:!0})});case Je.Escape:return r.comboboxState!==0?void 0:(h.preventDefault(),r.optionsRef.current&&!r.optionsPropsRef.current.static&&h.stopPropagation(),o.closeCombobox(),c.nextFrame(()=>{var A;return(A=r.inputRef.current)==null?void 0:A.focus({preventScroll:!0})}));default:return}}),g=me(h=>{if(Tc(h.currentTarget))return h.preventDefault();r.comboboxState===0?o.closeCombobox():(h.preventDefault(),o.openCombobox()),c.nextFrame(()=>{var A;return(A=r.inputRef.current)==null?void 0:A.focus({preventScroll:!0})})}),d=BI(()=>{if(r.labelId)return[r.labelId,l].join(" ")},[r.labelId,l]),m=b.useMemo(()=>({open:r.comboboxState===0,disabled:r.disabled,value:r.value}),[r]),I={ref:i,id:l,type:gd(e,r.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=r.optionsRef.current)==null?void 0:n.id,"aria-expanded":r.comboboxState===0,"aria-labelledby":d,disabled:r.disabled,onClick:g,onKeyDown:u};return qe({ourProps:I,theirProps:s,slot:m,defaultTag:PMe,name:"Combobox.Button"})}let zMe="label";function UMe(e,t){let n=Vt(),{id:r=`headlessui-combobox-label-${n}`,...o}=e,i=Lc("Combobox.Label"),a=VI("Combobox.Label"),l=rt(i.labelRef,t);lt(()=>a.registerLabel(r),[r]);let s=me(()=>{var u;return(u=i.inputRef.current)==null?void 0:u.focus({preventScroll:!0})}),c=b.useMemo(()=>({open:i.comboboxState===0,disabled:i.disabled}),[i]);return qe({ourProps:{ref:l,id:r,onClick:s},theirProps:o,slot:c,defaultTag:zMe,name:"Combobox.Label"})}let _Me="ul",QMe=cr.RenderStrategy|cr.Static;function $Me(e,t){let n=Vt(),{id:r=`headlessui-combobox-options-${n}`,hold:o=!1,...i}=e,a=Lc("Combobox.Options"),l=rt(a.optionsRef,t),s=bs(),c=(()=>s!==null?(s&ht.Open)===ht.Open:a.comboboxState===0)();lt(()=>{var m;a.optionsPropsRef.current.static=(m=e.static)!=null?m:!1},[a.optionsPropsRef,e.static]),lt(()=>{a.optionsPropsRef.current.hold=o},[a.optionsPropsRef,o]),GMe({container:a.optionsRef.current,enabled:a.comboboxState===0,accept(m){return m.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:m.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(m){m.setAttribute("role","none")}});let u=BI(()=>{var m,I;return(I=a.labelId)!=null?I:(m=a.buttonRef.current)==null?void 0:m.id},[a.labelId,a.buttonRef.current]),g=b.useMemo(()=>({open:a.comboboxState===0,option:void 0}),[a]),d={"aria-labelledby":u,role:"listbox","aria-multiselectable":a.mode===1?!0:void 0,id:r,ref:l};return a.virtual&&a.comboboxState===0&&Object.assign(i,{children:G.createElement(MMe,null,i.children)}),qe({ourProps:d,theirProps:i,slot:g,defaultTag:_Me,features:QMe,visible:c,name:"Combobox.Options"})}let qMe="li";function eje(e,t){var n;let r=Vt(),{id:o=`headlessui-combobox-option-${r}`,disabled:i=!1,value:a,order:l=null,...s}=e,c=Lc("Combobox.Option"),u=VI("Combobox.Option"),g=c.virtual?c.activeOptionIndex===c.calculateIndex(a):c.activeOptionIndex===null?!1:((n=c.options[c.activeOptionIndex])==null?void 0:n.id)===o,d=c.isSelected(a),m=b.useRef(null),I=Jn({disabled:i,value:a,domRef:m,order:l}),h=b.useContext(Qz),A=rt(t,m,h?h.measureElement:null),C=me(()=>u.onChange(a));lt(()=>u.registerOption(o,I),[I,o]);let p=b.useRef(!(c.virtual||c.__demoMode));lt(()=>{if(!c.virtual||!c.__demoMode)return;let w=To();return w.requestAnimationFrame(()=>{p.current=!0}),w.dispose},[c.virtual,c.__demoMode]),lt(()=>{if(!p.current||c.comboboxState!==0||!g||c.activationTrigger===0)return;let w=To();return w.requestAnimationFrame(()=>{var k,V;(V=(k=m.current)==null?void 0:k.scrollIntoView)==null||V.call(k,{block:"nearest"})}),w.dispose},[m,g,c.comboboxState,c.activationTrigger,c.activeOptionIndex]);let v=me(w=>{var k;if(i||(k=c.virtual)!=null&&k.disabled(a))return w.preventDefault();C(),Kz()||requestAnimationFrame(()=>{var V;return(V=c.inputRef.current)==null?void 0:V.focus({preventScroll:!0})}),c.mode===0&&requestAnimationFrame(()=>u.closeCombobox())}),y=me(()=>{var w;if(i||(w=c.virtual)!=null&&w.disabled(a))return u.goToOption(ft.Nothing);let k=c.calculateIndex(a);u.goToOption(ft.Specific,k)}),x=Dz(),S=me(w=>x.update(w)),B=me(w=>{var k;if(!x.wasMoved(w)||i||(k=c.virtual)!=null&&k.disabled(a)||g)return;let V=c.calculateIndex(a);u.goToOption(ft.Specific,V,0)}),Z=me(w=>{var k;x.wasMoved(w)&&(i||(k=c.virtual)!=null&&k.disabled(a)||g&&(c.optionsPropsRef.current.hold||u.goToOption(ft.Nothing)))}),R=b.useMemo(()=>({active:g,selected:d,disabled:i}),[g,d,i]);return qe({ourProps:{id:o,ref:A,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":d,disabled:void 0,onClick:v,onFocus:y,onPointerEnter:S,onMouseEnter:S,onPointerMove:B,onMouseMove:B,onPointerLeave:Z,onMouseLeave:Z},theirProps:s,slot:R,defaultTag:qMe,name:"Combobox.Option"})}let tje=et(LMe),nje=et(DMe),rje=et(OMe),oje=et(UMe),ije=et($Me),aje=et(eje),lf=Object.assign(tje,{Input:rje,Button:nje,Label:oje,Options:ije,Option:aje});function Tk(e,t,n,r){let o=Jn(n);b.useEffect(()=>{e=e??window;function i(a){o.current(a)}return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)},[e,t,r])}function dd(){let e=b.useRef(!1);return lt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function $z(e){let t=me(e),n=b.useRef(!1);b.useEffect(()=>(n.current=!1,()=>{n.current=!0,kI(()=>{n.current&&t()})}),[t])}var no=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(no||{});function Lk(){let e=b.useRef(0);return Oz("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function qz(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let lje="div";var e8=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(e8||{});function sje(e,t){let n=b.useRef(null),r=rt(n,t),{initialFocus:o,containers:i,features:a=30,...l}=e;ud()||(a=1);let s=Pa(n);gje({ownerDocument:s},!!(a&16));let c=dje({ownerDocument:s,container:n,initialFocus:o},!!(a&2));fje({ownerDocument:s,container:n,containers:i,previousActiveElement:c},!!(a&8));let u=Lk(),g=me(h=>{let A=n.current;A&&(C=>C())(()=>{ze(u.current,{[no.Forwards]:()=>{zn(A,Lt.First,{skipElements:[h.relatedTarget]})},[no.Backwards]:()=>{zn(A,Lt.Last,{skipElements:[h.relatedTarget]})}})})}),d=fi(),m=b.useRef(!1),I={ref:r,onKeyDown(h){h.key=="Tab"&&(m.current=!0,d.requestAnimationFrame(()=>{m.current=!1}))},onBlur(h){let A=qz(i);n.current instanceof HTMLElement&&A.add(n.current);let C=h.relatedTarget;C instanceof HTMLElement&&C.dataset.headlessuiFocusGuard!=="true"&&(t8(A,C)||(m.current?zn(n.current,ze(u.current,{[no.Forwards]:()=>Lt.Next,[no.Backwards]:()=>Lt.Previous})|Lt.WrapAround,{relativeTo:h.target}):h.target instanceof HTMLElement&&mc(h.target)))}};return G.createElement(G.Fragment,null,!!(a&4)&&G.createElement(Ko,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:Lo.Focusable}),qe({ourProps:I,theirProps:l,defaultTag:lje,name:"FocusTrap"}),!!(a&4)&&G.createElement(Ko,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:Lo.Focusable}))}let cje=et(sje),Pd=Object.assign(cje,{features:e8});function uje(e=!0){let t=b.useRef(Zi.slice());return Pm(([n],[r])=>{r===!0&&n===!1&&kI(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Zi.slice())},[e,Zi,t]),me(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function gje({ownerDocument:e},t){let n=uje(t);Pm(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&mc(n())},[t]),$z(()=>{t&&mc(n())})}function dje({ownerDocument:e,container:t,initialFocus:n},r){let o=b.useRef(null),i=dd();return Pm(()=>{if(!r)return;let a=t.current;a&&kI(()=>{if(!i.current)return;let l=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===l){o.current=l;return}}else if(a.contains(l)){o.current=l;return}n!=null&&n.current?mc(n.current):zn(a,Lt.First)===ma.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),o.current=e==null?void 0:e.activeElement})},[r]),o}function fje({ownerDocument:e,container:t,containers:n,previousActiveElement:r},o){let i=dd();Tk(e==null?void 0:e.defaultView,"focus",a=>{if(!o||!i.current)return;let l=qz(n);t.current instanceof HTMLElement&&l.add(t.current);let s=r.current;if(!s)return;let c=a.target;c&&c instanceof HTMLElement?t8(l,c)?(r.current=c,mc(c)):(a.preventDefault(),a.stopPropagation(),mc(s)):mc(r.current)},!0)}function t8(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let n8=b.createContext(!1);function mje(){return b.useContext(n8)}function NZ(e){return G.createElement(n8.Provider,{value:e.force},e.children)}function Ije(e){let t=mje(),n=b.useContext(r8),r=Pa(e),[o,i]=b.useState(()=>{if(!t&&n!==null||ya.isServer)return null;let a=r==null?void 0:r.getElementById("headlessui-portal-root");if(a)return a;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return b.useEffect(()=>{o!==null&&(r!=null&&r.body.contains(o)||r==null||r.body.appendChild(o))},[o,r]),b.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),o}let hje=b.Fragment;function Cje(e,t){let n=e,r=b.useRef(null),o=rt(Jk(u=>{r.current=u}),t),i=Pa(r),a=Ije(r),[l]=b.useState(()=>{var u;return ya.isServer?null:(u=i==null?void 0:i.createElement("div"))!=null?u:null}),s=b.useContext(EZ),c=ud();return lt(()=>{!a||!l||a.contains(l)||(l.setAttribute("data-headlessui-portal",""),a.appendChild(l))},[a,l]),lt(()=>{if(l&&s)return s.register(l)},[s,l]),$z(()=>{var u;!a||!l||(l instanceof Node&&a.contains(l)&&a.removeChild(l),a.childNodes.length<=0&&((u=a.parentElement)==null||u.removeChild(a)))}),c?!a||!l?null:Bn.createPortal(qe({ourProps:{ref:o},theirProps:n,defaultTag:hje,name:"Portal"}),l):null}let pje=b.Fragment,r8=b.createContext(null);function Aje(e,t){let{target:n,...r}=e,o={ref:rt(t)};return G.createElement(r8.Provider,{value:n},qe({ourProps:o,theirProps:r,defaultTag:pje,name:"Popover.Group"}))}let EZ=b.createContext(null);function o8(){let e=b.useContext(EZ),t=b.useRef([]),n=me(i=>(t.current.push(i),e&&e.register(i),()=>r(i))),r=me(i=>{let a=t.current.indexOf(i);a!==-1&&t.current.splice(a,1),e&&e.unregister(i)}),o=b.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,b.useMemo(()=>function({children:i}){return G.createElement(EZ.Provider,{value:o},i)},[o])]}let bje=et(Cje),vje=et(Aje),XZ=Object.assign(bje,{Group:vje});function yje(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const xje=typeof Object.is=="function"?Object.is:yje,{useState:Sje,useEffect:Zje,useLayoutEffect:wje,useDebugValue:Gje}=ui;function Bje(e,t,n){const r=t(),[{inst:o},i]=Sje({inst:{value:r,getSnapshot:t}});return wje(()=>{o.value=r,o.getSnapshot=t,N1(o)&&i({inst:o})},[e,r,t]),Zje(()=>(N1(o)&&i({inst:o}),e(()=>{N1(o)&&i({inst:o})})),[e]),Gje(r),r}function N1(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!xje(n,r)}catch{return!0}}function kje(e,t,n){return t()}const Rje=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vje=!Rje,Wje=Vje?kje:Bje,Nje="useSyncExternalStore"in ui?(e=>e.useSyncExternalStore)(ui):Wje;function Eje(e){return Nje(e.subscribe,e.getSnapshot,e.getSnapshot)}function Xje(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(o){return r.add(o),()=>r.delete(o)},dispatch(o,...i){let a=t[o].call(n,...i);a&&(n=a,r.forEach(l=>l()))}}}function Jje(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,o=r.clientWidth-r.offsetWidth,i=e-o;n.style(r,"paddingRight",`${i}px`)}}}function Yje(){return Lz()?{before({doc:e,d:t,meta:n}){function r(o){return n.containers.flatMap(i=>i()).some(i=>i.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=To();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let i=(o=window.scrollY)!=null?o:window.pageYOffset,a=null;t.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let s=l.target.closest("a");if(!s)return;let{hash:c}=new URL(s.href),u=e.querySelector(c);u&&!r(u)&&(a=u)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let s=l.target;for(;s.parentElement&&r(s.parentElement);)s=s.parentElement;t.style(s,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let s=l.target;for(;s.parentElement&&s.dataset.headlessuiPortal!==""&&!(s.scrollHeight>s.clientHeight||s.scrollWidth>s.clientWidth);)s=s.parentElement;s.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),t.add(()=>{var l;let s=(l=window.scrollY)!=null?l:window.pageYOffset;i!==s&&window.scrollTo(0,i),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function Hje(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Fje(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let ac=Xje(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:To(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Fje(n)},o=[Yje(),Jje(),Hje()];o.forEach(({before:i})=>i==null?void 0:i(r)),o.forEach(({after:i})=>i==null?void 0:i(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});ac.subscribe(()=>{let e=ac.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!r||!o&&r)&&ac.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ac.dispatch("TEARDOWN",n)}});function Mje(e,t,n){let r=Eje(ac),o=e?r.get(e):void 0,i=o?o.count>0:!1;return lt(()=>{if(!(!e||!t))return ac.dispatch("PUSH",e,n),()=>ac.dispatch("POP",e,n)},[t,e]),i}let E1=new Map,Dd=new Map;function aY(e,t=!0){lt(()=>{var n;if(!t)return;let r=typeof e=="function"?e():e.current;if(!r)return;function o(){var a;if(!r)return;let l=(a=Dd.get(r))!=null?a:1;if(l===1?Dd.delete(r):Dd.set(r,l-1),l!==1)return;let s=E1.get(r);s&&(s["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",s["aria-hidden"]),r.inert=s.inert,E1.delete(r))}let i=(n=Dd.get(r))!=null?n:0;return Dd.set(r,i+1),i!==0||(E1.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),o},[e,t])}function i8({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){var r;let o=b.useRef((r=n==null?void 0:n.current)!=null?r:null),i=Pa(o),a=me(()=>{var l,s,c;let u=[];for(let g of e)g!==null&&(g instanceof HTMLElement?u.push(g):"current"in g&&g.current instanceof HTMLElement&&u.push(g.current));if(t!=null&&t.current)for(let g of t.current)u.push(g);for(let g of(l=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?l:[])g!==document.body&&g!==document.head&&g instanceof HTMLElement&&g.id!=="headlessui-portal-root"&&(g.contains(o.current)||g.contains((c=(s=o.current)==null?void 0:s.getRootNode())==null?void 0:c.host)||u.some(d=>g.contains(d))||u.push(g));return u});return{resolveContainers:a,contains:me(l=>a().some(s=>s.contains(l))),mainTreeNodeRef:o,MainTreeNode:b.useMemo(()=>function(){return n!=null?null:G.createElement(Ko,{features:Lo.Hidden,ref:o})},[o,n])}}function jje(){let e=b.useRef(null);return{mainTreeNodeRef:e,MainTreeNode:b.useMemo(()=>function(){return G.createElement(Ko,{features:Lo.Hidden,ref:e})},[e])}}let Kk=b.createContext(()=>{});Kk.displayName="StackContext";var JZ=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(JZ||{});function Tje(){return b.useContext(Kk)}function Lje({children:e,onUpdate:t,type:n,element:r,enabled:o}){let i=Tje(),a=me((...l)=>{t==null||t(...l),i(...l)});return lt(()=>{let l=o===void 0||o===!0;return l&&a(0,n,r),()=>{l&&a(1,n,r)}},[a,n,r,o]),G.createElement(Kk.Provider,{value:a},e)}let a8=b.createContext(null);function l8(){let e=b.useContext(a8);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,l8),t}return e}function s8(){let[e,t]=b.useState([]);return[e.length>0?e.join(" "):void 0,b.useMemo(()=>function(n){let r=me(i=>(t(a=>[...a,i]),()=>t(a=>{let l=a.slice(),s=l.indexOf(i);return s!==-1&&l.splice(s,1),l}))),o=b.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return G.createElement(a8.Provider,{value:o},n.children)},[t])]}let Kje="p";function Oje(e,t){let n=Vt(),{id:r=`headlessui-description-${n}`,...o}=e,i=l8(),a=rt(t);lt(()=>i.register(r),[r,i.register]);let l={ref:a,...i.props,id:r};return qe({ourProps:l,theirProps:o,slot:i.slot||{},defaultTag:Kje,name:i.name||"Description"})}let Pje=et(Oje),c8=Object.assign(Pje,{});var Dje=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Dje||{}),zje=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(zje||{});let Uje={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},K0=b.createContext(null);K0.displayName="DialogContext";function WI(e){let t=b.useContext(K0);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,WI),n}return t}function _je(e,t,n=()=>[document.body]){Mje(e,t,r=>{var o;return{containers:[...(o=r.containers)!=null?o:[],n]}})}function Qje(e,t){return ze(t.type,Uje,e,t)}let $je="div",qje=cr.RenderStrategy|cr.Static;function e4e(e,t){let n=Vt(),{id:r=`headlessui-dialog-${n}`,open:o,onClose:i,initialFocus:a,role:l="dialog",__demoMode:s=!1,...c}=e,[u,g]=b.useState(0),d=b.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(d.current||(d.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let m=bs();o===void 0&&m!==null&&(o=(m&ht.Open)===ht.Open);let I=b.useRef(null),h=rt(I,t),A=Pa(I),C=e.hasOwnProperty("open")||m!==null,p=e.hasOwnProperty("onClose");if(!C&&!p)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!C)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!p)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof o!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${o}`);if(typeof i!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${i}`);let v=o?0:1,[y,x]=b.useReducer(Qje,{titleId:null,descriptionId:null,panelRef:b.createRef()}),S=me(()=>i(!1)),B=me(_=>x({type:0,id:_})),Z=ud()?s?!1:v===0:!1,R=u>1,w=b.useContext(K0)!==null,[k,V]=o8(),W={get current(){var _;return(_=y.panelRef.current)!=null?_:I.current}},{resolveContainers:N,mainTreeNodeRef:X,MainTreeNode:J}=i8({portals:k,defaultContainers:[W]}),E=R?"parent":"leaf",F=m!==null?(m&ht.Closing)===ht.Closing:!1,H=(()=>w||F?!1:Z)(),M=b.useCallback(()=>{var _,U;return(U=Array.from((_=A==null?void 0:A.querySelectorAll("body > *"))!=null?_:[]).find(te=>te.id==="headlessui-portal-root"?!1:te.contains(X.current)&&te instanceof HTMLElement))!=null?U:null},[X]);aY(M,H);let Y=(()=>R?!0:Z)(),T=b.useCallback(()=>{var _,U;return(U=Array.from((_=A==null?void 0:A.querySelectorAll("[data-headlessui-portal]"))!=null?_:[]).find(te=>te.contains(X.current)&&te instanceof HTMLElement))!=null?U:null},[X]);aY(T,Y);let O=(()=>!(!Z||R))();mv(N,_=>{_.preventDefault(),S()},O);let P=(()=>!(R||v!==0))();Tk(A==null?void 0:A.defaultView,"keydown",_=>{P&&(_.defaultPrevented||_.key===Je.Escape&&(_.preventDefault(),_.stopPropagation(),S()))});let L=(()=>!(F||v!==0||w))();_je(A,L,N),b.useEffect(()=>{if(v!==0||!I.current)return;let _=new ResizeObserver(U=>{for(let te of U){let ie=te.target.getBoundingClientRect();ie.x===0&&ie.y===0&&ie.width===0&&ie.height===0&&S()}});return _.observe(I.current),()=>_.disconnect()},[v,I,S]);let[j,D]=s8(),$=b.useMemo(()=>[{dialogState:v,close:S,setTitleId:B},y],[v,y,S,B]),K=b.useMemo(()=>({open:v===0}),[v]),z={ref:h,id:r,role:l,"aria-modal":v===0?!0:void 0,"aria-labelledby":y.titleId,"aria-describedby":j};return G.createElement(Lje,{type:"Dialog",enabled:v===0,element:I,onUpdate:me((_,U)=>{U==="Dialog"&&ze(_,{[JZ.Add]:()=>g(te=>te+1),[JZ.Remove]:()=>g(te=>te-1)})})},G.createElement(NZ,{force:!0},G.createElement(XZ,null,G.createElement(K0.Provider,{value:$},G.createElement(XZ.Group,{target:I},G.createElement(NZ,{force:!1},G.createElement(D,{slot:K,name:"Dialog.Description"},G.createElement(Pd,{initialFocus:a,containers:N,features:Z?ze(E,{parent:Pd.features.RestoreFocus,leaf:Pd.features.All&~Pd.features.FocusLock}):Pd.features.None},G.createElement(V,null,qe({ourProps:z,theirProps:c,slot:K,defaultTag:$je,features:qje,visible:v===0,name:"Dialog"}))))))))),G.createElement(J,null))}let t4e="div";function n4e(e,t){let n=Vt(),{id:r=`headlessui-dialog-overlay-${n}`,...o}=e,[{dialogState:i,close:a}]=WI("Dialog.Overlay"),l=rt(t),s=me(u=>{if(u.target===u.currentTarget){if(Tc(u.currentTarget))return u.preventDefault();u.preventDefault(),u.stopPropagation(),a()}}),c=b.useMemo(()=>({open:i===0}),[i]);return qe({ourProps:{ref:l,id:r,"aria-hidden":!0,onClick:s},theirProps:o,slot:c,defaultTag:t4e,name:"Dialog.Overlay"})}let r4e="div";function o4e(e,t){let n=Vt(),{id:r=`headlessui-dialog-backdrop-${n}`,...o}=e,[{dialogState:i},a]=WI("Dialog.Backdrop"),l=rt(t);b.useEffect(()=>{if(a.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[a.panelRef]);let s=b.useMemo(()=>({open:i===0}),[i]);return G.createElement(NZ,{force:!0},G.createElement(XZ,null,qe({ourProps:{ref:l,id:r,"aria-hidden":!0},theirProps:o,slot:s,defaultTag:r4e,name:"Dialog.Backdrop"})))}let i4e="div";function a4e(e,t){let n=Vt(),{id:r=`headlessui-dialog-panel-${n}`,...o}=e,[{dialogState:i},a]=WI("Dialog.Panel"),l=rt(t,a.panelRef),s=b.useMemo(()=>({open:i===0}),[i]),c=me(u=>{u.stopPropagation()});return qe({ourProps:{ref:l,id:r,onClick:c},theirProps:o,slot:s,defaultTag:i4e,name:"Dialog.Panel"})}let l4e="h2";function s4e(e,t){let n=Vt(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:i,setTitleId:a}]=WI("Dialog.Title"),l=rt(t);b.useEffect(()=>(a(r),()=>a(null)),[r,a]);let s=b.useMemo(()=>({open:i===0}),[i]);return qe({ourProps:{ref:l,id:r},theirProps:o,slot:s,defaultTag:l4e,name:"Dialog.Title"})}let c4e=et(e4e),u4e=et(o4e),g4e=et(a4e),d4e=et(n4e),f4e=et(s4e),u8=Object.assign(c4e,{Backdrop:u4e,Panel:g4e,Overlay:d4e,Title:f4e,Description:c8});var lY;let m4e=(lY=G.startTransition)!=null?lY:function(e){e()};var I4e=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(I4e||{}),h4e=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(h4e||{});let C4e={0:e=>({...e,disclosureState:ze(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},4(e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},5(e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},Ok=b.createContext(null);Ok.displayName="DisclosureContext";function Pk(e){let t=b.useContext(Ok);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Pk),n}return t}let Dk=b.createContext(null);Dk.displayName="DisclosureAPIContext";function g8(e){let t=b.useContext(Dk);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,g8),n}return t}let zk=b.createContext(null);zk.displayName="DisclosurePanelContext";function p4e(){return b.useContext(zk)}function A4e(e,t){return ze(t.type,C4e,e,t)}let b4e=b.Fragment;function v4e(e,t){let{defaultOpen:n=!1,...r}=e,o=b.useRef(null),i=rt(t,Jk(A=>{o.current=A},e.as===void 0||e.as===b.Fragment)),a=b.useRef(null),l=b.useRef(null),s=b.useReducer(A4e,{disclosureState:n?0:1,linkedPanel:!1,buttonRef:l,panelRef:a,buttonId:null,panelId:null}),[{disclosureState:c,buttonId:u},g]=s,d=me(A=>{g({type:1});let C=jc(o);if(!C||!u)return;let p=(()=>A?A instanceof HTMLElement?A:A.current instanceof HTMLElement?A.current:C.getElementById(u):C.getElementById(u))();p==null||p.focus()}),m=b.useMemo(()=>({close:d}),[d]),I=b.useMemo(()=>({open:c===0,close:d}),[c,d]),h={ref:i};return G.createElement(Ok.Provider,{value:s},G.createElement(Dk.Provider,{value:m},G.createElement(RI,{value:ze(c,{0:ht.Open,1:ht.Closed})},qe({ourProps:h,theirProps:r,slot:I,defaultTag:b4e,name:"Disclosure"}))))}let y4e="button";function x4e(e,t){let n=Vt(),{id:r=`headlessui-disclosure-button-${n}`,...o}=e,[i,a]=Pk("Disclosure.Button"),l=p4e(),s=l===null?!1:l===i.panelId,c=b.useRef(null),u=rt(c,t,s?null:i.buttonRef),g=Yk();b.useEffect(()=>{if(!s)return a({type:2,buttonId:r}),()=>{a({type:2,buttonId:null})}},[r,a,s]);let d=me(p=>{var v;if(s){if(i.disclosureState===1)return;switch(p.key){case Je.Space:case Je.Enter:p.preventDefault(),p.stopPropagation(),a({type:0}),(v=i.buttonRef.current)==null||v.focus();break}}else switch(p.key){case Je.Space:case Je.Enter:p.preventDefault(),p.stopPropagation(),a({type:0});break}}),m=me(p=>{switch(p.key){case Je.Space:p.preventDefault();break}}),I=me(p=>{var v;Tc(p.currentTarget)||e.disabled||(s?(a({type:0}),(v=i.buttonRef.current)==null||v.focus()):a({type:0}))}),h=b.useMemo(()=>({open:i.disclosureState===0}),[i]),A=gd(e,c),C=s?{ref:u,type:A,onKeyDown:d,onClick:I}:{ref:u,id:r,type:A,"aria-expanded":i.disclosureState===0,"aria-controls":i.linkedPanel?i.panelId:void 0,onKeyDown:d,onKeyUp:m,onClick:I};return qe({mergeRefs:g,ourProps:C,theirProps:o,slot:h,defaultTag:y4e,name:"Disclosure.Button"})}let S4e="div",Z4e=cr.RenderStrategy|cr.Static;function w4e(e,t){let n=Vt(),{id:r=`headlessui-disclosure-panel-${n}`,...o}=e,[i,a]=Pk("Disclosure.Panel"),{close:l}=g8("Disclosure.Panel"),s=Yk(),c=rt(t,i.panelRef,I=>{m4e(()=>a({type:I?4:5}))});b.useEffect(()=>(a({type:3,panelId:r}),()=>{a({type:3,panelId:null})}),[r,a]);let u=bs(),g=(()=>u!==null?(u&ht.Open)===ht.Open:i.disclosureState===0)(),d=b.useMemo(()=>({open:i.disclosureState===0,close:l}),[i,l]),m={ref:c,id:r};return G.createElement(zk.Provider,{value:i.panelId},qe({mergeRefs:s,ourProps:m,theirProps:o,slot:d,defaultTag:S4e,features:Z4e,visible:g,name:"Disclosure.Panel"}))}let G4e=et(v4e),B4e=et(x4e),k4e=et(w4e),Uk=Object.assign(G4e,{Button:B4e,Panel:k4e}),sY=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function cY(e){var t,n;let r=(t=e.innerText)!=null?t:"",o=e.cloneNode(!0);if(!(o instanceof HTMLElement))return r;let i=!1;for(let l of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),i=!0;let a=i?(n=o.innerText)!=null?n:"":r;return sY.test(a)&&(a=a.replace(sY,"")),a}function R4e(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(o=>{let i=document.getElementById(o);if(i){let a=i.getAttribute("aria-label");return typeof a=="string"?a.trim():cY(i).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return cY(e).trim()}function V4e(e){let t=b.useRef(""),n=b.useRef("");return me(()=>{let r=e.current;if(!r)return"";let o=r.innerText;if(t.current===o)return n.current;let i=R4e(r).trim().toLowerCase();return t.current=o,n.current=i,i})}var W4e=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(W4e||{}),N4e=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(N4e||{}),E4e=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(E4e||{}),X4e=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(X4e||{});function X1(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=wl(t(e.options.slice()),i=>i.dataRef.current.domRef.current),o=n?r.indexOf(n):null;return o===-1&&(o=null),{options:r,activeOptionIndex:o}}let J4e={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex(o=>n(o.dataRef.current.value));return r!==-1&&(t=r),{...e,listboxState:0,activeOptionIndex:t}},2(e,t){var n;if(e.dataRef.current.disabled||e.listboxState===1)return e;let r=X1(e),o=WZ(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:o,activationTrigger:(n=t.trigger)!=null?n:1}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),o=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(a=>{var l;return!a.dataRef.current.disabled&&((l=a.dataRef.current.textValue)==null?void 0:l.startsWith(r))}),i=o?e.options.indexOf(o):-1;return i===-1||i===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:i,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=X1(e,o=>[...o,n]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...e,...r}},6:(e,t)=>{let n=X1(e,r=>{let o=r.findIndex(i=>i.id===t.id);return o!==-1&&r.splice(o,1),r});return{...e,...n,activationTrigger:1}},7:(e,t)=>({...e,labelId:t.id})},_k=b.createContext(null);_k.displayName="ListboxActionsContext";function NI(e){let t=b.useContext(_k);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,NI),n}return t}let Qk=b.createContext(null);Qk.displayName="ListboxDataContext";function EI(e){let t=b.useContext(Qk);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,EI),n}return t}function Y4e(e,t){return ze(t.type,J4e,e,t)}let H4e=b.Fragment;function F4e(e,t){let{value:n,defaultValue:r,form:o,name:i,onChange:a,by:l=(P,L)=>P===L,disabled:s=!1,horizontal:c=!1,multiple:u=!1,...g}=e;const d=c?"horizontal":"vertical";let m=rt(t),[I=u?[]:void 0,h]=Ek(n,a,r),[A,C]=b.useReducer(Y4e,{dataRef:b.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),p=b.useRef({static:!1,hold:!1}),v=b.useRef(null),y=b.useRef(null),x=b.useRef(null),S=me(typeof l=="string"?(P,L)=>{let j=l;return(P==null?void 0:P[j])===(L==null?void 0:L[j])}:l),B=b.useCallback(P=>ze(Z.mode,{1:()=>I.some(L=>S(L,P)),0:()=>S(I,P)}),[I]),Z=b.useMemo(()=>({...A,value:I,disabled:s,mode:u?1:0,orientation:d,compare:S,isSelected:B,optionsPropsRef:p,labelRef:v,buttonRef:y,optionsRef:x}),[I,s,u,A]);lt(()=>{A.dataRef.current=Z},[Z]),mv([Z.buttonRef,Z.optionsRef],(P,L)=>{var j;C({type:1}),Xk(L,fv.Loose)||(P.preventDefault(),(j=Z.buttonRef.current)==null||j.focus())},Z.listboxState===0);let R=b.useMemo(()=>({open:Z.listboxState===0,disabled:s,value:I}),[Z,s,I]),w=me(P=>{let L=Z.options.find(j=>j.id===P);L&&E(L.dataRef.current.value)}),k=me(()=>{if(Z.activeOptionIndex!==null){let{dataRef:P,id:L}=Z.options[Z.activeOptionIndex];E(P.current.value),C({type:2,focus:ft.Specific,id:L})}}),V=me(()=>C({type:0})),W=me(()=>C({type:1})),N=me((P,L,j)=>P===ft.Specific?C({type:2,focus:ft.Specific,id:L,trigger:j}):C({type:2,focus:P,trigger:j})),X=me((P,L)=>(C({type:5,id:P,dataRef:L}),()=>C({type:6,id:P}))),J=me(P=>(C({type:7,id:P}),()=>C({type:7,id:null}))),E=me(P=>ze(Z.mode,{0(){return h==null?void 0:h(P)},1(){let L=Z.value.slice(),j=L.findIndex(D=>S(D,P));return j===-1?L.push(P):L.splice(j,1),h==null?void 0:h(L)}})),F=me(P=>C({type:3,value:P})),H=me(()=>C({type:4})),M=b.useMemo(()=>({onChange:E,registerOption:X,registerLabel:J,goToOption:N,closeListbox:W,openListbox:V,selectActiveOption:k,selectOption:w,search:F,clearSearch:H}),[]),Y={ref:m},T=b.useRef(null),O=fi();return b.useEffect(()=>{T.current&&r!==void 0&&O.addEventListener(T.current,"reset",()=>{h==null||h(r)})},[T,h]),G.createElement(_k.Provider,{value:M},G.createElement(Qk.Provider,{value:Z},G.createElement(RI,{value:ze(Z.listboxState,{0:ht.Open,1:ht.Closed})},i!=null&&I!=null&&Fk({[i]:I}).map(([P,L],j)=>G.createElement(Ko,{features:Lo.Hidden,ref:j===0?D=>{var $;T.current=($=D==null?void 0:D.closest("form"))!=null?$:null}:void 0,...Dm({key:P,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:o,disabled:s,name:P,value:L})})),qe({ourProps:Y,theirProps:g,slot:R,defaultTag:H4e,name:"Listbox"}))))}let M4e="button";function j4e(e,t){var n;let r=Vt(),{id:o=`headlessui-listbox-button-${r}`,...i}=e,a=EI("Listbox.Button"),l=NI("Listbox.Button"),s=rt(a.buttonRef,t),c=fi(),u=me(A=>{switch(A.key){case Je.Space:case Je.Enter:case Je.ArrowDown:A.preventDefault(),l.openListbox(),c.nextFrame(()=>{a.value||l.goToOption(ft.First)});break;case Je.ArrowUp:A.preventDefault(),l.openListbox(),c.nextFrame(()=>{a.value||l.goToOption(ft.Last)});break}}),g=me(A=>{switch(A.key){case Je.Space:A.preventDefault();break}}),d=me(A=>{if(Tc(A.currentTarget))return A.preventDefault();a.listboxState===0?(l.closeListbox(),c.nextFrame(()=>{var C;return(C=a.buttonRef.current)==null?void 0:C.focus({preventScroll:!0})})):(A.preventDefault(),l.openListbox())}),m=BI(()=>{if(a.labelId)return[a.labelId,o].join(" ")},[a.labelId,o]),I=b.useMemo(()=>({open:a.listboxState===0,disabled:a.disabled,value:a.value}),[a]),h={ref:s,id:o,type:gd(e,a.buttonRef),"aria-haspopup":"listbox","aria-controls":(n=a.optionsRef.current)==null?void 0:n.id,"aria-expanded":a.listboxState===0,"aria-labelledby":m,disabled:a.disabled,onKeyDown:u,onKeyUp:g,onClick:d};return qe({ourProps:h,theirProps:i,slot:I,defaultTag:M4e,name:"Listbox.Button"})}let T4e="label";function L4e(e,t){let n=Vt(),{id:r=`headlessui-listbox-label-${n}`,...o}=e,i=EI("Listbox.Label"),a=NI("Listbox.Label"),l=rt(i.labelRef,t);lt(()=>a.registerLabel(r),[r]);let s=me(()=>{var u;return(u=i.buttonRef.current)==null?void 0:u.focus({preventScroll:!0})}),c=b.useMemo(()=>({open:i.listboxState===0,disabled:i.disabled}),[i]);return qe({ourProps:{ref:l,id:r,onClick:s},theirProps:o,slot:c,defaultTag:T4e,name:"Listbox.Label"})}let K4e="ul",O4e=cr.RenderStrategy|cr.Static;function P4e(e,t){var n;let r=Vt(),{id:o=`headlessui-listbox-options-${r}`,...i}=e,a=EI("Listbox.Options"),l=NI("Listbox.Options"),s=rt(a.optionsRef,t),c=fi(),u=fi(),g=bs(),d=(()=>g!==null?(g&ht.Open)===ht.Open:a.listboxState===0)();b.useEffect(()=>{var C;let p=a.optionsRef.current;p&&a.listboxState===0&&p!==((C=jc(p))==null?void 0:C.activeElement)&&p.focus({preventScroll:!0})},[a.listboxState,a.optionsRef]);let m=me(C=>{switch(u.dispose(),C.key){case Je.Space:if(a.searchQuery!=="")return C.preventDefault(),C.stopPropagation(),l.search(C.key);case Je.Enter:if(C.preventDefault(),C.stopPropagation(),a.activeOptionIndex!==null){let{dataRef:p}=a.options[a.activeOptionIndex];l.onChange(p.current.value)}a.mode===0&&(l.closeListbox(),To().nextFrame(()=>{var p;return(p=a.buttonRef.current)==null?void 0:p.focus({preventScroll:!0})}));break;case ze(a.orientation,{vertical:Je.ArrowDown,horizontal:Je.ArrowRight}):return C.preventDefault(),C.stopPropagation(),l.goToOption(ft.Next);case ze(a.orientation,{vertical:Je.ArrowUp,horizontal:Je.ArrowLeft}):return C.preventDefault(),C.stopPropagation(),l.goToOption(ft.Previous);case Je.Home:case Je.PageUp:return C.preventDefault(),C.stopPropagation(),l.goToOption(ft.First);case Je.End:case Je.PageDown:return C.preventDefault(),C.stopPropagation(),l.goToOption(ft.Last);case Je.Escape:return C.preventDefault(),C.stopPropagation(),l.closeListbox(),c.nextFrame(()=>{var p;return(p=a.buttonRef.current)==null?void 0:p.focus({preventScroll:!0})});case Je.Tab:C.preventDefault(),C.stopPropagation();break;default:C.key.length===1&&(l.search(C.key),u.setTimeout(()=>l.clearSearch(),350));break}}),I=BI(()=>{var C;return(C=a.buttonRef.current)==null?void 0:C.id},[a.buttonRef.current]),h=b.useMemo(()=>({open:a.listboxState===0}),[a]),A={"aria-activedescendant":a.activeOptionIndex===null||(n=a.options[a.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":a.mode===1?!0:void 0,"aria-labelledby":I,"aria-orientation":a.orientation,id:o,onKeyDown:m,role:"listbox",tabIndex:0,ref:s};return qe({ourProps:A,theirProps:i,slot:h,defaultTag:K4e,features:O4e,visible:d,name:"Listbox.Options"})}let D4e="li";function z4e(e,t){let n=Vt(),{id:r=`headlessui-listbox-option-${n}`,disabled:o=!1,value:i,...a}=e,l=EI("Listbox.Option"),s=NI("Listbox.Option"),c=l.activeOptionIndex!==null?l.options[l.activeOptionIndex].id===r:!1,u=l.isSelected(i),g=b.useRef(null),d=V4e(g),m=Jn({disabled:o,value:i,domRef:g,get textValue(){return d()}}),I=rt(t,g);lt(()=>{if(l.listboxState!==0||!c||l.activationTrigger===0)return;let S=To();return S.requestAnimationFrame(()=>{var B,Z;(Z=(B=g.current)==null?void 0:B.scrollIntoView)==null||Z.call(B,{block:"nearest"})}),S.dispose},[g,c,l.listboxState,l.activationTrigger,l.activeOptionIndex]),lt(()=>s.registerOption(r,m),[m,r]);let h=me(S=>{if(o)return S.preventDefault();s.onChange(i),l.mode===0&&(s.closeListbox(),To().nextFrame(()=>{var B;return(B=l.buttonRef.current)==null?void 0:B.focus({preventScroll:!0})}))}),A=me(()=>{if(o)return s.goToOption(ft.Nothing);s.goToOption(ft.Specific,r)}),C=Dz(),p=me(S=>C.update(S)),v=me(S=>{C.wasMoved(S)&&(o||c||s.goToOption(ft.Specific,r,0))}),y=me(S=>{C.wasMoved(S)&&(o||c&&s.goToOption(ft.Nothing))}),x=b.useMemo(()=>({active:c,selected:u,disabled:o}),[c,u,o]);return qe({ourProps:{id:r,ref:I,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":u,disabled:void 0,onClick:h,onFocus:A,onPointerEnter:p,onMouseEnter:p,onPointerMove:v,onMouseMove:v,onPointerLeave:y,onMouseLeave:y},theirProps:a,slot:x,defaultTag:D4e,name:"Listbox.Option"})}let U4e=et(F4e),_4e=et(j4e),Q4e=et(L4e),$4e=et(P4e),q4e=et(z4e),ci=Object.assign(U4e,{Button:_4e,Label:Q4e,Options:$4e,Option:q4e});var eTe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(eTe||{}),tTe=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(tTe||{});let nTe={0:e=>{let t={...e,popoverState:ze(e.popoverState,{0:1,1:0})};return t.popoverState===0&&(t.__demoMode=!1),t},1(e){return e.popoverState===1?e:{...e,popoverState:1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},$k=b.createContext(null);$k.displayName="PopoverContext";function Iv(e){let t=b.useContext($k);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Iv),n}return t}let qk=b.createContext(null);qk.displayName="PopoverAPIContext";function eR(e){let t=b.useContext(qk);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,eR),n}return t}let tR=b.createContext(null);tR.displayName="PopoverGroupContext";function d8(){return b.useContext(tR)}let hv=b.createContext(null);hv.displayName="PopoverPanelContext";function rTe(){return b.useContext(hv)}function oTe(e,t){return ze(t.type,nTe,e,t)}let iTe="div";function aTe(e,t){var n;let{__demoMode:r=!1,...o}=e,i=b.useRef(null),a=rt(t,Jk(J=>{i.current=J})),l=b.useRef([]),s=b.useReducer(oTe,{__demoMode:r,popoverState:r?0:1,buttons:l,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:b.createRef(),afterPanelSentinel:b.createRef()}),[{popoverState:c,button:u,buttonId:g,panel:d,panelId:m,beforePanelSentinel:I,afterPanelSentinel:h},A]=s,C=Pa((n=i.current)!=null?n:u),p=b.useMemo(()=>{if(!u||!d)return!1;for(let T of document.querySelectorAll("body > *"))if(Number(T==null?void 0:T.contains(u))^Number(T==null?void 0:T.contains(d)))return!0;let J=dv(),E=J.indexOf(u),F=(E+J.length-1)%J.length,H=(E+1)%J.length,M=J[F],Y=J[H];return!d.contains(M)&&!d.contains(Y)},[u,d]),v=Jn(g),y=Jn(m),x=b.useMemo(()=>({buttonId:v,panelId:y,close:()=>A({type:1})}),[v,y,A]),S=d8(),B=S==null?void 0:S.registerPopover,Z=me(()=>{var J;return(J=S==null?void 0:S.isFocusWithinPopoverGroup())!=null?J:(C==null?void 0:C.activeElement)&&((u==null?void 0:u.contains(C.activeElement))||(d==null?void 0:d.contains(C.activeElement)))});b.useEffect(()=>B==null?void 0:B(x),[B,x]);let[R,w]=o8(),k=i8({mainTreeNodeRef:S==null?void 0:S.mainTreeNodeRef,portals:R,defaultContainers:[u,d]});Tk(C==null?void 0:C.defaultView,"focus",J=>{var E,F,H,M;J.target!==window&&J.target instanceof HTMLElement&&c===0&&(Z()||u&&d&&(k.contains(J.target)||(F=(E=I.current)==null?void 0:E.contains)!=null&&F.call(E,J.target)||(M=(H=h.current)==null?void 0:H.contains)!=null&&M.call(H,J.target)||A({type:1})))},!0),mv(k.resolveContainers,(J,E)=>{A({type:1}),Xk(E,fv.Loose)||(J.preventDefault(),u==null||u.focus())},c===0);let V=me(J=>{A({type:1});let E=(()=>J?J instanceof HTMLElement?J:"current"in J&&J.current instanceof HTMLElement?J.current:u:u)();E==null||E.focus()}),W=b.useMemo(()=>({close:V,isPortalled:p}),[V,p]),N=b.useMemo(()=>({open:c===0,close:V}),[c,V]),X={ref:a};return G.createElement(hv.Provider,{value:null},G.createElement($k.Provider,{value:s},G.createElement(qk.Provider,{value:W},G.createElement(RI,{value:ze(c,{0:ht.Open,1:ht.Closed})},G.createElement(w,null,qe({ourProps:X,theirProps:o,slot:N,defaultTag:iTe,name:"Popover"}),G.createElement(k.MainTreeNode,null))))))}let lTe="button";function sTe(e,t){let n=Vt(),{id:r=`headlessui-popover-button-${n}`,...o}=e,[i,a]=Iv("Popover.Button"),{isPortalled:l}=eR("Popover.Button"),s=b.useRef(null),c=`headlessui-focus-sentinel-${Vt()}`,u=d8(),g=u==null?void 0:u.closeOthers,d=rTe()!==null;b.useEffect(()=>{if(!d)return a({type:3,buttonId:r}),()=>{a({type:3,buttonId:null})}},[d,r,a]);let[m]=b.useState(()=>Symbol()),I=rt(s,t,d?null:k=>{if(k)i.buttons.current.push(m);else{let V=i.buttons.current.indexOf(m);V!==-1&&i.buttons.current.splice(V,1)}i.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),k&&a({type:2,button:k})}),h=rt(s,t),A=Pa(s),C=me(k=>{var V,W,N;if(d){if(i.popoverState===1)return;switch(k.key){case Je.Space:case Je.Enter:k.preventDefault(),(W=(V=k.target).click)==null||W.call(V),a({type:1}),(N=i.button)==null||N.focus();break}}else switch(k.key){case Je.Space:case Je.Enter:k.preventDefault(),k.stopPropagation(),i.popoverState===1&&(g==null||g(i.buttonId)),a({type:0});break;case Je.Escape:if(i.popoverState!==0)return g==null?void 0:g(i.buttonId);if(!s.current||A!=null&&A.activeElement&&!s.current.contains(A.activeElement))return;k.preventDefault(),k.stopPropagation(),a({type:1});break}}),p=me(k=>{d||k.key===Je.Space&&k.preventDefault()}),v=me(k=>{var V,W;Tc(k.currentTarget)||e.disabled||(d?(a({type:1}),(V=i.button)==null||V.focus()):(k.preventDefault(),k.stopPropagation(),i.popoverState===1&&(g==null||g(i.buttonId)),a({type:0}),(W=i.button)==null||W.focus()))}),y=me(k=>{k.preventDefault(),k.stopPropagation()}),x=i.popoverState===0,S=b.useMemo(()=>({open:x}),[x]),B=gd(e,s),Z=d?{ref:h,type:B,onKeyDown:C,onClick:v}:{ref:I,id:i.buttonId,type:B,"aria-expanded":i.popoverState===0,"aria-controls":i.panel?i.panelId:void 0,onKeyDown:C,onKeyUp:p,onClick:v,onMouseDown:y},R=Lk(),w=me(()=>{let k=i.panel;if(!k)return;function V(){ze(R.current,{[no.Forwards]:()=>zn(k,Lt.First),[no.Backwards]:()=>zn(k,Lt.Last)})===ma.Error&&zn(dv().filter(W=>W.dataset.headlessuiFocusGuard!=="true"),ze(R.current,{[no.Forwards]:Lt.Next,[no.Backwards]:Lt.Previous}),{relativeTo:i.button})}V()});return G.createElement(G.Fragment,null,qe({ourProps:Z,theirProps:o,slot:S,defaultTag:lTe,name:"Popover.Button"}),x&&!d&&l&&G.createElement(Ko,{id:c,features:Lo.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:w}))}let cTe="div",uTe=cr.RenderStrategy|cr.Static;function gTe(e,t){let n=Vt(),{id:r=`headlessui-popover-overlay-${n}`,...o}=e,[{popoverState:i},a]=Iv("Popover.Overlay"),l=rt(t),s=bs(),c=(()=>s!==null?(s&ht.Open)===ht.Open:i===0)(),u=me(d=>{if(Tc(d.currentTarget))return d.preventDefault();a({type:1})}),g=b.useMemo(()=>({open:i===0}),[i]);return qe({ourProps:{ref:l,id:r,"aria-hidden":!0,onClick:u},theirProps:o,slot:g,defaultTag:cTe,features:uTe,visible:c,name:"Popover.Overlay"})}let dTe="div",fTe=cr.RenderStrategy|cr.Static;function mTe(e,t){let n=Vt(),{id:r=`headlessui-popover-panel-${n}`,focus:o=!1,...i}=e,[a,l]=Iv("Popover.Panel"),{close:s,isPortalled:c}=eR("Popover.Panel"),u=`headlessui-focus-sentinel-before-${Vt()}`,g=`headlessui-focus-sentinel-after-${Vt()}`,d=b.useRef(null),m=rt(d,t,Z=>{l({type:4,panel:Z})}),I=Pa(d),h=Yk();lt(()=>(l({type:5,panelId:r}),()=>{l({type:5,panelId:null})}),[r,l]);let A=bs(),C=(()=>A!==null?(A&ht.Open)===ht.Open:a.popoverState===0)(),p=me(Z=>{var R;switch(Z.key){case Je.Escape:if(a.popoverState!==0||!d.current||I!=null&&I.activeElement&&!d.current.contains(I.activeElement))return;Z.preventDefault(),Z.stopPropagation(),l({type:1}),(R=a.button)==null||R.focus();break}});b.useEffect(()=>{var Z;e.static||a.popoverState===1&&((Z=e.unmount)==null||Z)&&l({type:4,panel:null})},[a.popoverState,e.unmount,e.static,l]),b.useEffect(()=>{if(a.__demoMode||!o||a.popoverState!==0||!d.current)return;let Z=I==null?void 0:I.activeElement;d.current.contains(Z)||zn(d.current,Lt.First)},[a.__demoMode,o,d,a.popoverState]);let v=b.useMemo(()=>({open:a.popoverState===0,close:s}),[a,s]),y={ref:m,id:r,onKeyDown:p,onBlur:o&&a.popoverState===0?Z=>{var R,w,k,V,W;let N=Z.relatedTarget;N&&d.current&&((R=d.current)!=null&&R.contains(N)||(l({type:1}),((k=(w=a.beforePanelSentinel.current)==null?void 0:w.contains)!=null&&k.call(w,N)||(W=(V=a.afterPanelSentinel.current)==null?void 0:V.contains)!=null&&W.call(V,N))&&N.focus({preventScroll:!0})))}:void 0,tabIndex:-1},x=Lk(),S=me(()=>{let Z=d.current;if(!Z)return;function R(){ze(x.current,{[no.Forwards]:()=>{var w;zn(Z,Lt.First)===ma.Error&&((w=a.afterPanelSentinel.current)==null||w.focus())},[no.Backwards]:()=>{var w;(w=a.button)==null||w.focus({preventScroll:!0})}})}R()}),B=me(()=>{let Z=d.current;if(!Z)return;function R(){ze(x.current,{[no.Forwards]:()=>{var w;if(!a.button)return;let k=dv(),V=k.indexOf(a.button),W=k.slice(0,V+1),N=[...k.slice(V+1),...W];for(let X of N.slice())if(X.dataset.headlessuiFocusGuard==="true"||(w=a.panel)!=null&&w.contains(X)){let J=N.indexOf(X);J!==-1&&N.splice(J,1)}zn(N,Lt.First,{sorted:!1})},[no.Backwards]:()=>{var w;zn(Z,Lt.Previous)===ma.Error&&((w=a.button)==null||w.focus())}})}R()});return G.createElement(hv.Provider,{value:r},C&&c&&G.createElement(Ko,{id:u,ref:a.beforePanelSentinel,features:Lo.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:S}),qe({mergeRefs:h,ourProps:y,theirProps:i,slot:v,defaultTag:dTe,features:fTe,visible:C,name:"Popover.Panel"}),C&&c&&G.createElement(Ko,{id:g,ref:a.afterPanelSentinel,features:Lo.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:B}))}let ITe="div";function hTe(e,t){let n=b.useRef(null),r=rt(n,t),[o,i]=b.useState([]),a=jje(),l=me(h=>{i(A=>{let C=A.indexOf(h);if(C!==-1){let p=A.slice();return p.splice(C,1),p}return A})}),s=me(h=>(i(A=>[...A,h]),()=>l(h))),c=me(()=>{var h;let A=jc(n);if(!A)return!1;let C=A.activeElement;return(h=n.current)!=null&&h.contains(C)?!0:o.some(p=>{var v,y;return((v=A.getElementById(p.buttonId.current))==null?void 0:v.contains(C))||((y=A.getElementById(p.panelId.current))==null?void 0:y.contains(C))})}),u=me(h=>{for(let A of o)A.buttonId.current!==h&&A.close()}),g=b.useMemo(()=>({registerPopover:s,unregisterPopover:l,isFocusWithinPopoverGroup:c,closeOthers:u,mainTreeNodeRef:a.mainTreeNodeRef}),[s,l,c,u,a.mainTreeNodeRef]),d=b.useMemo(()=>({}),[]),m=e,I={ref:r};return G.createElement(tR.Provider,{value:g},qe({ourProps:I,theirProps:m,slot:d,defaultTag:ITe,name:"Popover.Group"}),G.createElement(a.MainTreeNode,null))}let CTe=et(aTe),pTe=et(sTe),ATe=et(gTe),bTe=et(mTe),vTe=et(hTe),ju=Object.assign(CTe,{Button:pTe,Overlay:ATe,Panel:bTe,Group:vTe}),f8=b.createContext(null);function m8(){let e=b.useContext(f8);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,m8),t}return e}function yTe(){let[e,t]=b.useState([]);return[e.length>0?e.join(" "):void 0,b.useMemo(()=>function(n){let r=me(i=>(t(a=>[...a,i]),()=>t(a=>{let l=a.slice(),s=l.indexOf(i);return s!==-1&&l.splice(s,1),l}))),o=b.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return G.createElement(f8.Provider,{value:o},n.children)},[t])]}let xTe="label";function STe(e,t){let n=Vt(),{id:r=`headlessui-label-${n}`,passive:o=!1,...i}=e,a=m8(),l=rt(t);lt(()=>a.register(r),[r,a.register]);let s={ref:l,...a.props,id:r};return o&&("onClick"in s&&(delete s.htmlFor,delete s.onClick),"onClick"in i&&delete i.onClick),qe({ourProps:s,theirProps:i,slot:a.slot||{},defaultTag:xTe,name:a.name||"Label"})}let ZTe=et(STe),wTe=Object.assign(ZTe,{});function GTe(e=0){let[t,n]=b.useState(e),r=dd(),o=b.useCallback(s=>{r.current&&n(c=>c|s)},[t,r]),i=b.useCallback(s=>!!(t&s),[t]),a=b.useCallback(s=>{r.current&&n(c=>c&~s)},[n,r]),l=b.useCallback(s=>{r.current&&n(c=>c^s)},[n]);return{flags:t,addFlag:o,hasFlag:i,removeFlag:a,toggleFlag:l}}let nR=b.createContext(null);nR.displayName="GroupContext";let BTe=b.Fragment;function kTe(e){var t;let[n,r]=b.useState(null),[o,i]=yTe(),[a,l]=s8(),s=b.useMemo(()=>({switch:n,setSwitch:r,labelledby:o,describedby:a}),[n,r,o,a]),c={},u=e;return G.createElement(l,{name:"Switch.Description"},G.createElement(i,{name:"Switch.Label",props:{htmlFor:(t=s.switch)==null?void 0:t.id,onClick(g){n&&(g.currentTarget.tagName==="LABEL"&&g.preventDefault(),n.click(),n.focus({preventScroll:!0}))}}},G.createElement(nR.Provider,{value:s},qe({ourProps:c,theirProps:u,defaultTag:BTe,name:"Switch.Group"}))))}let RTe="button";function VTe(e,t){var n;let r=Vt(),{id:o=`headlessui-switch-${r}`,checked:i,defaultChecked:a=!1,onChange:l,disabled:s=!1,name:c,value:u,form:g,...d}=e,m=b.useContext(nR),I=b.useRef(null),h=rt(I,t,m===null?null:m.setSwitch),[A,C]=Ek(i,l,a),p=me(()=>C==null?void 0:C(!A)),v=me(R=>{if(Tc(R.currentTarget))return R.preventDefault();R.preventDefault(),p()}),y=me(R=>{R.key===Je.Space?(R.preventDefault(),p()):R.key===Je.Enter&&EMe(R.currentTarget)}),x=me(R=>R.preventDefault()),S=b.useMemo(()=>({checked:A}),[A]),B={id:o,ref:h,role:"switch",type:gd(e,I),tabIndex:e.tabIndex===-1?0:(n=e.tabIndex)!=null?n:0,"aria-checked":A,"aria-labelledby":m==null?void 0:m.labelledby,"aria-describedby":m==null?void 0:m.describedby,disabled:s,onClick:v,onKeyUp:y,onKeyPress:x},Z=fi();return b.useEffect(()=>{var R;let w=(R=I.current)==null?void 0:R.closest("form");w&&a!==void 0&&Z.addEventListener(w,"reset",()=>{C(a)})},[I,C]),G.createElement(G.Fragment,null,c!=null&&A&&G.createElement(Ko,{features:Lo.Hidden,...Dm({as:"input",type:"checkbox",hidden:!0,readOnly:!0,disabled:s,form:g,checked:A,name:c,value:u})}),qe({ourProps:B,theirProps:d,slot:S,defaultTag:RTe,name:"Switch"}))}let WTe=et(VTe),NTe=kTe,ETe=Object.assign(WTe,{Group:NTe,Label:wTe,Description:c8});function XTe({onFocus:e}){let[t,n]=b.useState(!0),r=dd();return t?G.createElement(Ko,{as:"button",type:"button",features:Lo.Focusable,onFocus:o=>{o.preventDefault();let i,a=50;function l(){if(a--<=0){i&&cancelAnimationFrame(i);return}if(e()){if(cancelAnimationFrame(i),!r.current)return;n(!1);return}i=requestAnimationFrame(l)}i=requestAnimationFrame(l)}}):null}const I8=b.createContext(null);function JTe(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let o=(n=r.get(t))!=null?n:0;r.set(t,o+1);let i=Array.from(r.keys()).indexOf(t);function a(){let l=r.get(t);l>1?r.set(t,l-1):r.delete(t)}return[i,a]}}}function YTe({children:e}){let t=b.useRef(JTe());return b.createElement(I8.Provider,{value:t},e)}function h8(e){let t=b.useContext(I8);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=HTe(),[r,o]=t.current.get(e,n);return b.useEffect(()=>o,[]),r}function HTe(){var e,t,n;let r=(n=(t=(e=b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:e.ReactCurrentOwner)==null?void 0:t.current)!=null?n:null;if(!r)return Symbol();let o=[],i=r;for(;i;)o.push(i.index),i=i.return;return"$."+o.join(".")}var FTe=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(FTe||{}),MTe=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(MTe||{}),jTe=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(jTe||{});let TTe={0(e,t){var n;let r=wl(e.tabs,u=>u.current),o=wl(e.panels,u=>u.current),i=r.filter(u=>{var g;return!((g=u.current)!=null&&g.hasAttribute("disabled"))}),a={...e,tabs:r,panels:o};if(t.index<0||t.index>r.length-1){let u=ze(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>ze(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(i.length===0)return a;let g=ze(u,{0:()=>r.indexOf(i[0]),1:()=>r.indexOf(i[i.length-1])});return{...a,selectedIndex:g===-1?e.selectedIndex:g}}let l=r.slice(0,t.index),s=[...r.slice(t.index),...l].find(u=>i.includes(u));if(!s)return a;let c=(n=r.indexOf(s))!=null?n:e.selectedIndex;return c===-1&&(c=e.selectedIndex),{...a,selectedIndex:c}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=wl([...e.tabs,t.tab],i=>i.current),o=e.selectedIndex;return e.info.current.isControlled||(o=r.indexOf(n),o===-1&&(o=e.selectedIndex)),{...e,tabs:r,selectedIndex:o}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:wl([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},rR=b.createContext(null);rR.displayName="TabsDataContext";function Ng(e){let t=b.useContext(rR);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ng),n}return t}let oR=b.createContext(null);oR.displayName="TabsActionsContext";function iR(e){let t=b.useContext(oR);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,iR),n}return t}function LTe(e,t){return ze(t.type,TTe,e,t)}let KTe=b.Fragment;function OTe(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:o=!1,onChange:i,selectedIndex:a=null,...l}=e;const s=r?"vertical":"horizontal",c=o?"manual":"auto";let u=a!==null,g=Jn({isControlled:u}),d=rt(t),[m,I]=b.useReducer(LTe,{info:g,selectedIndex:a??n,tabs:[],panels:[]}),h=b.useMemo(()=>({selectedIndex:m.selectedIndex}),[m.selectedIndex]),A=Jn(i||(()=>{})),C=Jn(m.tabs),p=b.useMemo(()=>({orientation:s,activation:c,...m}),[s,c,m]),v=me(R=>(I({type:1,tab:R}),()=>I({type:2,tab:R}))),y=me(R=>(I({type:3,panel:R}),()=>I({type:4,panel:R}))),x=me(R=>{S.current!==R&&A.current(R),u||I({type:0,index:R})}),S=Jn(u?e.selectedIndex:m.selectedIndex),B=b.useMemo(()=>({registerTab:v,registerPanel:y,change:x}),[]);lt(()=>{I({type:0,index:a??n})},[a]),lt(()=>{if(S.current===void 0||m.tabs.length<=0)return;let R=wl(m.tabs,w=>w.current);R.some((w,k)=>m.tabs[k]!==w)&&x(R.indexOf(m.tabs[S.current]))});let Z={ref:d};return G.createElement(YTe,null,G.createElement(oR.Provider,{value:B},G.createElement(rR.Provider,{value:p},p.tabs.length<=0&&G.createElement(XTe,{onFocus:()=>{var R,w;for(let k of C.current)if(((R=k.current)==null?void 0:R.tabIndex)===0)return(w=k.current)==null||w.focus(),!0;return!1}}),qe({ourProps:Z,theirProps:l,slot:h,defaultTag:KTe,name:"Tabs"}))))}let PTe="div";function DTe(e,t){let{orientation:n,selectedIndex:r}=Ng("Tab.List"),o=rt(t);return qe({ourProps:{ref:o,role:"tablist","aria-orientation":n},theirProps:e,slot:{selectedIndex:r},defaultTag:PTe,name:"Tabs.List"})}let zTe="button";function UTe(e,t){var n,r;let o=Vt(),{id:i=`headlessui-tabs-tab-${o}`,...a}=e,{orientation:l,activation:s,selectedIndex:c,tabs:u,panels:g}=Ng("Tab"),d=iR("Tab"),m=Ng("Tab"),I=b.useRef(null),h=rt(I,t);lt(()=>d.registerTab(I),[d,I]);let A=h8("tabs"),C=u.indexOf(I);C===-1&&(C=A);let p=C===c,v=me(w=>{var k;let V=w();if(V===ma.Success&&s==="auto"){let W=(k=jc(I))==null?void 0:k.activeElement,N=m.tabs.findIndex(X=>X.current===W);N!==-1&&d.change(N)}return V}),y=me(w=>{let k=u.map(V=>V.current).filter(Boolean);if(w.key===Je.Space||w.key===Je.Enter){w.preventDefault(),w.stopPropagation(),d.change(C);return}switch(w.key){case Je.Home:case Je.PageUp:return w.preventDefault(),w.stopPropagation(),v(()=>zn(k,Lt.First));case Je.End:case Je.PageDown:return w.preventDefault(),w.stopPropagation(),v(()=>zn(k,Lt.Last))}if(v(()=>ze(l,{vertical(){return w.key===Je.ArrowUp?zn(k,Lt.Previous|Lt.WrapAround):w.key===Je.ArrowDown?zn(k,Lt.Next|Lt.WrapAround):ma.Error},horizontal(){return w.key===Je.ArrowLeft?zn(k,Lt.Previous|Lt.WrapAround):w.key===Je.ArrowRight?zn(k,Lt.Next|Lt.WrapAround):ma.Error}}))===ma.Success)return w.preventDefault()}),x=b.useRef(!1),S=me(()=>{var w;x.current||(x.current=!0,(w=I.current)==null||w.focus({preventScroll:!0}),d.change(C),kI(()=>{x.current=!1}))}),B=me(w=>{w.preventDefault()}),Z=b.useMemo(()=>{var w;return{selected:p,disabled:(w=e.disabled)!=null?w:!1}},[p,e.disabled]),R={ref:h,onKeyDown:y,onMouseDown:B,onClick:S,id:i,role:"tab",type:gd(e,I),"aria-controls":(r=(n=g[C])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":p,tabIndex:p?0:-1};return qe({ourProps:R,theirProps:a,slot:Z,defaultTag:zTe,name:"Tabs.Tab"})}let _Te="div";function QTe(e,t){let{selectedIndex:n}=Ng("Tab.Panels"),r=rt(t),o=b.useMemo(()=>({selectedIndex:n}),[n]);return qe({ourProps:{ref:r},theirProps:e,slot:o,defaultTag:_Te,name:"Tabs.Panels"})}let $Te="div",qTe=cr.RenderStrategy|cr.Static;function eLe(e,t){var n,r,o,i;let a=Vt(),{id:l=`headlessui-tabs-panel-${a}`,tabIndex:s=0,...c}=e,{selectedIndex:u,tabs:g,panels:d}=Ng("Tab.Panel"),m=iR("Tab.Panel"),I=b.useRef(null),h=rt(I,t);lt(()=>m.registerPanel(I),[m,I,l]);let A=h8("panels"),C=d.indexOf(I);C===-1&&(C=A);let p=C===u,v=b.useMemo(()=>({selected:p}),[p]),y={ref:h,id:l,role:"tabpanel","aria-labelledby":(r=(n=g[C])==null?void 0:n.current)==null?void 0:r.id,tabIndex:p?s:-1};return!p&&((o=c.unmount)==null||o)&&!((i=c.static)!=null&&i)?G.createElement(Ko,{as:"span","aria-hidden":"true",...y}):qe({ourProps:y,theirProps:c,slot:v,defaultTag:$Te,features:qTe,visible:p,name:"Tabs.Panel"})}let tLe=et(UTe),nLe=et(OTe),rLe=et(DTe),oLe=et(QTe),iLe=et(eLe),Cv=Object.assign(tLe,{Group:nLe,List:rLe,Panels:oLe,Panel:iLe});function aLe(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function J1(e,...t){e&&t.length>0&&e.classList.add(...t)}function Y1(e,...t){e&&t.length>0&&e.classList.remove(...t)}function lLe(e,t){let n=To();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:o}=getComputedStyle(e),[i,a]=[r,o].map(s=>{let[c=0]=s.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,g)=>g-u);return c}),l=i+a;if(l!==0){n.group(c=>{c.setTimeout(()=>{t(),c.dispose()},l),c.addEventListener(e,"transitionrun",u=>{u.target===u.currentTarget&&c.dispose()})});let s=n.addEventListener(e,"transitionend",c=>{c.target===c.currentTarget&&(t(),s())})}else t();return n.add(()=>t()),n.dispose}function sLe(e,t,n,r){let o=n?"enter":"leave",i=To(),a=r!==void 0?aLe(r):()=>{};o==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let l=ze(o,{enter:()=>t.enter,leave:()=>t.leave}),s=ze(o,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),c=ze(o,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Y1(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),J1(e,...t.base,...l,...c),i.nextFrame(()=>{Y1(e,...t.base,...l,...c),J1(e,...t.base,...l,...s),lLe(e,()=>(Y1(e,...t.base,...l),J1(e,...t.base,...t.entered),a()))}),i.dispose}function cLe({immediate:e,container:t,direction:n,classes:r,onStart:o,onStop:i}){let a=dd(),l=fi(),s=Jn(n);lt(()=>{e&&(s.current="enter")},[e]),lt(()=>{let c=To();l.add(c.dispose);let u=t.current;if(u&&s.current!=="idle"&&a.current)return c.dispose(),o.current(s.current),c.add(sLe(u,r.current,s.current==="enter",()=>{c.dispose(),i.current(s.current)})),c.dispose},[n])}function qa(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let pv=b.createContext(null);pv.displayName="TransitionContext";var uLe=(e=>(e.Visible="visible",e.Hidden="hidden",e))(uLe||{});function gLe(){let e=b.useContext(pv);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function dLe(){let e=b.useContext(Av);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Av=b.createContext(null);Av.displayName="NestingContext";function bv(e){return"children"in e?bv(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function C8(e,t){let n=Jn(e),r=b.useRef([]),o=dd(),i=fi(),a=me((m,I=Gl.Hidden)=>{let h=r.current.findIndex(({el:A})=>A===m);h!==-1&&(ze(I,{[Gl.Unmount](){r.current.splice(h,1)},[Gl.Hidden](){r.current[h].state="hidden"}}),i.microTask(()=>{var A;!bv(r)&&o.current&&((A=n.current)==null||A.call(n))}))}),l=me(m=>{let I=r.current.find(({el:h})=>h===m);return I?I.state!=="visible"&&(I.state="visible"):r.current.push({el:m,state:"visible"}),()=>a(m,Gl.Unmount)}),s=b.useRef([]),c=b.useRef(Promise.resolve()),u=b.useRef({enter:[],leave:[],idle:[]}),g=me((m,I,h)=>{s.current.splice(0),t&&(t.chains.current[I]=t.chains.current[I].filter(([A])=>A!==m)),t==null||t.chains.current[I].push([m,new Promise(A=>{s.current.push(A)})]),t==null||t.chains.current[I].push([m,new Promise(A=>{Promise.all(u.current[I].map(([C,p])=>p)).then(()=>A())})]),I==="enter"?c.current=c.current.then(()=>t==null?void 0:t.wait.current).then(()=>h(I)):h(I)}),d=me((m,I,h)=>{Promise.all(u.current[I].splice(0).map(([A,C])=>C)).then(()=>{var A;(A=s.current.shift())==null||A()}).then(()=>h(I))});return b.useMemo(()=>({children:r,register:l,unregister:a,onStart:g,onStop:d,wait:c,chains:u}),[l,a,r,g,d,u,c])}function fLe(){}let mLe=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function uY(e){var t;let n={};for(let r of mLe)n[r]=(t=e[r])!=null?t:fLe;return n}function ILe(e){let t=b.useRef(uY(e));return b.useEffect(()=>{t.current=uY(e)},[e]),t}let hLe="div",p8=cr.RenderStrategy;function CLe(e,t){var n,r;let{beforeEnter:o,afterEnter:i,beforeLeave:a,afterLeave:l,enter:s,enterFrom:c,enterTo:u,entered:g,leave:d,leaveFrom:m,leaveTo:I,...h}=e,A=b.useRef(null),C=rt(A,t),p=(n=h.unmount)==null||n?Gl.Unmount:Gl.Hidden,{show:v,appear:y,initial:x}=gLe(),[S,B]=b.useState(v?"visible":"hidden"),Z=dLe(),{register:R,unregister:w}=Z;b.useEffect(()=>R(A),[R,A]),b.useEffect(()=>{if(p===Gl.Hidden&&A.current){if(v&&S!=="visible"){B("visible");return}return ze(S,{hidden:()=>w(A),visible:()=>R(A)})}},[S,A,R,w,v,p]);let k=Jn({base:qa(h.className),enter:qa(s),enterFrom:qa(c),enterTo:qa(u),entered:qa(g),leave:qa(d),leaveFrom:qa(m),leaveTo:qa(I)}),V=ILe({beforeEnter:o,afterEnter:i,beforeLeave:a,afterLeave:l}),W=ud();b.useEffect(()=>{if(W&&S==="visible"&&A.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[A,S,W]);let N=x&&!y,X=y&&v&&x,J=(()=>!W||N?"idle":v?"enter":"leave")(),E=GTe(0),F=me(P=>ze(P,{enter:()=>{E.addFlag(ht.Opening),V.current.beforeEnter()},leave:()=>{E.addFlag(ht.Closing),V.current.beforeLeave()},idle:()=>{}})),H=me(P=>ze(P,{enter:()=>{E.removeFlag(ht.Opening),V.current.afterEnter()},leave:()=>{E.removeFlag(ht.Closing),V.current.afterLeave()},idle:()=>{}})),M=C8(()=>{B("hidden"),w(A)},Z),Y=b.useRef(!1);cLe({immediate:X,container:A,classes:k,direction:J,onStart:Jn(P=>{Y.current=!0,M.onStart(A,P,F)}),onStop:Jn(P=>{Y.current=!1,M.onStop(A,P,H),P==="leave"&&!bv(M)&&(B("hidden"),w(A))})});let T=h,O={ref:C};return X?T={...T,className:L0(h.className,...k.current.enter,...k.current.enterFrom)}:Y.current&&(T.className=L0(h.className,(r=A.current)==null?void 0:r.className),T.className===""&&delete T.className),G.createElement(Av.Provider,{value:M},G.createElement(RI,{value:ze(S,{visible:ht.Open,hidden:ht.Closed})|E.flags},qe({ourProps:O,theirProps:T,defaultTag:hLe,features:p8,visible:S==="visible",name:"Transition.Child"})))}function pLe(e,t){let{show:n,appear:r=!1,unmount:o=!0,...i}=e,a=b.useRef(null),l=rt(a,t);ud();let s=bs();if(n===void 0&&s!==null&&(n=(s&ht.Open)===ht.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,u]=b.useState(n?"visible":"hidden"),g=C8(()=>{u("hidden")}),[d,m]=b.useState(!0),I=b.useRef([n]);lt(()=>{d!==!1&&I.current[I.current.length-1]!==n&&(I.current.push(n),m(!1))},[I,n]);let h=b.useMemo(()=>({show:n,appear:r,initial:d}),[n,r,d]);b.useEffect(()=>{if(n)u("visible");else if(!bv(g))u("hidden");else{let v=a.current;if(!v)return;let y=v.getBoundingClientRect();y.x===0&&y.y===0&&y.width===0&&y.height===0&&u("hidden")}},[n,g]);let A={unmount:o},C=me(()=>{var v;d&&m(!1),(v=e.beforeEnter)==null||v.call(e)}),p=me(()=>{var v;d&&m(!1),(v=e.beforeLeave)==null||v.call(e)});return G.createElement(Av.Provider,{value:g},G.createElement(pv.Provider,{value:h},qe({ourProps:{...A,as:b.Fragment,children:G.createElement(A8,{ref:l,...A,...i,beforeEnter:C,beforeLeave:p})},theirProps:{},defaultTag:b.Fragment,features:p8,visible:c==="visible",name:"Transition"})))}function ALe(e,t){let n=b.useContext(pv)!==null,r=bs()!==null;return G.createElement(G.Fragment,null,!n&&r?G.createElement(YZ,{ref:t,...e}):G.createElement(A8,{ref:t,...e}))}let YZ=et(pLe),A8=et(CLe),bLe=et(ALe),Wa=Object.assign(YZ,{Child:bLe,Root:YZ});const b8=e=>{var t=Ie(e,[]);return G.createElement("svg",Object.assign({},t,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}),G.createElement("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"}))},XI=e=>{var t=Ie(e,[]);return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),G.createElement("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 10.5858L9.17157 7.75736L7.75736 9.17157L10.5858 12L7.75736 14.8284L9.17157 16.2426L12 13.4142L14.8284 16.2426L16.2426 14.8284L13.4142 12L16.2426 9.17157L14.8284 7.75736L12 10.5858Z"}))};var Le=function(){return Le=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Le.apply(this,arguments)};function vLe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function v8(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function JI(e){return e.mode==="multiple"}function YI(e){return e.mode==="range"}function vv(e){return e.mode==="single"}var yLe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function xLe(e,t){return Br(e,"LLLL y",t)}function SLe(e,t){return Br(e,"d",t)}function ZLe(e,t){return Br(e,"LLLL",t)}function wLe(e){return"".concat(e)}function GLe(e,t){return Br(e,"cccccc",t)}function BLe(e,t){return Br(e,"yyyy",t)}var kLe=Object.freeze({__proto__:null,formatCaption:xLe,formatDay:SLe,formatMonthCaption:ZLe,formatWeekNumber:wLe,formatWeekdayName:GLe,formatYearCaption:BLe}),RLe=function(e,t,n){return Br(e,"do MMMM (EEEE)",n)},VLe=function(){return"Month: "},WLe=function(){return"Go to next month"},NLe=function(){return"Go to previous month"},ELe=function(e,t){return Br(e,"cccc",t)},XLe=function(e){return"Week n. ".concat(e)},JLe=function(){return"Year: "},YLe=Object.freeze({__proto__:null,labelDay:RLe,labelMonthDropdown:VLe,labelNext:WLe,labelPrevious:NLe,labelWeekNumber:XLe,labelWeekday:ELe,labelYearDropdown:JLe});function HLe(){var e="buttons",t=yLe,n=gv,r={},o={},i=1,a={},l=new Date;return{captionLayout:e,classNames:t,formatters:kLe,labels:YLe,locale:n,modifiersClassNames:r,modifiers:o,numberOfMonths:i,styles:a,today:l,mode:"default"}}function FLe(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,o=e.toMonth,i=e.fromDate,a=e.toDate;return r?i=Qn(r):t&&(i=new Date(t,0,1)),o?a=Rk(o):n&&(a=new Date(n,11,31)),{fromDate:i?zi(i):void 0,toDate:a?zi(a):void 0}}var y8=b.createContext(void 0);function MLe(e){var t,n=e.initialProps,r=HLe(),o=FLe(n),i=o.fromDate,a=o.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!i||!a)&&(l="buttons");var s;(vv(n)||JI(n)||YI(n))&&(s=n.onSelect);var c=Le(Le(Le({},r),n),{captionLayout:l,classNames:Le(Le({},r.classNames),n.classNames),components:Le({},n.components),formatters:Le(Le({},r.formatters),n.formatters),fromDate:i,labels:Le(Le({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Le(Le({},r.modifiers),n.modifiers),modifiersClassNames:Le(Le({},r.modifiersClassNames),n.modifiersClassNames),onSelect:s,styles:Le(Le({},r.styles),n.styles),toDate:a});return f.jsx(y8.Provider,{value:c,children:e.children})}function Ft(){var e=b.useContext(y8);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function x8(e){var t=Ft(),n=t.locale,r=t.classNames,o=t.styles,i=t.formatters.formatCaption;return f.jsx("div",{className:r.caption_label,style:o.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function jLe(e){return f.jsx("svg",Le({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:f.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function S8(e){var t,n,r=e.onChange,o=e.value,i=e.children,a=e.caption,l=e.className,s=e.style,c=Ft(),u=(n=(t=c.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:jLe;return f.jsxs("div",{className:l,style:s,children:[f.jsx("span",{className:c.classNames.vhidden,children:e["aria-label"]}),f.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:o,onChange:r,children:i}),f.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[a,f.jsx(u,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function TLe(e){var t,n=Ft(),r=n.fromDate,o=n.toDate,i=n.styles,a=n.locale,l=n.formatters.formatMonthCaption,s=n.classNames,c=n.components,u=n.labels.labelMonthDropdown;if(!r)return f.jsx(f.Fragment,{});if(!o)return f.jsx(f.Fragment,{});var g=[];if(hMe(r,o))for(var d=Qn(r),m=r.getMonth();m<=o.getMonth();m++)g.push(k1(d,m));else for(var d=Qn(new Date),m=0;m<=11;m++)g.push(k1(d,m));var I=function(A){var C=Number(A.target.value),p=k1(Qn(e.displayMonth),C);e.onChange(p)},h=(t=c==null?void 0:c.Dropdown)!==null&&t!==void 0?t:S8;return f.jsx(h,{name:"months","aria-label":u(),className:s.dropdown_month,style:i.dropdown_month,onChange:I,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:a}),children:g.map(function(A){return f.jsx("option",{value:A.getMonth(),children:l(A,{locale:a})},A.getMonth())})})}function LLe(e){var t,n=e.displayMonth,r=Ft(),o=r.fromDate,i=r.toDate,a=r.locale,l=r.styles,s=r.classNames,c=r.components,u=r.formatters.formatYearCaption,g=r.labels.labelYearDropdown,d=[];if(!o)return f.jsx(f.Fragment,{});if(!i)return f.jsx(f.Fragment,{});for(var m=o.getFullYear(),I=i.getFullYear(),h=m;h<=I;h++)d.push(tY(Vk(new Date),h));var A=function(p){var v=tY(Qn(n),Number(p.target.value));e.onChange(v)},C=(t=c==null?void 0:c.Dropdown)!==null&&t!==void 0?t:S8;return f.jsx(C,{name:"years","aria-label":g(),className:s.dropdown_year,style:l.dropdown_year,onChange:A,value:n.getFullYear(),caption:u(n,{locale:a}),children:d.map(function(p){return f.jsx("option",{value:p.getFullYear(),children:u(p,{locale:a})},p.getFullYear())})})}function KLe(e,t){var n=b.useState(e),r=n[0],o=n[1],i=t===void 0?r:t;return[i,o]}function OLe(e){var t=e.month,n=e.defaultMonth,r=e.today,o=t||n||r||new Date,i=e.toDate,a=e.fromDate,l=e.numberOfMonths,s=l===void 0?1:l;if(i&&Om(i,o)<0){var c=-1*(s-1);o=jo(i,c)}return a&&Om(o,a)<0&&(o=a),Qn(o)}function PLe(){var e=Ft(),t=OLe(e),n=KLe(t,e.month),r=n[0],o=n[1],i=function(a){var l;if(!e.disableNavigation){var s=Qn(a);o(s),(l=e.onMonthChange)===null||l===void 0||l.call(e,s)}};return[r,i]}function DLe(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,o=Qn(e),i=Qn(jo(o,r)),a=Om(i,o),l=[],s=0;s<a;s++){var c=jo(o,s);l.push(c)}return n&&(l=l.reverse()),l}function zLe(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,o=t.numberOfMonths,i=o===void 0?1:o,a=r?i:1,l=Qn(e);if(!n)return jo(l,a);var s=Om(n,e);if(!(s<i))return jo(l,a)}}function ULe(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,o=t.numberOfMonths,i=o===void 0?1:o,a=r?i:1,l=Qn(e);if(!n)return jo(l,-a);var s=Om(l,n);if(!(s<=0))return jo(l,-a)}}var Z8=b.createContext(void 0);function _Le(e){var t=Ft(),n=PLe(),r=n[0],o=n[1],i=DLe(r,t),a=zLe(r,t),l=ULe(r,t),s=function(g){return i.some(function(d){return Nk(g,d)})},c=function(g,d){s(g)||(d&&Tz(g,d)?o(jo(g,1+t.numberOfMonths*-1)):o(g))},u={currentMonth:r,displayMonths:i,goToMonth:o,goToDate:c,previousMonth:l,nextMonth:a,isDateDisplayed:s};return f.jsx(Z8.Provider,{value:u,children:e.children})}function fd(){var e=b.useContext(Z8);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function gY(e){var t,n=Ft(),r=n.classNames,o=n.styles,i=n.components,a=fd().goToMonth,l=function(u){a(jo(u,e.displayIndex?-e.displayIndex:0))},s=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:x8,c=f.jsx(s,{id:e.id,displayMonth:e.displayMonth});return f.jsxs("div",{className:r.caption_dropdowns,style:o.caption_dropdowns,children:[f.jsx("div",{className:r.vhidden,children:c}),f.jsx(TLe,{onChange:l,displayMonth:e.displayMonth}),f.jsx(LLe,{onChange:l,displayMonth:e.displayMonth})]})}function QLe(e){return f.jsx("svg",Le({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:f.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function $Le(e){return f.jsx("svg",Le({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:f.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var O0=b.forwardRef(function(e,t){var n=Ft(),r=n.classNames,o=n.styles,i=[r.button_reset,r.button];e.className&&i.push(e.className);var a=i.join(" "),l=Le(Le({},o.button_reset),o.button);return e.style&&Object.assign(l,e.style),f.jsx("button",Le({},e,{ref:t,type:"button",className:a,style:l}))});function qLe(e){var t,n,r=Ft(),o=r.dir,i=r.locale,a=r.classNames,l=r.styles,s=r.labels,c=s.labelPrevious,u=s.labelNext,g=r.components;if(!e.nextMonth&&!e.previousMonth)return f.jsx(f.Fragment,{});var d=c(e.previousMonth,{locale:i}),m=[a.nav_button,a.nav_button_previous].join(" "),I=u(e.nextMonth,{locale:i}),h=[a.nav_button,a.nav_button_next].join(" "),A=(t=g==null?void 0:g.IconRight)!==null&&t!==void 0?t:$Le,C=(n=g==null?void 0:g.IconLeft)!==null&&n!==void 0?n:QLe;return f.jsxs("div",{className:a.nav,style:l.nav,children:[!e.hidePrevious&&f.jsx(O0,{name:"previous-month","aria-label":d,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:o==="rtl"?f.jsx(A,{className:a.nav_icon,style:l.nav_icon}):f.jsx(C,{className:a.nav_icon,style:l.nav_icon})}),!e.hideNext&&f.jsx(O0,{name:"next-month","aria-label":I,className:h,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:o==="rtl"?f.jsx(C,{className:a.nav_icon,style:l.nav_icon}):f.jsx(A,{className:a.nav_icon,style:l.nav_icon})})]})}function dY(e){var t=Ft().numberOfMonths,n=fd(),r=n.previousMonth,o=n.nextMonth,i=n.goToMonth,a=n.displayMonths,l=a.findIndex(function(I){return Nk(e.displayMonth,I)}),s=l===0,c=l===a.length-1,u=t>1&&(s||!c),g=t>1&&(c||!s),d=function(){r&&i(r)},m=function(){o&&i(o)};return f.jsx(qLe,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:g,nextMonth:o,previousMonth:r,onPreviousClick:d,onNextClick:m})}function eKe(e){var t,n=Ft(),r=n.classNames,o=n.disableNavigation,i=n.styles,a=n.captionLayout,l=n.components,s=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:x8,c;return o?c=f.jsx(s,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?c=f.jsx(gY,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?c=f.jsxs(f.Fragment,{children:[f.jsx(gY,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),f.jsx(dY,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):c=f.jsxs(f.Fragment,{children:[f.jsx(s,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),f.jsx(dY,{displayMonth:e.displayMonth,id:e.id})]}),f.jsx("div",{className:r.caption,style:i.caption,children:c})}function tKe(e){var t=Ft(),n=t.footer,r=t.styles,o=t.classNames.tfoot;return n?f.jsx("tfoot",{className:o,style:r.tfoot,children:f.jsx("tr",{children:f.jsx("td",{colSpan:8,children:n})})}):f.jsx(f.Fragment,{})}function nKe(e,t,n){for(var r=n?Vc(new Date):Di(new Date,{locale:e,weekStartsOn:t}),o=[],i=0;i<7;i++){var a=fr(r,i);o.push(a)}return o}function rKe(){var e=Ft(),t=e.classNames,n=e.styles,r=e.showWeekNumber,o=e.locale,i=e.weekStartsOn,a=e.ISOWeek,l=e.formatters.formatWeekdayName,s=e.labels.labelWeekday,c=nKe(o,i,a);return f.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&f.jsx("td",{style:n.head_cell,className:t.head_cell}),c.map(function(u,g){return f.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":s(u,{locale:o}),children:l(u,{locale:o})},g)})]})}function oKe(){var e,t=Ft(),n=t.classNames,r=t.styles,o=t.components,i=(e=o==null?void 0:o.HeadRow)!==null&&e!==void 0?e:rKe;return f.jsx("thead",{style:r.head,className:n.head,children:f.jsx(i,{})})}function iKe(e){var t=Ft(),n=t.locale,r=t.formatters.formatDay;return f.jsx(f.Fragment,{children:r(e.date,{locale:n})})}var aR=b.createContext(void 0);function aKe(e){if(!JI(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return f.jsx(aR.Provider,{value:t,children:e.children})}return f.jsx(lKe,{initialProps:e.initialProps,children:e.children})}function lKe(e){var t=e.initialProps,n=e.children,r=t.selected,o=t.min,i=t.max,a=function(c,u,g){var d,m;(d=t.onDayClick)===null||d===void 0||d.call(t,c,u,g);var I=!!(u.selected&&o&&(r==null?void 0:r.length)===o);if(!I){var h=!!(!u.selected&&i&&(r==null?void 0:r.length)===i);if(!h){var A=r?v8([],r,!0):[];if(u.selected){var C=A.findIndex(function(p){return Wr(c,p)});A.splice(C,1)}else A.push(c);(m=t.onSelect)===null||m===void 0||m.call(t,A,c,u,g)}}},l={disabled:[]};r&&l.disabled.push(function(c){var u=i&&r.length>i-1,g=r.some(function(d){return Wr(d,c)});return!!(u&&!g)});var s={selected:r,onDayClick:a,modifiers:l};return f.jsx(aR.Provider,{value:s,children:n})}function lR(){var e=b.useContext(aR);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function sKe(e,t){var n=t||{},r=n.from,o=n.to;return r&&o?Wr(o,e)&&Wr(r,e)?void 0:Wr(o,e)?{from:o,to:void 0}:Wr(r,e)?void 0:RZ(r,e)?{from:e,to:o}:{from:r,to:e}:o?RZ(e,o)?{from:o,to:e}:{from:e,to:o}:r?Tz(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var sR=b.createContext(void 0);function cKe(e){if(!YI(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return f.jsx(sR.Provider,{value:t,children:e.children})}return f.jsx(uKe,{initialProps:e.initialProps,children:e.children})}function uKe(e){var t=e.initialProps,n=e.children,r=t.selected,o=r||{},i=o.from,a=o.to,l=t.min,s=t.max,c=function(m,I,h){var A,C;(A=t.onDayClick)===null||A===void 0||A.call(t,m,I,h);var p=sKe(m,r);(C=t.onSelect)===null||C===void 0||C.call(t,p,m,I,h)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],a?(u.range_end=[a],Wr(i,a)||(u.range_middle=[{after:i,before:a}])):u.range_end=[i]):a&&(u.range_start=[a],u.range_end=[a]),l&&(i&&!a&&u.disabled.push({after:ZC(i,l-1),before:fr(i,l-1)}),i&&a&&u.disabled.push({after:i,before:fr(i,l-1)}),!i&&a&&u.disabled.push({after:ZC(a,l-1),before:fr(a,l-1)})),s){if(i&&!a&&(u.disabled.push({before:fr(i,-s+1)}),u.disabled.push({after:fr(i,s-1)})),i&&a){var g=Ni(a,i)+1,d=s-g;u.disabled.push({before:ZC(i,d)}),u.disabled.push({after:fr(a,d)})}!i&&a&&(u.disabled.push({before:fr(a,-s+1)}),u.disabled.push({after:fr(a,s-1)}))}return f.jsx(sR.Provider,{value:{selected:r,onDayClick:c,modifiers:u},children:n})}function cR(){var e=b.useContext(sR);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function wC(e){return Array.isArray(e)?v8([],e,!0):e!==void 0?[e]:[]}function gKe(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],o=n[1];t[r]=wC(o)}),t}var mi;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(mi||(mi={}));var dKe=mi.Selected,ra=mi.Disabled,fKe=mi.Hidden,mKe=mi.Today,H1=mi.RangeEnd,F1=mi.RangeMiddle,M1=mi.RangeStart,IKe=mi.Outside;function hKe(e,t,n){var r,o=(r={},r[dKe]=wC(e.selected),r[ra]=wC(e.disabled),r[fKe]=wC(e.hidden),r[mKe]=[e.today],r[H1]=[],r[F1]=[],r[M1]=[],r[IKe]=[],r);return e.fromDate&&o[ra].push({before:e.fromDate}),e.toDate&&o[ra].push({after:e.toDate}),JI(e)?o[ra]=o[ra].concat(t.modifiers[ra]):YI(e)&&(o[ra]=o[ra].concat(n.modifiers[ra]),o[M1]=n.modifiers[M1],o[F1]=n.modifiers[F1],o[H1]=n.modifiers[H1]),o}var w8=b.createContext(void 0);function CKe(e){var t=Ft(),n=lR(),r=cR(),o=hKe(t,n,r),i=gKe(t.modifiers),a=Le(Le({},o),i);return f.jsx(w8.Provider,{value:a,children:e.children})}function G8(){var e=b.useContext(w8);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function pKe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function AKe(e){return!!(e&&typeof e=="object"&&"from"in e)}function bKe(e){return!!(e&&typeof e=="object"&&"after"in e)}function vKe(e){return!!(e&&typeof e=="object"&&"before"in e)}function yKe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function xKe(e,t){var n,r=t.from,o=t.to;if(r&&o){var i=Ni(o,r)<0;i&&(n=[o,r],r=n[0],o=n[1]);var a=Ni(e,r)>=0&&Ni(o,e)>=0;return a}return o?Wr(o,e):r?Wr(r,e):!1}function SKe(e){return kk(e)}function ZKe(e){return Array.isArray(e)&&e.every(kk)}function wKe(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(SKe(n))return Wr(e,n);if(ZKe(n))return n.includes(e);if(AKe(n))return xKe(e,n);if(yKe(n))return n.dayOfWeek.includes(e.getDay());if(pKe(n)){var r=Ni(n.before,e),o=Ni(n.after,e),i=r>0,a=o<0,l=RZ(n.before,n.after);return l?a&&i:i||a}return bKe(n)?Ni(e,n.after)>0:vKe(n)?Ni(n.before,e)>0:typeof n=="function"?n(e):!1})}function uR(e,t,n){var r=Object.keys(t).reduce(function(i,a){var l=t[a];return wKe(e,l)&&i.push(a),i},[]),o={};return r.forEach(function(i){return o[i]=!0}),n&&!Nk(e,n)&&(o.outside=!0),o}function GKe(e,t){for(var n=Qn(e[0]),r=Rk(e[e.length-1]),o,i,a=n;a<=r;){var l=uR(a,t),s=!l.disabled&&!l.hidden;if(!s){a=fr(a,1);continue}if(l.selected)return a;l.today&&!i&&(i=a),o||(o=a),a=fr(a,1)}return i||o}var BKe=365;function B8(e,t){var n=t.moveBy,r=t.direction,o=t.context,i=t.modifiers,a=t.retry,l=a===void 0?{count:0,lastFocused:e}:a,s=o.weekStartsOn,c=o.fromDate,u=o.toDate,g=o.locale,d={day:fr,week:BZ,month:jo,year:kZ,startOfWeek:function(A){return o.ISOWeek?Vc(A):Di(A,{locale:g,weekStartsOn:s})},endOfWeek:function(A){return o.ISOWeek?Yz(A):Wk(A,{locale:g,weekStartsOn:s})}},m=d[n](e,r==="after"?1:-1);r==="before"&&c?m=Xz([c,m]):r==="after"&&u&&(m=Jz([u,m]));var I=!0;if(i){var h=uR(m,i);I=!h.disabled&&!h.hidden}return I?m:l.count>BKe?l.lastFocused:B8(m,{moveBy:n,direction:r,context:o,modifiers:i,retry:Le(Le({},l),{count:l.count+1})})}var k8=b.createContext(void 0);function kKe(e){var t=fd(),n=G8(),r=b.useState(),o=r[0],i=r[1],a=b.useState(),l=a[0],s=a[1],c=GKe(t.displayMonths,n),u=o??(l&&t.isDateDisplayed(l))?l:c,g=function(){s(o),i(void 0)},d=function(A){i(A)},m=Ft(),I=function(A,C){if(o){var p=B8(o,{moveBy:A,direction:C,context:m,modifiers:n});Wr(o,p)||(t.goToDate(p,o),d(p))}},h={focusedDay:o,focusTarget:u,blur:g,focus:d,focusDayAfter:function(){return I("day","after")},focusDayBefore:function(){return I("day","before")},focusWeekAfter:function(){return I("week","after")},focusWeekBefore:function(){return I("week","before")},focusMonthBefore:function(){return I("month","before")},focusMonthAfter:function(){return I("month","after")},focusYearBefore:function(){return I("year","before")},focusYearAfter:function(){return I("year","after")},focusStartOfWeek:function(){return I("startOfWeek","before")},focusEndOfWeek:function(){return I("endOfWeek","after")}};return f.jsx(k8.Provider,{value:h,children:e.children})}function gR(){var e=b.useContext(k8);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function RKe(e,t){var n=G8(),r=uR(e,n,t);return r}var dR=b.createContext(void 0);function VKe(e){if(!vv(e.initialProps)){var t={selected:void 0};return f.jsx(dR.Provider,{value:t,children:e.children})}return f.jsx(WKe,{initialProps:e.initialProps,children:e.children})}function WKe(e){var t=e.initialProps,n=e.children,r=function(i,a,l){var s,c,u;if((s=t.onDayClick)===null||s===void 0||s.call(t,i,a,l),a.selected&&!t.required){(c=t.onSelect)===null||c===void 0||c.call(t,void 0,i,a,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,a,l)},o={selected:t.selected,onDayClick:r};return f.jsx(dR.Provider,{value:o,children:n})}function R8(){var e=b.useContext(dR);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function NKe(e,t){var n=Ft(),r=R8(),o=lR(),i=cR(),a=gR(),l=a.focusDayAfter,s=a.focusDayBefore,c=a.focusWeekAfter,u=a.focusWeekBefore,g=a.blur,d=a.focus,m=a.focusMonthBefore,I=a.focusMonthAfter,h=a.focusYearBefore,A=a.focusYearAfter,C=a.focusStartOfWeek,p=a.focusEndOfWeek,v=function(E){var F,H,M,Y;vv(n)?(F=r.onDayClick)===null||F===void 0||F.call(r,e,t,E):JI(n)?(H=o.onDayClick)===null||H===void 0||H.call(o,e,t,E):YI(n)?(M=i.onDayClick)===null||M===void 0||M.call(i,e,t,E):(Y=n.onDayClick)===null||Y===void 0||Y.call(n,e,t,E)},y=function(E){var F;d(e),(F=n.onDayFocus)===null||F===void 0||F.call(n,e,t,E)},x=function(E){var F;g(),(F=n.onDayBlur)===null||F===void 0||F.call(n,e,t,E)},S=function(E){var F;(F=n.onDayMouseEnter)===null||F===void 0||F.call(n,e,t,E)},B=function(E){var F;(F=n.onDayMouseLeave)===null||F===void 0||F.call(n,e,t,E)},Z=function(E){var F;(F=n.onDayPointerEnter)===null||F===void 0||F.call(n,e,t,E)},R=function(E){var F;(F=n.onDayPointerLeave)===null||F===void 0||F.call(n,e,t,E)},w=function(E){var F;(F=n.onDayTouchCancel)===null||F===void 0||F.call(n,e,t,E)},k=function(E){var F;(F=n.onDayTouchEnd)===null||F===void 0||F.call(n,e,t,E)},V=function(E){var F;(F=n.onDayTouchMove)===null||F===void 0||F.call(n,e,t,E)},W=function(E){var F;(F=n.onDayTouchStart)===null||F===void 0||F.call(n,e,t,E)},N=function(E){var F;(F=n.onDayKeyUp)===null||F===void 0||F.call(n,e,t,E)},X=function(E){var F;switch(E.key){case"ArrowLeft":E.preventDefault(),E.stopPropagation(),n.dir==="rtl"?l():s();break;case"ArrowRight":E.preventDefault(),E.stopPropagation(),n.dir==="rtl"?s():l();break;case"ArrowDown":E.preventDefault(),E.stopPropagation(),c();break;case"ArrowUp":E.preventDefault(),E.stopPropagation(),u();break;case"PageUp":E.preventDefault(),E.stopPropagation(),E.shiftKey?h():m();break;case"PageDown":E.preventDefault(),E.stopPropagation(),E.shiftKey?A():I();break;case"Home":E.preventDefault(),E.stopPropagation(),C();break;case"End":E.preventDefault(),E.stopPropagation(),p();break}(F=n.onDayKeyDown)===null||F===void 0||F.call(n,e,t,E)},J={onClick:v,onFocus:y,onBlur:x,onKeyDown:X,onKeyUp:N,onMouseEnter:S,onMouseLeave:B,onPointerEnter:Z,onPointerLeave:R,onTouchCancel:w,onTouchEnd:k,onTouchMove:V,onTouchStart:W};return J}function EKe(){var e=Ft(),t=R8(),n=lR(),r=cR(),o=vv(e)?t.selected:JI(e)?n.selected:YI(e)?r.selected:void 0;return o}function XKe(e){return Object.values(mi).includes(e)}function JKe(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var o=e.modifiersClassNames[r];if(o)n.push(o);else if(XKe(r)){var i=e.classNames["day_".concat(r)];i&&n.push(i)}}),n}function YKe(e,t){var n=Le({},e.styles.day);return Object.keys(t).forEach(function(r){var o;n=Le(Le({},n),(o=e.modifiersStyles)===null||o===void 0?void 0:o[r])}),n}function HKe(e,t,n){var r,o,i,a=Ft(),l=gR(),s=RKe(e,t),c=NKe(e,s),u=EKe(),g=!!(a.onDayClick||a.mode!=="default");b.useEffect(function(){var S;s.outside||l.focusedDay&&g&&Wr(l.focusedDay,e)&&((S=n.current)===null||S===void 0||S.focus())},[l.focusedDay,e,n,g,s.outside]);var d=JKe(a,s).join(" "),m=YKe(a,s),I=!!(s.outside&&!a.showOutsideDays||s.hidden),h=(i=(o=a.components)===null||o===void 0?void 0:o.DayContent)!==null&&i!==void 0?i:iKe,A=f.jsx(h,{date:e,displayMonth:t,activeModifiers:s}),C={style:m,className:d,children:A,role:"gridcell"},p=l.focusTarget&&Wr(l.focusTarget,e)&&!s.outside,v=l.focusedDay&&Wr(l.focusedDay,e),y=Le(Le(Le({},C),(r={disabled:s.disabled,role:"gridcell"},r["aria-selected"]=s.selected,r.tabIndex=v||p?0:-1,r)),c),x={isButton:g,isHidden:I,activeModifiers:s,selectedDays:u,buttonProps:y,divProps:C};return x}function FKe(e){var t=b.useRef(null),n=HKe(e.date,e.displayMonth,t);return n.isHidden?f.jsx("div",{role:"gridcell"}):n.isButton?f.jsx(O0,Le({name:"day",ref:t},n.buttonProps)):f.jsx("div",Le({},n.divProps))}function MKe(e){var t=e.number,n=e.dates,r=Ft(),o=r.onWeekNumberClick,i=r.styles,a=r.classNames,l=r.locale,s=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,u=c(Number(t),{locale:l});if(!o)return f.jsx("span",{className:a.weeknumber,style:i.weeknumber,children:u});var g=s(Number(t),{locale:l}),d=function(m){o(t,n,m)};return f.jsx(O0,{name:"week-number","aria-label":g,className:a.weeknumber,style:i.weeknumber,onClick:d,children:u})}function jKe(e){var t,n,r=Ft(),o=r.styles,i=r.classNames,a=r.showWeekNumber,l=r.components,s=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:FKe,c=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:MKe,u;return a&&(u=f.jsx("td",{className:i.cell,style:o.cell,children:f.jsx(c,{number:e.weekNumber,dates:e.dates})})),f.jsxs("tr",{className:i.row,style:o.row,children:[u,e.dates.map(function(g){return f.jsx("td",{className:i.cell,style:o.cell,role:"presentation",children:f.jsx(s,{displayMonth:e.displayMonth,date:g})},dMe(g))})]})}function fY(e,t,n){for(var r=n!=null&&n.ISOWeek?Yz(t):Wk(t,n),o=n!=null&&n.ISOWeek?Vc(e):Di(e,n),i=Ni(r,o),a=[],l=0;l<=i;l++)a.push(fr(o,l));var s=a.reduce(function(c,u){var g=n!=null&&n.ISOWeek?Hz(u):Mz(u,n),d=c.find(function(m){return m.weekNumber===g});return d?(d.dates.push(u),c):(c.push({weekNumber:g,dates:[u]}),c)},[]);return s}function TKe(e,t){var n=fY(Qn(e),Rk(e),t);if(t!=null&&t.useFixedWeeks){var r=mMe(e,t);if(r<6){var o=n[n.length-1],i=o.dates[o.dates.length-1],a=BZ(i,6-r),l=fY(BZ(i,1),a,t);n.push.apply(n,l)}}return n}function LKe(e){var t,n,r,o=Ft(),i=o.locale,a=o.classNames,l=o.styles,s=o.hideHead,c=o.fixedWeeks,u=o.components,g=o.weekStartsOn,d=o.firstWeekContainsDate,m=o.ISOWeek,I=TKe(e.displayMonth,{useFixedWeeks:!!c,ISOWeek:m,locale:i,weekStartsOn:g,firstWeekContainsDate:d}),h=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:oKe,A=(n=u==null?void 0:u.Row)!==null&&n!==void 0?n:jKe,C=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:tKe;return f.jsxs("table",{id:e.id,className:a.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!s&&f.jsx(h,{}),f.jsx("tbody",{className:a.tbody,style:l.tbody,children:I.map(function(p){return f.jsx(A,{displayMonth:e.displayMonth,dates:p.dates,weekNumber:p.weekNumber},p.weekNumber)})}),f.jsx(C,{displayMonth:e.displayMonth})]})}function KKe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var OKe=KKe()?b.useLayoutEffect:b.useEffect,j1=!1,PKe=0;function mY(){return"react-day-picker-".concat(++PKe)}function DKe(e){var t,n=e??(j1?mY():null),r=b.useState(n),o=r[0],i=r[1];return OKe(function(){o===null&&i(mY())},[]),b.useEffect(function(){j1===!1&&(j1=!0)},[]),(t=e??o)!==null&&t!==void 0?t:void 0}function zKe(e){var t,n,r=Ft(),o=r.dir,i=r.classNames,a=r.styles,l=r.components,s=fd().displayMonths,c=DKe(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,g=[i.month],d=a.month,m=e.displayIndex===0,I=e.displayIndex===s.length-1,h=!m&&!I;o==="rtl"&&(t=[m,I],I=t[0],m=t[1]),m&&(g.push(i.caption_start),d=Le(Le({},d),a.caption_start)),I&&(g.push(i.caption_end),d=Le(Le({},d),a.caption_end)),h&&(g.push(i.caption_between),d=Le(Le({},d),a.caption_between));var A=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:eKe;return f.jsxs("div",{className:g.join(" "),style:d,children:[f.jsx(A,{id:c,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),f.jsx(LKe,{id:u,"aria-labelledby":c,displayMonth:e.displayMonth})]},e.displayIndex)}function UKe(e){var t=Ft(),n=t.classNames,r=t.styles;return f.jsx("div",{className:n.months,style:r.months,children:e.children})}function _Ke(e){var t,n,r=e.initialProps,o=Ft(),i=gR(),a=fd(),l=b.useState(!1),s=l[0],c=l[1];b.useEffect(function(){o.initialFocus&&i.focusTarget&&(s||(i.focus(i.focusTarget),c(!0)))},[o.initialFocus,s,i.focus,i.focusTarget,i]);var u=[o.classNames.root,o.className];o.numberOfMonths>1&&u.push(o.classNames.multiple_months),o.showWeekNumber&&u.push(o.classNames.with_weeknumber);var g=Le(Le({},o.styles.root),o.style),d=Object.keys(r).filter(function(I){return I.startsWith("data-")}).reduce(function(I,h){var A;return Le(Le({},I),(A={},A[h]=r[h],A))},{}),m=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:UKe;return f.jsx("div",Le({className:u.join(" "),style:g,dir:o.dir,id:o.id,nonce:r.nonce,title:r.title,lang:r.lang},d,{children:f.jsx(m,{children:a.displayMonths.map(function(I,h){return f.jsx(zKe,{displayIndex:h,displayMonth:I},h)})})}))}function QKe(e){var t=e.children,n=vLe(e,["children"]);return f.jsx(MLe,{initialProps:n,children:f.jsx(_Le,{children:f.jsx(VKe,{initialProps:n,children:f.jsx(aKe,{initialProps:n,children:f.jsx(cKe,{initialProps:n,children:f.jsx(CKe,{children:f.jsx(kKe,{children:t})})})})})})})}function $Ke(e){return f.jsx(QKe,Le({},e,{children:f.jsx(_Ke,{initialProps:e})}))}const IY=e=>{var t=Ie(e,[]);return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),G.createElement("path",{d:"M10.8284 12.0007L15.7782 16.9504L14.364 18.3646L8 12.0007L14.364 5.63672L15.7782 7.05093L10.8284 12.0007Z"}))},hY=e=>{var t=Ie(e,[]);return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),G.createElement("path",{d:"M13.1717 12.0007L8.22192 7.05093L9.63614 5.63672L16.0001 12.0007L9.63614 18.3646L8.22192 16.9504L13.1717 12.0007Z"}))},qKe=e=>{var t=Ie(e,[]);return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),G.createElement("path",{d:"M4.83582 12L11.0429 18.2071L12.4571 16.7929L7.66424 12L12.4571 7.20712L11.0429 5.79291L4.83582 12ZM10.4857 12L16.6928 18.2071L18.107 16.7929L13.3141 12L18.107 7.20712L16.6928 5.79291L10.4857 12Z"}))},eOe=e=>{var t=Ie(e,[]);return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),G.createElement("path",{d:"M19.1642 12L12.9571 5.79291L11.5429 7.20712L16.3358 12L11.5429 16.7929L12.9571 18.2071L19.1642 12ZM13.5143 12L7.30722 5.79291L5.89301 7.20712L10.6859 12L5.89301 16.7929L7.30722 18.2071L13.5143 12Z"}))},V8=G.forwardRef((e,t)=>{const{color:n,className:r,children:o}=e;return G.createElement("p",{ref:t,className:Q("text-tremor-default",n?he(n,pe.text).textColor:Q("text-tremor-content","dark:text-dark-tremor-content"),r)},o)});V8.displayName="Text";const Oh=e=>{var{onClick:t,icon:n}=e,r=Ie(e,["onClick","icon"]);const o=n;return G.createElement("button",Object.assign({type:"button",className:Q("flex items-center justify-center p-1 h-7 w-7 outline-none focus:ring-2 transition duration-100 border border-tremor-border dark:border-dark-tremor-border hover:bg-tremor-background-muted dark:hover:bg-dark-tremor-background-muted rounded-tremor-small focus:border-tremor-brand-subtle select-none dark:focus:border-dark-tremor-brand-subtle focus:ring-tremor-brand-muted dark:focus:ring-dark-tremor-brand-muted text-tremor-content-subtle dark:text-dark-tremor-content-subtle hover:text-tremor-content dark:hover:text-dark-tremor-content")},r),G.createElement(Vz,{onClick:t,icon:o,variant:"simple",color:"slate",size:"sm"}))};function fR(e){var{mode:t,defaultMonth:n,selected:r,onSelect:o,locale:i,disabled:a,enableYearNavigation:l,classNames:s,weekStartsOn:c=0}=e,u=Ie(e,["mode","defaultMonth","selected","onSelect","locale","disabled","enableYearNavigation","classNames","weekStartsOn"]);return G.createElement($Ke,Object.assign({showOutsideDays:!0,mode:t,defaultMonth:n,selected:r,onSelect:o,locale:i,disabled:a,weekStartsOn:c,classNames:Object.assign({months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-2 relative items-center",caption_label:"text-tremor-default text-tremor-content-emphasis dark:text-dark-tremor-content-emphasis font-medium",nav:"space-x-1 flex items-center",nav_button:"flex items-center justify-center p-1 h-7 w-7 outline-none focus:ring-2 transition duration-100 border border-tremor-border dark:border-dark-tremor-border hover:bg-tremor-background-muted dark:hover:bg-dark-tremor-background-muted rounded-tremor-small focus:border-tremor-brand-subtle dark:focus:border-dark-tremor-brand-subtle focus:ring-tremor-brand-muted dark:focus:ring-dark-tremor-brand-muted text-tremor-content-subtle dark:text-dark-tremor-content-subtle hover:text-tremor-content dark:hover:text-dark-tremor-content",nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"w-9 font-normal text-center text-tremor-content-subtle dark:text-dark-tremor-content-subtle",row:"flex w-full mt-0.5",cell:"text-center p-0 relative focus-within:relative text-tremor-default text-tremor-content-emphasis dark:text-dark-tremor-content-emphasis",day:"h-9 w-9 p-0 hover:bg-tremor-background-subtle dark:hover:bg-dark-tremor-background-subtle outline-tremor-brand dark:outline-dark-tremor-brand rounded-tremor-default",day_today:"font-bold",day_selected:"aria-selected:bg-tremor-background-emphasis aria-selected:text-tremor-content-inverted dark:aria-selected:bg-dark-tremor-background-emphasis dark:aria-selected:text-dark-tremor-content-inverted ",day_disabled:"text-tremor-content-subtle dark:text-dark-tremor-content-subtle disabled:hover:bg-transparent",day_outside:"text-tremor-content-subtle dark:text-dark-tremor-content-subtle"},s),components:{IconLeft:g=>{var d=Ie(g,[]);return G.createElement(IY,Object.assign({className:"h-4 w-4"},d))},IconRight:g=>{var d=Ie(g,[]);return G.createElement(hY,Object.assign({className:"h-4 w-4"},d))},Caption:g=>{var d=Ie(g,[]);const{goToMonth:m,nextMonth:I,previousMonth:h,currentMonth:A}=fd();return G.createElement("div",{className:"flex justify-between items-center"},G.createElement("div",{className:"flex items-center space-x-1"},l&&G.createElement(Oh,{onClick:()=>A&&m(kZ(A,-1)),icon:qKe}),G.createElement(Oh,{onClick:()=>h&&m(h),icon:IY})),G.createElement(V8,{className:"text-tremor-default tabular-nums capitalize text-tremor-content-emphasis dark:text-dark-tremor-content-emphasis font-medium"},Br(d.displayMonth,"LLLL yyy",{locale:i})),G.createElement("div",{className:"flex items-center space-x-1"},G.createElement(Oh,{onClick:()=>I&&m(I),icon:hY}),l&&G.createElement(Oh,{onClick:()=>A&&m(kZ(A,1)),icon:eOe})))}}},u))}fR.displayName="DateRangePicker";const tOe=Ye("DatePicker"),$l=(e,t)=>{const n=t!==void 0,[r,o]=b.useState(e);return[n?t:r,i=>{n||o(i)}]},CY=Ye("DateRangePicker"),nOe=(e,t,n,r)=>{var o;if(n&&(e=(o=r.get(n))===null||o===void 0?void 0:o.from),e)return zi(e&&!t?e:Xz([e,t]))},rOe=(e,t,n,r)=>{var o,i;if(n&&(e=zi((i=(o=r.get(n))===null||o===void 0?void 0:o.to)!==null&&i!==void 0?i:Il())),e)return zi(e&&!t?e:Jz([e,t]))},T1=[{value:"tdy",text:"Today",from:Il()},{value:"w",text:"Last 7 days",from:nY(Il(),{days:7})},{value:"t",text:"Last 30 days",from:nY(Il(),{days:30})},{value:"m",text:"Month to Date",from:Qn(Il())},{value:"y",text:"Year to Date",from:Vk(Il())}],W8=(e,t,n,r)=>{const o=(n==null?void 0:n.code)||"en-US";if(!e&&!t)return"";if(e&&!t){if(r)return Br(e,r);const i={year:"numeric",month:"short",day:"numeric"};return e.toLocaleDateString(o,i)}if(e&&t){if(IMe(e,t)){if(r)return Br(e,r);const i={year:"numeric",month:"short",day:"numeric"};return e.toLocaleDateString(o,i)}if(e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()){if(r)return`${Br(e,r)} - ${Br(t,r)}`;const i={month:"short",day:"numeric"};return`${e.toLocaleDateString(o,i)} - 
                    ${t.getDate()}, ${t.getFullYear()}`}{if(r)return`${Br(e,r)} - ${Br(t,r)}`;const i={year:"numeric",month:"short",day:"numeric"};return`${e.toLocaleDateString(o,i)} - 
                    ${t.toLocaleDateString(o,i)}`}}return""},zm=e=>["string","number"].includes(typeof e)?e:e instanceof Array?e.map(zm).join(""):typeof e=="object"&&e?zm(e.props.children):void 0;function mR(e){const t=new Map;return G.Children.map(e,n=>{var r;t.set(n.props.value,(r=zm(n))!==null&&r!==void 0?r:n.props.value)}),t}function HZ(e,t){return G.Children.map(t,n=>{var r;if(((r=zm(n))!==null&&r!==void 0?r:n.props.value).toLowerCase().includes(e.toLowerCase()))return n})}const ql=(e,t,n=!1)=>Q(t?"bg-tremor-background-subtle dark:bg-dark-tremor-background-subtle":"bg-tremor-background dark:bg-dark-tremor-background",!t&&"hover:bg-tremor-background-muted dark:hover:bg-dark-tremor-background-muted",e?"text-tremor-content-emphasis dark:text-dark-tremor-content-emphasis":"text-tremor-content dark:text-dark-tremor-content",t&&"text-tremor-content-subtle dark:text-dark-tremor-content-subtle",n&&"text-red-500 placeholder:text-red-500 dark:text-red-500 dark:placeholder:text-red-500",n?"border-red-500 dark:border-red-500":"border-tremor-border dark:border-dark-tremor-border");function Wc(e){return e!=null&&e!==""}const oOe=Il(),iOe=G.forwardRef((e,t)=>{var n;const{value:r,defaultValue:o,onValueChange:i,minDate:a,maxDate:l,placeholder:s="Select date",disabled:c=!1,locale:u=gv,enableClear:g=!0,displayFormat:d,className:m,enableYearNavigation:I=!1,weekStartsOn:h=0,disabledDates:A}=e,C=Ie(e,["value","defaultValue","onValueChange","minDate","maxDate","placeholder","disabled","locale","enableClear","displayFormat","className","enableYearNavigation","weekStartsOn","disabledDates"]),[p,v]=$l(o,r),y=b.useMemo(()=>{const Z=[];return a&&Z.push({before:a}),l&&Z.push({after:l}),[...Z,...A??[]]},[a,l,A]),x=p?W8(p,void 0,u,d):s,S=Qn((n=p??l)!==null&&n!==void 0?n:oOe),B=g&&!c;return G.createElement(ju,Object.assign({ref:t,as:"div",className:Q("relative w-full min-w-[10rem] text-tremor-default","focus:ring-2 focus:ring-tremor-brand-muted dark:focus:ring-dark-tremor-brand-muted",m)},C),G.createElement(ju.Button,{disabled:c,className:Q("w-full outline-none text-left whitespace-nowrap truncate focus:ring-2 transition duration-100 rounded-tremor-default flex flex-nowrap border pl-3 py-2","border-tremor-border shadow-tremor-input text-tremor-content-emphasis focus:border-tremor-brand-subtle focus:ring-tremor-brand-muted","dark:border-dark-tremor-border dark:shadow-dark-tremor-input dark:text-dark-tremor-content-emphasis dark:focus:border-dark-tremor-brand-subtle dark:focus:ring-dark-tremor-brand-muted",B?"pr-8":"pr-4",ql(Wc(p),c))},G.createElement(b8,{className:Q(tOe("calendarIcon"),"flex-none shrink-0 h-5 w-5 mr-2 -ml-0.5","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle"),"aria-hidden":"true"}),G.createElement("p",{className:"truncate"},x)),B&&p?G.createElement("button",{type:"button",className:Q("absolute outline-none inset-y-0 right-0 flex items-center transition duration-100 mr-4"),onClick:Z=>{Z.preventDefault(),i==null||i(void 0),v(void 0)}},G.createElement(XI,{className:Q("flex-none h-4 w-4","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})):null,G.createElement(Wa,{className:"absolute z-10 min-w-min left-0",enter:"transition ease duration-100 transform",enterFrom:"opacity-0 -translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"transition ease duration-100 transform",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-4"},G.createElement(ju.Panel,{className:Q("divide-y overflow-y-auto outline-none rounded-tremor-default p-3 border my-1","bg-tremor-background border-tremor-border divide-tremor-border shadow-tremor-dropdown","dark:bg-dark-tremor-background dark:border-dark-tremor-border dark:divide-dark-tremor-border dark:shadow-dark-tremor-dropdown")},({close:Z})=>G.createElement(fR,{showOutsideDays:!0,mode:"single",defaultMonth:S,selected:p,weekStartsOn:h,onSelect:R=>{i==null||i(R),v(R),Z()},locale:u,disabled:y,enableYearNavigation:I}))))});iOe.displayName="DatePicker";const IR=e=>{var t=Ie(e,[]);return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),G.createElement("path",{d:"M11.9999 13.1714L16.9497 8.22168L18.3639 9.63589L11.9999 15.9999L5.63599 9.63589L7.0502 8.22168L11.9999 13.1714Z"}))},L1=Ye("Select"),aOe=G.forwardRef((e,t)=>{const{defaultValue:n="",value:r,onValueChange:o,placeholder:i="Select...",disabled:a=!1,icon:l,enableClear:s=!1,required:c,children:u,name:g,error:d=!1,errorMessage:m,className:I,id:h}=e,A=Ie(e,["defaultValue","value","onValueChange","placeholder","disabled","icon","enableClear","required","children","name","error","errorMessage","className","id"]),C=b.useRef(null),p=b.Children.toArray(u),[v,y]=$l(n,r),x=l,S=b.useMemo(()=>{const B=G.Children.toArray(u).filter(b.isValidElement);return mR(B)},[u]);return G.createElement("div",{className:Q("w-full min-w-[10rem] text-tremor-default",I)},G.createElement("div",{className:"relative"},G.createElement("select",{title:"select-hidden",required:c,className:Q("h-full w-full absolute left-0 top-0 -z-10 opacity-0"),value:v,onChange:B=>{B.preventDefault()},name:g,disabled:a,id:h,onFocus:()=>{const B=C.current;B&&B.focus()}},G.createElement("option",{className:"hidden",value:"",disabled:!0,hidden:!0},i),p.map(B=>{const Z=B.props.value,R=B.props.children;return G.createElement("option",{className:"hidden",key:Z,value:Z},R)})),G.createElement(ci,Object.assign({as:"div",ref:t,defaultValue:v,value:v,onChange:B=>{o==null||o(B),y(B)},disabled:a,id:h},A),({value:B})=>{var Z;return G.createElement(G.Fragment,null,G.createElement(ci.Button,{ref:C,className:Q("w-full outline-none text-left whitespace-nowrap truncate rounded-tremor-default focus:ring-2 transition duration-100 border pr-8 py-2","border-tremor-border shadow-tremor-input focus:border-tremor-brand-subtle focus:ring-tremor-brand-muted","dark:border-dark-tremor-border dark:shadow-dark-tremor-input dark:focus:border-dark-tremor-brand-subtle dark:focus:ring-dark-tremor-brand-muted",x?"pl-10":"pl-3",ql(Wc(B),a,d))},x&&G.createElement("span",{className:Q("absolute inset-y-0 left-0 flex items-center ml-px pl-2.5")},G.createElement(x,{className:Q(L1("Icon"),"flex-none h-5 w-5","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})),G.createElement("span",{className:"w-[90%] block truncate"},B&&(Z=S.get(B))!==null&&Z!==void 0?Z:i),G.createElement("span",{className:Q("absolute inset-y-0 right-0 flex items-center mr-3")},G.createElement(IR,{className:Q(L1("arrowDownIcon"),"flex-none h-5 w-5","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")}))),s&&v?G.createElement("button",{type:"button",className:Q("absolute inset-y-0 right-0 flex items-center mr-8"),onClick:R=>{R.preventDefault(),y(""),o==null||o("")}},G.createElement(XI,{className:Q(L1("clearIcon"),"flex-none h-4 w-4","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})):null,G.createElement(Wa,{className:"absolute z-10 w-full",enter:"transition ease duration-100 transform",enterFrom:"opacity-0 -translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"transition ease duration-100 transform",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-4"},G.createElement(ci.Options,{className:Q("divide-y overflow-y-auto outline-none rounded-tremor-default max-h-[228px] left-0 border my-1","bg-tremor-background border-tremor-border divide-tremor-border shadow-tremor-dropdown","dark:bg-dark-tremor-background dark:border-dark-tremor-border dark:divide-dark-tremor-border dark:shadow-dark-tremor-dropdown")},u)))})),d&&m?G.createElement("p",{className:Q("errorMessage","text-sm text-rose-500 mt-1")},m):null)});aOe.displayName="Select";const pY=Ye("SelectItem"),hR=G.forwardRef((e,t)=>{const{value:n,icon:r,className:o,children:i}=e,a=Ie(e,["value","icon","className","children"]),l=r;return G.createElement(ci.Option,Object.assign({className:Q(pY("root"),"flex justify-start items-center cursor-default text-tremor-default px-2.5 py-2.5","ui-active:bg-tremor-background-muted  ui-active:text-tremor-content-strong ui-selected:text-tremor-content-strong ui-selected:bg-tremor-background-muted text-tremor-content-emphasis","dark:ui-active:bg-dark-tremor-background-muted  dark:ui-active:text-dark-tremor-content-strong dark:ui-selected:text-dark-tremor-content-strong dark:ui-selected:bg-dark-tremor-background-muted dark:text-dark-tremor-content-emphasis",o),ref:t,key:n,value:n},a),l&&G.createElement(l,{className:Q(pY("icon"),"flex-none w-5 h-5 mr-1.5","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")}),G.createElement("span",{className:"whitespace-nowrap truncate"},i??n))});hR.displayName="SelectItem";const K1=Il(),lOe=G.forwardRef((e,t)=>{var n,r;const{value:o,defaultValue:i,onValueChange:a,enableSelect:l=!0,minDate:s,maxDate:c,placeholder:u="Select range",selectPlaceholder:g="Select range",disabled:d=!1,locale:m=gv,enableClear:I=!0,displayFormat:h,children:A,className:C,enableYearNavigation:p=!1,weekStartsOn:v=0,disabledDates:y}=e,x=Ie(e,["value","defaultValue","onValueChange","enableSelect","minDate","maxDate","placeholder","selectPlaceholder","disabled","locale","enableClear","displayFormat","children","className","enableYearNavigation","weekStartsOn","disabledDates"]),[S,B]=$l(i,o),[Z,R]=b.useState(!1),[w,k]=b.useState(!1),V=b.useMemo(()=>{const Y=[];return s&&Y.push({before:s}),c&&Y.push({after:c}),[...Y,...y??[]]},[s,c,y]),W=b.useMemo(()=>{const Y=new Map;return A?G.Children.forEach(A,T=>{var O;Y.set(T.props.value,{text:(O=zm(T))!==null&&O!==void 0?O:T.props.value,from:T.props.from,to:T.props.to})}):T1.forEach(T=>{Y.set(T.value,{text:T.text,from:T.from,to:K1})}),Y},[A]),N=b.useMemo(()=>{if(A)return mR(A);const Y=new Map;return T1.forEach(T=>Y.set(T.value,T.text)),Y},[A]),X=(S==null?void 0:S.selectValue)||"",J=nOe(S==null?void 0:S.from,s,X,W),E=rOe(S==null?void 0:S.to,c,X,W),F=J||E?W8(J,E,m,h):u,H=Qn((r=(n=E??J)!==null&&n!==void 0?n:c)!==null&&r!==void 0?r:K1),M=I&&!d;return G.createElement("div",Object.assign({ref:t,className:Q("w-full min-w-[10rem] relative flex justify-between text-tremor-default max-w-sm shadow-tremor-input dark:shadow-dark-tremor-input rounded-tremor-default",C)},x),G.createElement(ju,{as:"div",className:Q("w-full",l?"rounded-l-tremor-default":"rounded-tremor-default",Z&&"ring-2 ring-tremor-brand-muted dark:ring-dark-tremor-brand-muted z-10")},G.createElement("div",{className:"relative w-full"},G.createElement(ju.Button,{onFocus:()=>R(!0),onBlur:()=>R(!1),disabled:d,className:Q("w-full outline-none text-left whitespace-nowrap truncate focus:ring-2 transition duration-100 rounded-l-tremor-default flex flex-nowrap border pl-3 py-2","rounded-l-tremor-default border-tremor-border text-tremor-content-emphasis focus:border-tremor-brand-subtle focus:ring-tremor-brand-muted","dark:border-dark-tremor-border dark:text-dark-tremor-content-emphasis dark:focus:border-dark-tremor-brand-subtle dark:focus:ring-dark-tremor-brand-muted",l?"rounded-l-tremor-default":"rounded-tremor-default",M?"pr-8":"pr-4",ql(Wc(J||E),d))},G.createElement(b8,{className:Q(CY("calendarIcon"),"flex-none shrink-0 h-5 w-5 -ml-0.5 mr-2","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle"),"aria-hidden":"true"}),G.createElement("p",{className:"truncate"},F)),M&&J?G.createElement("button",{type:"button",className:Q("absolute outline-none inset-y-0 right-0 flex items-center transition duration-100 mr-4"),onClick:Y=>{Y.preventDefault(),a==null||a({}),B({})}},G.createElement(XI,{className:Q(CY("clearIcon"),"flex-none h-4 w-4","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})):null),G.createElement(Wa,{className:"absolute z-10 min-w-min left-0",enter:"transition ease duration-100 transform",enterFrom:"opacity-0 -translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"transition ease duration-100 transform",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-4"},G.createElement(ju.Panel,{focus:!0,className:Q("divide-y overflow-y-auto outline-none rounded-tremor-default p-3 border my-1","bg-tremor-background border-tremor-border divide-tremor-border shadow-tremor-dropdown","dark:bg-dark-tremor-background dark:border-dark-tremor-border dark:divide-dark-tremor-border dark:shadow-dark-tremor-dropdown")},G.createElement(fR,Object.assign({mode:"range",showOutsideDays:!0,defaultMonth:H,selected:{from:J,to:E},onSelect:Y=>{a==null||a({from:Y==null?void 0:Y.from,to:Y==null?void 0:Y.to}),B({from:Y==null?void 0:Y.from,to:Y==null?void 0:Y.to})},locale:m,disabled:V,enableYearNavigation:p,classNames:{day_range_middle:Q("!rounded-none aria-selected:!bg-tremor-background-subtle aria-selected:dark:!bg-dark-tremor-background-subtle aria-selected:!text-tremor-content aria-selected:dark:!bg-dark-tremor-background-subtle"),day_range_start:"rounded-r-none rounded-l-tremor-small aria-selected:text-tremor-brand-inverted dark:aria-selected:text-dark-tremor-brand-inverted",day_range_end:"rounded-l-none rounded-r-tremor-small aria-selected:text-tremor-brand-inverted dark:aria-selected:text-dark-tremor-brand-inverted"},weekStartsOn:v},e))))),l&&G.createElement(ci,{as:"div",className:Q("w-48 -ml-px rounded-r-tremor-default",w&&"ring-2 ring-tremor-brand-muted dark:ring-dark-tremor-brand-muted z-10"),value:X,onChange:Y=>{const{from:T,to:O}=W.get(Y),P=O??K1;a==null||a({from:T,to:P,selectValue:Y}),B({from:T,to:P,selectValue:Y})},disabled:d},({value:Y})=>{var T;return G.createElement(G.Fragment,null,G.createElement(ci.Button,{onFocus:()=>k(!0),onBlur:()=>k(!1),className:Q("w-full outline-none text-left whitespace-nowrap truncate rounded-r-tremor-default transition duration-100 border px-4 py-2","border-tremor-border text-tremor-content-emphasis focus:border-tremor-brand-subtle","dark:border-dark-tremor-border  dark:text-dark-tremor-content-emphasis dark:focus:border-dark-tremor-brand-subtle",ql(Wc(Y),d))},Y&&(T=N.get(Y))!==null&&T!==void 0?T:g),G.createElement(Wa,{className:"absolute z-10 w-full inset-x-0 right-0",enter:"transition ease duration-100 transform",enterFrom:"opacity-0 -translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"transition ease duration-100 transform",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-4"},G.createElement(ci.Options,{className:Q("divide-y overflow-y-auto outline-none border my-1","shadow-tremor-dropdown bg-tremor-background border-tremor-border divide-tremor-border rounded-tremor-default","dark:shadow-dark-tremor-dropdown dark:bg-dark-tremor-background dark:border-dark-tremor-border dark:divide-dark-tremor-border")},A??T1.map(O=>G.createElement(hR,{key:O.value,value:O.value},O.text)))))}))});lOe.displayName="DateRangePicker";const sOe=G.forwardRef((e,t)=>{const{value:n,className:r,children:o}=e,i=Ie(e,["value","className","children"]);return G.createElement(hR,Object.assign({ref:t,className:r,value:n},i),o??n)});sOe.displayName="DateRangePickerItem";const N8=b.createContext(xe.Blue),E8=b.createContext(0),Wf=b.createContext(void 0),yv=b.createContext({selectedValue:void 0,handleValueChange:void 0}),cOe=e=>{var t=Ie(e,[]);return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),G.createElement("path",{d:"M18.031 16.6168L22.3137 20.8995L20.8995 22.3137L16.6168 18.031C15.0769 19.263 13.124 20 11 20C6.032 20 2 15.968 2 11C2 6.032 6.032 2 11 2C15.968 2 20 6.032 20 11C20 13.124 19.263 15.0769 18.031 16.6168ZM16.0247 15.8748C17.2475 14.6146 18 12.8956 18 11C18 7.1325 14.8675 4 11 4C7.1325 4 4 7.1325 4 11C4 14.8675 7.1325 18 11 18C12.8956 18 14.6146 17.2475 15.8748 16.0247L16.0247 15.8748Z"}))},uOe=e=>{var t=Ie(e,[]);return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))},Ph=Ye("MultiSelect"),gOe=G.forwardRef((e,t)=>{const{defaultValue:n=[],value:r,onValueChange:o,placeholder:i="Select...",placeholderSearch:a="Search",disabled:l=!1,icon:s,children:c,className:u,required:g,name:d,error:m=!1,errorMessage:I,id:h}=e,A=Ie(e,["defaultValue","value","onValueChange","placeholder","placeholderSearch","disabled","icon","children","className","required","name","error","errorMessage","id"]),C=b.useRef(null),p=s,[v,y]=$l(n,r),{reactElementChildren:x,optionsAvailable:S}=b.useMemo(()=>{const V=G.Children.toArray(c).filter(b.isValidElement);return{reactElementChildren:V,optionsAvailable:HZ("",V)}},[c]),[B,Z]=b.useState(""),R=(v??[]).length>0,w=b.useMemo(()=>B?HZ(B,x):S,[B,x,S]),k=()=>{Z("")};return G.createElement("div",{className:Q("w-full min-w-[10rem] text-tremor-default",u)},G.createElement("div",{className:"relative"},G.createElement("select",{title:"multi-select-hidden",required:g,className:Q("h-full w-full absolute left-0 top-0 -z-10 opacity-0"),value:v,onChange:V=>{V.preventDefault()},name:d,disabled:l,multiple:!0,id:h,onFocus:()=>{const V=C.current;V&&V.focus()}},G.createElement("option",{className:"hidden",value:"",disabled:!0,hidden:!0},i),w.map(V=>{const W=V.props.value,N=V.props.children;return G.createElement("option",{className:"hidden",key:W,value:W},N)})),G.createElement(ci,Object.assign({as:"div",ref:t,defaultValue:v,value:v,onChange:V=>{o==null||o(V),y(V)},disabled:l,id:h,multiple:!0},A),({value:V})=>G.createElement(G.Fragment,null,G.createElement(ci.Button,{className:Q("w-full outline-none text-left whitespace-nowrap truncate rounded-tremor-default focus:ring-2 transition duration-100 border pr-8 py-1.5","border-tremor-border shadow-tremor-input focus:border-tremor-brand-subtle focus:ring-tremor-brand-muted","dark:border-dark-tremor-border dark:shadow-dark-tremor-input dark:focus:border-dark-tremor-brand-subtle dark:focus:ring-dark-tremor-brand-muted",p?"pl-11 -ml-0.5":"pl-3",ql(V.length>0,l,m)),ref:C},p&&G.createElement("span",{className:Q("absolute inset-y-0 left-0 flex items-center ml-px pl-2.5")},G.createElement(p,{className:Q(Ph("Icon"),"flex-none h-5 w-5","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})),G.createElement("div",{className:"h-6 flex items-center"},V.length>0?G.createElement("div",{className:"flex flex-nowrap overflow-x-scroll [&::-webkit-scrollbar]:hidden [scrollbar-width:none] gap-x-1 mr-5 -ml-1.5 relative"},S.filter(W=>V.includes(W.props.value)).map((W,N)=>{var X;return G.createElement("div",{key:N,className:Q("max-w-[100px] lg:max-w-[200px] flex justify-center items-center pl-2 pr-1.5 py-1 font-medium","rounded-tremor-small","bg-tremor-background-muted dark:bg-dark-tremor-background-muted","bg-tremor-background-subtle dark:bg-dark-tremor-background-subtle","text-tremor-content-default dark:text-dark-tremor-content-default","text-tremor-content-emphasis dark:text-dark-tremor-content-emphasis")},G.createElement("div",{className:"text-xs truncate "},(X=W.props.children)!==null&&X!==void 0?X:W.props.value),G.createElement("div",{onClick:J=>{J.preventDefault();const E=V.filter(F=>F!==W.props.value);o==null||o(E),y(E)}},G.createElement(uOe,{className:Q(Ph("clearIconItem"),"cursor-pointer rounded-tremor-full w-3.5 h-3.5 ml-2","text-tremor-content-subtle hover:text-tremor-content","dark:text-dark-tremor-content-subtle dark:hover:text-tremor-content")})))})):G.createElement("span",null,i)),G.createElement("span",{className:Q("absolute inset-y-0 right-0 flex items-center mr-2.5")},G.createElement(IR,{className:Q(Ph("arrowDownIcon"),"flex-none h-5 w-5","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")}))),R&&!l?G.createElement("button",{type:"button",className:Q("absolute inset-y-0 right-0 flex items-center mr-8"),onClick:W=>{W.preventDefault(),y([]),o==null||o([])}},G.createElement(XI,{className:Q(Ph("clearIconAllItems"),"flex-none h-4 w-4","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})):null,G.createElement(Wa,{className:"absolute z-10 w-full",enter:"transition ease duration-100 transform",enterFrom:"opacity-0 -translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"transition ease duration-100 transform",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-4"},G.createElement(ci.Options,{className:Q("divide-y overflow-y-auto outline-none rounded-tremor-default max-h-[228px] left-0 border my-1","bg-tremor-background border-tremor-border divide-tremor-border shadow-tremor-dropdown","dark:bg-dark-tremor-background dark:border-dark-tremor-border dark:divide-dark-tremor-border dark:shadow-dark-tremor-dropdown")},G.createElement("div",{className:Q("flex items-center w-full px-2.5","bg-tremor-background-muted","dark:bg-dark-tremor-background-muted")},G.createElement("span",null,G.createElement(cOe,{className:Q("flex-none w-4 h-4 mr-2","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})),G.createElement("input",{name:"search",type:"input",autoComplete:"off",placeholder:a,className:Q("w-full focus:outline-none focus:ring-none bg-transparent text-tremor-default py-2","text-tremor-content-emphasis","dark:text-dark-tremor-content-subtle"),onKeyDown:W=>{W.code==="Space"&&W.target.value!==""&&W.stopPropagation()},onChange:W=>Z(W.target.value),value:B})),G.createElement(yv.Provider,Object.assign({},{onBlur:{handleResetSearch:k}},{value:{selectedValue:V}}),w)))))),m&&I?G.createElement("p",{className:Q("errorMessage","text-sm text-rose-500 mt-1")},I):null)});gOe.displayName="MultiSelect";const AY=Ye("MultiSelectItem"),dOe=G.forwardRef((e,t)=>{const{value:n,className:r,children:o}=e,i=Ie(e,["value","className","children"]),{selectedValue:a}=b.useContext(yv),l=nHe(n,a);return G.createElement(ci.Option,Object.assign({className:Q(AY("root"),"flex justify-start items-center cursor-default text-tremor-default p-2.5","ui-active:bg-tremor-background-muted ui-active:text-tremor-content-strong ui-selected:text-tremor-content-strong text-tremor-content-emphasis","dark:ui-active:bg-dark-tremor-background-muted dark:ui-active:text-dark-tremor-content-strong dark:ui-selected:text-dark-tremor-content-strong dark:ui-selected:bg-dark-tremor-background-muted dark:text-dark-tremor-content-emphasis",r),ref:t,key:n,value:n},i),G.createElement("input",{type:"checkbox",className:Q(AY("checkbox"),"flex-none focus:ring-none focus:outline-none cursor-pointer mr-2.5","accent-tremor-brand","dark:accent-dark-tremor-brand"),checked:l,readOnly:!0}),G.createElement("span",{className:"whitespace-nowrap truncate"},o??n))});dOe.displayName="MultiSelectItem";const fOe=e=>{var t=Ie(e,[]);return G.createElement("svg",Object.assign({},t,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2.5"}),G.createElement("path",{d:"M12 4v16m8-8H4"}))},mOe=e=>{var t=Ie(e,[]);return G.createElement("svg",Object.assign({},t,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2.5"}),G.createElement("path",{d:"M20 12H4"}))},IOe=e=>{var t=Ie(e,[]);return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),G.createElement("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM11 15V17H13V15H11ZM11 7V13H13V7H11Z"}))},hOe=e=>{var t=Ie(e,[]);return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),G.createElement("path",{d:"M1.18164 12C2.12215 6.87976 6.60812 3 12.0003 3C17.3924 3 21.8784 6.87976 22.8189 12C21.8784 17.1202 17.3924 21 12.0003 21C6.60812 21 2.12215 17.1202 1.18164 12ZM12.0003 17C14.7617 17 17.0003 14.7614 17.0003 12C17.0003 9.23858 14.7617 7 12.0003 7C9.23884 7 7.00026 9.23858 7.00026 12C7.00026 14.7614 9.23884 17 12.0003 17ZM12.0003 15C10.3434 15 9.00026 13.6569 9.00026 12C9.00026 10.3431 10.3434 9 12.0003 9C13.6571 9 15.0003 10.3431 15.0003 12C15.0003 13.6569 13.6571 15 12.0003 15Z"}))},COe=e=>{var t=Ie(e,[]);return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),G.createElement("path",{d:"M4.52047 5.93457L1.39366 2.80777L2.80788 1.39355L22.6069 21.1925L21.1927 22.6068L17.8827 19.2968C16.1814 20.3755 14.1638 21.0002 12.0003 21.0002C6.60812 21.0002 2.12215 17.1204 1.18164 12.0002C1.61832 9.62282 2.81932 7.5129 4.52047 5.93457ZM14.7577 16.1718L13.2937 14.7078C12.902 14.8952 12.4634 15.0002 12.0003 15.0002C10.3434 15.0002 9.00026 13.657 9.00026 12.0002C9.00026 11.537 9.10522 11.0984 9.29263 10.7067L7.82866 9.24277C7.30514 10.0332 7.00026 10.9811 7.00026 12.0002C7.00026 14.7616 9.23884 17.0002 12.0003 17.0002C13.0193 17.0002 13.9672 16.6953 14.7577 16.1718ZM7.97446 3.76015C9.22127 3.26959 10.5793 3.00016 12.0003 3.00016C17.3924 3.00016 21.8784 6.87992 22.8189 12.0002C22.5067 13.6998 21.8038 15.2628 20.8068 16.5925L16.947 12.7327C16.9821 12.4936 17.0003 12.249 17.0003 12.0002C17.0003 9.23873 14.7617 7.00016 12.0003 7.00016C11.7514 7.00016 11.5068 7.01833 11.2677 7.05343L7.97446 3.76015Z"}))},CR=G.forwardRef((e,t)=>{const{value:n,defaultValue:r,type:o,placeholder:i="Type...",icon:a,error:l=!1,errorMessage:s,disabled:c=!1,stepper:u,makeInputClassName:g,className:d,onChange:m,onValueChange:I,autoFocus:h,pattern:A}=e,C=Ie(e,["value","defaultValue","type","placeholder","icon","error","errorMessage","disabled","stepper","makeInputClassName","className","onChange","onValueChange","autoFocus","pattern"]),[p,v]=b.useState(h||!1),[y,x]=b.useState(!1),S=b.useCallback(()=>x(!y),[y,x]),B=a,Z=b.useRef(null),R=Wc(n||r);return G.useEffect(()=>{const w=()=>v(!0),k=()=>v(!1),V=Z.current;return V&&(V.addEventListener("focus",w),V.addEventListener("blur",k),h&&V.focus()),()=>{V&&(V.removeEventListener("focus",w),V.removeEventListener("blur",k))}},[h]),G.createElement(G.Fragment,null,G.createElement("div",{className:Q(g("root"),"relative w-full flex items-center min-w-[10rem] outline-none rounded-tremor-default transition duration-100 border","shadow-tremor-input","dark:shadow-dark-tremor-input",ql(R,c,l),p&&Q("ring-2","border-tremor-brand-subtle ring-tremor-brand-muted","dark:border-dark-tremor-brand-subtle dark:ring-dark-tremor-brand-muted"),d)},B?G.createElement(B,{className:Q(g("icon"),"shrink-0 h-5 w-5 mx-2.5 absolute left-0 flex items-center","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")}):null,G.createElement("input",Object.assign({ref:Ka([Z,t]),defaultValue:r,value:n,type:y?"text":o,className:Q(g("input"),"w-full bg-transparent focus:outline-none focus:ring-0 border-none text-tremor-default rounded-tremor-default transition duration-100 py-2","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis","[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",o==="password"?l?"pr-16":"pr-12":l?"pr-8":"pr-3",B?"pl-10":"pl-3",c?"placeholder:text-tremor-content-subtle dark:placeholder:text-dark-tremor-content-subtle":"placeholder:text-tremor-content dark:placeholder:text-dark-tremor-content"),placeholder:i,disabled:c,"data-testid":"base-input",onChange:w=>{m==null||m(w),I==null||I(w.target.value)},pattern:A},C)),o!=="password"||c?null:G.createElement("button",{className:Q(g("toggleButton"),"absolute inset-y-0 right-0 flex items-center px-2.5 rounded-lg"),type:"button",onClick:()=>S(),"aria-label":y?"Hide password":"Show Password"},y?G.createElement(COe,{className:Q("flex-none h-5 w-5 transition","text-tremor-content-subtle hover:text-tremor-content","dark:text-dark-tremor-content-subtle hover:dark:text-dark-tremor-content"),"aria-hidden":!0}):G.createElement(hOe,{className:Q("flex-none h-5 w-5 transition","text-tremor-content-subtle hover:text-tremor-content","dark:text-dark-tremor-content-subtle hover:dark:text-dark-tremor-content"),"aria-hidden":!0})),l?G.createElement(IOe,{className:Q(g("errorIcon"),"text-red-500 shrink-0 h-5 w-5 absolute right-0 flex items-center",o==="password"?"mr-10":o==="number"?u?"mr-20":"mr-3":"mx-2.5")}):null,u??null),l&&s?G.createElement("p",{className:Q(g("errorMessage"),"text-sm text-red-500 mt-1")},s):null)});CR.displayName="BaseInput";const bY="flex mx-auto text-tremor-content-subtle dark:text-dark-tremor-content-subtle",vY="cursor-pointer hover:text-tremor-content dark:hover:text-dark-tremor-content",pOe=G.forwardRef((e,t)=>{const{onSubmit:n,enableStepper:r=!0,disabled:o,onValueChange:i,onChange:a}=e,l=Ie(e,["onSubmit","enableStepper","disabled","onValueChange","onChange"]),s=b.useRef(null),[c,u]=G.useState(!1),g=G.useCallback(()=>{u(!0)},[]),d=G.useCallback(()=>{u(!1)},[]),[m,I]=G.useState(!1),h=G.useCallback(()=>{I(!0)},[]),A=G.useCallback(()=>{I(!1)},[]);return G.createElement(CR,Object.assign({type:"number",ref:Ka([s,t]),disabled:o,makeInputClassName:Ye("NumberInput"),onKeyDown:C=>{var p;if(C.key==="Enter"&&!C.ctrlKey&&!C.altKey&&!C.shiftKey){const v=(p=s.current)===null||p===void 0?void 0:p.value;n==null||n(parseFloat(v??""))}C.key==="ArrowDown"&&g(),C.key==="ArrowUp"&&h()},onKeyUp:C=>{C.key==="ArrowDown"&&d(),C.key==="ArrowUp"&&A()},onChange:C=>{o||(i==null||i(parseFloat(C.target.value)),a==null||a(C))},stepper:r?G.createElement("div",{className:Q("flex justify-center align-middle")},G.createElement("div",{tabIndex:-1,onClick:C=>C.preventDefault(),onMouseDown:C=>C.preventDefault(),onTouchStart:C=>{C.cancelable&&C.preventDefault()},onMouseUp:()=>{var C,p;o||((C=s.current)===null||C===void 0||C.stepDown(),(p=s.current)===null||p===void 0||p.dispatchEvent(new Event("input",{bubbles:!0})))},className:Q(!o&&vY,bY,"group py-[10px] px-2.5 border-l border-tremor-border dark:border-dark-tremor-border")},G.createElement(mOe,{"data-testid":"step-down",className:(c?"scale-95":"")+" h-4 w-4 duration-75 transition group-active:scale-95"})),G.createElement("div",{tabIndex:-1,onClick:C=>C.preventDefault(),onMouseDown:C=>C.preventDefault(),onTouchStart:C=>{C.cancelable&&C.preventDefault()},onMouseUp:()=>{var C,p;o||((C=s.current)===null||C===void 0||C.stepUp(),(p=s.current)===null||p===void 0||p.dispatchEvent(new Event("input",{bubbles:!0})))},className:Q(!o&&vY,bY,"group py-[10px] px-2.5 border-l border-tremor-border dark:border-dark-tremor-border")},G.createElement(fOe,{"data-testid":"step-up",className:(m?"scale-95":"")+" h-4 w-4 duration-75 transition group-active:scale-95"}))):null},l))});pOe.displayName="NumberInput";const yY=Ye("SearchSelect"),AOe=Ye("SearchSelect"),bOe=G.forwardRef((e,t)=>{const{defaultValue:n="",searchValue:r,onSearchValueChange:o,value:i,onValueChange:a,placeholder:l="Select...",disabled:s=!1,icon:c,enableClear:u=!0,name:g,required:d,error:m=!1,errorMessage:I,children:h,className:A,id:C,autoComplete:p="off"}=e,v=Ie(e,["defaultValue","searchValue","onSearchValueChange","value","onValueChange","placeholder","disabled","icon","enableClear","name","required","error","errorMessage","children","className","id","autoComplete"]),y=b.useRef(null),[x,S]=$l("",r),[B,Z]=$l(n,i),R=c,{reactElementChildren:w,valueToNameMapping:k}=b.useMemo(()=>{const W=G.Children.toArray(h).filter(b.isValidElement);return{reactElementChildren:W,valueToNameMapping:mR(W)}},[h]),V=b.useMemo(()=>HZ(x??"",w),[x,w]);return G.createElement("div",{className:Q("w-full min-w-[10rem] text-tremor-default",A)},G.createElement("div",{className:"relative"},G.createElement("select",{title:"search-select-hidden",required:d,className:Q("h-full w-full absolute left-0 top-0 -z-10 opacity-0"),value:B,onChange:W=>{W.preventDefault()},name:g,disabled:s,id:C,onFocus:()=>{const W=y.current;W&&W.focus()}},G.createElement("option",{className:"hidden",value:"",disabled:!0,hidden:!0},l),V.map(W=>{const N=W.props.value,X=W.props.children;return G.createElement("option",{className:"hidden",key:N,value:N},X)})),G.createElement(lf,Object.assign({as:"div",ref:t,defaultValue:B,value:B,onChange:W=>{a==null||a(W),Z(W)},disabled:s,id:C},v),({value:W})=>G.createElement(G.Fragment,null,G.createElement(lf.Button,{className:"w-full"},R&&G.createElement("span",{className:Q("absolute inset-y-0 left-0 flex items-center ml-px pl-2.5")},G.createElement(R,{className:Q(yY("Icon"),"flex-none h-5 w-5","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})),G.createElement(lf.Input,{ref:y,className:Q("w-full outline-none text-left whitespace-nowrap truncate rounded-tremor-default focus:ring-2 transition duration-100 text-tremor-default pr-14 border py-2","border-tremor-border shadow-tremor-input focus:border-tremor-brand-subtle focus:ring-tremor-brand-muted","dark:border-dark-tremor-border dark:shadow-dark-tremor-input dark:focus:border-dark-tremor-brand-subtle dark:focus:ring-dark-tremor-brand-muted",R?"pl-10":"pl-3",s?"placeholder:text-tremor-content-subtle dark:placeholder:text-tremor-content-subtle":"placeholder:text-tremor-content dark:placeholder:text-tremor-content",ql(Wc(W),s,m)),placeholder:l,onChange:N=>{o==null||o(N.target.value),S(N.target.value)},displayValue:N=>{var X;return(X=k.get(N))!==null&&X!==void 0?X:""},autoComplete:p}),G.createElement("div",{className:Q("absolute inset-y-0 right-0 flex items-center pr-2.5")},G.createElement(IR,{className:Q(yY("arrowDownIcon"),"flex-none h-5 w-5","!text-tremor-content-subtle","!dark:text-dark-tremor-content-subtle")}))),u&&B?G.createElement("button",{type:"button",className:Q("absolute inset-y-0 right-0 flex items-center mr-8"),onClick:N=>{N.preventDefault(),Z(""),S(""),a==null||a(""),o==null||o("")}},G.createElement(XI,{className:Q(AOe("clearIcon"),"flex-none h-4 w-4","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})):null,V.length>0&&G.createElement(Wa,{className:"absolute z-10 w-full",enter:"transition ease duration-100 transform",enterFrom:"opacity-0 -translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"transition ease duration-100 transform",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-4"},G.createElement(lf.Options,{className:Q("divide-y overflow-y-auto outline-none rounded-tremor-default text-tremor-default max-h-[228px] left-0 border my-1","bg-tremor-background border-tremor-border divide-tremor-border shadow-tremor-dropdown","dark:bg-dark-tremor-background dark:border-dark-tremor-border dark:divide-dark-tremor-border dark:shadow-dark-tremor-dropdown")},V))))),m&&I?G.createElement("p",{className:Q("errorMessage","text-sm text-rose-500 mt-1")},I):null)});bOe.displayName="SearchSelect";const xY=Ye("SearchSelectItem"),vOe=G.forwardRef((e,t)=>{const{value:n,icon:r,className:o,children:i}=e,a=Ie(e,["value","icon","className","children"]),l=r;return G.createElement(lf.Option,Object.assign({className:Q(xY("root"),"flex justify-start items-center cursor-default text-tremor-default p-2.5","ui-active:bg-tremor-background-muted  ui-active:text-tremor-content-strong ui-selected:text-tremor-content-strong ui-selected:bg-tremor-background-muted text-tremor-content-emphasis","dark:ui-active:bg-dark-tremor-background-muted  dark:ui-active:text-dark-tremor-content-strong dark:ui-selected:text-dark-tremor-content-strong dark:ui-selected:bg-dark-tremor-background-muted dark:text-dark-tremor-content-emphasis",o),ref:t,key:n,value:n},a),l&&G.createElement(l,{className:Q(xY("icon"),"flex-none h-5 w-5 mr-3","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")}),G.createElement("span",{className:"whitespace-nowrap truncate"},i??n))});vOe.displayName="SearchSelectItem";const ks=Ye("Switch"),yOe=G.forwardRef((e,t)=>{const{checked:n,defaultChecked:r=!1,onChange:o,color:i,name:a,error:l,errorMessage:s,disabled:c,required:u,tooltip:g,id:d}=e,m=Ie(e,["checked","defaultChecked","onChange","color","name","error","errorMessage","disabled","required","tooltip","id"]),I=(x=>({bgColor:x?he(x,pe.background).bgColor:"bg-tremor-brand dark:bg-dark-tremor-brand",ringColor:x?he(x,pe.ring).ringColor:"ring-tremor-brand-muted dark:ring-dark-tremor-brand-muted"}))(i),[h,A]=$l(r,n),[C,p]=b.useState(!1),{tooltipProps:v,getReferenceProps:y}=Mo(300);return G.createElement("div",{className:"flex flex-row items-center justify-start"},G.createElement(lo,Object.assign({text:g},v)),G.createElement("div",Object.assign({ref:Ka([t,v.refs.setReference]),className:Q(ks("root"),"flex flex-row relative h-5")},m,y),G.createElement("input",{type:"checkbox",className:Q(ks("input"),"absolute w-5 h-5 cursor-pointer left-0 top-0 opacity-0"),name:a,required:u,checked:h,onChange:x=>{x.preventDefault()}}),G.createElement(ETe,{checked:h,onChange:x=>{A(x),o==null||o(x)},disabled:c,className:Q(ks("switch"),"w-10 h-5 group relative inline-flex shrink-0 cursor-pointer items-center justify-center rounded-tremor-full","focus:outline-none",c?"cursor-not-allowed":""),onFocus:()=>p(!0),onBlur:()=>p(!1),id:d},G.createElement("span",{className:Q(ks("sr-only"),"sr-only")},"Switch ",h?"on":"off"),G.createElement("span",{"aria-hidden":"true",className:Q(ks("background"),h?I.bgColor:"bg-tremor-border dark:bg-dark-tremor-border","pointer-events-none absolute mx-auto h-3 w-9 rounded-tremor-full transition-colors duration-100 ease-in-out")}),G.createElement("span",{"aria-hidden":"true",className:Q(ks("round"),h?Q(I.bgColor,"translate-x-5 border-tremor-background dark:border-dark-tremor-background"):"translate-x-0 bg-tremor-border dark:bg-dark-tremor-border border-tremor-background dark:border-dark-tremor-background","pointer-events-none absolute left-0 inline-block h-5 w-5 transform rounded-tremor-full border-2 shadow-tremor-input duration-100 ease-in-out transition",C?Q("ring-2",I.ringColor):"")}))),l&&s?G.createElement("p",{className:Q(ks("errorMessage"),"text-sm text-red-500 mt-1 ")},s):null)});yOe.displayName="Switch";const xOe=Ye("TabList"),X8=b.createContext("line"),SOe={line:Q("flex border-b space-x-4","border-tremor-border","dark:border-dark-tremor-border"),solid:Q("inline-flex p-0.5 rounded-tremor-default space-x-1.5","bg-tremor-background-subtle","dark:bg-dark-tremor-background-subtle")},ZOe=G.forwardRef((e,t)=>{const{color:n,variant:r="line",children:o,className:i}=e,a=Ie(e,["color","variant","children","className"]);return G.createElement(Cv.List,Object.assign({ref:t,className:Q(xOe("root"),"justify-start overflow-x-clip",SOe[r],i)},a),G.createElement(X8.Provider,{value:r},G.createElement(N8.Provider,{value:n},o)))});ZOe.displayName="TabList";const SY=Ye("Tab");function wOe(e,t){switch(e){case"line":return Q("ui-selected:border-b-2 hover:border-b-2 border-transparent transition duration-100 -mb-px px-2 py-2","hover:border-tremor-content hover:text-tremor-content-emphasis text-tremor-content","ui-not-selected:dark:hover:border-dark-tremor-content-emphasis ui-not-selected:dark:hover:text-dark-tremor-content-emphasis ui-not-selected:dark:text-dark-tremor-content",t?he(t,pe.border).selectBorderColor:["ui-selected:border-tremor-brand ui-selected:text-tremor-brand","ui-selected:dark:border-dark-tremor-brand ui-selected:dark:text-dark-tremor-brand"]);case"solid":return Q("border-transparent border rounded-tremor-small px-2.5 py-1","ui-selected:border-tremor-border ui-selected:bg-tremor-background ui-selected:shadow-tremor-input ui-not-selected:hover:text-tremor-content-emphasis ui-selected:text-tremor-brand ui-not-selected:text-tremor-content","dark:ui-selected:border-dark-tremor-border dark:ui-selected:bg-dark-tremor-background dark:ui-selected:shadow-dark-tremor-input dark:ui-not-selected:hover:text-dark-tremor-content-emphasis dark:ui-selected:text-dark-tremor-brand dark:ui-not-selected:text-dark-tremor-content",t?he(t,pe.text).selectTextColor:"text-tremor-content dark:text-dark-tremor-content")}}const GOe=G.forwardRef((e,t)=>{const{icon:n,className:r,children:o}=e,i=Ie(e,["icon","className","children"]),a=b.useContext(X8),l=b.useContext(N8),s=n;return G.createElement(Cv,Object.assign({ref:t,className:Q(SY("root"),"flex whitespace-nowrap truncate max-w-xs outline-none ui-focus-visible:ring text-tremor-default transition duration-100",wOe(a,l),r,l&&he(l,pe.text).selectTextColor)},i),s?G.createElement(s,{className:Q(SY("icon"),"flex-none h-5 w-5",o?"mr-2":"")}):null,o?G.createElement("span",null,o):null)});GOe.displayName="Tab";const BOe=Ye("TabGroup"),kOe=G.forwardRef((e,t)=>{const{defaultIndex:n,index:r,onIndexChange:o,children:i,className:a}=e,l=Ie(e,["defaultIndex","index","onIndexChange","children","className"]);return G.createElement(Cv.Group,Object.assign({as:"div",ref:t,defaultIndex:n,selectedIndex:r,onChange:o,className:Q(BOe("root"),"w-full",a)},l),i)});kOe.displayName="TabGroup";const ROe=Ye("TabPanel"),VOe=G.forwardRef((e,t)=>{const{children:n,className:r}=e,o=Ie(e,["children","className"]),{selectedValue:i}=b.useContext(yv),a=i===b.useContext(E8);return G.createElement("div",Object.assign({ref:t,className:Q(ROe("root"),"w-full mt-2",a?"":"hidden",r),"aria-selected":a?"true":"false"},o),n)});VOe.displayName="TabPanel";const WOe=Ye("TabPanels"),NOe=G.forwardRef((e,t)=>{const{children:n,className:r}=e,o=Ie(e,["children","className"]);return G.createElement(Cv.Panels,Object.assign({as:"div",ref:t,className:Q(WOe("root"),"w-full",r)},o),({selectedIndex:i})=>G.createElement(yv.Provider,{value:{selectedValue:i}},G.Children.map(n,(a,l)=>G.createElement(E8.Provider,{value:l},a))))});NOe.displayName="TabPanels";const ZY=Ye("Textarea"),EOe=G.forwardRef((e,t)=>{const{value:n,defaultValue:r="",placeholder:o="Type...",error:i=!1,errorMessage:a,disabled:l=!1,className:s,onChange:c,onValueChange:u,autoHeight:g=!1}=e,d=Ie(e,["value","defaultValue","placeholder","error","errorMessage","disabled","className","onChange","onValueChange","autoHeight"]),[m,I]=$l(r,n),h=b.useRef(null),A=Wc(m);return b.useEffect(()=>{const C=h.current;if(g&&C){C.style.height="60px";const p=C.scrollHeight;C.style.height=p+"px"}},[g,h,m]),G.createElement(G.Fragment,null,G.createElement("textarea",Object.assign({ref:Ka([h,t]),value:m,placeholder:o,disabled:l,className:Q(ZY("Textarea"),"w-full flex items-center outline-none rounded-tremor-default px-3 py-2 text-tremor-default focus:ring-2 transition duration-100 border","shadow-tremor-input focus:border-tremor-brand-subtle focus:ring-tremor-brand-muted","dark:shadow-dark-tremor-input focus:dark:border-dark-tremor-brand-subtle focus:dark:ring-dark-tremor-brand-muted",ql(A,l,i),l?"placeholder:text-tremor-content-subtle dark:placeholder:text-dark-tremor-content-subtle":"placeholder:text-tremor-content dark:placeholder:text-dark-tremor-content",s),"data-testid":"text-area",onChange:C=>{c==null||c(C),I(C.target.value),u==null||u(C.target.value)}},d)),i&&a?G.createElement("p",{className:Q(ZY("errorMessage"),"text-sm text-red-500 mt-1")},a):null)});EOe.displayName="Textarea";const XOe=Ye("TextInput"),JOe=G.forwardRef((e,t)=>{const{type:n="text"}=e,r=Ie(e,["type"]);return G.createElement(CR,Object.assign({ref:t,type:n,makeInputClassName:XOe},r))});JOe.displayName="TextInput";const YOe=Ye("Accordion"),J8=b.createContext({isOpen:!1}),HOe=G.forwardRef((e,t)=>{var n;const{defaultOpen:r=!1,children:o,className:i}=e,a=Ie(e,["defaultOpen","children","className"]),l=(n=b.useContext(Wf))!==null&&n!==void 0?n:Q("rounded-tremor-default border");return G.createElement(Uk,Object.assign({as:"div",ref:t,className:Q(YOe("root"),"overflow-hidden","bg-tremor-background border-tremor-border","dark:bg-dark-tremor-background dark:border-dark-tremor-border",l,i),defaultOpen:r},a),({open:s})=>G.createElement(J8.Provider,{value:{isOpen:s}},o))});HOe.displayName="Accordion";const FOe=Ye("AccordionBody"),MOe=G.forwardRef((e,t)=>{const{children:n,className:r}=e,o=Ie(e,["children","className"]);return G.createElement(Uk.Panel,Object.assign({ref:t,className:Q(FOe("root"),"w-full text-tremor-default px-4 pb-3","text-tremor-content","dark:text-dark-tremor-content",r)},o),n)});MOe.displayName="AccordionBody";const jOe=e=>{var t=Ie(e,[]);return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),G.createElement("path",{d:"M11.9999 10.8284L7.0502 15.7782L5.63599 14.364L11.9999 8L18.3639 14.364L16.9497 15.7782L11.9999 10.8284Z"}))},O1=Ye("AccordionHeader"),TOe=G.forwardRef((e,t)=>{const{children:n,className:r}=e,o=Ie(e,["children","className"]),{isOpen:i}=b.useContext(J8);return G.createElement(Uk.Button,Object.assign({ref:t,className:Q(O1("root"),"w-full flex items-center justify-between px-4 py-3","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis",r)},o),G.createElement("div",{className:Q(O1("children"),"flex flex-1 text-inherit mr-4")},n),G.createElement("div",null,G.createElement(jOe,{className:Q(O1("arrowIcon"),"h-5 w-5 -mr-1","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle",i?"transition-all":"transition-all -rotate-180")})))});TOe.displayName="AccordionHeader";const LOe=Ye("AccordionList"),KOe=G.forwardRef((e,t)=>{const{children:n,className:r}=e,o=Ie(e,["children","className"]),i=G.Children.count(n);return G.createElement("div",Object.assign({ref:t,className:Q(LOe("root"),"rounded-tremor-default","shadow-tremor-card","dark:shadow-dark-tremor-card",r)},o),G.Children.map(n,(a,l)=>l===0?G.createElement(Wf.Provider,{value:Q("rounded-t-tremor-default border")},G.cloneElement(a)):l===i-1?G.createElement(Wf.Provider,{value:Q("rounded-b-tremor-default border-l border-r border-b")},G.cloneElement(a)):G.createElement(Wf.Provider,{value:Q("border-l border-r border-b")},G.cloneElement(a))))});KOe.displayName="AccordionList";const OOe=Ye("Card"),POe=e=>{if(!e)return"";switch(e){case Hu.Left:return"border-l-4";case VJ.Top:return"border-t-4";case Hu.Right:return"border-r-4";case VJ.Bottom:return"border-b-4";default:return""}},DOe=G.forwardRef((e,t)=>{const{decoration:n="",decorationColor:r,children:o,className:i}=e,a=Ie(e,["decoration","decorationColor","children","className"]);return G.createElement("div",Object.assign({ref:t,className:Q(OOe("root"),"relative w-full text-left ring-1 rounded-tremor-default p-6","bg-tremor-background ring-tremor-ring shadow-tremor-card","dark:bg-dark-tremor-background dark:ring-dark-tremor-ring dark:shadow-dark-tremor-card",r?he(r,pe.border).borderColor:"border-tremor-brand dark:border-dark-tremor-brand",POe(n),i)},a),o)});DOe.displayName="Card";const zOe=Ye("Divider"),UOe=G.forwardRef((e,t)=>{const{className:n,children:r}=e,o=Ie(e,["className","children"]);return G.createElement("div",Object.assign({ref:t,className:Q(zOe("root"),"w-full mx-auto my-6 flex justify-between gap-3 items-center text-tremor-default","text-tremor-content","dark:text-dark-tremor-content",n)},o),r?G.createElement(G.Fragment,null,G.createElement("div",{className:Q("w-full h-[1px] bg-tremor-border dark:bg-dark-tremor-border")}),G.createElement("div",{className:Q("text-inherit whitespace-nowrap")},r),G.createElement("div",{className:Q("w-full h-[1px] bg-tremor-border dark:bg-dark-tremor-border")})):G.createElement("div",{className:Q("w-full h-[1px] bg-tremor-border dark:bg-dark-tremor-border")}))});UOe.displayName="Divider";const _Oe=Ye("Flex"),QOe={start:"justify-start",end:"justify-end",center:"justify-center",between:"justify-between",around:"justify-around",evenly:"justify-evenly"},$Oe={start:"items-start",end:"items-end",center:"items-center",baseline:"items-baseline",stretch:"items-stretch"},qOe={row:"flex-row",col:"flex-col","row-reverse":"flex-row-reverse","col-reverse":"flex-col-reverse"},ePe=G.forwardRef((e,t)=>{const{flexDirection:n="row",justifyContent:r="between",alignItems:o="center",children:i,className:a}=e,l=Ie(e,["flexDirection","justifyContent","alignItems","children","className"]);return G.createElement("div",Object.assign({ref:t,className:Q(_Oe("root"),"flex w-full",qOe[n],QOe[r],$Oe[o],a)},l),i)});ePe.displayName="Flex";const tPe={0:"grid-cols-none",1:"grid-cols-1",2:"grid-cols-2",3:"grid-cols-3",4:"grid-cols-4",5:"grid-cols-5",6:"grid-cols-6",7:"grid-cols-7",8:"grid-cols-8",9:"grid-cols-9",10:"grid-cols-10",11:"grid-cols-11",12:"grid-cols-12"},nPe={0:"sm:grid-cols-none",1:"sm:grid-cols-1",2:"sm:grid-cols-2",3:"sm:grid-cols-3",4:"sm:grid-cols-4",5:"sm:grid-cols-5",6:"sm:grid-cols-6",7:"sm:grid-cols-7",8:"sm:grid-cols-8",9:"sm:grid-cols-9",10:"sm:grid-cols-10",11:"sm:grid-cols-11",12:"sm:grid-cols-12"},rPe={0:"md:grid-cols-none",1:"md:grid-cols-1",2:"md:grid-cols-2",3:"md:grid-cols-3",4:"md:grid-cols-4",5:"md:grid-cols-5",6:"md:grid-cols-6",7:"md:grid-cols-7",8:"md:grid-cols-8",9:"md:grid-cols-9",10:"md:grid-cols-10",11:"md:grid-cols-11",12:"md:grid-cols-12"},oPe={0:"lg:grid-cols-none",1:"lg:grid-cols-1",2:"lg:grid-cols-2",3:"lg:grid-cols-3",4:"lg:grid-cols-4",5:"lg:grid-cols-5",6:"lg:grid-cols-6",7:"lg:grid-cols-7",8:"lg:grid-cols-8",9:"lg:grid-cols-9",10:"lg:grid-cols-10",11:"lg:grid-cols-11",12:"lg:grid-cols-12"},iPe={1:"col-span-1",2:"col-span-2",3:"col-span-3",4:"col-span-4",5:"col-span-5",6:"col-span-6",7:"col-span-7",8:"col-span-8",9:"col-span-9",10:"col-span-10",11:"col-span-11",12:"col-span-12",13:"col-span-13"},aPe={1:"sm:col-span-1",2:"sm:col-span-2",3:"sm:col-span-3",4:"sm:col-span-4",5:"sm:col-span-5",6:"sm:col-span-6",7:"sm:col-span-7",8:"sm:col-span-8",9:"sm:col-span-9",10:"sm:col-span-10",11:"sm:col-span-11",12:"sm:col-span-12",13:"sm:col-span-13"},lPe={1:"md:col-span-1",2:"md:col-span-2",3:"md:col-span-3",4:"md:col-span-4",5:"md:col-span-5",6:"md:col-span-6",7:"md:col-span-7",8:"md:col-span-8",9:"md:col-span-9",10:"md:col-span-10",11:"md:col-span-11",12:"md:col-span-12",13:"md:col-span-13"},sPe={1:"lg:col-span-1",2:"lg:col-span-2",3:"lg:col-span-3",4:"lg:col-span-4",5:"lg:col-span-5",6:"lg:col-span-6",7:"lg:col-span-7",8:"lg:col-span-8",9:"lg:col-span-9",10:"lg:col-span-10",11:"lg:col-span-11",12:"lg:col-span-12",13:"lg:col-span-13"},cPe=Ye("Col"),uPe=G.forwardRef((e,t)=>{const{numColSpan:n=1,numColSpanSm:r,numColSpanMd:o,numColSpanLg:i,children:a,className:l}=e,s=Ie(e,["numColSpan","numColSpanSm","numColSpanMd","numColSpanLg","children","className"]),c=(u,g)=>u&&Object.keys(g).includes(String(u))?g[u]:"";return G.createElement("div",Object.assign({ref:t,className:Q(cPe("root"),(()=>{const u=c(n,iPe),g=c(r,aPe),d=c(o,lPe),m=c(i,sPe);return Q(u,g,d,m)})(),l)},s),a)});uPe.displayName="Col";const gPe=Ye("Grid"),Dh=(e,t)=>e&&Object.keys(t).includes(String(e))?t[e]:"",dPe=G.forwardRef((e,t)=>{const{numItems:n=1,numItemsSm:r,numItemsMd:o,numItemsLg:i,children:a,className:l}=e,s=Ie(e,["numItems","numItemsSm","numItemsMd","numItemsLg","children","className"]),c=Dh(n,tPe),u=Dh(r,nPe),g=Dh(o,rPe),d=Dh(i,oPe),m=Q(c,u,g,d);return G.createElement("div",Object.assign({ref:t,className:Q(gPe("root"),"grid",m,l)},s),a)});dPe.displayName="Grid";const fPe=Ye("dialog"),mPe=G.forwardRef((e,t)=>{const{children:n,className:r}=e,o=Ie(e,["children","className"]);return G.createElement(Wa,{as:G.Fragment,appear:!0,show:e.open},G.createElement(u8,Object.assign({as:"div",ref:t},o,{className:Q(fPe("root"),"relative z-50",r)}),G.createElement(Wa.Child,{as:G.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"},G.createElement("div",{className:Q("fixed inset-0 bg-slate-950/30  dark:bg-slate-950/50 transition-opacity")})),G.createElement("div",{className:"fixed inset-0 overflow-y-auto w-screen"},G.createElement("div",{className:"flex min-h-full items-center justify-center p-4"},n))))});mPe.displayName="Dialog";const IPe=Ye("dialog"),hPe=G.forwardRef((e,t)=>{var n;const{children:r,className:o}=e,i=Ie(e,["children","className"]),a=(n=G.useContext(Wf))!==null&&n!==void 0?n:Q("rounded-tremor-default p-6");return G.createElement(Wa.Child,{as:G.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95"},G.createElement(u8.Panel,Object.assign({ref:t,className:Q(IPe("panel"),"w-full max-w-lg overflow-visible text-left ring-1 shadow-tremor transition-all transform","bg-tremor-background  text-tremor-content ring-tremor-ring","dark:bg-dark-tremor-background dark:text-dark-tremor-content dark:ring-dark-tremor-ring",a,o)},i),r))});hPe.displayName="DialogPanel";const CPe=Ye("List"),pPe=G.forwardRef((e,t)=>{const{children:n,className:r}=e,o=Ie(e,["children","className"]);return G.createElement("ul",Object.assign({ref:t,className:Q(CPe("root"),"w-full divide-y","divide-tremor-border text-tremor-content","dark:divide-dark-tremor-border dark:text-dark-tremor-content",r)},o),n)});pPe.displayName="List";const APe=Ye("ListItem"),bPe=G.forwardRef((e,t)=>{const{children:n,className:r}=e,o=Ie(e,["children","className"]);return G.createElement(G.Fragment,null,G.createElement("li",Object.assign({ref:t,className:Q(APe("root"),"w-full flex justify-between items-center text-tremor-default py-2",r)},o),n))});bPe.displayName="ListItem";const wY=Ye("Table"),Y8=G.forwardRef((e,t)=>{const{children:n,className:r}=e,o=Ie(e,["children","className"]);return G.createElement("div",{className:Q(wY("root"),"overflow-auto",r)},G.createElement("table",Object.assign({ref:t,className:Q(wY("table"),"w-full text-tremor-default","text-tremor-content","dark:text-dark-tremor-content")},o),n))});Y8.displayName="Table";const vPe=Ye("TableBody"),H8=G.forwardRef((e,t)=>{const{children:n,className:r}=e,o=Ie(e,["children","className"]);return G.createElement(G.Fragment,null,G.createElement("tbody",Object.assign({ref:t,className:Q(vPe("root"),"align-top divide-y","divide-tremor-border","dark:divide-dark-tremor-border",r)},o),n))});H8.displayName="TableBody";const yPe=Ye("TableCell"),GC=G.forwardRef((e,t)=>{const{children:n,className:r}=e,o=Ie(e,["children","className"]);return G.createElement(G.Fragment,null,G.createElement("td",Object.assign({ref:t,className:Q(yPe("root"),"align-middle whitespace-nowrap text-left p-4",r)},o),n))});GC.displayName="TableCell";const xPe=Ye("TableFoot"),SPe=G.forwardRef((e,t)=>{const{children:n,className:r}=e,o=Ie(e,["children","className"]);return G.createElement("tfoot",Object.assign({ref:t,className:Q(xPe("root"),"text-left font-medium border-t-[1px] ","text-tremor-content border-tremor-border","dark:text-dark-tremor-content dark:border-dark-tremor-border",r)},o),n)});SPe.displayName="TableFoot";const ZPe=Ye("TableFooterCell"),wPe=G.forwardRef((e,t)=>{const{children:n,className:r}=e,o=Ie(e,["children","className"]);return G.createElement(G.Fragment,null,G.createElement("th",Object.assign({ref:t,className:Q(ZPe("root"),"top-0 px-4 py-3.5","text-tremor-content font-medium","dark:text-dark-tremor-content",r)},o),n))});wPe.displayName="TableFooterCell";const GPe=Ye("TableHead"),F8=G.forwardRef((e,t)=>{const{children:n,className:r}=e,o=Ie(e,["children","className"]);return G.createElement(G.Fragment,null,G.createElement("thead",Object.assign({ref:t,className:Q(GPe("root"),"text-left","text-tremor-content","dark:text-dark-tremor-content",r)},o),n))});F8.displayName="TableHead";const BPe=Ye("TableHeaderCell"),BC=G.forwardRef((e,t)=>{const{children:n,className:r}=e,o=Ie(e,["children","className"]);return G.createElement(G.Fragment,null,G.createElement("th",Object.assign({ref:t,className:Q(BPe("root"),"whitespace-nowrap text-left font-semibold top-0 px-4 py-3.5","text-tremor-content-strong","dark:text-dark-tremor-content-strong",r)},o),n))});BC.displayName="TableHeaderCell";const kPe=Ye("TableRow"),FZ=G.forwardRef((e,t)=>{const{children:n,className:r}=e,o=Ie(e,["children","className"]);return G.createElement(G.Fragment,null,G.createElement("tr",Object.assign({ref:t,className:Q(kPe("row"),r)},o),n))});FZ.displayName="TableRow";const RPe=G.forwardRef((e,t)=>{const{data:n=[],categories:r=[],index:o,colors:i=$i,stack:a=!1,relative:l=!1,animationDuration:s=900,showAnimation:c=!1,noDataText:u,autoMinValue:g=!1,minValue:d,maxValue:m,className:I}=e,h=Ie(e,["data","categories","index","colors","stack","relative","animationDuration","showAnimation","noDataText","autoMinValue","minValue","maxValue","className"]),A=Mc(r,i),C=Ql(g,d,m);return G.createElement("div",Object.assign({ref:t,className:Q("w-28 h-12",I)},h),G.createElement(Is,{className:"h-full w-full"},n!=null&&n.length?G.createElement(Cz,{data:n,stackOffset:l?"expand":"none",margin:{top:0,left:-1.5,right:-1.5,bottom:0}},G.createElement(Hr,{hide:!0,domain:C}),G.createElement(Yr,{hide:!0,dataKey:o}),r.map(p=>{var v;return G.createElement(As,{className:Q(he((v=A.get(p))!==null&&v!==void 0?v:xe.Gray,pe.background).fillColor),key:p,name:p,type:"linear",stackId:a||l?"a":void 0,dataKey:p,fill:"",isAnimationActive:c,animationDuration:s})})):G.createElement(Oa,{noDataText:u})))});RPe.displayName="SparkBarChart";const VPe=G.forwardRef((e,t)=>{const{data:n=[],categories:r=[],index:o,colors:i=$i,animationDuration:a=900,showAnimation:l=!1,curveType:s="linear",connectNulls:c=!1,noDataText:u,autoMinValue:g=!1,minValue:d,maxValue:m,className:I}=e,h=Ie(e,["data","categories","index","colors","animationDuration","showAnimation","curveType","connectNulls","noDataText","autoMinValue","minValue","maxValue","className"]),A=Mc(r,i),C=Ql(g,d,m);return G.createElement("div",Object.assign({ref:t,className:Q("w-28 h-12",I)},h),G.createElement(Is,{className:"h-full w-full"},n!=null&&n.length?G.createElement(hz,{data:n,margin:{top:1,left:1,right:1,bottom:1}},G.createElement(Hr,{hide:!0,domain:C}),G.createElement(Yr,{hide:!0,dataKey:o}),r.map(p=>{var v;return G.createElement(_l,{className:Q(he((v=A.get(p))!==null&&v!==void 0?v:xe.Gray,pe.text).strokeColor),strokeOpacity:1,dot:!1,key:p,name:p,type:s,dataKey:p,stroke:"",strokeWidth:2,strokeLinejoin:"round",strokeLinecap:"round",isAnimationActive:l,animationDuration:a,connectNulls:c})})):G.createElement(Oa,{noDataText:u})))});VPe.displayName="SparkLineChart";const WPe=G.forwardRef((e,t)=>{const{data:n=[],categories:r=[],index:o,stack:i=!1,colors:a=$i,showAnimation:l=!1,animationDuration:s=900,showGradient:c=!0,curveType:u="linear",connectNulls:g=!1,noDataText:d,autoMinValue:m=!1,minValue:I,maxValue:h,className:A}=e,C=Ie(e,["data","categories","index","stack","colors","showAnimation","animationDuration","showGradient","curveType","connectNulls","noDataText","autoMinValue","minValue","maxValue","className"]),p=Mc(r,a),v=Ql(m,I,h);return G.createElement("div",Object.assign({ref:t,className:Q("w-28 h-12",A)},C),G.createElement(Is,{className:"h-full w-full"},n!=null&&n.length?G.createElement(pz,{data:n,margin:{top:1,left:1,right:1,bottom:1}},G.createElement(Hr,{hide:!0,domain:v}),G.createElement(Yr,{hide:!0,dataKey:o}),r.map(y=>{var x,S;return G.createElement("defs",{key:y},c?G.createElement("linearGradient",{className:he((x=p.get(y))!==null&&x!==void 0?x:xe.Gray,pe.text).textColor,id:p.get(y),x1:"0",y1:"0",x2:"0",y2:"1"},G.createElement("stop",{offset:"5%",stopColor:"currentColor",stopOpacity:.4}),G.createElement("stop",{offset:"95%",stopColor:"currentColor",stopOpacity:0})):G.createElement("linearGradient",{className:he((S=p.get(y))!==null&&S!==void 0?S:xe.Gray,pe.text).textColor,id:p.get(y),x1:"0",y1:"0",x2:"0",y2:"1"},G.createElement("stop",{stopColor:"currentColor",stopOpacity:.3})))}),r.map(y=>{var x;return G.createElement(La,{className:he((x=p.get(y))!==null&&x!==void 0?x:xe.Gray,pe.text).strokeColor,strokeOpacity:1,dot:!1,key:y,name:y,type:u,dataKey:y,stroke:"",fill:`url(#${p.get(y)})`,strokeWidth:2,strokeLinejoin:"round",strokeLinecap:"round",isAnimationActive:l,animationDuration:s,stackId:i?"a":void 0,connectNulls:g})})):G.createElement(Oa,{noDataText:d})))});WPe.displayName="AreaChart";const NPe=G.forwardRef((e,t)=>{const{children:n,className:r}=e,o=Ie(e,["children","className"]);return G.createElement("b",Object.assign({ref:t,className:Q("text-inherit font-bold",r)},o),n)});NPe.displayName="Bold";const zd=Ye("Callout"),EPe=G.forwardRef((e,t)=>{const{title:n,icon:r,color:o,className:i,children:a}=e,l=Ie(e,["title","icon","color","className","children"]),s=r;return G.createElement("div",Object.assign({ref:t,className:Q(zd("root"),"flex flex-col overflow-hidden rounded-tremor-default text-tremor-default border-l-4 py-3 pr-3 pl-4",o?Q(he(o,pe.background).bgColor,he(o,pe.darkBorder).borderColor,he(o,pe.darkText).textColor,"dark:bg-opacity-10 bg-opacity-10"):Q("bg-tremor-brand-faint border-tremor-brand-emphasis text-tremor-brand-emphasis","dark:bg-dark-tremor-brand-muted/70 dark:border-dark-tremor-brand-emphasis dark:text-dark-tremor-brand-emphasis"),i)},l),G.createElement("div",{className:Q(zd("header"),"flex items-start")},s?G.createElement(s,{className:Q(zd("icon"),"flex-none h-5 w-5 mr-1.5")}):null,G.createElement("h4",{className:Q(zd("title"),"font-semibold")},n)),G.createElement("p",{className:Q(zd("body"),"overflow-y-auto",a?"mt-2":"")},a))});EPe.displayName="Callout";const XPe=G.forwardRef((e,t)=>{const{children:n,className:r}=e,o=Ie(e,["children","className"]);return G.createElement("i",Object.assign({ref:t,className:Q("italic text-inherit",r)},o),n)});XPe.displayName="Italic";const JPe=G.forwardRef((e,t)=>{const{color:n,children:r,className:o}=e,i=Ie(e,["color","children","className"]);return G.createElement("p",Object.assign({ref:t,className:Q("font-semibold text-tremor-metric",n?he(n,pe.darkText).textColor:"text-tremor-content-strong dark:text-dark-tremor-content-strong",o)},i),r)});JPe.displayName="Metric";const YPe=G.forwardRef((e,t)=>{const{color:n,children:r,className:o}=e,i=Ie(e,["color","children","className"]);return G.createElement("p",Object.assign({ref:t,className:Q(n?he(n,pe.lightText).textColor:"text-tremor-content-emphasis dark:text-dark-tremor-content-emphasis",o)},i),r)});YPe.displayName="Subtitle";const HPe=G.forwardRef((e,t)=>{const{color:n,children:r,className:o}=e,i=Ie(e,["color","children","className"]);return G.createElement("p",Object.assign({ref:t,className:Q("font-medium text-tremor-title",n?he(n,pe.darkText).textColor:"text-tremor-content-strong dark:text-dark-tremor-content-strong",o)},i),r)});HPe.displayName="Title";const oa=Ye("BarList");function M8(e,t){const{data:n=[],color:r,valueFormatter:o=Fi,showAnimation:i=!1,onValueChange:a,sortOrder:l="descending",className:s}=e,c=Ie(e,["data","color","valueFormatter","showAnimation","onValueChange","sortOrder","className"]),u=a?"button":"div",g=G.useMemo(()=>l==="none"?n:[...n].sort((m,I)=>l==="ascending"?m.value-I.value:I.value-m.value),[n,l]),d=G.useMemo(()=>{const m=Math.max(...g.map(I=>I.value),0);return g.map(I=>I.value===0?0:Math.max(I.value/m*100,2))},[g]);return G.createElement("div",Object.assign({ref:t,className:Q(oa("root"),"flex justify-between space-x-6",s),"aria-sort":l},c),G.createElement("div",{className:Q(oa("bars"),"relative w-full space-y-1.5")},g.map((m,I)=>{var h,A,C;const p=m.icon;return G.createElement(u,{key:(h=m.key)!==null&&h!==void 0?h:I,onClick:()=>{a==null||a(m)},className:Q(oa("bar"),"group w-full flex items-center rounded-tremor-small",a?["cursor-pointer","hover:bg-tremor-background-muted dark:hover:bg-dark-tremor-background-subtle/40"]:"")},G.createElement("div",{className:Q("flex items-center rounded transition-all bg-opacity-40","h-8",m.color||r?[he((A=m.color)!==null&&A!==void 0?A:r,pe.background).bgColor,a?"group-hover:bg-opacity-30":""]:"bg-tremor-brand-subtle dark:bg-dark-tremor-brand-subtle/60",!a||m.color||r?"":"group-hover:bg-tremor-brand-subtle/30 group-hover:dark:bg-dark-tremor-brand-subtle/70",I===g.length-1?"mb-0":"",i?"duration-500":""),style:{width:`${d[I]}%`,transition:i?"all 1s":""}},G.createElement("div",{className:Q("absolute left-2 pr-4 flex max-w-full")},p?G.createElement(p,{className:Q(oa("barIcon"),"flex-none h-5 w-5 mr-2","text-tremor-content","dark:text-dark-tremor-content")}):null,m.href?G.createElement("a",{href:m.href,target:(C=m.target)!==null&&C!==void 0?C:"_blank",rel:"noreferrer",className:Q(oa("barLink"),"whitespace-nowrap hover:underline truncate text-tremor-default",a?"cursor-pointer":"","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis"),onClick:v=>v.stopPropagation()},m.name):G.createElement("p",{className:Q(oa("barText"),"whitespace-nowrap truncate text-tremor-default","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis")},m.name))))})),G.createElement("div",{className:oa("labels")},g.map((m,I)=>{var h;return G.createElement("div",{key:(h=m.key)!==null&&h!==void 0?h:I,className:Q(oa("labelWrapper"),"flex justify-end items-center","h-8",I===g.length-1?"mb-0":"mb-1.5")},G.createElement("p",{className:Q(oa("labelText"),"whitespace-nowrap leading-none truncate text-tremor-default","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis")},o(m.value)))})))}M8.displayName="BarList";G.forwardRef(M8);const ou=Ye("CategoryBar"),j8=(e,t)=>e?e/t*100:0,FPe=({values:e})=>{const t=b.useMemo(()=>vk(e),[e]);let n=0,r=0;return G.createElement("div",{className:Q(ou("labels"),"relative flex w-full text-tremor-default h-5 mb-2","text-tremor-content","dark:text-dark-tremor-content")},e.slice(0,e.length).map((o,i)=>{n+=o;const a=(o>=.1*t||r>=.09*t)&&t-n>=.15*t&&n>=.1*t;r=a?0:r+=o;const l=j8(o,t);return G.createElement("div",{key:`item-${i}`,className:"flex items-center justify-end",style:{width:`${l}%`}},G.createElement("span",{className:Q(a?"block":"hidden","left-1/2 translate-x-1/2")},n))}),G.createElement("div",{className:Q("absolute bottom-0 flex items-center left-0")},"0"),G.createElement("div",{className:Q("absolute bottom-0 flex items-center right-0")},t))},MPe=G.forwardRef((e,t)=>{const{values:n=[],colors:r=$i,markerValue:o,showLabels:i=!0,tooltip:a,showAnimation:l=!1,className:s}=e,c=Ie(e,["values","colors","markerValue","showLabels","tooltip","showAnimation","className"]),u=b.useMemo(()=>((h,A,C)=>{if(h===void 0)return"";let p=0;for(let v=0;v<A.length;v++){const y=A[v],x=he(C[v],pe.background).bgColor;if(p+=y,p>=h)return x}return""})(o,n,r),[o,n,r]),{tooltipProps:g,getReferenceProps:d}=Mo(),m=b.useMemo(()=>vk(n),[n]),I=b.useMemo(()=>j8(o,m),[o,m]);return G.createElement(G.Fragment,null,G.createElement(lo,Object.assign({text:a},g)),G.createElement("div",Object.assign({ref:t,className:Q(ou("root"),s)},c),i?G.createElement(FPe,{values:n}):null,G.createElement("div",{className:Q(ou("barWrapper"),"relative w-full flex items-center h-2")},G.createElement("div",{className:Q("flex-1 flex items-center h-full overflow-hidden rounded-tremor-full")},n.map((h,A)=>{var C;const p=(C=r[A])!==null&&C!==void 0?C:"gray",v=h/m*100;return G.createElement("div",{key:`item-${A}`,className:Q(ou("categoryBar"),"h-full",he(p,pe.background).bgColor),style:{width:`${v}%`}})})),o!==void 0?G.createElement("div",Object.assign({ref:g.refs.setReference,className:Q(ou("markerWrapper"),"absolute right-1/2 -translate-x-1/2 w-5"),style:{left:`${I}%`,transition:l?"all 1s":""}},d),G.createElement("div",{className:Q(ou("marker"),"ring-2 mx-auto rounded-tremor-full h-4 w-1","ring-tremor-brand-inverted","dark:ring-dark-tremor-brand-inverted",u)})):null)))});MPe.displayName="CategoryBar";const GY={[kt.Increase]:{bgColor:he(xe.Emerald,pe.background).bgColor},[kt.ModerateIncrease]:{bgColor:he(xe.Emerald,pe.background).bgColor},[kt.Decrease]:{bgColor:he(xe.Rose,pe.background).bgColor},[kt.ModerateDecrease]:{bgColor:he(xe.Rose,pe.background).bgColor},[kt.Unchanged]:{bgColor:he(xe.Orange,pe.background).bgColor}},Ud=Ye("DeltaBar"),jPe=G.forwardRef((e,t)=>{const{value:n,isIncreasePositive:r=!0,showAnimation:o=!1,className:i,tooltip:a}=e,l=Ie(e,["value","isIncreasePositive","showAnimation","className","tooltip"]),s=Sz((g=>g>=0?kt.Increase:kt.Decrease)(n),r),{tooltipProps:c,getReferenceProps:u}=Mo();return G.createElement(G.Fragment,null,G.createElement(lo,Object.assign({text:a},c)),G.createElement("div",Object.assign({ref:t,className:Q(Ud("root"),"relative flex items-center w-full rounded-tremor-full h-2","bg-tremor-background-subtle","dark:bg-dark-tremor-background-subtle",i)},l),G.createElement("div",{className:"flex justify-end h-full w-1/2"},n<0?G.createElement("div",Object.assign({ref:c.refs.setReference,className:Q(Ud("negativeDeltaBar"),"rounded-l-tremor-full",GY[s].bgColor),style:{width:`${Math.abs(n)}%`,transition:o?"all duration-300":""}},u)):null),G.createElement("div",{className:Q(Ud("separator"),"ring-2 z-10 rounded-tremor-full h-4 w-1","ring-tremor-brand-inverted bg-tremor-background-emphasis","dark:ring-dark-tremor-brand-inverted dark:bg-dark-tremor-background-emphasis")}),G.createElement("div",{className:Q(Ud("positiveDeltaBarWrapper"),"flex justify-start h-full w-1/2")},n>=0?G.createElement("div",Object.assign({ref:c.refs.setReference,className:Q(Ud("positiveDeltaBar"),"rounded-r-tremor-full",GY[s].bgColor),style:{width:`${Math.abs(n)}%`,transition:o?"all 1s":""}},u)):null)))});jPe.displayName="DeltaBar";const zh=Ye("MarkerBar"),TPe=G.forwardRef((e,t)=>{const{value:n,minValue:r,maxValue:o,markerTooltip:i,rangeTooltip:a,showAnimation:l=!1,color:s,className:c}=e,u=Ie(e,["value","minValue","maxValue","markerTooltip","rangeTooltip","showAnimation","color","className"]),{tooltipProps:g,getReferenceProps:d}=Mo(),{tooltipProps:m,getReferenceProps:I}=Mo();return G.createElement("div",Object.assign({ref:t,className:Q(zh("root"),"relative flex items-center w-full rounded-tremor-full h-2","bg-tremor-background-subtle","dark:bg-dark-tremor-background-subtle",c)},u),r!==void 0&&o!==void 0?G.createElement(G.Fragment,null,G.createElement(lo,Object.assign({text:a},m)),G.createElement("div",Object.assign({ref:m.refs.setReference,className:Q(zh("rangeBar"),"absolute h-full rounded-tremor-full","bg-tremor-content-subtle","dark:bg-dark-tremor-content-subtle"),style:{left:`${r}%`,width:o-r+"%",transition:l?"all duration-300":""}},I))):null,G.createElement(lo,Object.assign({text:i},g)),G.createElement("div",Object.assign({ref:g.refs.setReference,className:Q(zh("markerWrapper"),"absolute right-1/2 -translate-x-1/2 w-5"),style:{left:`${n}%`,transition:l?"all 1s":""}},d),G.createElement("div",{className:Q(zh("marker"),"ring-2 mx-auto rounded-tremor-full h-4 w-1","ring-tremor-brand-inverted","dark:ring-dark-tremor-brand-inverted",s?he(s,pe.background).bgColor:"dark:bg-dark-tremor-brand bg-tremor-brand")})))});TPe.displayName="MarkerBar";const _d=Ye("ProgressBar"),LPe=G.forwardRef((e,t)=>{const{value:n,label:r,color:o,tooltip:i,showAnimation:a=!1,className:l}=e,s=Ie(e,["value","label","color","tooltip","showAnimation","className"]),{tooltipProps:c,getReferenceProps:u}=Mo();return G.createElement(G.Fragment,null,G.createElement(lo,Object.assign({text:i},c)),G.createElement("div",Object.assign({ref:t,className:Q(_d("root"),"flex items-center w-full",l)},s),G.createElement("div",Object.assign({ref:c.refs.setReference,className:Q(_d("progressBarWrapper"),"relative flex items-center w-full rounded-tremor-full bg-opacity-20 h-2",o?he(o,pe.background).bgColor:"bg-tremor-brand-muted/50 dark:bg-dark-tremor-brand-muted")},u),G.createElement("div",{className:Q(_d("progressBar"),"flex-col h-full rounded-tremor-full",o?he(o,pe.background).bgColor:"bg-tremor-brand dark:bg-dark-tremor-brand",a?"transition-all duration-300 ease-in-out":""),style:{width:`${n}%`}})),r?G.createElement("div",{className:Q(_d("labelWrapper"),"w-16 truncate text-right ml-2","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis")},G.createElement("p",{className:Q(_d("label"),"shrink-0 whitespace-nowrap truncate text-tremor-default")},r)):null))});LPe.displayName="ProgressBar";const KPe=Ye("ProgressBar"),BY={xs:{radius:15,strokeWidth:3},sm:{radius:19,strokeWidth:4},md:{radius:32,strokeWidth:6},lg:{radius:52,strokeWidth:8},xl:{radius:80,strokeWidth:10}},OPe=G.forwardRef((e,t)=>{const{value:n,size:r="md",className:o,showAnimation:i=!0,color:a,tooltip:l,radius:s,strokeWidth:c,children:u}=e,g=Ie(e,["value","size","className","showAnimation","color","tooltip","radius","strokeWidth","children"]),d=(m=n)===void 0?0:m>100?100:m;var m;const I=s??BY[r].radius,h=c??BY[r].strokeWidth,A=I-h/2,C=2*A*Math.PI,p=C-d/100*C,{tooltipProps:v,getReferenceProps:y}=Mo();return G.createElement(G.Fragment,null,G.createElement(lo,Object.assign({text:l},v)),G.createElement("div",Object.assign({ref:t,className:Q(KPe("root"),"flex flex-col items-center justify-center",o)},g),G.createElement("svg",Object.assign({ref:v.refs.setReference,width:2*I,height:2*I,viewBox:`0 0 ${2*I} ${2*I}`,className:"transform -rotate-90"},y),G.createElement("circle",{r:A,cx:I,cy:I,strokeWidth:h,fill:"transparent",stroke:"",strokeLinecap:"round",className:Q("transition-colors ease-linear",a?`${he(a,pe.background).strokeColor} opacity-20 dark:opacity-25`:"stroke-tremor-brand-muted/50 dark:stroke-dark-tremor-brand-muted")}),d>=0?G.createElement("circle",{r:A,cx:I,cy:I,strokeWidth:h,strokeDasharray:C+" "+C,strokeDashoffset:p,fill:"transparent",stroke:"",strokeLinecap:"round",className:Q("transition-colors ease-linear",a?he(a,pe.background).strokeColor:"stroke-tremor-brand dark:stroke-dark-tremor-brand",i?"transition-all duration-300 ease-in-out":"")}):null),G.createElement("div",{className:Q("absolute flex")},u)))});OPe.displayName="ProgressCircle";const T8=Ye("Tracker"),L8=G.forwardRef((e,t)=>{const{color:n,tooltip:r}=e,o=Ie(e,["color","tooltip"]),{tooltipProps:i,getReferenceProps:a}=Mo();return G.createElement("div",Object.assign({ref:Ka([t,i.refs.setReference]),className:Q(T8("trackingBlock"),"w-full h-full rounded-[1px] first:rounded-l-[4px] last:rounded-r-[4px]",he(n??"gray",pe.background).bgColor)},o,a),G.createElement(lo,Object.assign({text:r},i)))});L8.displayName="TrackerBlock";const PPe=G.forwardRef((e,t)=>{const{data:n=[],className:r}=e,o=Ie(e,["data","className"]);return G.createElement("div",Object.assign({ref:t,className:Q(T8("root"),"h-10 flex items-center space-x-0.5",r)},o),n.map((i,a)=>{var l;return G.createElement(L8,{key:(l=i.key)!==null&&l!==void 0?l:a,color:i.color,tooltip:i.tooltip})}))});PPe.displayName="Tracker";function DPe(...e){return e.filter(Boolean).join(" ")}const kY=e=>`$${Intl.NumberFormat("us").format(e).toString()}`;function zPe({users:e,category:t,card:n}){const r=e.reduce((s,c)=>s+(c.total_amount_paid||0),0),o=(s,c)=>`${s}-${String(c).padStart(2,"0")}`,i=e.map(s=>({date:o(s.year,s.month),Ventas:s.total_amount_paid,Basico:s.total_amount_paid*.7,Empresarial:s.total_amount_paid*.5})),a=n.map(s=>({date:o(s.year,s.month),Ventas:s.total_amount_paid})),l=n.reduce((s,c)=>s+(c.total_amount_paid||0),0);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex w-full",children:[f.jsxs("div",{className:"w-1/2 pr-2",children:[f.jsx("h3",{className:"text-tremor-default text-white",children:"Reporte de Ventas suscripciones"}),f.jsx("p",{className:"mt-1 text-tremor-metric font-semibold text-white",children:r.toLocaleString("es-MX",{style:"currency",currency:"MXN"})}),f.jsx(SZ,{data:i,index:"date",categories:["Ventas"],colors:["blue"],valueFormatter:kY,yAxisWidth:60,className:"mt-6 hidden h-96 sm:block"})]}),f.jsxs("div",{className:"w-1/2 pl-2",children:[f.jsx("h3",{className:"text-tremor-default text-white",children:"Reporte de Ventas tarjetas"}),f.jsx("p",{className:"mt-1 text-tremor-metric font-semibold text-white",children:l.toLocaleString("es-MX",{style:"currency",currency:"MXN"})}),f.jsx(SZ,{data:a,index:"date",categories:["Ventas"],colors:["blue"],valueFormatter:kY,yAxisWidth:60,className:"mt-6 hidden h-96 sm:block"})]})]}),f.jsxs(Y8,{className:"mt-8",children:[f.jsx(F8,{children:f.jsxs(FZ,{className:"border-b border-tremor-border dark:border-dark-tremor-border",children:[f.jsx(BC,{className:"text-white",children:"Nombre"}),f.jsx(BC,{className:"text-right text-white",children:"Ventas"}),f.jsx(BC,{className:"text-right text-white",children:"Ingresos"})]})}),f.jsx(H8,{children:t.map(s=>f.jsxs(FZ,{children:[f.jsx(GC,{className:"font-medium text-white",children:f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("span",{style:{backgroundColor:`hsl(25, 100%, ${Math.floor(Math.random()*50)+40}%)`},className:DPe("w-1  shrink-0 rounded"),"aria-hidden":!0}),f.jsx("span",{className:"text-white",children:s.name_plan})]})}),f.jsx(GC,{className:"text-right text-white",children:s.total_sales}),f.jsx(GC,{className:"text-right text-white",children:s.total_amount_paid.toLocaleString("es-MX",{style:"currency",currency:"MXN",minimumFractionDigits:2,maximumFractionDigits:2})})]},s.plan_id))})]})]})}const UPe=()=>{const[e,t]=b.useState([]),[n,r]=b.useState([]),[o,i]=b.useState([]),a=yn(),l=async()=>{const{data:u}=await a.listAnalytics();t(u.data)},s=async()=>{const{data:u}=await a.listCardAnalytics();r(u.data)},c=async()=>{const{data:u}=await a.listCategoryAnalytics();i(u.data)};return b.useEffect(()=>{l(),c(),s()},[]),f.jsx("div",{children:f.jsx("main",{children:f.jsx(zPe,{category:o,card:n,users:e})})})};const _Pe=({open:e,setOpen:t,modalInfo:n})=>f.jsx(f.Fragment,{children:f.jsxs(Hn,{open:e,onClose:t,className:"relative z-10",children:[f.jsx(qG,{transition:!0,className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity data-[closed]:opacity-0 data-[enter]:duration-300 data-[leave]:duration-200 data-[enter]:ease-out data-[leave]:ease-in"}),f.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:f.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:f.jsxs(QA,{transition:!0,className:"relative qr-dialog transform overflow-hidden rounded-lg px-4 pb-4 pt-5 text-left shadow-xl transition-all data-[closed]:translate-y-4 data-[closed]:opacity-0 data-[enter]:duration-300 data-[leave]:duration-200 data-[enter]:ease-out data-[leave]:ease-in sm:my-8 sm:w-full sm:max-w-lg sm:p-6 data-[closed]:sm:translate-y-0 data-[closed]:sm:scale-95",children:[f.jsx(oG,{color:"white",size:25,className:"right-6 top-6 absolute cursor-pointer",onClick:()=>{t(!1)}}),f.jsx("div",{children:f.jsxs("div",{className:"mx-auto flex  flex-col items-center justify-center m-2",children:[f.jsxs("div",{className:"mt-2 w-full",children:[f.jsx("label",{className:"py-2 text-sm text-white font-semibold",children:"Nombre del cliente"}),f.jsx("input",{className:"border bg-gray-50 text-sm rounded-md p-2 w-full",name:"nameClient",value:n.fullname||"sin asignar"})]}),f.jsxs("div",{className:"grid grid-cols-2",children:[f.jsxs("div",{className:"mt-2 mr-2",children:[f.jsx("label",{className:"py-2 text-sm text-white font-semibold",children:"Municipio"}),f.jsx("input",{className:"border bg-gray-50  text-sm rounded-md p-2 w-full",name:"nameClient",value:n.municipality||"sin asignar"})]}),f.jsxs("div",{className:"mt-2",children:[f.jsx("label",{className:"py-2 text-sm text-white font-semibold",children:"Código postal"}),f.jsx("input",{className:"border bg-gray-50 text-sm rounded-md p-2 w-full",name:"nameClient",value:n.postal_code||"sin asignar"})]})]}),f.jsxs("div",{className:"mt-2 w-full",children:[f.jsx("label",{className:"py-2 text-sm text-white font-semibold",children:"Direccion"}),f.jsx("input",{className:"border bg-gray-50 text-sm rounded-md p-2 w-full",name:"nameClient",value:n.street||"sin asignar"})]}),f.jsxs("div",{className:"grid grid-cols-2",children:[f.jsxs("div",{className:"mt-2 mr-2",children:[f.jsx("label",{className:"py-2 text-sm text-white font-semibold",children:"Estado"}),f.jsx("input",{className:"border bg-gray-50 text-sm rounded-md p-2 w-full",name:"nameClient",value:n.state||"sin asignar"})]}),f.jsxs("div",{className:"mt-2 ",children:[f.jsx("label",{className:"py-2 text-sm text-white font-semibold",children:"Numero exterior"}),f.jsx("input",{className:"border bg-gray-50 text-sm rounded-md p-2 w-full",name:"nameClient",value:n.outdoor_num||"sin asignar"})]})]}),f.jsxs("div",{className:"grid grid-cols-2",children:[f.jsxs("div",{className:"mt-2 mr-2",children:[f.jsx("label",{className:"py-2 text-sm text-white font-semibold",children:"Numero de telefono"}),f.jsx("input",{className:"border bg-gray-50 text-sm rounded-md p-2 w-full",name:"nameClient",value:n.contact_phone||"sin asignar"})]}),f.jsxs("div",{className:"mt-2 ",children:[f.jsx("label",{className:"py-2 text-sm text-white font-semibold",children:"Colonia"}),f.jsx("input",{className:"border bg-gray-50 text-sm rounded-md p-2 w-full",name:"nameClient",value:n.colony||"sin asignar"})]})]}),f.jsxs("div",{className:"mt-2 w-full",children:[f.jsx("label",{className:"py-2 text-sm text-white font-semibold",children:"Otras indicaciones"}),f.jsx("input",{className:"border bg-gray-50 text-sm rounded-md p-2 w-full",name:"nameClient",value:n.other_indications||"sin asignar"})]})]})})]})})})]})});function QPe({items:e,updateTarjetasDetail:t}){const[n,r]=b.useState(!1),[o,i]=b.useState({id_order_card:"",nameClient:"",tracking_number:"",createdAt:"",url_order:"",total:"",tracking_status:""});b.useEffect(()=>{e&&i({id_order_card:e.id_order_card,type_address:e.type_address,nameClient:e.nameClient||"",tracking_url:e.tracking_url||"",createdAt:e.createdAt,url_order:e.url_order||"",total:e.total||"",tracking_status:e.tracking_status||""})},[e]);const a=c=>{const{name:u,value:g}=c.target;i(d=>({...d,[u]:g}))},l=()=>{t(o,o.id_order_card)},s=new Date(o.createdAt).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return f.jsxs("div",{className:"h-[90vh] relative",children:[f.jsx(_Pe,{setOpen:r,open:n,modalInfo:e==null?void 0:e.address}),f.jsxs("div",{children:[f.jsxs("div",{className:"mt-2",children:[f.jsx("label",{className:"py-2 text-sm font-semibold",children:"Nombre del cliente"}),f.jsx("input",{className:"border bg-gray-50 text-sm rounded-md p-2 w-full",name:"nameClient",value:o.nameClient||"Sin nombre",onChange:a})]}),f.jsxs("div",{className:"mt-2",children:[f.jsx("label",{className:"py-2 text-sm font-semibold",children:"Fecha"}),f.jsx("input",{className:"border bg-gray-50 text-sm rounded-md p-2 w-full",name:"createdAt",value:s,readOnly:!0})]}),f.jsxs("div",{className:"mt-2",children:[f.jsx("label",{className:"py-2 text-sm font-semibold",children:"Estatus"}),f.jsxs("select",{className:"border bg-gray-50 text-sm rounded-md p-2 w-full",name:"tracking_status",value:o.tracking_status,onChange:a,children:[f.jsx("option",{value:"Pendiente",children:"Pendiente"}),f.jsx("option",{value:"En transito",children:"En transito"}),f.jsx("option",{value:"Pagado",children:"Pagado"}),f.jsx("option",{value:"Terminado",children:"Terminado"})]})]}),f.jsxs("div",{className:"mt-2",children:[f.jsx("label",{className:"py-2 text-sm font-semibold",children:"Envio"}),f.jsxs("select",{className:"border bg-gray-50 text-sm rounded-md p-2 w-full",name:"tracking_status",value:o.type_address,onChange:a,children:[f.jsx("option",{value:0,children:"Gratis (2-5 dias habiles)"}),f.jsx("option",{value:1,children:"250.00 (1-2 dias habiles)"})]})]}),f.jsxs("div",{className:"mt-2",children:[f.jsx("label",{className:"py-2 text-sm font-semibold",children:"Url paquete"}),f.jsx("input",{className:"border bg-gray-50 text-sm rounded-md p-2 w-full",name:"tracking_url",value:o.tracking_url,onChange:a})]}),f.jsxs("div",{className:"mt-2",children:[f.jsx("label",{className:"py-2 text-sm font-semibold",children:"Total"}),f.jsx("input",{className:"border bg-gray-50 text-sm rounded-md p-2 w-full",name:"tracking_number",value:o.total||0,readOnly:!0})]}),f.jsxs("div",{className:"mt-2",children:[f.jsx("label",{className:"py-2 text-sm font-semibold",children:"Direccion"}),f.jsx("button",{onClick:()=>{r(!0)},className:"border bg-gray-50 text-sm rounded-md p-2 w-full",name:"tracking_number",children:"ver direccion"})]})]}),f.jsxs("button",{className:"w-full absolute bottom-0 left-0 h-10 rounded-md text-sm flex items-center justify-center text-white bg-orange-600 mt-10",onClick:l,children:[f.jsx(o4,{className:"mr-2"}),"Actualizar"]})]})}const $Pe=()=>{const[e,t]=b.useState([]),[n,r]=b.useState({}),o=yn(),[i,a]=b.useState(),[l,s]=b.useState(!1),c=h=>{navigator.clipboard.writeText(h)},u=async()=>{const{data:h}=await o.listCards();r(h.stats)},g=async()=>{const{data:h}=await o.listOrderCards();t(h.orderCards)},d=async(h,A)=>{const C=Re.loading("Actualizando");try{const{data:p}=await o.updateTarjetadetail(h,A);g(),Re.success("Orden actualizada",{id:C})}catch{Re.error("error al actualizar",{id:C})}};function m(){s(!1)}function I(h){a(h),s(!0)}return b.useEffect(()=>{g(),u()},[]),f.jsx("div",{children:f.jsxs("main",{children:[f.jsx(Mn,{position:"top-left",richColors:!0}),f.jsx(Ab,{closeDrawer:m,isOpen:l,children:f.jsx(QPe,{updateTarjetasDetail:d,items:i})}),f.jsxs("div",{className:"border-t border-white/10 pt-11",children:[f.jsx("h2",{className:"px-4 text-base font-semibold leading-7 text-white sm:px-6 lg:px-8",children:"Latest activity"}),f.jsx("div",{className:"overflow-x-auto mt-6",children:f.jsxs("table",{className:"mt-6 w-full whitespace-nowrap text-left",children:[f.jsxs("colgroup",{children:[f.jsx("col",{className:"w-full sm:w-4/12"}),f.jsx("col",{className:"lg:w-4/12"}),f.jsx("col",{className:"lg:w-2/12"}),f.jsx("col",{className:"lg:w-1/12"}),f.jsx("col",{className:"lg:w-1/12"})]}),f.jsx("thead",{className:"border-b border-white/10 text-sm leading-6 text-white",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"py-2 pl-4 pr-8 font-semibold sm:pl-6 lg:pl-8",children:"ID Orden"}),f.jsx("th",{scope:"col",className:"hidden py-2 pl-0 pr-8 font-semibold sm:table-cell",children:"Fecha de creación"}),f.jsx("th",{scope:"col",className:"hidden py-2 pl-0 pr-8 font-semibold md:table-cell",children:"Tracking paquete"}),f.jsx("th",{scope:"col",className:"hidden py-2 pl-0 pr-4 text-right font-semibold sm:table-cell sm:pr-6 lg:pr-8",children:"Nombre contacto"}),f.jsx("th",{scope:"col",className:"hidden py-2 pl-0 pr-4 font-semibold sm:table-cell",children:"Estatus"}),f.jsx("th",{scope:"col",className:"hidden py-2 pl-0 pr-4 text-right font-semibold sm:table-cell sm:pr-6 lg:pr-8",children:"Acciones"})]})}),f.jsx("tbody",{className:"divide-y divide-white/5",children:e==null?void 0:e.map(h=>f.jsxs("tr",{children:[f.jsx("td",{className:"py-4 pl-4 pr-8 sm:pl-6 lg:pl-8 text-white",children:h.id_order_card}),f.jsx("td",{className:"hidden py-4 pl-0 pr-4 sm:table-cell sm:pr-8",children:f.jsx("div",{className:"font-mono text-sm leading-6 text-gray-400",children:h.createdAt.slice(0,10)})}),f.jsx("td",{onClick:()=>c(h.tracking_url),className:"py-4 pl-0 pr-4 text-sm leading-6 text-white",children:f.jsx("p",{className:"cursor-pointer ",children:"Copiar"})}),f.jsx("td",{className:"py-4 pl-0 pr-4 text-sm leading-6 text-white",children:h.nameClient||"sin nombre"}),f.jsx("td",{className:"py-4 pl-0 pr-4 text-sm leading-6 text-white",children:h.tracking_status}),f.jsx("td",{onClick:()=>I(h),className:"py-4 pl-0 pr-4 text-sm leading-6 sm:pr-8 lg:pr-20 text-orange-600 cursor-pointer hover:text-white",children:"Ver"})]},h.id_order_card))})]})})]})]})})},RY=()=>{const[e,t]=b.useState("Usuarios"),n=[{name:"Ordenes"},{name:"Usuarios"},{name:"Ventas"},{name:"Tarjetas"}];function r(...o){return o.filter(Boolean).join(" ")}return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"border-b border-gray-200 pb-5 sm:pb-0 mt-12 mx-4",children:[f.jsx("h3",{className:"text-base font-semibold leading-6",children:"Know Me Admin Panel"}),f.jsxs("div",{className:"mt-3 sm:mt-4",children:[f.jsxs("div",{className:"sm:hidden",children:[f.jsx("label",{htmlFor:"current-tab",className:"sr-only",children:"Select a tab"}),f.jsx("select",{id:"current-tab",name:"current-tab",value:e,onChange:o=>t(o.target.value),className:"bg-white block w-full rounded-md border-gray-300 py-2 pl-3 pr-10 text-base focus:border-orange-500 focus:outline-none focus:ring-orange-500 sm:text-sm",children:n.map(o=>f.jsx("option",{onClick:()=>{t(o.name)},children:o.name},o.name))})]}),f.jsx("div",{className:"hidden sm:block",children:f.jsx("nav",{className:"-mb-px flex space-x-8",children:n.map(o=>f.jsx("a",{onClick:()=>{t(o.name)},"aria-current":o.name==e?"page":void 0,className:r(o.name==e?"border-orange-500 text-orange-600 cursor-pointer":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","whitespace-nowrap border-b-2 px-1 pb-2 text-sm font-medium cursor-pointer"),children:o.name},o.name))})})]})]}),f.jsxs("div",{className:"pb-5 sm:pb-0 mt-4 mx-4",children:[e=="Tarjetas"?f.jsx(QAe,{}):f.jsx(f.Fragment,{}),e=="Usuarios"?f.jsx(qAe,{}):f.jsx(f.Fragment,{}),e=="Ventas"?f.jsx(UPe,{}):f.jsx(f.Fragment,{}),e=="Ordenes"?f.jsx($Pe,{}):f.jsx(f.Fragment,{})]})]})},VY=()=>{const[e,t]=b.useState({fullname:"",work_home:"",street:"",outdoor_num:"",interior_num:"",other_indications:"",contact_phone:"",municipality:"",street_1:"null",street_2:"null",state:"",postal_code:"",colony:""}),[n,r]=b.useState({}),o=yn(),i=xr(),{total:a,id_order_card:l}=i.state||{},s=Zt(),c=()=>{let d={};return Object.keys(e).forEach(m=>{e[m]||(d[m]="Campo obligatorio")}),r(d),Object.keys(d).length===0},u=async()=>{c()&&(await o.postAdressDetail(e),s("/adressorder",{state:{total:a,id_order_card:l}}))},g=d=>{const{name:m,value:I}=d.target;t(h=>({...h,[m]:I})),r(h=>({...h,[m]:""}))};return f.jsxs("div",{className:"grid max-w-7xl grid-cols-1 gap-x-8 gap-y-10 px-4 py-16 sm:px-6 md:grid-cols-3 lg:px-8",children:[f.jsxs("div",{className:"block lg:flex  items-center sm:col-span-3 justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-base font-semibold leading-7 text-white",children:"Información de envío"}),f.jsx("p",{className:"mt-1 text-sm leading-6 text-gray-400",children:"Por favor, completa la información de envío para tu paquete."})]}),f.jsxs("button",{onClick:u,className:"text-sm my-2 lg:w-60 w-full text-center py-2 flex items-center justify-center  rounded-md bg-orange-500 px-10 text-white",children:[f.jsx(gee,{className:"mr-2"})," Crear Dirección"]})]}),[{label:"Nombre completo",name:"fullname"},{label:"¿Con qué nombre quieres guardar este domicilio?",name:"work_home"},{label:"Calle",name:"street"},{label:"Número exterior",name:"outdoor_num"},{label:"Número interior",name:"interior_num"},{label:"Referencias",name:"other_indications"},{label:"Celular",name:"contact_phone",type:"tel"},{label:"Ciudad",name:"municipality"},{label:"Estado",name:"state"},{label:"Código Postal",name:"postal_code"},{label:"Colonia",name:"colony"}].map(({label:d,name:m,type:I="text"})=>f.jsxs("div",{className:"sm:col-span-3",children:[f.jsx("label",{htmlFor:m,className:"block text-sm font-medium leading-6 text-white",children:d}),f.jsxs("div",{className:"mt-2",children:[f.jsx("input",{value:e[m],onChange:g,id:m,name:m,type:I,autoComplete:"off",className:"px-1.5 block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-orange-500 sm:text-sm sm:leading-6"}),n[m]&&f.jsx("p",{className:"mt-1 text-xs text-red-500",children:n[m]})]})]},m))]})},WY=()=>{const e=xr(),{total:t,id_order_card:n}=e.state||{},r=yn(),o="https://api.knowmeapp.com",i=async()=>{const{data:A}=await r.getAdressOrder();s(A)},a=async A=>{await r.deleteAdressOrder(A),i()},[l,s]=b.useState([]),[c,u]=b.useState([]),g=Zt();b.useEffect(()=>{i()},[]);const d=(A,C)=>{u(p=>p.some(v=>v.id===A)?[]:[{id:A,name:C}])},m=localStorage.getItem("token"),{user:I}=b.useContext(kn),h=async()=>{try{const{data:A}=await ve.post(`${o}/api/payment/pay`,{id_order_card:n,id_address_fk:c[0].id,id_user_fk:I.id},{headers:{"x-token":m}});window.open(A.url,"_self")}catch(A){console.error("Error al crear la sesión de pago:",A)}};return f.jsxs("div",{className:"grid w-full   px-4 py-16",children:[f.jsxs("div",{className:"flex justify-end   mb-10",children:[f.jsxs("button",{onClick:()=>g("/orderdetail",{state:{total:t,id_order_card:n}}),className:"bg-orange-500 text-white rounded-md px-10 py-2 flex items-center",children:["Agregar direccion ",f.jsx(zj,{className:"ml-1"})]}),f.jsxs("button",{onClick:c.length!==0?h:null,className:`bg-orange-500 text-white ${c.length!==0?"":"bg-opacity-65"} rounded-md px-10 py-2 ml-2 flex items-center`,children:["Pagar tarjetas ",f.jsx(Uj,{className:"ml-1"})]})]}),f.jsx("div",{className:"w-full",children:l&&l.addresses&&l.addresses.length>0?l.addresses.map(A=>f.jsxs("div",{onClick:()=>d(A.id_address,A.work_home),className:` ${c.some(C=>C.id===A.id_address)?"border-2 ":""} max-w-7xl cursor-pointer  flex flex-col items-end rounded-xl w-full mb-4`,children:[f.jsxs("div",{className:"flex justify-between w-full",children:[f.jsx("button",{onClick:()=>a(A.id_address),className:"bg-red-100 text-red-700 m-2 p-2 rounded-md",children:f.jsx(dee,{})}),f.jsx("button",{className:`h-5 w-5 border m-2 ${c.some(C=>C.id===A.id_address)?"bg-white":""} rounded-full`})]}),f.jsx("div",{className:"flex   w-full justify-start  px-2 mb-4",children:f.jsxs("div",{className:"text-white   text-sm ml-10",children:[f.jsx("h3",{className:"text-2xl text-orange-700 rounded-md px-2 text-center bg-orange-700 bg-opacity-35 font-bold my-2",children:A.work_home}),f.jsx("p",{children:A.street}),f.jsx("p",{children:A.phone}),f.jsx("p",{children:A.neighborhood}),f.jsx("p",{children:A.postal_code}),f.jsx("p",{children:A.municipality}),f.jsx("p",{children:A.colony}),f.jsx("p",{children:A.other_indications})]})})]},A.id_address)):f.jsx("p",{className:"text-white",children:"No hay direcciones añadidas."})})]})};function pR({color:e,...t}){let n=b.useId();return f.jsxs("svg",{viewBox:"0 0 558 558",width:"558",height:"558",fill:"none","aria-hidden":"true",...t,children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:n,x1:"79",y1:"16",x2:"105",y2:"237",gradientUnits:"userSpaceOnUse",children:[f.jsx("stop",{stopColor:e}),f.jsx("stop",{offset:"1",stopColor:e,stopOpacity:"0"})]})}),f.jsx("path",{opacity:".2",d:"M1 279C1 125.465 125.465 1 279 1s278 124.465 278 278-124.465 278-278 278S1 432.535 1 279Z",stroke:e}),f.jsx("path",{d:"M1 279C1 125.465 125.465 1 279 1",stroke:`url(#${n})`,strokeLinecap:"round"})]})}function Na({className:e,...t}){return f.jsx("div",{className:Ve("mx-auto  max-w-7xl px-4 sm:px-6 lg:px-8",e),...t})}const qPe={solid:"inline-flex justify-center rounded-lg py-2 px-3 text-sm font-semibold outline-2 outline-offset-2 transition-colors",outline:"inline-flex justify-center rounded-lg border py-[calc(theme(spacing.2)-1px)] px-[calc(theme(spacing.3)-1px)] text-sm outline-2 outline-offset-2 transition-colors"},NY={solid:{cyan:"relative overflow-hidden bg-cyan-500 text-white before:absolute before:inset-0 active:before:bg-transparent hover:before:bg-white/10 active:bg-cyan-600 active:text-white/80 before:transition-colors",white:"bg-white text-cyan-900 hover:bg-white/90 active:bg-white/90 active:text-cyan-900/70",gray:"bg-gray-800 text-white hover:bg-gray-900 active:bg-gray-800 active:text-white/80"},outline:{gray:"border-gray-300 text-gray-700 hover:border-gray-400 active:bg-gray-100 active:text-gray-700/80"}};function Bl({className:e,...t}){return t.variant??(t.variant="solid"),t.color??(t.color="gray"),e=Ve(qPe[t.variant],t.variant==="outline"?NY.outline[t.color]:t.variant==="solid"?NY.solid[t.color]:void 0,e),typeof t.href>"u"?f.jsx("button",{className:e,...t}):f.jsx("a",{className:e,...t})}function eDe(){const e=Zt();return f.jsxs("section",{id:"get-free-shares-today",className:"relative overflow-hidden  py-20 sm:py-28",children:[f.jsx("div",{className:"absolute left-20 top-1/2 -translate-y-1/2 sm:left-1/2 sm:-translate-x-1/2",children:f.jsx(pR,{color:"#fff",className:"animate-spin-slower"})}),f.jsx(Na,{className:"relative",children:f.jsxs("div",{className:"mx-auto max-w-md sm:text-center",children:[f.jsx("h2",{className:"text-3xl font-medium tracking-tight text-white sm:text-4xl",children:"¡No esperes más! Únete a la revolución del networking!"}),f.jsx("p",{className:"mt-4 text-lg text-gray-300",children:"Descubre cómo Knowme puede ayudarte a impulsar tu negocio y alcanzar tus objetivos. Crea tu tarjeta de presentación digital gratis y comienza a conectar con el mundo de una forma innovadora."}),f.jsx("div",{className:"mt-8 flex justify-center",children:f.jsx(Bl,{onClick:()=>e("/register"),className:"bg-orange-600",children:"Empezar ahora"})})]})})]})}const tDe=[[{question:"¿Qué es Know Me?",answer:"Know Me es una plataforma diseñada para ayudarte a gestionar tu identidad digital de forma profesional y efectiva. Puedes crear, personalizar y compartir tu perfil para destacar en entornos laborales, educativos o personales."},{question:"¿Para que sirve Knowme?",answer:"Con Knowme puedes compartir tu información de contacto de forma rápida y sencilla. Es ideal para profesionales, creadores de contenido, influencers y cualquier persona que quiera centralizar su presencia online y tener todos sus enlaces en un solo lugar."},{question:"¿Para que sirve Knowme?",answer:"Crea una cuenta, personaliza tu perfil con tu foto, nombre y descripción, y agrega enlaces a tus plataformas, y mucho más. ¡Comparte tu enlace de Knowme con quien quieras!"},{question:"¿Con quién puedo compartir mi perfil?",answer:`Tu perfil es ideal para compartirlo con:
Reclutadores o empleadores potenciales.
Redes de contactos profesionales.
Instituciones educativas o colaboraciones.
`}],[{question:"¿Que es NFC?",answer:"NFC, siglas de Near Field Communication (Comunicación de Campo Cercano), es una tecnología de comunicación inalámbrica de corto alcance que permite la transferencia de datos entre dispositivos que están a una distancia de unos pocos centímetros, generalmente menos de 10 cm. Algunos dispositivos móviles no cuentan con esta tecnología, pero para esos casos tu tarjeta tiene un código QR que lleva a tu información."},{question:"¿Cómo creo mi perfil en Know Me?",answer:`Crear tu perfil es muy fácil:
Regístrate en [enlace al sitio web].
Selecciona tu plan
Completa tus datos básicos y añade tu foto.
Personaliza secciones como experiencia laboral, educación y habilidades.
¡Listo! Tu perfil estará disponible para compartir.
`},{question:"¿Es Know Me gratuito?",answer:"Ofrecemos una versión gratuita que incluye funcionalidades básicas para crear y compartir tu perfil. También contamos con planes premium que desbloquean herramientas avanzadas. (ver planes)"},{question:"incluir un portafolio en mi perfil?",answer:"¡Claro! Know Me permite adjuntar archivos, imágenes, videos o enlaces a tus proyectos para crear un portafolio profesional que muestre tu talento."}],[{question:"¿Cómo comparto mi perfil?",answer:`Puedes compartir tu perfil a través de:
Un enlace personalizado que podrás enviar por correo o redes sociales.
Código QR que otros pueden escanear para acceder a tu información.
`},{question:"¿Qué beneficios tiene la versión premium?",answer:"Ver detalles de planes"},{question:"¿Es seguro usar Know Me?",answer:"Sí, la seguridad de tu información es nuestra prioridad. Contamos con encriptación avanzada y cumplimos con los estándares internacionales de protección de datos."},{question:"¿Puedo editar mi perfil después de crearlo?",answer:"Por supuesto. Puedes actualizar y modificar tu perfil en cualquier momento desde tu cuenta. Los cambios se reflejarán automáticamente en el enlace compartido."}]];function nDe(){return f.jsx("section",{id:"faqs","aria-labelledby":"faqs-title",className:"border-t border-gray-200 bg-white py-20 sm:py-32",children:f.jsxs(Na,{children:[f.jsxs("div",{className:"mx-auto  lg:mx-0",children:[f.jsx("h2",{id:"faqs-title",className:"text-3xl   font-medium tracking-tight text-gray-900",children:"Preguntas frecuentes"}),f.jsxs("p",{className:"mt-2 text-lg text-gray-600",children:["Si tienes algo más que quieras preguntar,"," ",f.jsx("a",{href:"mailto:admon@inxeniux.com",className:"text-gray-900 underline",children:"preguntanos a nosotros"}),"."]})]}),f.jsx("ul",{role:"list",className:"mx-auto mt-16 grid max-w-2xl grid-cols-1 gap-8 sm:mt-20 lg:max-w-none lg:grid-cols-3",children:tDe.map((e,t)=>f.jsx("li",{children:f.jsx("ul",{role:"list",className:"space-y-10",children:e.map((n,r)=>f.jsxs("li",{children:[f.jsx("h3",{className:"text-lg font-semibold leading-6 text-gray-900",children:n.question}),f.jsx("p",{className:"mt-4 text-sm text-gray-700",children:n.answer})]},r))})},t))})]})})}const K8=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),xv=b.createContext({}),Sv=b.createContext(null),Zv=typeof document<"u",AR=Zv?b.useLayoutEffect:b.useEffect,O8=b.createContext({strict:!1}),bR=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),rDe="framerAppearId",P8="data-"+bR(rDe);function oDe(e,t,n,r){const{visualElement:o}=b.useContext(xv),i=b.useContext(O8),a=b.useContext(Sv),l=b.useContext(K8).reducedMotion,s=b.useRef();r=r||i.renderer,!s.current&&r&&(s.current=r(e,{visualState:t,parent:o,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=s.current;b.useInsertionEffect(()=>{c&&c.update(n,a)});const u=b.useRef(!!(n[P8]&&!window.HandoffComplete));return AR(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),b.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function xu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function iDe(e,t,n){return b.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):xu(n)&&(n.current=r))},[t])}function Um(e){return typeof e=="string"||Array.isArray(e)}function wv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const vR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yR=["initial",...vR];function Gv(e){return wv(e.animate)||yR.some(t=>Um(e[t]))}function D8(e){return!!(Gv(e)||e.variants)}function aDe(e,t){if(Gv(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Um(n)?n:void 0,animate:Um(r)?r:void 0}}return e.inherit!==!1?t:{}}function lDe(e){const{initial:t,animate:n}=aDe(e,b.useContext(xv));return b.useMemo(()=>({initial:t,animate:n}),[EY(t),EY(n)])}function EY(e){return Array.isArray(e)?e.join(" "):e}const XY={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_m={};for(const e in XY)_m[e]={isEnabled:t=>XY[e].some(n=>!!t[n])};function sDe(e){for(const t in e)_m[t]={..._m[t],...e[t]}}const xR=b.createContext({}),z8=b.createContext({}),cDe=Symbol.for("motionComponentSymbol");function uDe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&sDe(e);function i(l,s){let c;const u={...b.useContext(K8),...l,layoutId:gDe(l)},{isStatic:g}=u,d=lDe(l),m=r(l,g);if(!g&&Zv){d.visualElement=oDe(o,m,u,t);const I=b.useContext(z8),h=b.useContext(O8).strict;d.visualElement&&(c=d.visualElement.loadFeatures(u,h,e,I))}return b.createElement(xv.Provider,{value:d},c&&d.visualElement?b.createElement(c,{visualElement:d.visualElement,...u}):null,n(o,l,iDe(m,d.visualElement,s),m,g,d.visualElement))}const a=b.forwardRef(i);return a[cDe]=o,a}function gDe({layoutId:e}){const t=b.useContext(xR).id;return t&&e!==void 0?t+"-"+e:e}function dDe(e){function t(r,o={}){return uDe(e(r,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const fDe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function SR(e){return typeof e!="string"||e.includes("-")?!1:!!(fDe.indexOf(e)>-1||/[A-Z]/.test(e))}const P0={};function mDe(e){Object.assign(P0,e)}const HI=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Kc=new Set(HI);function U8(e,{layout:t,layoutId:n}){return Kc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!P0[e]||e==="opacity")}const Mr=e=>!!(e&&e.getVelocity),IDe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hDe=HI.length;function CDe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,o){let i="";for(let a=0;a<hDe;a++){const l=HI[a];if(e[l]!==void 0){const s=IDe[l]||l;i+=`${s}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(e,r?"":i):n&&r&&(i="none"),i}const _8=e=>t=>typeof t=="string"&&t.startsWith(e),Q8=_8("--"),MZ=_8("var(--"),pDe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,ADe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,es=(e,t,n)=>Math.min(Math.max(n,e),t),Oc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Nf={...Oc,transform:e=>es(0,1,e)},Uh={...Oc,default:1},Ef=e=>Math.round(e*1e5)/1e5,Bv=/(-)?([\d]*\.?[\d])+/g,$8=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,bDe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function FI(e){return typeof e=="string"}const MI=e=>({test:t=>FI(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),nl=MI("deg"),Mi=MI("%"),Me=MI("px"),vDe=MI("vh"),yDe=MI("vw"),JY={...Mi,parse:e=>Mi.parse(e)/100,transform:e=>Mi.transform(e*100)},YY={...Oc,transform:Math.round},q8={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,radius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,size:Me,top:Me,right:Me,bottom:Me,left:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,rotate:nl,rotateX:nl,rotateY:nl,rotateZ:nl,scale:Uh,scaleX:Uh,scaleY:Uh,scaleZ:Uh,skew:nl,skewX:nl,skewY:nl,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:Nf,originX:JY,originY:JY,originZ:Me,zIndex:YY,fillOpacity:Nf,strokeOpacity:Nf,numOctaves:YY};function ZR(e,t,n,r){const{style:o,vars:i,transform:a,transformOrigin:l}=e;let s=!1,c=!1,u=!0;for(const g in t){const d=t[g];if(Q8(g)){i[g]=d;continue}const m=q8[g],I=ADe(d,m);if(Kc.has(g)){if(s=!0,a[g]=I,!u)continue;d!==(m.default||0)&&(u=!1)}else g.startsWith("origin")?(c=!0,l[g]=I):o[g]=I}if(t.transform||(s||r?o.transform=CDe(e.transform,n,u,r):o.transform&&(o.transform="none")),c){const{originX:g="50%",originY:d="50%",originZ:m=0}=l;o.transformOrigin=`${g} ${d} ${m}`}}const wR=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eU(e,t,n){for(const r in t)!Mr(t[r])&&!U8(r,n)&&(e[r]=t[r])}function xDe({transformTemplate:e},t,n){return b.useMemo(()=>{const r=wR();return ZR(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function SDe(e,t,n){const r=e.style||{},o={};return eU(o,r,e),Object.assign(o,xDe(e,t,n)),e.transformValues?e.transformValues(o):o}function ZDe(e,t,n){const r={},o=SDe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const wDe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function D0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||wDe.has(e)}let tU=e=>!D0(e);function GDe(e){e&&(tU=t=>t.startsWith("on")?!D0(t):e(t))}try{GDe(require("@emotion/is-prop-valid").default)}catch{}function BDe(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(tU(o)||n===!0&&D0(o)||!t&&!D0(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function HY(e,t,n){return typeof e=="string"?e:Me.transform(t+n*e)}function kDe(e,t,n){const r=HY(t,e.x,e.width),o=HY(n,e.y,e.height);return`${r} ${o}`}const RDe={offset:"stroke-dashoffset",array:"stroke-dasharray"},VDe={offset:"strokeDashoffset",array:"strokeDasharray"};function WDe(e,t,n=1,r=0,o=!0){e.pathLength=1;const i=o?RDe:VDe;e[i.offset]=Me.transform(-r);const a=Me.transform(t),l=Me.transform(n);e[i.array]=`${a} ${l}`}function GR(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:s=0,...c},u,g,d){if(ZR(e,c,u,d),g){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:I,dimensions:h}=e;m.transform&&(h&&(I.transform=m.transform),delete m.transform),h&&(o!==void 0||i!==void 0||I.transform)&&(I.transformOrigin=kDe(h,o!==void 0?o:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),a!==void 0&&WDe(m,a,l,s,!1)}const nU=()=>({...wR(),attrs:{}}),BR=e=>typeof e=="string"&&e.toLowerCase()==="svg";function NDe(e,t,n,r){const o=b.useMemo(()=>{const i=nU();return GR(i,t,{enableHardwareAcceleration:!1},BR(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};eU(i,e.style,e),o.style={...i,...o.style}}return o}function EDe(e=!1){return(n,r,o,{latestValues:i},a)=>{const s=(SR(n)?NDe:ZDe)(r,i,a,n),u={...BDe(r,typeof n=="string",e),...s,ref:o},{children:g}=r,d=b.useMemo(()=>Mr(g)?g.get():g,[g]);return b.createElement(n,{...u,children:d})}}function rU(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const oU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iU(e,t,n,r){rU(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(oU.has(o)?o:bR(o),t.attrs[o])}function kR(e,t){const{style:n}=e,r={};for(const o in n)(Mr(n[o])||t.style&&Mr(t.style[o])||U8(o,e))&&(r[o]=n[o]);return r}function aU(e,t){const n=kR(e,t);for(const r in e)if(Mr(e[r])||Mr(t[r])){const o=HI.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}function RR(e,t,n,r={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),t}function lU(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const z0=e=>Array.isArray(e),XDe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),JDe=e=>z0(e)?e[e.length-1]||0:e;function kC(e){const t=Mr(e)?e.get():e;return XDe(t)?t.toValue():t}function YDe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,i){const a={latestValues:HDe(r,o,i,e),renderState:t()};return n&&(a.mount=l=>n(r,l,a)),a}const sU=e=>(t,n)=>{const r=b.useContext(xv),o=b.useContext(Sv),i=()=>YDe(e,t,r,o);return n?i():lU(i)};function HDe(e,t,n,r){const o={},i=r(e,{});for(const d in i)o[d]=kC(i[d]);let{initial:a,animate:l}=e;const s=Gv(e),c=D8(e);t&&c&&!s&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let u=n?n.initial===!1:!1;u=u||a===!1;const g=u?l:a;return g&&typeof g!="boolean"&&!wv(g)&&(Array.isArray(g)?g:[g]).forEach(m=>{const I=RR(e,m);if(!I)return;const{transitionEnd:h,transition:A,...C}=I;for(const p in C){let v=C[p];if(Array.isArray(v)){const y=u?v.length-1:0;v=v[y]}v!==null&&(o[p]=v)}for(const p in h)o[p]=h[p]}),o}const cn=e=>e;class FY{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function FDe(e){let t=new FY,n=new FY,r=0,o=!1,i=!1;const a=new WeakSet,l={schedule:(s,c=!1,u=!1)=>{const g=u&&o,d=g?t:n;return c&&a.add(s),d.add(s)&&g&&o&&(r=t.order.length),s},cancel:s=>{n.remove(s),a.delete(s)},process:s=>{if(o){i=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const u=t.order[c];u(s),a.has(u)&&(l.schedule(u),e())}o=!1,i&&(i=!1,l.process(s))}};return l}const _h=["prepare","read","update","preRender","render","postRender"],MDe=40;function jDe(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=_h.reduce((g,d)=>(g[d]=FDe(()=>n=!0),g),{}),a=g=>i[g].process(o),l=()=>{const g=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(g-o.timestamp,MDe),1),o.timestamp=g,o.isProcessing=!0,_h.forEach(a),o.isProcessing=!1,n&&t&&(r=!1,e(l))},s=()=>{n=!0,r=!0,o.isProcessing||e(l)};return{schedule:_h.reduce((g,d)=>{const m=i[d];return g[d]=(I,h=!1,A=!1)=>(n||s(),m.schedule(I,h,A)),g},{}),cancel:g=>_h.forEach(d=>i[d].cancel(g)),state:o,steps:i}}const{schedule:Ht,cancel:Ea,state:or,steps:P1}=jDe(typeof requestAnimationFrame<"u"?requestAnimationFrame:cn,!0),TDe={useVisualState:sU({scrapeMotionValuesFromProps:aU,createRenderState:nU,onMount:(e,t,{renderState:n,latestValues:r})=>{Ht.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ht.render(()=>{GR(n,r,{enableHardwareAcceleration:!1},BR(t.tagName),e.transformTemplate),iU(t,n)})}})},LDe={useVisualState:sU({scrapeMotionValuesFromProps:kR,createRenderState:wR})};function KDe(e,{forwardMotionProps:t=!1},n,r){return{...SR(e)?TDe:LDe,preloadedFeatures:n,useRender:EDe(t),createVisualElement:r,Component:e}}function Ia(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const cU=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function kv(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const ODe=e=>t=>cU(t)&&e(t,kv(t));function xa(e,t,n,r){return Ia(e,t,ODe(n),r)}const PDe=(e,t)=>n=>t(e(n)),jl=(...e)=>e.reduce(PDe);function uU(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const MY=uU("dragHorizontal"),jY=uU("dragVertical");function gU(e){let t=!1;if(e==="y")t=jY();else if(e==="x")t=MY();else{const n=MY(),r=jY();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function dU(){const e=gU(!0);return e?(e(),!1):!0}class vs{constructor(t){this.isMounted=!1,this.node=t}update(){}}function TY(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),o=(i,a)=>{if(i.pointerType==="touch"||dU())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&Ht.update(()=>l[r](i,a))};return xa(e.current,n,o,{passive:!e.getProps()[r]})}class DDe extends vs{mount(){this.unmount=jl(TY(this.node,!0),TY(this.node,!1))}unmount(){}}class zDe extends vs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jl(Ia(this.node.current,"focus",()=>this.onFocus()),Ia(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const fU=(e,t)=>t?e===t?!0:fU(e,t.parentElement):!1;function D1(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,kv(n))}class UDe extends vs{constructor(){super(...arguments),this.removeStartListeners=cn,this.removeEndListeners=cn,this.removeAccessibleListeners=cn,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=xa(window,"pointerup",(l,s)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:g}=this.node.getProps();Ht.update(()=>{!g&&!fU(this.node.current,l.target)?u&&u(l,s):c&&c(l,s)})},{passive:!(r.onTap||r.onPointerUp)}),a=xa(window,"pointercancel",(l,s)=>this.cancelPress(l,s),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=jl(i,a),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||D1("up",(s,c)=>{const{onTap:u}=this.node.getProps();u&&Ht.update(()=>u(s,c))})};this.removeEndListeners(),this.removeEndListeners=Ia(this.node.current,"keyup",a),D1("down",(l,s)=>{this.startPress(l,s)})},n=Ia(this.node.current,"keydown",t),r=()=>{this.isPressing&&D1("cancel",(i,a)=>this.cancelPress(i,a))},o=Ia(this.node.current,"blur",r);this.removeAccessibleListeners=jl(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ht.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!dU()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ht.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=xa(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Ia(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=jl(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const jZ=new WeakMap,z1=new WeakMap,_De=e=>{const t=jZ.get(e.target);t&&t(e)},QDe=e=>{e.forEach(_De)};function $De({root:e,...t}){const n=e||document;z1.has(n)||z1.set(n,{});const r=z1.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(QDe,{root:e,...t})),r[o]}function qDe(e,t,n){const r=$De(t);return jZ.set(e,n),r.observe(e),()=>{jZ.delete(e),r.unobserve(e)}}const eze={some:0,all:1};class tze extends vs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:eze[o]},l=s=>{const{isIntersecting:c}=s;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:g}=this.node.getProps(),d=c?u:g;d&&d(s)};return qDe(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(nze(t,n))&&this.startObserver()}unmount(){}}function nze({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const rze={inView:{Feature:tze},tap:{Feature:UDe},focus:{Feature:zDe},hover:{Feature:DDe}};function mU(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function oze(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function ize(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Rv(e,t,n){const r=e.getProps();return RR(r,t,n!==void 0?n:r.custom,oze(e),ize(e))}let aze=cn,VR=cn;const Tl=e=>e*1e3,Sa=e=>e/1e3,lze={current:!1},IU=e=>Array.isArray(e)&&typeof e[0]=="number";function hU(e){return!!(!e||typeof e=="string"&&CU[e]||IU(e)||Array.isArray(e)&&e.every(hU))}const sf=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,CU={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sf([0,.65,.55,1]),circOut:sf([.55,0,1,.45]),backIn:sf([.31,.01,.66,-.59]),backOut:sf([.33,1.53,.69,.99])};function pU(e){if(e)return IU(e)?sf(e):Array.isArray(e)?e.map(pU):CU[e]}function sze(e,t,n,{delay:r=0,duration:o,repeat:i=0,repeatType:a="loop",ease:l,times:s}={}){const c={[t]:n};s&&(c.offset=s);const u=pU(l);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:o,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function cze(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const AU=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,uze=1e-7,gze=12;function dze(e,t,n,r,o){let i,a,l=0;do a=t+(n-t)/2,i=AU(a,r,o)-e,i>0?n=a:t=a;while(Math.abs(i)>uze&&++l<gze);return a}function jI(e,t,n,r){if(e===t&&n===r)return cn;const o=i=>dze(i,0,1,e,n);return i=>i===0||i===1?i:AU(o(i),t,r)}const fze=jI(.42,0,1,1),mze=jI(0,0,.58,1),bU=jI(.42,0,.58,1),Ize=e=>Array.isArray(e)&&typeof e[0]!="number",vU=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,yU=e=>t=>1-e(1-t),WR=e=>1-Math.sin(Math.acos(e)),xU=yU(WR),hze=vU(WR),SU=jI(.33,1.53,.69,.99),NR=yU(SU),Cze=vU(NR),pze=e=>(e*=2)<1?.5*NR(e):.5*(2-Math.pow(2,-10*(e-1))),Aze={linear:cn,easeIn:fze,easeInOut:bU,easeOut:mze,circIn:WR,circInOut:hze,circOut:xU,backIn:NR,backInOut:Cze,backOut:SU,anticipate:pze},LY=e=>{if(Array.isArray(e)){VR(e.length===4);const[t,n,r,o]=e;return jI(t,n,r,o)}else if(typeof e=="string")return Aze[e];return e},ER=(e,t)=>n=>!!(FI(n)&&bDe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),ZU=(e,t,n)=>r=>{if(!FI(r))return r;const[o,i,a,l]=r.match(Bv);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},bze=e=>es(0,255,e),U1={...Oc,transform:e=>Math.round(bze(e))},lc={test:ER("rgb","red"),parse:ZU("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+U1.transform(e)+", "+U1.transform(t)+", "+U1.transform(n)+", "+Ef(Nf.transform(r))+")"};function vze(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const TZ={test:ER("#"),parse:vze,transform:lc.transform},Su={test:ER("hsl","hue"),parse:ZU("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Mi.transform(Ef(t))+", "+Mi.transform(Ef(n))+", "+Ef(Nf.transform(r))+")"},gr={test:e=>lc.test(e)||TZ.test(e)||Su.test(e),parse:e=>lc.test(e)?lc.parse(e):Su.test(e)?Su.parse(e):TZ.parse(e),transform:e=>FI(e)?e:e.hasOwnProperty("red")?lc.transform(e):Su.transform(e)},qt=(e,t,n)=>-n*e+n*t+e;function _1(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function yze({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,i=0,a=0;if(!t)o=i=a=n;else{const l=n<.5?n*(1+t):n+t-n*t,s=2*n-l;o=_1(s,l,e+1/3),i=_1(s,l,e),a=_1(s,l,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}const Q1=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},xze=[TZ,lc,Su],Sze=e=>xze.find(t=>t.test(e));function KY(e){const t=Sze(e);let n=t.parse(e);return t===Su&&(n=yze(n)),n}const wU=(e,t)=>{const n=KY(e),r=KY(t),o={...n};return i=>(o.red=Q1(n.red,r.red,i),o.green=Q1(n.green,r.green,i),o.blue=Q1(n.blue,r.blue,i),o.alpha=qt(n.alpha,r.alpha,i),lc.transform(o))};function Zze(e){var t,n;return isNaN(e)&&FI(e)&&(((t=e.match(Bv))===null||t===void 0?void 0:t.length)||0)+(((n=e.match($8))===null||n===void 0?void 0:n.length)||0)>0}const GU={regex:pDe,countKey:"Vars",token:"${v}",parse:cn},BU={regex:$8,countKey:"Colors",token:"${c}",parse:gr.parse},kU={regex:Bv,countKey:"Numbers",token:"${n}",parse:Oc.parse};function $1(e,{regex:t,countKey:n,token:r,parse:o}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(o)))}function U0(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&$1(n,GU),$1(n,BU),$1(n,kU),n}function RU(e){return U0(e).values}function VU(e){const{values:t,numColors:n,numVars:r,tokenised:o}=U0(e),i=t.length;return a=>{let l=o;for(let s=0;s<i;s++)s<r?l=l.replace(GU.token,a[s]):s<r+n?l=l.replace(BU.token,gr.transform(a[s])):l=l.replace(kU.token,Ef(a[s]));return l}}const wze=e=>typeof e=="number"?0:e;function Gze(e){const t=RU(e);return VU(e)(t.map(wze))}const ts={test:Zze,parse:RU,createTransformer:VU,getAnimatableNone:Gze},WU=(e,t)=>n=>`${n>0?t:e}`;function NU(e,t){return typeof e=="number"?n=>qt(e,t,n):gr.test(e)?wU(e,t):e.startsWith("var(")?WU(e,t):XU(e,t)}const EU=(e,t)=>{const n=[...e],r=n.length,o=e.map((i,a)=>NU(i,t[a]));return i=>{for(let a=0;a<r;a++)n[a]=o[a](i);return n}},Bze=(e,t)=>{const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=NU(e[o],t[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},XU=(e,t)=>{const n=ts.createTransformer(t),r=U0(e),o=U0(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?jl(EU(r.values,o.values),n):WU(e,t)},Qm=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},OY=(e,t)=>n=>qt(e,t,n);function kze(e){return typeof e=="number"?OY:typeof e=="string"?gr.test(e)?wU:XU:Array.isArray(e)?EU:typeof e=="object"?Bze:OY}function Rze(e,t,n){const r=[],o=n||kze(e[0]),i=e.length-1;for(let a=0;a<i;a++){let l=o(e[a],e[a+1]);if(t){const s=Array.isArray(t)?t[a]||cn:t;l=jl(s,l)}r.push(l)}return r}function JU(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const i=e.length;if(VR(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=Rze(t,r,o),l=a.length,s=c=>{let u=0;if(l>1)for(;u<e.length-2&&!(c<e[u+1]);u++);const g=Qm(e[u],e[u+1],c);return a[u](g)};return n?c=>s(es(e[0],e[i-1],c)):s}function Vze(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Qm(0,t,r);e.push(qt(n,1,o))}}function Wze(e){const t=[0];return Vze(t,e.length-1),t}function Nze(e,t){return e.map(n=>n*t)}function Eze(e,t){return e.map(()=>t||bU).splice(0,e.length-1)}function _0({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=Ize(r)?r.map(LY):LY(r),i={done:!1,value:t[0]},a=Nze(n&&n.length===t.length?n:Wze(t),e),l=JU(a,t,{ease:Array.isArray(o)?o:Eze(t,o)});return{calculatedDuration:e,next:s=>(i.value=l(s),i.done=s>=e,i)}}function YU(e,t){return t?e*(1e3/t):0}const Xze=5;function HU(e,t,n){const r=Math.max(t-Xze,0);return YU(n-e(r),t-r)}const q1=.001,Jze=.01,PY=10,Yze=.05,Hze=1;function Fze({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,i;aze(e<=Tl(PY));let a=1-t;a=es(Yze,Hze,a),e=es(Jze,PY,Sa(e)),a<1?(o=c=>{const u=c*a,g=u*e,d=u-n,m=LZ(c,a),I=Math.exp(-g);return q1-d/m*I},i=c=>{const g=c*a*e,d=g*n+n,m=Math.pow(a,2)*Math.pow(c,2)*e,I=Math.exp(-g),h=LZ(Math.pow(c,2),a);return(-o(c)+q1>0?-1:1)*((d-m)*I)/h}):(o=c=>{const u=Math.exp(-c*e),g=(c-n)*e+1;return-q1+u*g},i=c=>{const u=Math.exp(-c*e),g=(n-c)*(e*e);return u*g});const l=5/e,s=jze(o,i,l);if(e=Tl(e),isNaN(s))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(s,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:e}}}const Mze=12;function jze(e,t,n){let r=n;for(let o=1;o<Mze;o++)r=r-e(r)/t(r);return r}function LZ(e,t){return e*Math.sqrt(1-t*t)}const Tze=["duration","bounce"],Lze=["stiffness","damping","mass"];function DY(e,t){return t.some(n=>e[n]!==void 0)}function Kze(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!DY(e,Lze)&&DY(e,Tze)){const n=Fze(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function FU({keyframes:e,restDelta:t,restSpeed:n,...r}){const o=e[0],i=e[e.length-1],a={done:!1,value:o},{stiffness:l,damping:s,mass:c,duration:u,velocity:g,isResolvedFromDuration:d}=Kze({...r,velocity:-Sa(r.velocity||0)}),m=g||0,I=s/(2*Math.sqrt(l*c)),h=i-o,A=Sa(Math.sqrt(l/c)),C=Math.abs(h)<5;n||(n=C?.01:2),t||(t=C?.005:.5);let p;if(I<1){const v=LZ(A,I);p=y=>{const x=Math.exp(-I*A*y);return i-x*((m+I*A*h)/v*Math.sin(v*y)+h*Math.cos(v*y))}}else if(I===1)p=v=>i-Math.exp(-A*v)*(h+(m+A*h)*v);else{const v=A*Math.sqrt(I*I-1);p=y=>{const x=Math.exp(-I*A*y),S=Math.min(v*y,300);return i-x*((m+I*A*h)*Math.sinh(S)+v*h*Math.cosh(S))/v}}return{calculatedDuration:d&&u||null,next:v=>{const y=p(v);if(d)a.done=v>=u;else{let x=m;v!==0&&(I<1?x=HU(p,v,y):x=0);const S=Math.abs(x)<=n,B=Math.abs(i-y)<=t;a.done=S&&B}return a.value=a.done?i:y,a}}}function zY({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:s,restDelta:c=.5,restSpeed:u}){const g=e[0],d={done:!1,value:g},m=Z=>l!==void 0&&Z<l||s!==void 0&&Z>s,I=Z=>l===void 0?s:s===void 0||Math.abs(l-Z)<Math.abs(s-Z)?l:s;let h=n*t;const A=g+h,C=a===void 0?A:a(A);C!==A&&(h=C-g);const p=Z=>-h*Math.exp(-Z/r),v=Z=>C+p(Z),y=Z=>{const R=p(Z),w=v(Z);d.done=Math.abs(R)<=c,d.value=d.done?C:w};let x,S;const B=Z=>{m(d.value)&&(x=Z,S=FU({keyframes:[d.value,I(d.value)],velocity:HU(v,Z,d.value),damping:o,stiffness:i,restDelta:c,restSpeed:u}))};return B(0),{calculatedDuration:null,next:Z=>{let R=!1;return!S&&x===void 0&&(R=!0,y(Z),B(Z)),x!==void 0&&Z>x?S.next(Z-x):(!R&&y(Z),d)}}}const Oze=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ht.update(t,!0),stop:()=>Ea(t),now:()=>or.isProcessing?or.timestamp:performance.now()}},UY=2e4;function _Y(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<UY;)t+=n,r=e.next(t);return t>=UY?1/0:t}const Pze={decay:zY,inertia:zY,tween:_0,keyframes:_0,spring:FU};function Q0({autoplay:e=!0,delay:t=0,driver:n=Oze,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",onPlay:s,onStop:c,onComplete:u,onUpdate:g,...d}){let m=1,I=!1,h,A;const C=()=>{A=new Promise(Y=>{h=Y})};C();let p;const v=Pze[o]||_0;let y;v!==_0&&typeof r[0]!="number"&&(y=JU([0,100],r,{clamp:!1}),r=[0,100]);const x=v({...d,keyframes:r});let S;l==="mirror"&&(S=v({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let B="idle",Z=null,R=null,w=null;x.calculatedDuration===null&&i&&(x.calculatedDuration=_Y(x));const{calculatedDuration:k}=x;let V=1/0,W=1/0;k!==null&&(V=k+a,W=V*(i+1)-a);let N=0;const X=Y=>{if(R===null)return;m>0&&(R=Math.min(R,Y)),m<0&&(R=Math.min(Y-W/m,R)),Z!==null?N=Z:N=Math.round(Y-R)*m;const T=N-t*(m>=0?1:-1),O=m>=0?T<0:T>W;N=Math.max(T,0),B==="finished"&&Z===null&&(N=W);let P=N,L=x;if(i){const K=Math.min(N,W)/V;let z=Math.floor(K),_=K%1;!_&&K>=1&&(_=1),_===1&&z--,z=Math.min(z,i+1),!!(z%2)&&(l==="reverse"?(_=1-_,a&&(_-=a/V)):l==="mirror"&&(L=S)),P=es(0,1,_)*V}const j=O?{done:!1,value:r[0]}:L.next(P);y&&(j.value=y(j.value));let{done:D}=j;!O&&k!==null&&(D=m>=0?N>=W:N<=0);const $=Z===null&&(B==="finished"||B==="running"&&D);return g&&g(j.value),$&&F(),j},J=()=>{p&&p.stop(),p=void 0},E=()=>{B="idle",J(),h(),C(),R=w=null},F=()=>{B="finished",u&&u(),J(),h()},H=()=>{if(I)return;p||(p=n(X));const Y=p.now();s&&s(),Z!==null?R=Y-Z:(!R||B==="finished")&&(R=Y),B==="finished"&&C(),w=R,Z=null,B="running",p.start()};e&&H();const M={then(Y,T){return A.then(Y,T)},get time(){return Sa(N)},set time(Y){Y=Tl(Y),N=Y,Z!==null||!p||m===0?Z=Y:R=p.now()-Y/m},get duration(){const Y=x.calculatedDuration===null?_Y(x):x.calculatedDuration;return Sa(Y)},get speed(){return m},set speed(Y){Y===m||!p||(m=Y,M.time=Sa(N))},get state(){return B},play:H,pause:()=>{B="paused",Z=N},stop:()=>{I=!0,B!=="idle"&&(B="idle",c&&c(),E())},cancel:()=>{w!==null&&X(w),E()},complete:()=>{B="finished"},sample:Y=>(R=0,X(Y))};return M}function Dze(e){let t;return()=>(t===void 0&&(t=e()),t)}const zze=Dze(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Uze=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Qh=10,_ze=2e4,Qze=(e,t)=>t.type==="spring"||e==="backgroundColor"||!hU(t.ease);function $ze(e,t,{onUpdate:n,onComplete:r,...o}){if(!(zze()&&Uze.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let a=!1,l,s,c=!1;const u=()=>{s=new Promise(v=>{l=v})};u();let{keyframes:g,duration:d=300,ease:m,times:I}=o;if(Qze(t,o)){const v=Q0({...o,repeat:0,delay:0});let y={done:!1,value:g[0]};const x=[];let S=0;for(;!y.done&&S<_ze;)y=v.sample(S),x.push(y.value),S+=Qh;I=void 0,g=x,d=S-Qh,m="linear"}const h=sze(e.owner.current,t,g,{...o,duration:d,ease:m,times:I}),A=()=>{c=!1,h.cancel()},C=()=>{c=!0,Ht.update(A),l(),u()};return h.onfinish=()=>{c||(e.set(cze(g,o)),r&&r(),C())},{then(v,y){return s.then(v,y)},attachTimeline(v){return h.timeline=v,h.onfinish=null,cn},get time(){return Sa(h.currentTime||0)},set time(v){h.currentTime=Tl(v)},get speed(){return h.playbackRate},set speed(v){h.playbackRate=v},get duration(){return Sa(d)},play:()=>{a||(h.play(),Ea(A))},pause:()=>h.pause(),stop:()=>{if(a=!0,h.playState==="idle")return;const{currentTime:v}=h;if(v){const y=Q0({...o,autoplay:!1});e.setWithVelocity(y.sample(v-Qh).value,y.sample(v).value,Qh)}C()},complete:()=>{c||h.finish()},cancel:C}}function qze({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const o=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:cn,pause:cn,stop:cn,then:i=>(i(),Promise.resolve()),cancel:cn,complete:cn});return t?Q0({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const e8e={type:"spring",stiffness:500,damping:25,restSpeed:10},t8e=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),n8e={type:"keyframes",duration:.8},r8e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},o8e=(e,{keyframes:t})=>t.length>2?n8e:Kc.has(e)?e.startsWith("scale")?t8e(t[1]):e8e:r8e,KZ=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ts.test(t)||t==="0")&&!t.startsWith("url(")),i8e=new Set(["brightness","contrast","saturate","opacity"]);function a8e(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Bv)||[];if(!r)return e;const o=n.replace(r,"");let i=i8e.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const l8e=/([a-z-]*)\(.*?\)/g,OZ={...ts,getAnimatableNone:e=>{const t=e.match(l8e);return t?t.map(a8e).join(" "):e}},s8e={...q8,color:gr,backgroundColor:gr,outlineColor:gr,fill:gr,stroke:gr,borderColor:gr,borderTopColor:gr,borderRightColor:gr,borderBottomColor:gr,borderLeftColor:gr,filter:OZ,WebkitFilter:OZ},XR=e=>s8e[e];function MU(e,t){let n=XR(e);return n!==OZ&&(n=ts),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const jU=e=>/^0[^.\s]+$/.test(e);function c8e(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||jU(e)}function u8e(e,t,n,r){const o=KZ(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const a=r.from!==void 0?r.from:e.get();let l;const s=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?a:i[c-1]),c8e(i[c])&&s.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(l=i[c]);if(o&&s.length&&l)for(let c=0;c<s.length;c++){const u=s[c];i[u]=MU(t,l)}return i}function g8e({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:a,repeatDelay:l,from:s,elapsed:c,...u}){return!!Object.keys(u).length}function JR(e,t){return e[t]||e.default||e}const d8e={skipAnimations:!1},YR=(e,t,n,r={})=>o=>{const i=JR(r,e)||{},a=i.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Tl(a);const s=u8e(t,e,n,i),c=s[0],u=s[s.length-1],g=KZ(e,c),d=KZ(e,u);let m={keyframes:s,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:I=>{t.set(I),i.onUpdate&&i.onUpdate(I)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(g8e(i)||(m={...m,...o8e(e,m)}),m.duration&&(m.duration=Tl(m.duration)),m.repeatDelay&&(m.repeatDelay=Tl(m.repeatDelay)),!g||!d||lze.current||i.type===!1||d8e.skipAnimations)return qze(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const I=$ze(t,e,m);if(I)return I}return Q0(m)};function $0(e){return!!(Mr(e)&&e.add)}const TU=e=>/^\-?\d*\.?\d+$/.test(e);function HR(e,t){e.indexOf(t)===-1&&e.push(t)}function FR(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class MR{constructor(){this.subscriptions=[]}add(t){return HR(this.subscriptions,t),()=>FR(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let i=0;i<o;i++){const a=this.subscriptions[i];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const f8e=e=>!isNaN(parseFloat(e));class m8e{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:a}=or;this.lastUpdated!==a&&(this.timeDelta=i,this.lastUpdated=a,Ht.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ht.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=f8e(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new MR);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ht.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?YU(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Eg(e,t){return new m8e(e,t)}const LU=e=>t=>t.test(e),I8e={test:e=>e==="auto",parse:e=>e},KU=[Oc,Me,Mi,nl,yDe,vDe,I8e],Qd=e=>KU.find(LU(e)),h8e=[...KU,gr,ts],C8e=e=>h8e.find(LU(e));function p8e(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Eg(n))}function A8e(e,t){const n=Rv(e,t);let{transitionEnd:r={},transition:o={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const a in i){const l=JDe(i[a]);p8e(e,a,l)}}function b8e(e,t,n){var r,o;const i=Object.keys(t).filter(l=>!e.hasValue(l)),a=i.length;if(a)for(let l=0;l<a;l++){const s=i[l],c=t[s];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(o=(r=n[s])!==null&&r!==void 0?r:e.readValue(s))!==null&&o!==void 0?o:t[s]),u!=null&&(typeof u=="string"&&(TU(u)||jU(u))?u=parseFloat(u):!C8e(u)&&ts.test(c)&&(u=MU(s,c)),e.addValue(s,Eg(u,{owner:e})),n[s]===void 0&&(n[s]=u),u!==null&&e.setBaseTarget(s,u))}}function v8e(e,t){return t?(t[e]||t.default||t).from:void 0}function y8e(e,t,n){const r={};for(const o in e){const i=v8e(o,t);if(i!==void 0)r[o]=i;else{const a=n.getValue(o);a&&(r[o]=a.get())}}return r}function x8e({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function S8e(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function OU(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=e.makeTargetAnimatable(t);const s=e.getValue("willChange");r&&(i=r);const c=[],u=o&&e.animationState&&e.animationState.getState()[o];for(const g in l){const d=e.getValue(g),m=l[g];if(!d||m===void 0||u&&x8e(u,g))continue;const I={delay:n,elapsed:0,...JR(i||{},g)};if(window.HandoffAppearAnimations){const C=e.getProps()[P8];if(C){const p=window.HandoffAppearAnimations(C,g,d,Ht);p!==null&&(I.elapsed=p,I.isHandoff=!0)}}let h=!I.isHandoff&&!S8e(d,m);if(I.type==="spring"&&(d.getVelocity()||I.velocity)&&(h=!1),d.animation&&(h=!1),h)continue;d.start(YR(g,d,m,e.shouldReduceMotion&&Kc.has(g)?{type:!1}:I));const A=d.animation;$0(s)&&(s.add(g),A.then(()=>s.remove(g))),c.push(A)}return a&&Promise.all(c).then(()=>{a&&A8e(e,a)}),c}function PZ(e,t,n={}){const r=Rv(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(OU(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(s=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:g}=o;return Z8e(e,t,c+s,u,g,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[s,c]=l==="beforeChildren"?[i,a]:[a,i];return s().then(()=>c())}else return Promise.all([i(),a(n.delay)])}function Z8e(e,t,n=0,r=0,o=1,i){const a=[],l=(e.variantChildren.size-1)*r,s=o===1?(c=0)=>c*r:(c=0)=>l-c*r;return Array.from(e.variantChildren).sort(w8e).forEach((c,u)=>{c.notify("AnimationStart",t),a.push(PZ(c,t,{...i,delay:n+s(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(a)}function w8e(e,t){return e.sortNodePosition(t)}function G8e(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(i=>PZ(e,i,n));r=Promise.all(o)}else if(typeof t=="string")r=PZ(e,t,n);else{const o=typeof t=="function"?Rv(e,t,n.custom):t;r=Promise.all(OU(e,o,n))}return r.then(()=>e.notify("AnimationComplete",t))}const B8e=[...vR].reverse(),k8e=vR.length;function R8e(e){return t=>Promise.all(t.map(({animation:n,options:r})=>G8e(e,n,r)))}function V8e(e){let t=R8e(e);const n=N8e();let r=!0;const o=(s,c)=>{const u=Rv(e,c);if(u){const{transition:g,transitionEnd:d,...m}=u;s={...s,...m,...d}}return s};function i(s){t=s(e)}function a(s,c){const u=e.getProps(),g=e.getVariantContext(!0)||{},d=[],m=new Set;let I={},h=1/0;for(let C=0;C<k8e;C++){const p=B8e[C],v=n[p],y=u[p]!==void 0?u[p]:g[p],x=Um(y),S=p===c?v.isActive:null;S===!1&&(h=C);let B=y===g[p]&&y!==u[p]&&x;if(B&&r&&e.manuallyAnimateOnMount&&(B=!1),v.protectedKeys={...I},!v.isActive&&S===null||!y&&!v.prevProp||wv(y)||typeof y=="boolean")continue;let R=W8e(v.prevProp,y)||p===c&&v.isActive&&!B&&x||C>h&&x,w=!1;const k=Array.isArray(y)?y:[y];let V=k.reduce(o,{});S===!1&&(V={});const{prevResolvedValues:W={}}=v,N={...W,...V},X=J=>{R=!0,m.has(J)&&(w=!0,m.delete(J)),v.needsAnimating[J]=!0};for(const J in N){const E=V[J],F=W[J];if(I.hasOwnProperty(J))continue;let H=!1;z0(E)&&z0(F)?H=!mU(E,F):H=E!==F,H?E!==void 0?X(J):m.add(J):E!==void 0&&m.has(J)?X(J):v.protectedKeys[J]=!0}v.prevProp=y,v.prevResolvedValues=V,v.isActive&&(I={...I,...V}),r&&e.blockInitialAnimation&&(R=!1),R&&(!B||w)&&d.push(...k.map(J=>({animation:J,options:{type:p,...s}})))}if(m.size){const C={};m.forEach(p=>{const v=e.getBaseTarget(p);v!==void 0&&(C[p]=v)}),d.push({animation:C})}let A=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(A=!1),r=!1,A?t(d):Promise.resolve()}function l(s,c,u){var g;if(n[s].isActive===c)return Promise.resolve();(g=e.variantChildren)===null||g===void 0||g.forEach(m=>{var I;return(I=m.animationState)===null||I===void 0?void 0:I.setActive(s,c)}),n[s].isActive=c;const d=a(u,s);for(const m in n)n[m].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n}}function W8e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!mU(t,e):!1}function Rs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function N8e(){return{animate:Rs(!0),whileInView:Rs(),whileHover:Rs(),whileTap:Rs(),whileDrag:Rs(),whileFocus:Rs(),exit:Rs()}}class E8e extends vs{constructor(t){super(t),t.animationState||(t.animationState=V8e(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),wv(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let X8e=0;class J8e extends vs{constructor(){super(...arguments),this.id=X8e++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Y8e={animation:{Feature:E8e},exit:{Feature:J8e}},QY=(e,t)=>Math.abs(e-t);function H8e(e,t){const n=QY(e.x,t.x),r=QY(e.y,t.y);return Math.sqrt(n**2+r**2)}class PU{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=t2(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,m=H8e(g.offset,{x:0,y:0})>=3;if(!d&&!m)return;const{point:I}=g,{timestamp:h}=or;this.history.push({...I,timestamp:h});const{onStart:A,onMove:C}=this.handlers;d||(A&&A(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,g)},this.handlePointerMove=(g,d)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=e2(d,this.transformPagePoint),Ht.update(this.updatePoint,!0)},this.handlePointerUp=(g,d)=>{this.end();const{onEnd:m,onSessionEnd:I,resumeAnimation:h}=this.handlers;if(this.dragSnapToOrigin&&h&&h(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=t2(g.type==="pointercancel"?this.lastMoveEventInfo:e2(d,this.transformPagePoint),this.history);this.startEvent&&m&&m(g,A),I&&I(g,A)},!cU(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const a=kv(t),l=e2(a,this.transformPagePoint),{point:s}=l,{timestamp:c}=or;this.history=[{...s,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,t2(l,this.history)),this.removeListeners=jl(xa(this.contextWindow,"pointermove",this.handlePointerMove),xa(this.contextWindow,"pointerup",this.handlePointerUp),xa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ea(this.updatePoint)}}function e2(e,t){return t?{point:t(e.point)}:e}function $Y(e,t){return{x:e.x-t.x,y:e.y-t.y}}function t2({point:e},t){return{point:e,delta:$Y(e,DU(t)),offset:$Y(e,F8e(t)),velocity:M8e(t,.1)}}function F8e(e){return e[0]}function DU(e){return e[e.length-1]}function M8e(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=DU(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Tl(t)));)n--;if(!r)return{x:0,y:0};const i=Sa(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function so(e){return e.max-e.min}function DZ(e,t=0,n=.01){return Math.abs(e-t)<=n}function qY(e,t,n,r=.5){e.origin=r,e.originPoint=qt(t.min,t.max,e.origin),e.scale=so(n)/so(t),(DZ(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=qt(n.min,n.max,e.origin)-e.originPoint,(DZ(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Xf(e,t,n,r){qY(e.x,t.x,n.x,r?r.originX:void 0),qY(e.y,t.y,n.y,r?r.originY:void 0)}function eH(e,t,n){e.min=n.min+t.min,e.max=e.min+so(t)}function j8e(e,t,n){eH(e.x,t.x,n.x),eH(e.y,t.y,n.y)}function tH(e,t,n){e.min=t.min-n.min,e.max=e.min+so(t)}function Jf(e,t,n){tH(e.x,t.x,n.x),tH(e.y,t.y,n.y)}function T8e(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?qt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?qt(n,e,r.max):Math.min(e,n)),e}function nH(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function L8e(e,{top:t,left:n,bottom:r,right:o}){return{x:nH(e.x,n,o),y:nH(e.y,t,r)}}function rH(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function K8e(e,t){return{x:rH(e.x,t.x),y:rH(e.y,t.y)}}function O8e(e,t){let n=.5;const r=so(e),o=so(t);return o>r?n=Qm(t.min,t.max-r,e.min):r>o&&(n=Qm(e.min,e.max-o,t.min)),es(0,1,n)}function P8e(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const zZ=.35;function D8e(e=zZ){return e===!1?e=0:e===!0&&(e=zZ),{x:oH(e,"left","right"),y:oH(e,"top","bottom")}}function oH(e,t,n){return{min:iH(e,t),max:iH(e,n)}}function iH(e,t){return typeof e=="number"?e:e[t]||0}const aH=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zu=()=>({x:aH(),y:aH()}),lH=()=>({min:0,max:0}),hn=()=>({x:lH(),y:lH()});function So(e){return[e("x"),e("y")]}function zU({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function z8e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function U8e(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function n2(e){return e===void 0||e===1}function UZ({scale:e,scaleX:t,scaleY:n}){return!n2(e)||!n2(t)||!n2(n)}function Hs(e){return UZ(e)||UU(e)||e.z||e.rotate||e.rotateX||e.rotateY}function UU(e){return sH(e.x)||sH(e.y)}function sH(e){return e&&e!=="0%"}function q0(e,t,n){const r=e-n,o=t*r;return n+o}function cH(e,t,n,r,o){return o!==void 0&&(e=q0(e,o,r)),q0(e,n,r)+t}function _Z(e,t=0,n=1,r,o){e.min=cH(e.min,t,n,r,o),e.max=cH(e.max,t,n,r,o)}function _U(e,{x:t,y:n}){_Z(e.x,t.translate,t.scale,t.originPoint),_Z(e.y,n.translate,n.scale,n.originPoint)}function _8e(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let i,a;for(let l=0;l<o;l++){i=n[l],a=i.projectionDelta;const s=i.instance;s&&s.style&&s.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&wu(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,_U(e,a)),r&&Hs(i.latestValues)&&wu(e,i.latestValues))}t.x=uH(t.x),t.y=uH(t.y)}function uH(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function cl(e,t){e.min=e.min+t,e.max=e.max+t}function gH(e,t,[n,r,o]){const i=t[o]!==void 0?t[o]:.5,a=qt(e.min,e.max,i);_Z(e,t[n],t[r],a,t.scale)}const Q8e=["x","scaleX","originX"],$8e=["y","scaleY","originY"];function wu(e,t){gH(e.x,t,Q8e),gH(e.y,t,$8e)}function QU(e,t){return zU(U8e(e.getBoundingClientRect(),t))}function q8e(e,t,n){const r=QU(e,n),{scroll:o}=t;return o&&(cl(r.x,o.offset.x),cl(r.y,o.offset.y)),r}const $U=({current:e})=>e?e.ownerDocument.defaultView:null,eUe=new WeakMap;class tUe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=u=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(kv(u,"page").point)},i=(u,g)=>{const{drag:d,dragPropagation:m,onDragStart:I}=this.getProps();if(d&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=gU(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),So(A=>{let C=this.getAxisMotionValue(A).get()||0;if(Mi.test(C)){const{projection:p}=this.visualElement;if(p&&p.layout){const v=p.layout.layoutBox[A];v&&(C=so(v)*(parseFloat(C)/100))}}this.originPoint[A]=C}),I&&Ht.update(()=>I(u,g),!1,!0);const{animationState:h}=this.visualElement;h&&h.setActive("whileDrag",!0)},a=(u,g)=>{const{dragPropagation:d,dragDirectionLock:m,onDirectionLock:I,onDrag:h}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:A}=g;if(m&&this.currentDirection===null){this.currentDirection=nUe(A),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",g.point,A),this.updateAxis("y",g.point,A),this.visualElement.render(),h&&h(u,g)},l=(u,g)=>this.stop(u,g),s=()=>So(u=>{var g;return this.getAnimationState(u)==="paused"&&((g=this.getAxisMotionValue(u).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new PU(t,{onSessionStart:o,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:s},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:$U(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&Ht.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!$h(t,o,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=T8e(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&xu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=L8e(o.layoutBox,n):this.constraints=!1,this.elastic=D8e(r),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&So(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=P8e(o.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!xu(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=q8e(r,o.root,this.visualElement.getTransformPagePoint());let a=K8e(o.layout.layoutBox,i);if(n){const l=n(z8e(a));this.hasMutatedConstraints=!!l,l&&(a=zU(l))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),s=this.constraints||{},c=So(u=>{if(!$h(u,n,this.currentDirection))return;let g=s&&s[u]||{};a&&(g={min:0,max:0});const d=o?200:1e6,m=o?40:1e7,I={type:"inertia",velocity:r?t[u]:0,bounceStiffness:d,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...g};return this.startAxisValueAnimation(u,I)});return Promise.all(c).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(YR(t,r,0,n))}stopAnimation(){So(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){So(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){So(n=>{const{drag:r}=this.getProps();if(!$h(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:a,max:l}=o.layout.layoutBox[n];i.set(t[n]-qt(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!xu(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};So(a=>{const l=this.getAxisMotionValue(a);if(l){const s=l.get();o[a]=O8e({min:s,max:s},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),So(a=>{if(!$h(a,t,null))return;const l=this.getAxisMotionValue(a),{min:s,max:c}=this.constraints[a];l.set(qt(s,c,o[a]))})}addListeners(){if(!this.visualElement.current)return;eUe.set(this.visualElement,this);const t=this.visualElement.current,n=xa(t,"pointerdown",s=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(s)}),r=()=>{const{dragConstraints:s}=this.getProps();xu(s)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const a=Ia(window,"resize",()=>this.scalePositionWithinConstraints()),l=o.addEventListener("didUpdate",({delta:s,hasLayoutChanged:c})=>{this.isDragging&&c&&(So(u=>{const g=this.getAxisMotionValue(u);g&&(this.originPoint[u]+=s[u].translate,g.set(g.get()+s[u].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:a=zZ,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function $h(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function nUe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class rUe extends vs{constructor(t){super(t),this.removeGroupControls=cn,this.removeListeners=cn,this.controls=new tUe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cn}unmount(){this.removeGroupControls(),this.removeListeners()}}const dH=e=>(t,n)=>{e&&Ht.update(()=>e(t,n))};class oUe extends vs{constructor(){super(...arguments),this.removePointerDownListener=cn}onPointerDown(t){this.session=new PU(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$U(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:dH(t),onStart:dH(n),onMove:r,onEnd:(i,a)=>{delete this.session,o&&Ht.update(()=>o(i,a))}}}mount(){this.removePointerDownListener=xa(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function iUe(){const e=b.useContext(Sv);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=b.useId();return b.useEffect(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const RC={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fH(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const $d={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Me.test(e))e=parseFloat(e);else return e;const n=fH(e,t.target.x),r=fH(e,t.target.y);return`${n}% ${r}%`}},aUe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=ts.parse(e);if(o.length>5)return r;const i=ts.createTransformer(e),a=typeof o[0]!="number"?1:0,l=n.x.scale*t.x,s=n.y.scale*t.y;o[0+a]/=l,o[1+a]/=s;const c=qt(l,s,.5);return typeof o[2+a]=="number"&&(o[2+a]/=c),typeof o[3+a]=="number"&&(o[3+a]/=c),i(o)}};class lUe extends G.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=t;mDe(sUe),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),RC.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,o||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||Ht.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function qU(e){const[t,n]=iUe(),r=b.useContext(xR);return G.createElement(lUe,{...e,layoutGroup:r,switchLayoutGroup:b.useContext(z8),isPresent:t,safeToRemove:n})}const sUe={borderRadius:{...$d,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$d,borderTopRightRadius:$d,borderBottomLeftRadius:$d,borderBottomRightRadius:$d,boxShadow:aUe},e7=["TopLeft","TopRight","BottomLeft","BottomRight"],cUe=e7.length,mH=e=>typeof e=="string"?parseFloat(e):e,IH=e=>typeof e=="number"||Me.test(e);function uUe(e,t,n,r,o,i){o?(e.opacity=qt(0,n.opacity!==void 0?n.opacity:1,gUe(r)),e.opacityExit=qt(t.opacity!==void 0?t.opacity:1,0,dUe(r))):i&&(e.opacity=qt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<cUe;a++){const l=`border${e7[a]}Radius`;let s=hH(t,l),c=hH(n,l);if(s===void 0&&c===void 0)continue;s||(s=0),c||(c=0),s===0||c===0||IH(s)===IH(c)?(e[l]=Math.max(qt(mH(s),mH(c),r),0),(Mi.test(c)||Mi.test(s))&&(e[l]+="%")):e[l]=c}(t.rotate||n.rotate)&&(e.rotate=qt(t.rotate||0,n.rotate||0,r))}function hH(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const gUe=t7(0,.5,xU),dUe=t7(.5,.95,cn);function t7(e,t,n){return r=>r<e?0:r>t?1:n(Qm(e,t,r))}function CH(e,t){e.min=t.min,e.max=t.max}function yo(e,t){CH(e.x,t.x),CH(e.y,t.y)}function pH(e,t,n,r,o){return e-=t,e=q0(e,1/n,r),o!==void 0&&(e=q0(e,1/o,r)),e}function fUe(e,t=0,n=1,r=.5,o,i=e,a=e){if(Mi.test(t)&&(t=parseFloat(t),t=qt(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=qt(i.min,i.max,r);e===i&&(l-=t),e.min=pH(e.min,t,n,l,o),e.max=pH(e.max,t,n,l,o)}function AH(e,t,[n,r,o],i,a){fUe(e,t[n],t[r],t[o],t.scale,i,a)}const mUe=["x","scaleX","originX"],IUe=["y","scaleY","originY"];function bH(e,t,n,r){AH(e.x,t,mUe,n?n.x:void 0,r?r.x:void 0),AH(e.y,t,IUe,n?n.y:void 0,r?r.y:void 0)}function vH(e){return e.translate===0&&e.scale===1}function n7(e){return vH(e.x)&&vH(e.y)}function hUe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function r7(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function yH(e){return so(e.x)/so(e.y)}class CUe{constructor(){this.members=[]}add(t){HR(this.members,t),t.scheduleRender()}remove(t){if(FR(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xH(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:s,rotateX:c,rotateY:u}=n;s&&(r+=`rotate(${s}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const pUe=(e,t)=>e.depth-t.depth;class AUe{constructor(){this.children=[],this.isDirty=!1}add(t){HR(this.children,t),this.isDirty=!0}remove(t){FR(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(pUe),this.isDirty=!1,this.children.forEach(t)}}function bUe(e,t){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=t&&(Ea(r),e(i-t))};return Ht.read(r,!0),()=>Ea(r)}function vUe(e){window.MotionDebug&&window.MotionDebug.record(e)}function yUe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function xUe(e,t,n){const r=Mr(e)?e:Eg(e);return r.start(YR("",r,t,n)),r.animation}const SH=["","X","Y","Z"],SUe={visibility:"hidden"},ZH=1e3;let ZUe=0;const Fs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function o7({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(a={},l=t==null?void 0:t()){this.id=ZUe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Fs.totalNodes=Fs.resolvedTargetDeltas=Fs.recalculatedProjection=0,this.nodes.forEach(BUe),this.nodes.forEach(NUe),this.nodes.forEach(EUe),this.nodes.forEach(kUe),vUe(Fs)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let s=0;s<this.path.length;s++)this.path[s].shouldResetTransform=!0;this.root===this&&(this.nodes=new AUe)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new MR),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const s=this.eventHandlers.get(a);s&&s.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=yUe(a),this.instance=a;const{layoutId:s,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(c||s)&&(this.isLayoutDirty=!0),e){let g;const d=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=bUe(d,250),RC.hasAnimatedSinceResize&&(RC.hasAnimatedSinceResize=!1,this.nodes.forEach(GH))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&u&&(s||c)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:d,hasRelativeTargetChanged:m,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const h=this.options.transition||u.getDefaultTransition()||FUe,{onLayoutAnimationStart:A,onLayoutAnimationComplete:C}=u.getProps(),p=!this.targetLayout||!r7(this.targetLayout,I)||m,v=!d&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||d&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,v);const y={...JR(h,"layout"),onPlay:A,onComplete:C};(u.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y)}else d||GH(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ea(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XUe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const g=this.path[u];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:l,layout:s}=this.options;if(l===void 0&&!s)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wH);return}this.isUpdating||this.nodes.forEach(VUe),this.isUpdating=!1,this.nodes.forEach(WUe),this.nodes.forEach(wUe),this.nodes.forEach(GUe),this.clearAllSnapshots();const l=performance.now();or.delta=es(0,1e3/60,l-or.timestamp),or.timestamp=l,or.isProcessing=!0,P1.update.process(or),P1.preRender.process(or),P1.render.process(or),or.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(RUe),this.sharedNodes.forEach(JUe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++)this.path[s].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!n7(this.projectionDelta),s=this.getTransformTemplate(),c=s?s(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&(l||Hs(this.latestValues)||u)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let s=this.removeElementScroll(l);return a&&(s=this.removeTransform(s)),MUe(s),{animationId:this.root.animationId,measuredBox:l,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return hn();const l=a.measureViewportBox(),{scroll:s}=this.root;return s&&(cl(l.x,s.offset.x),cl(l.y,s.offset.y)),l}removeElementScroll(a){const l=hn();yo(l,a);for(let s=0;s<this.path.length;s++){const c=this.path[s],{scroll:u,options:g}=c;if(c!==this.root&&u&&g.layoutScroll){if(u.isRoot){yo(l,a);const{scroll:d}=this.root;d&&(cl(l.x,-d.offset.x),cl(l.y,-d.offset.y))}cl(l.x,u.offset.x),cl(l.y,u.offset.y)}}return l}applyTransform(a,l=!1){const s=hn();yo(s,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&wu(s,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Hs(u.latestValues)&&wu(s,u.latestValues)}return Hs(this.latestValues)&&wu(s,this.latestValues),s}removeTransform(a){const l=hn();yo(l,a);for(let s=0;s<this.path.length;s++){const c=this.path[s];if(!c.instance||!Hs(c.latestValues))continue;UZ(c.latestValues)&&c.updateSnapshot();const u=hn(),g=c.measurePageBox();yo(u,g),bH(l,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Hs(this.latestValues)&&bH(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==or.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==s;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:g,layoutId:d}=this.options;if(!(!this.layout||!(g||d))){if(this.resolvedRelativeTargetAt=or.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),Jf(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),yo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=hn(),this.targetWithTransforms=hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),j8e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yo(this.target,this.layout.layoutBox),_U(this.target,this.targetDelta)):yo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),Jf(this.relativeTargetOrigin,this.target,m.target),yo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Fs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||UZ(this.parent.latestValues)||UU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),s=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===or.timestamp&&(c=!1),c)return;const{layout:u,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||g))return;yo(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,m=this.treeScale.y;_8e(this.layoutCorrected,this.treeScale,this.path,s),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:I}=l;if(!I){this.projectionTransform&&(this.projectionDelta=Zu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Zu(),this.projectionDeltaWithTransform=Zu());const h=this.projectionTransform;Xf(this.projectionDelta,this.layoutCorrected,I,this.latestValues),this.projectionTransform=xH(this.projectionDelta,this.treeScale),(this.projectionTransform!==h||this.treeScale.x!==d||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I)),Fs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const s=this.snapshot,c=s?s.latestValues:{},u={...this.latestValues},g=Zu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const d=hn(),m=s?s.source:void 0,I=this.layout?this.layout.source:void 0,h=m!==I,A=this.getStack(),C=!A||A.members.length<=1,p=!!(h&&!C&&this.options.crossfade===!0&&!this.path.some(HUe));this.animationProgress=0;let v;this.mixTargetDelta=y=>{const x=y/1e3;BH(g.x,a.x,x),BH(g.y,a.y,x),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jf(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YUe(this.relativeTarget,this.relativeTargetOrigin,d,x),v&&hUe(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=hn()),yo(v,this.relativeTarget)),h&&(this.animationValues=u,uUe(u,c,this.latestValues,x,p,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ea(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ht.update(()=>{RC.hasAnimatedSinceResize=!0,this.currentAnimation=xUe(0,ZH,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ZH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:s,layout:c,latestValues:u}=a;if(!(!l||!s||!c)){if(this!==a&&this.layout&&c&&i7(this.options.animationType,this.layout.layoutBox,c.layoutBox)){s=this.target||hn();const g=so(this.layout.layoutBox.x);s.x.min=a.target.x.min,s.x.max=s.x.min+g;const d=so(this.layout.layoutBox.y);s.y.min=a.target.y.min,s.y.max=s.y.min+d}yo(l,s),wu(l,u),Xf(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new CUe),this.sharedNodes.get(a).add(l);const c=l.options.initialPromotionConfig;l.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:s}={}){const c=this.getStack();c&&c.promote(this,s),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:s}=a;if((s.rotate||s.rotateX||s.rotateY||s.rotateZ)&&(l=!0),!l)return;const c={};for(let u=0;u<SH.length;u++){const g="rotate"+SH[u];s[g]&&(c[g]=s[g],a.setStaticValue(g,0))}a.render();for(const u in c)a.setStaticValue(u,c[u]);a.scheduleRender()}getProjectionStyles(a){var l,s;if(!this.instance||this.isSVG)return;if(!this.isVisible)return SUe;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=kC(a==null?void 0:a.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const h={};return this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=kC(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Hs(this.latestValues)&&(h.transform=u?u({},""):"none",this.hasProjected=!1),h}const d=g.animationValues||g.latestValues;this.applyTransformsToTarget(),c.transform=xH(this.projectionDeltaWithTransform,this.treeScale,d),u&&(c.transform=u(d,c.transform));const{x:m,y:I}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${I.origin*100}% 0`,g.animationValues?c.opacity=g===this?(s=(l=d.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&s!==void 0?s:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:c.opacity=g===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const h in P0){if(d[h]===void 0)continue;const{correct:A,applyTo:C}=P0[h],p=c.transform==="none"?d[h]:A(d[h],g);if(C){const v=C.length;for(let y=0;y<v;y++)c[C[y]]=p}else c[h]=p}return this.options.layoutId&&(c.pointerEvents=g===this?kC(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(wH),this.root.sharedNodes.clear()}}}function wUe(e){e.updateLayout()}function GUe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:i}=e.options,a=n.source!==e.layout.source;i==="size"?So(g=>{const d=a?n.measuredBox[g]:n.layoutBox[g],m=so(d);d.min=r[g].min,d.max=d.min+m}):i7(i,n.layoutBox,r)&&So(g=>{const d=a?n.measuredBox[g]:n.layoutBox[g],m=so(r[g]);d.max=d.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+m)});const l=Zu();Xf(l,r,n.layoutBox);const s=Zu();a?Xf(s,e.applyTransform(o,!0),n.measuredBox):Xf(s,r,n.layoutBox);const c=!n7(l);let u=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:d,layout:m}=g;if(d&&m){const I=hn();Jf(I,n.layoutBox,d.layoutBox);const h=hn();Jf(h,r,m.layoutBox),r7(I,h)||(u=!0),g.options.layoutRoot&&(e.relativeTarget=h,e.relativeTargetOrigin=I,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:s,layoutDelta:l,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function BUe(e){Fs.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function kUe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function RUe(e){e.clearSnapshot()}function wH(e){e.clearMeasurements()}function VUe(e){e.isLayoutDirty=!1}function WUe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function GH(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function NUe(e){e.resolveTargetDelta()}function EUe(e){e.calcProjection()}function XUe(e){e.resetRotation()}function JUe(e){e.removeLeadSnapshot()}function BH(e,t,n){e.translate=qt(t.translate,0,n),e.scale=qt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function kH(e,t,n,r){e.min=qt(t.min,n.min,r),e.max=qt(t.max,n.max,r)}function YUe(e,t,n,r){kH(e.x,t.x,n.x,r),kH(e.y,t.y,n.y,r)}function HUe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const FUe={duration:.45,ease:[.4,0,.1,1]},RH=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),VH=RH("applewebkit/")&&!RH("chrome/")?Math.round:cn;function WH(e){e.min=VH(e.min),e.max=VH(e.max)}function MUe(e){WH(e.x),WH(e.y)}function i7(e,t,n){return e==="position"||e==="preserve-aspect"&&!DZ(yH(t),yH(n),.2)}const jUe=o7({attachResizeListener:(e,t)=>Ia(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),r2={current:void 0},a7=o7({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!r2.current){const e=new jUe({});e.mount(window),e.setOptions({layoutScroll:!0}),r2.current=e}return r2.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),TUe={pan:{Feature:oUe},drag:{Feature:rUe,ProjectionNode:a7,MeasureLayout:qU}},LUe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function KUe(e){const t=LUe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function QZ(e,t,n=1){const[r,o]=KUe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const a=i.trim();return TU(a)?parseFloat(a):a}else return MZ(o)?QZ(o,t,n+1):o}function OUe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const i=o.get();if(!MZ(i))return;const a=QZ(i,r);a&&o.set(a)});for(const o in t){const i=t[o];if(!MZ(i))continue;const a=QZ(i,r);a&&(t[o]=a,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:t,transitionEnd:n}}const PUe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),l7=e=>PUe.has(e),DUe=e=>Object.keys(e).some(l7),NH=e=>e===Oc||e===Me,EH=(e,t)=>parseFloat(e.split(", ")[t]),XH=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return EH(o[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?EH(i[1],e):0}},zUe=new Set(["x","y","z"]),UUe=HI.filter(e=>!zUe.has(e));function _Ue(e){const t=[];return UUe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Xg={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:XH(4,13),y:XH(5,14)};Xg.translateX=Xg.x;Xg.translateY=Xg.y;const QUe=(e,t,n)=>{const r=t.measureViewportBox(),o=t.current,i=getComputedStyle(o),{display:a}=i,l={};a==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{l[c]=Xg[c](r,i)}),t.render();const s=t.measureViewportBox();return n.forEach(c=>{const u=t.getValue(c);u&&u.jump(l[c]),e[c]=Xg[c](s,i)}),e},$Ue=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter(l7);let i=[],a=!1;const l=[];if(o.forEach(s=>{const c=e.getValue(s);if(!e.hasValue(s))return;let u=n[s],g=Qd(u);const d=t[s];let m;if(z0(d)){const I=d.length,h=d[0]===null?1:0;u=d[h],g=Qd(u);for(let A=h;A<I&&d[A]!==null;A++)m?VR(Qd(d[A])===m):m=Qd(d[A])}else m=Qd(d);if(g!==m)if(NH(g)&&NH(m)){const I=c.get();typeof I=="string"&&c.set(parseFloat(I)),typeof d=="string"?t[s]=parseFloat(d):Array.isArray(d)&&m===Me&&(t[s]=d.map(parseFloat))}else g!=null&&g.transform&&(m!=null&&m.transform)&&(u===0||d===0)?u===0?c.set(m.transform(u)):t[s]=g.transform(d):(a||(i=_Ue(e),a=!0),l.push(s),r[s]=r[s]!==void 0?r[s]:t[s],c.jump(d))}),l.length){const s=l.indexOf("height")>=0?window.pageYOffset:null,c=QUe(t,e,l);return i.length&&i.forEach(([u,g])=>{e.getValue(u).set(g)}),e.render(),Zv&&s!==null&&window.scrollTo({top:s}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function qUe(e,t,n,r){return DUe(t)?$Ue(e,t,n,r):{target:t,transitionEnd:r}}const e7e=(e,t,n,r)=>{const o=OUe(e,t,r);return t=o.target,r=o.transitionEnd,qUe(e,t,n,r)},$Z={current:null},s7={current:!1};function t7e(){if(s7.current=!0,!!Zv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>$Z.current=e.matches;e.addListener(t),t()}else $Z.current=!1}function n7e(e,t,n){const{willChange:r}=t;for(const o in t){const i=t[o],a=n[o];if(Mr(i))e.addValue(o,i),$0(r)&&r.add(o);else if(Mr(a))e.addValue(o,Eg(i,{owner:e})),$0(r)&&r.remove(o);else if(a!==i)if(e.hasValue(o)){const l=e.getValue(o);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(o);e.addValue(o,Eg(l!==void 0?l:i,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const JH=new WeakMap,c7=Object.keys(_m),r7e=c7.length,YH=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],o7e=yR.length;class i7e{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ht.render(this.render,!1,!0);const{latestValues:l,renderState:s}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=s,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=a,this.isControllingVariants=Gv(n),this.isVariantNode=D8(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const g in u){const d=u[g];l[g]!==void 0&&Mr(d)&&(d.set(l[g],!1),$0(c)&&c.add(g))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,JH.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),s7.current||t7e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$Z.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){JH.delete(this.current),this.projection&&this.projection.unmount(),Ea(this.notifyUpdate),Ea(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Kc.has(t),o=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Ht.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,o,i){let a,l;for(let s=0;s<r7e;s++){const c=c7[s],{isEnabled:u,Feature:g,ProjectionNode:d,MeasureLayout:m}=_m[c];d&&(a=d),u(n)&&(!this.features[c]&&g&&(this.features[c]=new g(this)),m&&(l=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:s,layout:c,drag:u,dragConstraints:g,layoutScroll:d,layoutRoot:m}=n;this.projection.setOptions({layoutId:s,layout:c,alwaysMeasureLayout:!!u||g&&xu(g),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:d,layoutRoot:m})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<YH.length;r++){const o=YH[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=t["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=n7e(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<o7e;r++){const o=yR[r],i=this.props[o];(Um(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Eg(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=RR(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Mr(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new MR),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class u7 extends i7e{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:o},i){let a=y8e(r,t||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),a&&(a=o(a))),i){b8e(this,r,a);const l=e7e(this,r,a,n);n=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:n,...r}}}function a7e(e){return window.getComputedStyle(e)}class l7e extends u7{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Kc.has(n)){const r=XR(n);return r&&r.default||0}else{const r=a7e(t),o=(Q8(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return QU(t,n)}build(t,n,r,o){ZR(t,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return kR(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Mr(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,o){rU(t,n,r,o)}}class s7e extends u7{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Kc.has(n)){const r=XR(n);return r&&r.default||0}return n=oU.has(n)?n:bR(n),t.getAttribute(n)}measureInstanceViewportBox(){return hn()}scrapeMotionValuesFromProps(t,n){return aU(t,n)}build(t,n,r,o){GR(t,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,r,o){iU(t,n,r,o)}mount(t){this.isSVGTag=BR(t.tagName),super.mount(t)}}const c7e=(e,t)=>SR(e)?new s7e(t,{enableHardwareAcceleration:!1}):new l7e(t,{enableHardwareAcceleration:!0}),u7e={layout:{ProjectionNode:a7,MeasureLayout:qU}},g7e={...Y8e,...rze,...TUe,...u7e},ns=dDe((e,t)=>KDe(e,t,g7e,c7e));function g7(){const e=b.useRef(!1);return AR(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function d7e(){const e=g7(),[t,n]=b.useState(0),r=b.useCallback(()=>{e.current&&n(t+1)},[t]);return[b.useCallback(()=>Ht.postRender(r),[r]),t]}class f7e extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function m7e({children:e,isPresent:t}){const n=b.useId(),r=b.useRef(null),o=b.useRef({width:0,height:0,top:0,left:0});return b.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:s}=o.current;if(t||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${s}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),b.createElement(f7e,{isPresent:t,childRef:r,sizeRef:o},b.cloneElement(e,{ref:r}))}const o2=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:a})=>{const l=lU(I7e),s=b.useId(),c=b.useMemo(()=>({id:s,initial:t,isPresent:n,custom:o,onExitComplete:u=>{l.set(u,!0);for(const g of l.values())if(!g)return;r&&r()},register:u=>(l.set(u,!1),()=>l.delete(u))}),i?void 0:[n]);return b.useMemo(()=>{l.forEach((u,g)=>l.set(g,!1))},[n]),b.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(e=b.createElement(m7e,{isPresent:n},e)),b.createElement(Sv.Provider,{value:c},e)};function I7e(){return new Map}function h7e(e){return b.useEffect(()=>()=>e(),[])}const Ms=e=>e.key||"";function C7e(e,t){e.forEach(n=>{const r=Ms(n);t.set(r,n)})}function p7e(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const d7=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:a="sync"})=>{const l=b.useContext(xR).forceRender||d7e()[0],s=g7(),c=p7e(e);let u=c;const g=b.useRef(new Map).current,d=b.useRef(u),m=b.useRef(new Map).current,I=b.useRef(!0);if(AR(()=>{I.current=!1,C7e(c,m),d.current=u}),h7e(()=>{I.current=!0,m.clear(),g.clear()}),I.current)return b.createElement(b.Fragment,null,u.map(p=>b.createElement(o2,{key:Ms(p),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:a},p)));u=[...u];const h=d.current.map(Ms),A=c.map(Ms),C=h.length;for(let p=0;p<C;p++){const v=h[p];A.indexOf(v)===-1&&!g.has(v)&&g.set(v,void 0)}return a==="wait"&&g.size&&(u=[]),g.forEach((p,v)=>{if(A.indexOf(v)!==-1)return;const y=m.get(v);if(!y)return;const x=h.indexOf(v);let S=p;if(!S){const B=()=>{g.delete(v);const Z=Array.from(m.keys()).filter(R=>!A.includes(R));if(Z.forEach(R=>m.delete(R)),d.current=c.filter(R=>{const w=Ms(R);return w===v||Z.includes(w)}),!g.size){if(s.current===!1)return;l(),r&&r()}};S=b.createElement(o2,{key:Ms(y),isPresent:!1,onExitComplete:B,custom:t,presenceAffectsLayout:i,mode:a},y),g.set(v,S)}u.splice(x,0,S)}),u=u.map(p=>{const v=p.key;return g.has(v)?p:b.createElement(o2,{key:Ms(p),isPresent:!0,presenceAffectsLayout:i,mode:a},p)}),b.createElement(b.Fragment,null,g.size?u:u.map(p=>b.cloneElement(p)))};function A7e(){let[e,t]=b.useState(null),n=b.useRef(null);return[["Caracteristicas","/#features"],["Opiniones","/#reviews"],["Planes","/#pricing"],["Preguntas frecuentes","/#faqs"]].map(([r,o],i)=>f.jsxs("a",{href:o,className:"relative -mx-3 -my-2 rounded-lg px-3 py-2 text-sm text-gray-700 transition-colors delay-150 hover:text-gray-900 hover:delay-0",onMouseEnter:()=>{n.current&&window.clearTimeout(n.current),t(i)},onMouseLeave:()=>{n.current=window.setTimeout(()=>{t(null)},200)},children:[f.jsx(d7,{children:e===i&&f.jsx(ns.span,{className:"absolute inset-0  rounded-lg  bg-orange-600",layoutId:"hoverBackground",initial:{opacity:0},animate:{opacity:1,transition:{duration:.15}},exit:{opacity:0,transition:{duration:.15}}})}),f.jsx("span",{className:"relative text-white  z-10",children:r})]},r))}function b7e(){const e=[{href:"https://www.facebook.com/share/1Cmijra9Bj/?mibextid=LQQJ4d",icon:f.jsx(eee,{}),label:"Facebook"},{href:"https://www.instagram.com/knowme_app_com",icon:f.jsx(aG,{}),label:"Instagram"},{href:"https://www.tiktok.com/@knowme.app",icon:f.jsx(xA,{}),label:"TikTok"},{href:"https://www.linkedin.com/showcase/knowme-app/",icon:f.jsx(nee,{}),label:"LinkedIn"}];return f.jsx("ul",{className:"flex space-x-4",children:e.map(({href:t,icon:n,label:r})=>f.jsx("li",{children:f.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":r,className:"flex items-center justify-center w-10 h-10 rounded-full bg-gray-100 text-gray-600 hover:bg-orange-500 hover:text-white transition duration-300",children:n})},r))})}function v7e(){return f.jsx("footer",{className:"border-t bg-white border-gray-200",children:f.jsxs(Na,{children:[f.jsx("div",{className:"flex flex-col items-start justify-between gap-y-12 pb-6 pt-16 lg:flex-row lg:items-center lg:py-16",children:f.jsxs("div",{children:[f.jsx("div",{className:"flex items-center text-gray-900",children:f.jsx("img",{src:nm,className:"h-10 bg-[#132561] rounded-md  flex-none fill-orange-600"})}),f.jsx("nav",{className:"mt-11 flex gap-8",children:f.jsx(b7e,{})})]})}),f.jsxs("div",{className:"flex flex-col items-center border-t border-gray-200 pb-12 pt-8 md:flex-row-reverse md:justify-between md:pt-6",children:[f.jsx("a",{href:"/policy",className:"mt-6 text-sm text-gray-500 md:mt-0",children:"Terminos y condiciones."}),f.jsxs("p",{className:"mt-6 text-sm text-gray-500 md:mt-0",children:["© Copyright ",new Date().getFullYear(),". Todos los derechos reservados."]})]})]})})}function y7e(e){return f.jsx("svg",{viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",...e,children:f.jsx("path",{d:"M5 6h14M5 18h14M5 12h14",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})}function x7e(e){return f.jsx("svg",{viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",...e,children:f.jsx("path",{d:"M17 14l-5-5-5 5",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})}function qh(e){return f.jsx(rB,{as:"a",className:"block text-base leading-7 tracking-tight text-gray-700",...e})}function S7e(){return f.jsx("header",{children:f.jsx("nav",{className:"bg-[#132561]",children:f.jsxs(Na,{className:"relative z-50  flex justify-between py-8",children:[f.jsxs("div",{className:"relative z-10 flex items-center gap-16",children:[f.jsx("a",{href:"/","aria-label":"Home",children:f.jsx("img",{src:nm,className:"h-auto bg-[#132561] rounded-md w-40 md:w-44"})}),f.jsx("div",{className:"hidden lg:flex lg:gap-10 ",children:f.jsx(A7e,{})})]}),f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx($Ie,{className:"lg:hidden",children:({open:e})=>f.jsxs(f.Fragment,{children:[f.jsx(rB,{className:"relative z-10 -m-2 inline-flex items-center rounded-lg stroke-white p-2 hover:bg-gray-200/50 hover:stroke-gray-600 active:stroke-gray-900 ui-not-focus-visible:outline-none","aria-label":"Toggle site navigation",children:({open:t})=>t?f.jsx(x7e,{className:"h-6 w-6 stroke-black"}):f.jsx(y7e,{className:"h-6 w-6 "})}),f.jsx(d7,{initial:!1,children:e&&f.jsxs(f.Fragment,{children:[f.jsx(LL,{static:!0,as:ns.div,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-0 bg-gray-300/60 backdrop-blur"}),f.jsxs(KL,{static:!0,as:ns.div,initial:{opacity:0,y:-32},animate:{opacity:1,y:0},exit:{opacity:0,y:-32,transition:{duration:.2}},className:"absolute inset-x-0 top-0 z-0 origin-top rounded-b-2xl bg-white px-6 pb-6 pt-32 shadow-2xl shadow-gray-900/20",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx(qh,{href:"/#features",children:"Características"}),f.jsx(qh,{href:"/#reviews",children:"Reseñas"}),f.jsx(qh,{href:"/#pricing",children:"Precio"}),f.jsx(qh,{href:"/#faqs",children:"FAQs"})]}),f.jsxs("div",{className:"mt-8 flex flex-col gap-2",children:[f.jsx(Bl,{href:"/login",variant:"outline",children:"Iniciar sesión"}),f.jsx(Bl,{href:"/register",className:" bg-orange-600 ",children:"Empezar ahora"})]})]})]})})]})}),f.jsx(Bl,{href:"/login",variant:"outline",className:"hidden text-white lg:block",children:"Iniciar sesión"}),f.jsx(Bl,{href:"/register",className:"hidden bg-orange-600 lg:block",children:"Crear cuenta"})]})]})})})}const Z7e="/assets/heroknowme-531ad276.png";const w7e="/assets/knowme_v01-4cb2e3f4.mp4",G7e="/assets/knowme_v02-56d387c6.webm",B7e=({open:e,setOpen:t})=>f.jsxs(Hn,{open:e,onClose:t,className:"relative z-50","aria-labelledby":"video-modal",children:[f.jsx(qG,{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"}),f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:f.jsxs(QA,{className:"relative w-full max-w-3xl transform overflow-hidden rounded-lg bg-gray-900 shadow-xl transition-all",children:[f.jsx("button",{"aria-label":"Cerrar",className:"absolute top-4 right-4 text-orange-400 hover:text-orange-300 focus:outline-none focus:ring focus:ring-orange-300 rounded-full z-50",onClick:n=>{n.stopPropagation(),t(!1)},children:f.jsx(oG,{size:24})}),f.jsx("div",{className:"aspect-w-16 aspect-h-9",children:f.jsxs("video",{controls:!0,playsInline:!0,autoPlay:!0,className:"w-full h-full rounded-md",children:[f.jsx("source",{src:w7e,type:"video/mp4"}),f.jsx("source",{src:G7e,type:"video/webm"})]})})]})})]});function k7e(e){let t=b.useId();return f.jsxs("div",{...e,children:[f.jsxs("svg",{viewBox:"0 0 1026 1026",fill:"none","aria-hidden":"true",className:"absolute inset-0 h-full w-full animate-spin-slow",children:[f.jsx("path",{d:"M1025 513c0 282.77-229.23 512-512 512S1 795.77 1 513 230.23 1 513 1s512 229.23 512 512Z",stroke:"#D4D4D4",strokeOpacity:"0.7"}),f.jsx("path",{d:"M513 1025C230.23 1025 1 795.77 1 513",stroke:`url(#${t}-gradient-1)`,strokeLinecap:"round"}),f.jsx("defs",{children:f.jsxs("linearGradient",{id:`${t}-gradient-1`,x1:"1",y1:"513",x2:"1",y2:"1025",gradientUnits:"userSpaceOnUse",children:[f.jsx("stop",{stopColor:"#06b6d4"}),f.jsx("stop",{offset:"1",stopColor:"#06b6d4",stopOpacity:"0"})]})})]}),f.jsxs("svg",{viewBox:"0 0 1026 1026",fill:"none","aria-hidden":"true",className:"absolute inset-0 h-full w-full animate-spin-reverse-slower",children:[f.jsx("path",{d:"M913 513c0 220.914-179.086 400-400 400S113 733.914 113 513s179.086-400 400-400 400 179.086 400 400Z",stroke:"#D4D4D4",strokeOpacity:"0.7"}),f.jsx("path",{d:"M913 513c0 220.914-179.086 400-400 400",stroke:`url(#${t}-gradient-2)`,strokeLinecap:"round"}),f.jsx("defs",{children:f.jsxs("linearGradient",{id:`${t}-gradient-2`,x1:"913",y1:"513",x2:"913",y2:"913",gradientUnits:"userSpaceOnUse",children:[f.jsx("stop",{stopColor:"#06b6d4"}),f.jsx("stop",{offset:"1",stopColor:"#06b6d4",stopOpacity:"0"})]})})]})]})}function R7e(e){return f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",...e,children:[f.jsx("circle",{cx:"12",cy:"12",r:"11.5",stroke:"#D4D4D4"}),f.jsx("path",{d:"M9.5 14.382V9.618a.5.5 0 0 1 .724-.447l4.764 2.382a.5.5 0 0 1 0 .894l-4.764 2.382a.5.5 0 0 1-.724-.447Z",fill:"#A3A3A3",stroke:"#A3A3A3"})]})}function V7e(){const e=Zt(),[t,n]=b.useState(!1),r=()=>{window.open("https://wa.me/525524826209?text=Hola,%20me%20interesa%20Knowme","_blank")};return f.jsxs("div",{className:"overflow-hidden bg-[#132561]  py-20 sm:py-32 lg:pb-32 xl:pb-36",children:[f.jsx(B7e,{setOpen:n,open:t}),f.jsx("button",{onClick:r,className:"bg-green-600 rounded-full p-2 text-4xl z-2 fixed right-2 text-white bottom-2",children:f.jsx(ree,{})}),f.jsx(Na,{className:"max-w-full ",children:f.jsxs("div",{className:"lg:grid lg:grid-cols-12  lg:gap-x-10 lg:gap-y-20",children:[f.jsxs(ns.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:1.5,ease:"easeOut"},className:"relative z-10 mx-auto max-w-2xl lg:col-span-7 lg:max-w-none lg:pt-6 xl:col-span-6",children:[f.jsx("h1",{className:"md:text-7xl text-5xl font-medium tracking-tight text-white",children:"La tarjeta de presentación digital que te conecta con el mundo"}),f.jsxs("div",{className:"mt-8 flex flex-wrap gap-x-6 gap-y-4",children:[f.jsx(Bl,{onClick:()=>e("/register"),className:"bg-orange-600 hover:bg-orange-700",children:f.jsx("span",{className:" text-white",children:"Empezar ahora"})}),f.jsxs(Bl,{onClick:()=>n(!0),variant:"outline",children:[f.jsx(R7e,{className:"h-6 w-6 flex-none"}),f.jsx("span",{className:"ml-2.5 text-white",children:"Ver el video"})]})]})]}),f.jsxs("div",{className:"relative  mt-10 sm:mt-20  lg:col-span-5 lg:row-span-2 lg:mt-0 xl:col-span-6",children:[f.jsx(k7e,{className:"absolute left-1/2 top-4 h-[1026px] w-[1026px] -translate-x-1/3 stroke-gray-300/70 [mask-image:linear-gradient(to_bottom,white_20%,transparent_75%)] sm:top-16 sm:-translate-x-1/2 lg:-top-16 lg:ml-12 xl:-top-14 xl:ml-0"}),f.jsx("div",{className:"md:-mr-0 -mr-96     -mx-0 md:-mx-4   h-[448px] px-9 [mask-image:linear-gradient(to_bottom,white_60%,transparent)] sm:mx-0 lg:absolute lg:-inset-x-10 lg:-bottom-20 lg:-top-10 lg:h-auto lg:px-0 lg:pt-10 xl:-bottom-32",children:f.jsx(ns.img,{src:Z7e,alt:"",className:"pointer-events-none absolute w-full -translate-x-1/2",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:1.5,ease:"easeOut"}})})]})]})})]})}const W7e=[{name:"Gratis",description:"(sin pago)",featured:!1,price:{Monthly:"$0.00",Annually:"$0"},button:{label:"Get started for free",href:"/register"},features:["Plataforma Knowme","Botones","Foto de perfil","Información personal","Código QR","Redes sociales","Compartir perfil (link)"],logomarkClassName:"fill-gray-300"},{name:"Basico",description:"(pago único)",featured:!1,price:{Monthly:"$459.00",Annually:"$70"},button:{label:"Subscribe",href:"/register"},features:["Plan gratis más...","Botón whatsapp","Tarjeta NFC blanca"],logomarkClassName:"fill-gray-500"},{name:"Emprendedor",description:"(anual)",featured:!1,price:{Monthly:"$690.00",Annually:"$1,990"},button:{label:"Subscribe",href:"/register"},features:["Plan gratis + básico + ","Botón enviar a #cel","Foto de portada","Empresa","Página web","Descripción","Teléfono 2","Mapa","Horarios","Archivo PDF","Directorio Knowme","Tarjeta NFC personalizada","CRM básico*"],logomarkClassName:"fill-cyan-500"},{name:"Business",description:"(anual)",featured:!0,price:{Monthly:"$990.00",Annually:"$1,990"},button:{label:"Subscribe",href:"/register"},features:["Todos los planes más...","Información de empresa","Logotipo","Galería de imagenes","Catalogo de productos y servicios","Archivo PDF 2","Gestión de usuarios ","Vídeo*","Gestión de equipos*","Importación y exportación CSV*","Reasignación de tarjetas*","CRM avanzado*"],logomarkClassName:"fill-cyan-500"}];function N7e(e){return f.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...e,children:[f.jsx("path",{d:"M9.307 12.248a.75.75 0 1 0-1.114 1.004l1.114-1.004ZM11 15.25l-.557.502a.75.75 0 0 0 1.15-.043L11 15.25Zm4.844-5.041a.75.75 0 0 0-1.188-.918l1.188.918Zm-7.651 3.043 2.25 2.5 1.114-1.004-2.25-2.5-1.114 1.004Zm3.4 2.457 4.25-5.5-1.187-.918-4.25 5.5 1.188.918Z",fill:"currentColor"}),f.jsx("circle",{cx:"12",cy:"12",r:"8.25",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}function E7e({name:e,price:t,description:n,button:r,features:o,activePeriod:i,logomarkClassName:a,featured:l=!1}){const s=Zt();return f.jsxs("section",{className:Ve("flex flex-col min-h-[800px] overflow-hidden rounded-3xl p-6 shadow-lg shadow-gray-900/5",l?" bg-[#132561] ":"bg-white"),children:[f.jsx("h3",{className:Ve("flex items-center text-sm font-semibold",l?"text-white":"text-gray-900"),children:f.jsx("span",{children:e})}),f.jsx("p",{className:Ve("relative mt-5 flex text-3xl tracking-tight",l?"text-white":"text-gray-900"),children:t.Monthly===t.Annually?t.Monthly:f.jsxs(f.Fragment,{children:[f.jsx("span",{"aria-hidden":i==="Annually",className:Ve("transition duration-300",i==="Annually"&&"pointer-events-none translate-x-6 select-none opacity-0"),children:t.Monthly}),f.jsx("span",{"aria-hidden":i==="Monthly",className:Ve("absolute left-0 top-0 transition duration-300",i==="Monthly"&&"pointer-events-none -translate-x-6 select-none opacity-0"),children:t.Annually})]})}),f.jsx("p",{className:Ve("mt-3 text-sm",l?"text-gray-300":"text-gray-700"),children:n}),f.jsx("div",{className:"order-last mt-6",children:f.jsx("ul",{role:"list",className:Ve("-my-2 divide-y text-sm",l?"divide-gray-800 text-gray-300":"divide-gray-200 text-gray-700"),children:o.map(c=>f.jsxs("li",{className:"flex py-2",children:[f.jsx(N7e,{className:Ve("h-6 w-6 flex-none",l?"text-white":"text-[#132561]")}),f.jsx("span",{className:"ml-4",children:c})]},c))})}),f.jsx(Bl,{onClick:()=>s(r.href),color:l?"white":"gray",className:"mt-6","aria-label":`Get started with the ${e} plan for ${t}`,children:"Empezar ahora"})]})}function X7e(){let[e,t]=b.useState("Monthly");return f.jsx("section",{id:"pricing","aria-labelledby":"pricing-title",className:"border-t border-gray-200  bg-gray-100 py-20 sm:py-32",children:f.jsxs(Na,{className:"max-w-full",children:[f.jsxs("div",{className:"mx-auto max-w-2xl  text-center",children:[f.jsx("h2",{id:"pricing-title",className:"text-3xl font-medium tracking-tight text-gray-900",children:"Nuestros planes"}),f.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"Tenemos una variedad de planes de acuerdo a tus necesidades, echale un vistazo."})]}),f.jsx("div",{className:"mt-2 flex justify-center",children:f.jsx("div",{className:"relative",children:f.jsx("div",{"aria-hidden":"true",className:Ve("pointer-events-none absolute inset-0 z-10 grid grid-cols-2 overflow-hidden rounded-lg bg-orange-600 transition-all duration-300",e==="Monthly"?"[clip-path:inset(0_50%_0_0)]":"[clip-path:inset(0_0_0_calc(50%-1px))]"),children:["Monthly","Annually"].map(n=>f.jsx("div",{className:Ve("py-2 text-center text-sm font-semibold text-white",n==="Annually"&&"-ml-px"),children:n},n))})})}),f.jsx("div",{className:"mx-auto mt-16 grid max-w-4xl  grid-cols-1 items-start gap-x-8 gap-y-10 sm:mt-20 lg:max-w-none md:grid-cols-2 lg:grid-cols-4",children:W7e.map(n=>f.jsx(E7e,{...n,activePeriod:e},n.name))})]})})}function J7e(e,t,n){var r=this,o=b.useRef(null),i=b.useRef(0),a=b.useRef(null),l=b.useRef([]),s=b.useRef(),c=b.useRef(),u=b.useRef(e),g=b.useRef(!0);u.current=e;var d=typeof window<"u",m=!t&&t!==0&&d;if(typeof e!="function")throw new TypeError("Expected a function");t=+t||0;var I=!!(n=n||{}).leading,h=!("trailing"in n)||!!n.trailing,A="maxWait"in n,C="debounceOnServer"in n&&!!n.debounceOnServer,p=A?Math.max(+n.maxWait||0,t):null;b.useEffect(function(){return g.current=!0,function(){g.current=!1}},[]);var v=b.useMemo(function(){var y=function(w){var k=l.current,V=s.current;return l.current=s.current=null,i.current=w,c.current=u.current.apply(V,k)},x=function(w,k){m&&cancelAnimationFrame(a.current),a.current=m?requestAnimationFrame(w):setTimeout(w,k)},S=function(w){if(!g.current)return!1;var k=w-o.current;return!o.current||k>=t||k<0||A&&w-i.current>=p},B=function(w){return a.current=null,h&&l.current?y(w):(l.current=s.current=null,c.current)},Z=function w(){var k=Date.now();if(S(k))return B(k);if(g.current){var V=t-(k-o.current),W=A?Math.min(V,p-(k-i.current)):V;x(w,W)}},R=function(){if(d||C){var w=Date.now(),k=S(w);if(l.current=[].slice.call(arguments),s.current=r,o.current=w,k){if(!a.current&&g.current)return i.current=o.current,x(Z,t),I?y(o.current):c.current;if(A)return x(Z,t),y(o.current)}return a.current||x(Z,t),c.current}};return R.cancel=function(){a.current&&(m?cancelAnimationFrame(a.current):clearTimeout(a.current)),i.current=0,l.current=o.current=s.current=a.current=null},R.isPending=function(){return!!a.current},R.flush=function(){return a.current?B(Date.now()):c.current},R},[I,A,t,p,h,m,d,C]);return v}const f7="/assets/hero2-0b5ce582.png";function Y7e(e){return f.jsxs("svg",{viewBox:"0 0 79 24",fill:"none","aria-hidden":"true",...e,children:[f.jsx("path",{d:"M12 24C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12-5.373 12-12 12ZM2.4 12a9.004 9.004 0 0 0 6.055 8.507c1.565.542 2.945-.85 2.945-2.507V6c0-1.657-1.38-3.049-2.945-2.507A9.004 9.004 0 0 0 2.4 12Z",fill:"#06B6D4"}),f.jsx("path",{d:"M33.004 17V6.818h3.818c.783 0 1.439.146 1.97.438.533.291.935.692 1.207 1.203.275.507.413 1.084.413 1.73 0 .653-.138 1.233-.413 1.74a2.948 2.948 0 0 1-1.218 1.198c-.537.288-1.198.433-1.983.433h-2.531v-1.517h2.282c.457 0 .832-.08 1.124-.238.291-.16.507-.378.646-.657.142-.278.214-.598.214-.96 0-.36-.072-.679-.214-.954a1.452 1.452 0 0 0-.651-.641c-.292-.156-.668-.234-1.129-.234h-1.69V17h-1.845Zm12.152.15c-.746 0-1.392-.165-1.939-.493a3.343 3.343 0 0 1-1.273-1.377c-.298-.59-.447-1.28-.447-2.068 0-.79.15-1.48.447-2.073a3.335 3.335 0 0 1 1.273-1.383c.547-.328 1.193-.492 1.94-.492.745 0 1.391.164 1.938.492.547.329.97.79 1.268 1.383.301.593.452 1.284.452 2.073 0 .789-.15 1.478-.452 2.068a3.309 3.309 0 0 1-1.268 1.377c-.547.328-1.193.492-1.939.492Zm.01-1.443c.404 0 .742-.11 1.014-.333.272-.225.474-.527.607-.905.136-.377.204-.798.204-1.262 0-.468-.068-.89-.204-1.268a2.007 2.007 0 0 0-.607-.91c-.272-.225-.61-.338-1.014-.338-.414 0-.759.113-1.034.338a2.041 2.041 0 0 0-.612.91 3.81 3.81 0 0 0-.198 1.268c0 .464.066.885.198 1.262.136.378.34.68.612.905.275.222.62.333 1.034.333Zm8.508 1.442c-.763 0-1.417-.167-1.964-.502a3.352 3.352 0 0 1-1.258-1.387c-.292-.593-.437-1.276-.437-2.048 0-.776.149-1.46.447-2.054a3.34 3.34 0 0 1 1.263-1.392c.547-.334 1.193-.502 1.939-.502.62 0 1.168.115 1.645.343.48.226.864.546 1.149.96.285.41.447.891.487 1.441h-1.72a1.644 1.644 0 0 0-.497-.92c-.259-.248-.605-.372-1.04-.372-.367 0-.69.1-.969.298-.278.196-.495.478-.651.845-.153.368-.229.81-.229 1.323 0 .52.076.968.229 1.342.152.371.366.658.641.86.279.2.605.298.98.298.265 0 .502-.05.71-.149.213-.102.39-.25.532-.442.143-.192.24-.426.294-.701h1.72a2.999 2.999 0 0 1-.477 1.437c-.275.414-.65.739-1.124.974-.474.232-1.03.348-1.67.348Zm6.39-2.545-.006-2.173h.289l2.744-3.067h2.103l-3.376 3.758h-.372l-1.383 1.482ZM58.422 17V6.818h1.8V17h-1.8Zm4.792 0-2.485-3.475 1.213-1.268L65.368 17h-2.153Zm6.245.15c-.766 0-1.427-.16-1.984-.478a3.233 3.233 0 0 1-1.278-1.362c-.298-.59-.447-1.285-.447-2.083 0-.786.149-1.475.447-2.069a3.384 3.384 0 0 1 1.263-1.392c.54-.334 1.175-.502 1.904-.502.47 0 .915.076 1.333.229.42.149.792.381 1.113.696.325.315.58.716.766 1.203.186.484.278 1.06.278 1.73v.552h-6.259v-1.213h4.534a1.935 1.935 0 0 0-.224-.92 1.625 1.625 0 0 0-.611-.641 1.719 1.719 0 0 0-.905-.234c-.368 0-.691.09-.97.269a1.848 1.848 0 0 0-.65.696c-.153.285-.231.598-.234.94v1.058c0 .444.08.825.243 1.144.163.315.39.556.681.726.292.165.634.248 1.025.248.261 0 .498-.036.71-.11.213-.075.397-.187.552-.332.156-.146.274-.327.353-.542l1.68.189a2.62 2.62 0 0 1-.606 1.163 2.958 2.958 0 0 1-1.133.766c-.461.179-.988.268-1.581.268Zm8.731-7.786v1.392h-4.39V9.364h4.39Zm-3.306-1.83h1.8v7.17c0 .241.036.427.109.556a.59.59 0 0 0 .298.258c.123.047.259.07.408.07.113 0 .215-.008.308-.025.096-.016.17-.031.219-.045l.303 1.407c-.096.034-.233.07-.412.11-.176.04-.392.063-.647.07a2.934 2.934 0 0 1-1.218-.204 1.895 1.895 0 0 1-.86-.706c-.209-.319-.311-.716-.308-1.194V7.534Z",fill:"#fff"})]})}function H7e(e){return f.jsx("svg",{viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",...e,children:f.jsx("path",{d:"M5 6h14M5 18h14M5 12h14",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function F7e(e){return f.jsx("svg",{viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",...e,children:f.jsx("path",{d:"M15 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM6.696 19h10.608c1.175 0 2.08-.935 1.532-1.897C18.028 15.69 16.187 14 12 14s-6.028 1.689-6.836 3.103C4.616 18.065 5.521 19 6.696 19Z",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function Ar({children:e,className:t,...n}){return f.jsxs("div",{className:Ve("flex flex-col",t),...n,children:[f.jsxs("div",{className:"flex justify-between px-4 pt-4",children:[f.jsx(H7e,{className:"h-6 w-6 flex-none"}),f.jsx(Y7e,{className:"h-6 flex-none"}),f.jsx(F7e,{className:"h-6 w-6 flex-none"})]}),e]})}Ar.Header=b.forwardRef(function({children:t},n){return f.jsx("div",{ref:n,className:"mt-6 px-4 text-white",children:t})});Ar.Title=b.forwardRef(function({children:t},n){return f.jsx("div",{ref:n,className:"text-2xl text-white",children:t})});Ar.Subtitle=b.forwardRef(function({children:t},n){return f.jsx("div",{ref:n,className:"text-sm text-gray-500",children:t})});Ar.Body=b.forwardRef(function({children:t,className:n},r){return f.jsx("div",{ref:r,className:Ve("mt-6 flex-auto rounded-t-2xl bg-white",n),children:t})});function M7e(e){return f.jsx("svg",{viewBox:"0 0 40 40",fill:"#fff","aria-hidden":"true",...e,children:f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.982 14.509c.002.005.006.01.007.015a.316.316 0 0 1 .011.082v4.293a.304.304 0 0 1-.043.156.32.32 0 0 1-.119.115l-3.709 2.075v4.112a.305.305 0 0 1-.043.157.32.32 0 0 1-.119.114l-7.742 4.33a.286.286 0 0 1-.056.023l-.022.008a.33.33 0 0 1-.18-.005l-.01-.005c-.018-.006-.036-.011-.053-.021l-7.742-4.33a.32.32 0 0 1-.119-.115.304.304 0 0 1-.043-.156v-12.88a.33.33 0 0 1 .01-.08c.004-.01.01-.018.012-.027l.01-.027a.158.158 0 0 1 .011-.022c.006-.01.015-.018.023-.028.009-.012.017-.025.028-.036.01-.01.02-.016.031-.024.012-.009.023-.019.036-.026l3.871-2.165a.33.33 0 0 1 .322 0l3.872 2.165c.013.007.024.017.036.026l.01.008c.008.005.015.01.021.016a.175.175 0 0 1 .021.025l.008.011.022.028c.008.015.014.032.02.049l.006.01.006.016a.307.307 0 0 1 .01.082v8.044l3.227-1.804v-4.112c0-.028.004-.055.011-.082.003-.01.008-.017.011-.026l.004-.01a.228.228 0 0 1 .017-.039.132.132 0 0 1 .013-.018.203.203 0 0 0 .01-.01c.009-.012.017-.025.028-.036l.015-.013.016-.01.019-.016a.126.126 0 0 1 .017-.011l3.871-2.165a.33.33 0 0 1 .322 0l3.871 2.165c.014.007.024.018.036.026l.012.008.02.016a.162.162 0 0 1 .02.026l.009.01.008.01c.005.006.01.012.013.018a.254.254 0 0 1 .018.04l.003.009.005.01Zm-15.138 8.717 3.22 1.77 7.094-3.933-3.223-1.803-7.091 3.966Zm10.64-2.704v-3.57l-3.226-1.804v3.57l3.225 1.804Zm3.547-5.916-3.225-1.803-3.224 1.803 3.224 1.803 3.225-1.803Zm-14.515.218v7.863l3.226-1.805V13.02l-3.226 1.804Zm2.902-2.346-3.225-1.803-3.224 1.803 3.224 1.803 3.225-1.803Zm-3.547 2.347-3.226-1.805v12.155l7.098 3.97V25.54l-3.708-2.038h-.001l-.002-.002c-.013-.008-.024-.018-.035-.027a.28.28 0 0 0-.011-.007.133.133 0 0 1-.02-.015v-.001l-.019-.022a.452.452 0 0 0-.008-.011l-.016-.02a.086.086 0 0 1-.008-.01v-.002a.123.123 0 0 1-.013-.027l-.005-.012-.008-.016a.115.115 0 0 1-.007-.02.18.18 0 0 1-.005-.033l-.002-.013a.293.293 0 0 0-.002-.013l-.002-.022v-8.405Zm4.516 10.715v3.605l7.096-3.969v-3.572l-7.096 3.935Zm7.742-5.019 3.226-1.804v-3.57l-3.226 1.805v3.57Z"})})}function j7e(e){return f.jsx("svg",{viewBox:"0 0 40 40",fill:"#fff","aria-hidden":"true",...e,children:f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.5 8 12 11.692v12l3.5 1.231v3.385L26 32V12.615l-3.5 1.231V8Zm-5.833 17.334 5.833 2.05v-12.24l2.333-.82v15.968l-8.166-2.87v-2.088Z"})})}function T7e(e){return f.jsxs("svg",{viewBox:"0 0 40 40",fill:"#fff","aria-hidden":"true",...e,children:[f.jsx("path",{d:"M20 32c-6.617 0-12-5.383-12-12S13.383 8 20 8s12 5.383 12 12-5.383 12-12 12Zm0-22.4C14.267 9.6 9.6 14.266 9.6 20S14.267 30.4 20 30.4c5.734 0 10.4-4.666 10.4-10.4S25.734 9.6 20 9.6Z"}),f.jsx("path",{d:"M19.434 27.749c.15.15.354.234.566.235.433 0 .8-.368.8-.8V12.815a.8.8 0 0 0-1.6 0v14.368c0 .212.084.415.234.565ZM12.833 20.8h3.833a.802.802 0 0 0 .802-.8.8.8 0 0 0-.801-.8h-3.834c-.45 0-.8.35-.8.8a.8.8 0 0 0 .8.8ZM23.333 20.8h3.85c.433 0 .783-.35.783-.8a.799.799 0 0 0-.8-.8h-3.833c-.45 0-.8.35-.8.8a.8.8 0 0 0 .8.8Z"})]})}function L7e(e){return f.jsxs("svg",{viewBox:"0 0 40 40",fill:"#fff",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...e,children:[f.jsx("path",{d:"M22.16 19 26 13H14l3.84 6",fill:"none"}),f.jsx("path",{d:"M25 24a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"})]})}function K7e(e){return f.jsx("svg",{viewBox:"0 0 40 40",fill:"#fff","aria-hidden":"true",...e,children:f.jsx("path",{d:"m26.068 10.555-11.49 13.089L12 21.089 23.489 8l2.58 2.555ZM28 18.91 16.512 32l-2.579-2.555 11.489-13.089L28 18.911Z"})})}function O7e(e){return f.jsx("svg",{viewBox:"0 0 40 40",fill:"#fff","aria-hidden":"true",...e,children:f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.177 27.293c0 1.921-.644 2.707-2.398 2.707H12.22c-1.754 0-2.397-.786-2.397-2.707v-3.741c0-1.805-.837-2.824-1.642-3.291a.385.385 0 0 1-.133-.143.403.403 0 0 1 .133-.526c.837-.551 1.642-1.704 1.642-3.241v-3.677c0-2.072.547-2.674 2.3-2.674h15.754c1.754 0 2.3.602 2.3 2.674v3.675c0 1.537.805 2.69 1.641 3.24.243.168.243.52 0 .67-.804.484-1.64 1.503-1.64 3.29v3.743h-.001Zm-14.739-2.455c1.271 1.152 2.64 1.737 4.522 1.737 2.96 0 4.891-1.537 4.891-4.026 0-2.637-2.3-3.31-4.17-3.856-1.282-.375-2.363-.691-2.363-1.54 0-.551.564-1.086 1.513-1.086.917 0 1.674.2 2.397.584.242.117.467.2.676.2.306 0 .547-.15.756-.45l.29-.451a.955.955 0 0 0 .161-.55c0-.336-.161-.67-.402-.837-.966-.635-2.27-1.17-4.039-1.17-2.51 0-4.44 1.37-4.44 3.826 0 2.746 2.349 3.443 4.23 4h.001c1.255.372 2.3.681 2.3 1.497 0 .785-.707 1.17-1.592 1.17a5.19 5.19 0 0 1-2.992-.92c-.274-.183-.532-.3-.805-.3-.242 0-.451.117-.644.368l-.387.517a.888.888 0 0 0-.192.585c0 .25.08.501.29.702Z"})})}function P7e(e){return f.jsxs("svg",{viewBox:"0 0 40 40",fill:"#fff","aria-hidden":"true",...e,children:[f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.05 9c2.307 0 4.177 1.885 4.177 4.21a4.21 4.21 0 0 1-2.762 3.964l3.366 6.057h2.304c.355 0 .642.29.642.647a.645.645 0 0 1-.642.647H7.142a.645.645 0 0 1-.642-.647c0-.358.288-.647.643-.647h2.304l5.994-10.747a.641.641 0 0 1 1.097-.036l3.444 5.32 1.071-1.627a4.214 4.214 0 0 1-1.178-2.93c0-2.326 1.87-4.211 4.176-4.211Zm-3.304 9.948 2.772 4.283h3.84l-4.317-7.769-2.295 3.486Zm1.239 4.283-5.944-9.183-5.121 9.183h11.065Zm5.038-10.02a2.995 2.995 0 0 1-2.159 2.883l-1.216-2.19a.64.64 0 0 0-1.096-.04l-.811 1.232a3 3 0 0 1-.663-1.885c0-1.655 1.332-2.997 2.973-2.997 1.641 0 2.972 1.341 2.972 2.997Z"}),f.jsx("path",{d:"M12.069 26.469c-.354 0-.641.289-.641.646 0 .358.287.646.64.646h14.139c.354 0 .641-.29.641-.646a.644.644 0 0 0-.64-.646h-14.14Zm4.928 3.236a.645.645 0 0 0-.642.648c0 .357.288.647.642.647h4.282c.355 0 .643-.29.643-.647a.645.645 0 0 0-.643-.648h-4.282Z"})]})}function D7e(e){return f.jsx("svg",{viewBox:"0 0 40 40",fill:"none",stroke:"#fff",strokeWidth:"2",strokeLinecap:"square",strokeLinejoin:"round","aria-hidden":"true",...e,children:f.jsx("path",{d:"M15 26v-5.25m0 0V16a2 2 0 0 1 2-2h4.21c.968 0 1.37 1.24.587 1.809L15 20.75Zm0 0L25 26"})})}const z7e="/assets/1-fe81fc5f.png",U7e="/assets/2-8d2b14c9.png",_7e="/assets/3-2cd98378.png",Q7e="/assets/4-6f8bbdf2.png",$7e="/assets/5-7c28d9d6.png",q7e="/assets/6-37d44dac.png",e_e="/assets/7-c307200d.png",t_e="/assets/8-43c66ca9.png",n_e="/assets/9-23a175ee.png",r_e="/assets/10-67d982ae.png",o_e="/assets/11-c3776fa4.png",i_e="/assets/12-a75fece1.png",a_e="/assets/13-56fd1cdf.png",l_e="/assets/14-09bbe32d.png",s_e="/assets/15-28804109.png",c_e="/assets/16-ec974a80.png",u_e="/assets/17-25b06fa0.png",g_e="/assets/18-2ec9a8a8.png",d_e="/assets/19-c8c7626a.png",f_e="/assets/20-b9864e5c.png",m_e="/assets/21-0b3c15c9.png",I_e="/assets/22-cb603a32.png",h_e="/assets/23-7cd017d2.png",C_e="/assets/24-a851d3f6.png",p_e="/assets/25-718f0691.png",A_e="/assets/26-012ee6e3.png",b_e="/assets/27-60ee55e1.png",v_e="/assets/28-50aaa911.png",y_e="/assets/29-5c2f59a7.png",x_e="/assets/30-b6af13a8.png",S_e="/assets/31-36dfdf7d.png",Z_e="/assets/32-5659c972.png",w_e="/assets/33-ef61cdb3.png",G_e="/assets/34-26bdba27.png",B_e="/assets/35-ee1f276b.png",k_e="/assets/36-f11e603f.png",R_e="/assets/37-caad7b26.png",V_e="/assets/38-a9da0cae.png",W_e="/assets/39-bcded2c0.png",N_e="/assets/40-21ad5e3e.png",E_e="/assets/41-32439b86.png",X_e="/assets/42-8fd846c3.png",J_e="/assets/43-19a00b5e.png",Y_e="/assets/44-e2842c57.png",H_e=({interval:e=3e3})=>{const[t,n]=b.useState(0),r=[z7e,U7e,_7e,Q7e,$7e,q7e,e_e,t_e,n_e,r_e,o_e,i_e,a_e,l_e,s_e,c_e,u_e,g_e,d_e,f_e,m_e,I_e,h_e,C_e,p_e,A_e,b_e,v_e,y_e,x_e,S_e,Z_e,w_e,G_e,B_e,k_e,R_e,V_e,W_e,N_e,E_e,X_e,J_e,Y_e],o=200,i=r.length,a=()=>{n(l=>Math.abs(l)>=o*i?0:l-o)};return b.useEffect(()=>{const l=setInterval(a,e);return()=>clearInterval(l)},[e]),f.jsxs("div",{className:"relative overflow-hidden mb-20 w-full",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-bg-[#000] to-transparent z-10",style:{left:"0",right:"0",top:"0",bottom:"0",pointerEvents:"none"}}),f.jsxs("div",{className:"relative flex transition-transform duration-500",style:{transform:`translateX(${t}px)`},onTransitionEnd:()=>{Math.abs(t)>=o*i&&n(0)},children:[r.map((l,s)=>f.jsx("div",{className:"min-w-[200px] max-w-[200px] p-2 h-full flex-shrink-0",children:f.jsx("img",{src:l,alt:`Slide ${s}`,className:"w-full h-full object-cover rounded-md"})},s)),r.map((l,s)=>f.jsx("div",{className:"min-w-[200px] max-w-[200px] p-2 h-full flex-shrink-0",children:f.jsx("img",{src:l,alt:`Slide ${s+i}`,className:"w-full h-full object-cover rounded-md"})},s+i))]}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-l from-bg-[#000] to-transparent z-10",style:{right:"0",left:"auto",top:"0",bottom:"0",pointerEvents:"none"}})]})},jR=ns(Ar.Header),TR=ns(Ar.Body),qZ=[{name:"Imagen profesional e innovadora",description:"Olvídate de las tarjetas de papel tradicionales. Knowme te permite crear una tarjeta de presentación digital moderna e interactiva que causa una excelente primera impresión.",icon:F_e,screen:T_e},{name:"Networking más efectivo",description:"Comparte tu información de contacto de forma rápida y sencilla a través de un código QR o una tarjeta NFC",icon:M_e,screen:L_e},{name:"Ahorra tiempo y dinero",description:"Elimina los costos de impresión y el tiempo dedicado a repartir tarjetas físicas. Además, puedes actualizar tu información en tiempo real sin necesidad de reimprimir.",icon:j_e,screen:K_e}];function F_e(e){return f.jsxs("svg",{viewBox:"0 0 32 32","aria-hidden":"true",...e,children:[f.jsx("circle",{cx:16,cy:16,r:16,fill:"#A3A3A3",fillOpacity:.2}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 23a3 3 0 100-6 3 3 0 000 6zm-1 2a4 4 0 00-4 4v1a2 2 0 002 2h6a2 2 0 002-2v-1a4 4 0 00-4-4h-2z",fill:"#737373"}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 4a4 4 0 014-4h14a4 4 0 014 4v24a4.002 4.002 0 01-3.01 3.877c-.535.136-.99-.325-.99-.877s.474-.98.959-1.244A2 2 0 0025 28V4a2 2 0 00-2-2h-1.382a1 1 0 00-.894.553l-.448.894a1 1 0 01-.894.553h-6.764a1 1 0 01-.894-.553l-.448-.894A1 1 0 0010.382 2H9a2 2 0 00-2 2v24a2 2 0 001.041 1.756C8.525 30.02 9 30.448 9 31s-.455 1.013-.99.877A4.002 4.002 0 015 28V4z",fill:"#A3A3A3"})]})}function M_e(e){return f.jsxs("svg",{viewBox:"0 0 32 32","aria-hidden":"true",...e,children:[f.jsx("circle",{cx:16,cy:16,r:16,fill:"#A3A3A3",fillOpacity:.2}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 0a4 4 0 00-4 4v24a4 4 0 004 4h14a4 4 0 004-4V4a4 4 0 00-4-4H9zm0 2a2 2 0 00-2 2v24a2 2 0 002 2h14a2 2 0 002-2V4a2 2 0 00-2-2h-1.382a1 1 0 00-.894.553l-.448.894a1 1 0 01-.894.553h-6.764a1 1 0 01-.894-.553l-.448-.894A1 1 0 0010.382 2H9z",fill:"#A3A3A3"}),f.jsx("path",{d:"M9 8a2 2 0 012-2h10a2 2 0 012 2v2a2 2 0 01-2 2H11a2 2 0 01-2-2V8z",fill:"#737373"})]})}function j_e(e){let t=b.useId();return f.jsxs("svg",{viewBox:"0 0 32 32",fill:"none","aria-hidden":"true",...e,children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:`${t}-gradient`,x1:14,y1:14.5,x2:7,y2:17,gradientUnits:"userSpaceOnUse",children:[f.jsx("stop",{stopColor:"#737373"}),f.jsx("stop",{offset:1,stopColor:"#D4D4D4",stopOpacity:0})]})}),f.jsx("circle",{cx:16,cy:16,r:16,fill:"#A3A3A3",fillOpacity:.2}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 4a4 4 0 014-4h14a4 4 0 014 4v13h-2V4a2 2 0 00-2-2h-1.382a1 1 0 00-.894.553l-.448.894a1 1 0 01-.894.553h-6.764a1 1 0 01-.894-.553l-.448-.894A1 1 0 0010.382 2H9a2 2 0 00-2 2v24a2 2 0 002 2h4v2H9a4 4 0 01-4-4V4z",fill:"#A3A3A3"}),f.jsx("path",{d:"M7 22c0-4.694 3.5-8 8-8",stroke:`url(#${t}-gradient)`,strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M21 20l.217-5.513a1.431 1.431 0 00-2.85-.226L17.5 21.5l-1.51-1.51a2.107 2.107 0 00-2.98 0 .024.024 0 00-.005.024l3.083 9.25A4 4 0 0019.883 32H25a4 4 0 004-4v-5a3 3 0 00-3-3h-5z",fill:"#A3A3A3"})]})}const LR={initial:{opacity:0,transition:{duration:.3}},animate:{opacity:1,transition:{duration:.3,delay:.3}},exit:{opacity:0,transition:{duration:.3}}},m7=2147483647,HH={opacity:.4,scale:.8,zIndex:0,filter:"blur(4px)",transition:{duration:.4}},FH=e=>({y:"100%",zIndex:m7-e.changeCount,transition:{duration:.4}}),KR={initial:"initial",animate:"animate",exit:"exit",variants:{initial:(e,...t)=>e.isForwards?FH(e,...t):HH,animate:e=>({y:"0%",opacity:1,scale:1,zIndex:m7/2-e.changeCount,filter:"blur(0px)",transition:{duration:.4}}),exit:(e,...t)=>e.isForwards?HH:FH(e,...t)}};function T_e(e){return f.jsxs(Ar,{className:"w-full",children:[f.jsxs(jR,{...e.animated?LR:{},children:[f.jsx(Ar.Title,{children:"Invite people"}),f.jsxs(Ar.Subtitle,{children:["Get tips ",f.jsx("span",{className:"text-white",children:"5s sooner"})," for every invite."]})]}),f.jsx(TR,{...e.animated?{...KR,custom:e.custom}:{},children:f.jsxs("div",{className:"px-4 py-6",children:[f.jsx("div",{className:"space-y-6",children:[{label:"Full name",value:"Albert H. Wiggin"},{label:"Email address",value:"awiggin@chase.com"}].map(t=>f.jsxs("div",{children:[f.jsx("div",{className:"text-sm text-gray-500",children:t.label}),f.jsx("div",{className:"mt-2 border-b border-gray-200 pb-2 text-sm text-gray-900",children:t.value})]},t.label))}),f.jsx("div",{className:"mt-6 rounded-lg bg-cyan-500 px-3 py-2 text-center text-sm font-semibold text-white",children:"Invite person"})]})})]})}function L_e(e){return f.jsxs(Ar,{className:"w-full",children:[f.jsxs(jR,{...e.animated?LR:{},children:[f.jsx(Ar.Title,{children:"Stocks"}),f.jsx(Ar.Subtitle,{children:"March 9, 2022"})]}),f.jsx(TR,{...e.animated?{...KR,custom:e.custom}:{},children:f.jsx("div",{className:"divide-y divide-gray-100",children:[{name:"Laravel",price:"4,098.01",change:"+4.98%",color:"#F9322C",logo:M7e},{name:"Tuple",price:"5,451.10",change:"-3.38%",color:"#5A67D8",logo:j7e},{name:"Transistor",price:"4,098.41",change:"+6.25%",color:"#2A5B94",logo:T7e},{name:"Diageo",price:"250.65",change:"+1.25%",color:"#3320A7",logo:L7e},{name:"StaticKit",price:"250.65",change:"-3.38%",color:"#2A3034",logo:K7e},{name:"Statamic",price:"5,040.85",change:"-3.11%",color:"#0EA5E9",logo:O7e},{name:"Mirage",price:"140.44",change:"+9.09%",color:"#16A34A",logo:P7e},{name:"Reversable",price:"550.60",change:"-1.25%",color:"#8D8D8D",logo:D7e}].map(t=>f.jsxs("div",{className:"flex items-center gap-4 px-4 py-3",children:[f.jsx("div",{className:"flex-none rounded-full",style:{backgroundColor:t.color},children:f.jsx(t.logo,{className:"h-10 w-10"})}),f.jsx("div",{className:"flex-auto text-sm text-gray-900",children:t.name}),f.jsxs("div",{className:"flex-none text-right",children:[f.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.price}),f.jsx("div",{className:Ve("text-xs leading-5",t.change.startsWith("+")?"text-cyan-500":"text-gray-500"),children:t.change})]})]},t.name))})})]})}function K_e(e){return f.jsxs(Ar,{className:"w-full",children:[f.jsxs(jR,{...e.animated?LR:{},children:[f.jsx(Ar.Title,{children:"Buy $LA"}),f.jsxs(Ar.Subtitle,{children:[f.jsx("span",{className:"text-white",children:"$34.28"})," per share"]})]}),f.jsx(TR,{...e.animated?{...KR,custom:e.custom}:{},children:f.jsx("div",{className:"px-4 py-6",children:f.jsxs("div",{className:"space-y-4",children:[[{label:"Number of shares",value:"100"},{label:"Current market price",value:f.jsxs("div",{className:"flex",children:["$34.28",f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",className:"h-6 w-6",children:f.jsx("path",{d:"M17 15V7H9M17 7 7 17",stroke:"#06B6D4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})},{label:"Estimated cost",value:"$3,428.00"}].map(t=>f.jsxs("div",{className:"flex justify-between border-b border-gray-100 pb-4",children:[f.jsx("div",{className:"text-sm text-gray-500",children:t.label}),f.jsx("div",{className:"text-sm font-semibold text-gray-900",children:t.value})]},t.label)),f.jsx("div",{className:"rounded-lg bg-cyan-500 px-3 py-2 text-center text-sm font-semibold text-white",children:"Buy shares"})]})})})]})}function O_e(e){let t=b.useRef();return b.useEffect(()=>{t.current=e},[e]),t.current}function P_e(){let[e,t]=b.useState(0),[n,r]=b.useState(0);O_e(n);let o=J7e(i=>{r(i),t(a=>a+1)},100,{leading:!0});return f.jsxs(II,{className:"grid grid-cols-12 items-center gap-8 lg:gap-16 xl:gap-24",selectedIndex:n,onChange:o,vertical:!0,children:[f.jsx(hI,{className:"relative z-10 order-last col-span-6 space-y-6",children:qZ.map((i,a)=>f.jsxs("div",{className:"relative rounded-2xl transition-colors hover:bg-gray-800/30",children:[a===n&&f.jsx(ns.div,{layoutId:"activeBackground",className:"absolute inset-0 bg-gray-800",initial:{borderRadius:16}}),f.jsxs("div",{className:"relative z-10 p-8",children:[f.jsx(i.icon,{className:"h-8 w-8"}),f.jsx("h3",{className:"mt-6 text-lg font-semibold text-white",children:f.jsxs(rb,{className:"text-left ui-not-focus-visible:outline-none",children:[f.jsx("span",{className:"absolute inset-0 rounded-2xl"}),i.name]})}),f.jsx("p",{className:"mt-2 text-sm text-gray-400",children:i.description})]})]},i.name))}),f.jsxs("div",{className:"relative col-span-6",children:[f.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:f.jsx(pR,{color:"#ea580c",className:"animate-spin-slower"})}),f.jsx("div",{className:"z-10  mx-auto w-full max-w-[566px]",children:f.jsx("img",{className:"w-full h-auto object-cover",src:f7})})]})]})}function D_e(){let[e,t]=b.useState(0),n=b.useRef(null),r=b.useRef([]);return b.useEffect(()=>{let o=new window.IntersectionObserver(i=>{for(let a of i)if(a.isIntersecting&&a.target instanceof HTMLDivElement){t(r.current.indexOf(a.target));break}},{root:n.current,threshold:.6});for(let i of r.current)i&&o.observe(i);return()=>{o.disconnect()}},[n,r]),f.jsxs(f.Fragment,{children:[f.jsx("div",{ref:n,className:"-mb-4 flex snap-x snap-mandatory -space-x-4 overflow-x-auto overscroll-x-contain scroll-smooth pb-4 [scrollbar-width:none] sm:-space-x-6 [&::-webkit-scrollbar]:hidden",children:qZ.map((o,i)=>f.jsx("div",{ref:a=>a&&(r.current[i]=a),className:"w-full flex-none snap-center px-4 sm:px-6",children:f.jsxs("div",{className:"relative transform overflow-hidden rounded-2xl bg-gray-800 px-5 py-6",children:[f.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:f.jsx(pR,{color:"#ea580c",className:i%2===1?"rotate-180":void 0})}),f.jsx("div",{className:"z-10  mx-auto w-full max-w-[566px]",children:f.jsx("img",{className:"w-full h-auto object-cover",src:f7})}),f.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-gray-800/35 p-6 backdrop-blur sm:p-10",children:[f.jsx("h3",{className:"mt-6 text-sm font-semibold text-white sm:text-lg",children:o.name}),f.jsx("p",{className:"mt-2 text-sm text-gray-400",children:o.description})]})]})},i))}),f.jsx("div",{className:"mt-6 flex justify-center gap-3",children:qZ.map((o,i)=>f.jsx("button",{type:"button",className:Ve("relative h-0.5 w-4 rounded-full",i===e?"bg-gray-300":"bg-gray-500"),"aria-label":`Go to slide ${i+1}`,onClick:()=>{r.current[i].scrollIntoView({block:"nearest",inline:"nearest"})},children:f.jsx("span",{className:"absolute -inset-x-1.5 -inset-y-3"})},i))})]})}function z_e(){return f.jsxs("section",{id:"features","aria-label":"Features for investing all your money",className:"bg-[#132561]  py-20 sm:py-32",children:[f.jsx(H_e,{}),f.jsx(Na,{children:f.jsxs("div",{className:"mx-auto max-w-2xl lg:mx-0 lg:max-w-3xl",children:[f.jsx("h2",{className:"text-3xl font-medium tracking-tight text-white",children:"Conecta con una tarjeta de presentación inteligente, compártela fácilmente y gestiona tus contactos de forma eficiente."}),f.jsx("p",{className:"mt-2 text-lg text-gray-400",children:"Olvídate de las tarjetas de papel tradicionales y únete a la revolución digital. Nuestra plataforma te permite mantener tu información actualizada, destacarte con un diseño profesional y facilitar la comunicación en un entorno laboral en constante cambio. Conecta con confianza y demuestra tu profesionalismo en cada interacción."})]})}),f.jsx("div",{className:"mt-16 md:hidden",children:f.jsx(D_e,{})}),f.jsx(Na,{className:"hidden md:mt-20 md:block",children:f.jsx(P_e,{})})]})}const U_e="/assets/review1-047b0189.png",__e="/assets/review2-ed1aebc6.png",Q_e="/assets/review3-76a5c711.png";function $_e(){return f.jsx("section",{id:"reviews",className:"bg-gray-900 py-24 sm:py-32",children:f.jsx("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:f.jsxs("div",{className:"mx-auto grid grid-cols-1 md:grid-cols-2 lg:mx-0 lg:max-w-none lg:grid-cols-3",children:[f.jsxs("div",{className:"flex flex-col pb-10 sm:pb-16 lg:pb-0 lg:pr-8 xl:pr-20",children:[f.jsx("img",{alt:"",src:U_e,className:"h-24 self-start"}),f.jsxs("figure",{className:"mt-10 flex flex-auto flex-col justify-between",children:[f.jsx("blockquote",{className:"text-lg/8 text-white",children:f.jsx("p",{children:"“Imagen moderna e innovadora Knowme ha transformado la manera en que presentamos nuestra empresa. Las tarjetas digitales son mucho más atractivas e interactivas que las tradicionales, y nos ayudan a proyectar una imagen moderna e innovadora. ¡Nuestros clientes quedan impresionados!”"})}),f.jsx("figcaption",{className:"mt-10 flex items-center gap-x-6",children:f.jsxs("div",{className:"text-base",children:[f.jsx("div",{className:"font-semibold text-white",children:"Marigela Hernández"}),f.jsx("div",{className:"mt-1 text-gray-400",children:"Gerente de Marketing"})]})})]})]}),f.jsxs("div",{className:"flex flex-col border-t border-white/10 pt-10 sm:pt-16  md:border-l md:border-t-0 lg:pl-8 md:pt-0 md:pl-5 xl:pl-20",children:[f.jsx("img",{src:__e,alt:"",className:"h-24 self-start"}),f.jsxs("figure",{className:"mt-10 flex flex-auto flex-col justify-between",children:[f.jsx("blockquote",{className:"text-lg/8 text-white",children:f.jsx("p",{children:'“Comparte fácil y rápido como freelancer, el networking es esencial para mi negocio. Con Knowme, compartir mi información de contacto es súper fácil y rápido. Además, la tarjeta digital me permite destacar entre la competencia y generar más oportunidades."”'})}),f.jsx("figcaption",{className:"mt-10 flex items-center gap-x-6",children:f.jsxs("div",{className:"text-base",children:[f.jsx("div",{className:"font-semibold text-white",children:"Queralt Franco"}),f.jsx("div",{className:"mt-1 text-gray-400",children:"Diseño de Interiores"})]})})]})]}),f.jsxs("div",{className:"flex flex-col border-t border-white/10 pt-10 sm:pt-16 md:border-l md:border-t-0 lg:pl-8 md:pt-0 md:pl-5 xl:pl-20",children:[f.jsx("img",{alt:"",src:Q_e,className:"h-24 self-start"}),f.jsxs("figure",{className:"mt-10 flex flex-auto flex-col justify-between",children:[f.jsx("blockquote",{className:"text-lg/8 text-white",children:f.jsx("p",{children:"“Gran diseño, más leads Desde que usamos Knowme en nuestros eventos, hemos notado un aumento significativo en la cantidad de leads que generamos. La facilidad para compartir la información y el diseño atractivo de la tarjeta digital hacen que sea mucho más fácil conectar con clientes potenciales.”"})}),f.jsx("figcaption",{className:"mt-10 flex items-center gap-x-6",children:f.jsxs("div",{className:"text-base",children:[f.jsx("div",{className:"font-semibold text-white",children:"Marcos Ramírez"}),f.jsx("div",{className:"mt-1 text-gray-400",children:"Gerente de Ventas"})]})})]})]})]})})})}const q_e="/assets/organizacion-4ce1256b.png",e6e="/assets/efectividad-aa73906f.png",t6e="/assets/wow-511cd159.png",n6e="/assets/medioambiente-a6718085.png",r6e="/assets/productos-3884c473.png",o6e="/assets/tiempo-9c74be80.png",i6e=[{icon:q_e,name:"Organización y seguimiento",description:"Gestiona tus contactos de forma eficiente, añade notas y recordatorios, y da seguimiento a tus interacciones."},{icon:e6e,name:"Mayor efectividad",description:"Comparte tu tarjeta Knowme en redes sociales, correo electrónico y tu sitio web para aumentar tu alcance."},{icon:t6e,name:"Efecto WOW",description:"Con Knowme, no solo ofreces una tarjeta de presentación digital, sino una experiencia completa e innovadora que facilita el networking y potencia las oportunidades de negocio."},{icon:n6e,name:"Amigable con el medio ambiente",description:"Reduce el consumo de papel y contribuye al cuidado del planeta."},{icon:r6e,name:"Sección de productos y servicios",description:"Incluye un catálogo de productos o servicios en tu tarjeta Knowme y despierta el interés de tus clientes. ¡Muestra lo que ofreces de forma atractiva e irresistible!"},{icon:o6e,name:"Mejora la comunicación",description:"Facilita la comunicación con clientes y proveedores al tener toda tu información de contacto en un solo lugar. ¡Adiós a las confusiones, hola a la eficiencia!"}];function a6e(){return f.jsx("section",{id:"secondary-features","aria-label":"Features for building a portfolio",className:"py-10 sm:py-32 bg-white",children:f.jsxs(Na,{children:[f.jsxs("div",{className:"mx-auto max-w-2xl sm:text-center",children:[f.jsx("h2",{className:"text-3xl font-medium tracking-tight text-gray-900",children:"Características"}),f.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"Mira las caracteristicas que tiene nuestro programa que impulsara tu negocio y la forma en la que visualizan tus contactos"})]}),f.jsx("ul",{role:"list",className:"mx-auto mt-16 grid max-w-2xl grid-cols-1 gap-6 text-sm sm:mt-20 sm:grid-cols-2 md:gap-y-10 lg:max-w-none lg:grid-cols-3",children:i6e.map(e=>f.jsxs("li",{className:"rounded-2xl border border-gray-200 p-8",children:[f.jsx("img",{className:"h-10 border w-10 shadow-md rounded-full",src:e.icon}),f.jsx("h3",{className:"mt-6 font-semibold text-gray-900",children:e.name}),f.jsx("p",{className:"mt-2 text-gray-700",children:e.description})]},e.name))})]})})}function l6e(){return f.jsxs(f.Fragment,{children:[f.jsx(S7e,{}),f.jsx(V7e,{}),f.jsx(z_e,{}),f.jsx(a6e,{}),f.jsx($_e,{}),f.jsx(X7e,{}),f.jsx(nDe,{}),f.jsx(eDe,{}),f.jsx(v7e,{})]})}const s6e=()=>f.jsx(l6e,{});function c6e(e){let t=b.useId();return f.jsxs("div",{...e,children:[f.jsxs("svg",{viewBox:"0 0 1026 1026",fill:"none","aria-hidden":"true",className:"absolute inset-0 h-full w-full animate-spin-slow",children:[f.jsx("path",{d:"M1025 513c0 282.77-229.23 512-512 512S1 795.77 1 513 230.23 1 513 1s512 229.23 512 512Z",stroke:"#D4D4D4",strokeOpacity:"0.7"}),f.jsx("path",{d:"M513 1025C230.23 1025 1 795.77 1 513",stroke:`url(#${t}-gradient-1)`,strokeLinecap:"round"}),f.jsx("defs",{children:f.jsxs("linearGradient",{id:`${t}-gradient-1`,x1:"1",y1:"513",x2:"1",y2:"1025",gradientUnits:"userSpaceOnUse",children:[f.jsx("stop",{stopColor:"#06b6d4"}),f.jsx("stop",{offset:"1",stopColor:"#06b6d4",stopOpacity:"0"})]})})]}),f.jsxs("svg",{viewBox:"0 0 1026 1026",fill:"none","aria-hidden":"true",className:"absolute inset-0 h-full w-full animate-spin-reverse-slower",children:[f.jsx("path",{d:"M913 513c0 220.914-179.086 400-400 400S113 733.914 113 513s179.086-400 400-400 400 179.086 400 400Z",stroke:"#D4D4D4",strokeOpacity:"0.7"}),f.jsx("path",{d:"M913 513c0 220.914-179.086 400-400 400",stroke:`url(#${t}-gradient-2)`,strokeLinecap:"round"}),f.jsx("defs",{children:f.jsxs("linearGradient",{id:`${t}-gradient-2`,x1:"913",y1:"513",x2:"913",y2:"913",gradientUnits:"userSpaceOnUse",children:[f.jsx("stop",{stopColor:"#06b6d4"}),f.jsx("stop",{offset:"1",stopColor:"#06b6d4",stopOpacity:"0"})]})})]})]})}const u6e=[{value:"monthly",label:"Mensual",priceSuffix:"/mes"},{value:"annually",label:"Anual",priceSuffix:"/año"},{value:"monthly",label:"Único",priceSuffix:"/mes"}],MH=[{name:"Gratis",id:"tier-freelancer",href:"#",price:{monthly:"$0",annually:"$199"},description:"Disfruta de los beneficios básicos de Know Me.",features:["Plataforma Know Me","Botones","Foto de perfil","Información personal","Código QR","Redes sociales","Compartir perfil (link)","No incluye tarjeta"],mostPopular:!1},{name:"Básico",id:"tier-startup",href:"#",price:{monthly:"$459/Único",annually:"$299"},description:"El plan que incluye una tarjeta de presentación y más funcionalidades.",features:["Plan gratis más...","Botón WhatsApp","Tarjeta NFC blanca"],mostPopular:!1},{name:"Emprendedor",id:"tier-startup",href:"#",price:{monthly:"$690/Anual",annually:"$299"},description:"Obtén las funcionalidades avanzadas de Know Me.",features:["Plan gratis + Básico +",'Botón "Enviar a #cel"',"Foto de portada","Empresa","Página web","Descripción","Teléfono 2","Mapa","Horarios","Archivo PDF","Directorio Know Me","Tarjeta NFC personalizada","CRM básico*"],mostPopular:!1},{name:"Business",id:"tier-enterprise",href:"#",price:{monthly:"$990/Anual",annually:"$599"},description:"Obtén el control completo de Know Me y aumenta tus leads.",features:["Todos los planes anteriores ...","Información de empresa","Logotipo","Galería de imágenes","Catálogo de productos y servicios","Archivo PDF 2","Gestión de usuarios","Vídeo*","Gestión de equipos*","Importación y exportación CSV*","Reasignación de tarjetas*","CRM avanzado*"],mostPopular:!1}];function jH(...e){return e.filter(Boolean).join(" ")}function g6e(){const[e,t]=b.useState(0),[n,r]=b.useState({});b.useState({});const[o,i]=b.useState(""),[a,l]=b.useState(MH[0].name),[s,c]=b.useState(!1),[u,g]=b.useState(0),[d,m]=b.useState(!1),[I,h]=b.useState({}),[A,C]=b.useState(""),[p,v]=b.useState(0),y=b.useRef(null),[x,S]=b.useState("0%"),B=yn(),[Z,R]=b.useState(!1),w="https://knowmeapp.com",[k,V]=b.useState({fullname:"",work_home:"",street:"",street_1:"",street_2:"",outdoor_num:"",other_indications:"",contact_phone:"",municipality:"",state:"",postal_code:"",colony:"",image:"",nameBuisness:"",nameOrder:"",color1:"",color2:""}),W=L=>{l(L),g(0)},N=async()=>{const L=Re.loading("Realizando pago"),j=a==="Gratis"?6:a==="Emprendedor"?8:a==="Business"?9:7;try{const{data:D}=await B.registerUser(n,j,k,u);a!=="Gratis"?window.open(D.userPaymentSession.stripe_session_url,"_self"):window.open(`${w}/success`,"_self"),Re.success("Registro creado con exito",{id:L})}catch(D){console.error("Error al crear la sesión de pago:",D),Re.error(D.response.data.msg,{id:L})}},X=async(L,j)=>{const D=Re.loading("Mandando código");try{const{data:$}=await B.verifyCode(j);Re.success("Código enviado con exito",{id:D});const K={...n,[L]:j};r(K);const z=`${(Object.keys(n).length+1)/p*100}%`;S(z),C(""),m(!1),setTimeout(()=>{t(_=>_+1),m(!0)},500)}catch($){console.error("Error al enviar código:",$);const K=$.response.data.msg!==""?$.response.data.msg:"Error al enviar código";Re.error(K,{id:D})}},J=async(L,j,D)=>{const $=Re.loading("Mandando código");try{const{data:K}=await B.validateCode(j,D);Re.success("Código correcto",{id:$});const z={...n,[L]:D};r(z);const _=`${(Object.keys(n).length+1)/p*100}%`;S(_),C(""),m(!1),setTimeout(()=>{t(U=>U+1),m(!0)},500)}catch(K){console.error("Error al enviar código:",K),Re.error("Error al enviar código",{id:$})}},E=[{type:"input",typeText:"text",pregunta:"Nombre(s)",value:"name",opciones:[]},{type:"input",typeText:"text",pregunta:"Apellido(s)",value:"lastname",opciones:[]},{type:"input",typeText:"text",pregunta:"Correo electrónico",value:"email",opciones:[]},{type:"input",typeText:"number",pregunta:"Código de autenticación",value:"code",opciones:[]},{type:"input",typeText:"password",pregunta:"Contraseña",value:"password",opciones:[]}];b.useEffect(()=>{v(E.length),h(E[e])},[e]);const[F,H]=b.useState(u6e[0]),M=(L,j)=>{if(L==="email")i(""),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(j)?X(L,j):i("El formato del correo electrónico es inválido.");else if(L==="code")J(L,n.email,j);else{const D={...n,[L]:j};r(D);const $=`${(Object.keys(n).length+1)/p*100}%`;S($),C(""),m(!1),setTimeout(()=>{t(K=>K+1),m(!0)},500)}},Y=()=>{c(!0),setTimeout(()=>{m(!0)},10)},T=()=>{e>0?(m(!1),setTimeout(()=>{t(e-1),m(!0)},500)):(c(!1),m(!1))},O=()=>{N()},P=Zt();return f.jsxs("div",{className:"bg-[#132561] fixed overflow-y-auto    top-0 left-0 right-0 bottom-0",children:[f.jsx(c6e,{className:"absolute  left-1/2 top-4 h-[1026px] w-[1026px] -translate-x-1/3 stroke-gray-300/70 [mask-image:linear-gradient(to_bottom,white_20%,transparent_75%)] sm:top-16 sm:-translate-x-1/2 lg:-top-16 lg:ml-12 xl:-top-14 xl:ml-0 z-[-1]"}),f.jsx(Mn,{position:"top-right",richColors:!0}),s?e<p?f.jsxs("div",{className:"flex flex-col items-center w-full mt-5 transition-opacity duration-700",children:[f.jsxs("div",{className:"flex items-center justify-between w-[96%]",children:[f.jsx("img",{className:"h-24",src:nm,alt:"logo"}),f.jsxs("h1",{className:"text-gray-400 text-md font-semibold",children:["Paso ",e+1,"/",p]})]}),f.jsx("div",{className:"w-[90%] mt-5 bg-gray-200 h-2 rounded-full",ref:y,children:f.jsx("div",{style:{width:x},className:"h-2 rounded-full bg-orange-600"})}),f.jsxs("div",{onClick:T,className:"flex items-center justify-start w-[90%] z-30 mt-10 hover:text-gray-500 cursor-pointer text-white",children:[f.jsx(om,{className:" text-white  mr-2"}),"Atrás"]}),f.jsx(bj,{in:d,timeout:500,children:L=>f.jsxs("div",{className:"w-full",style:{transition:"opacity 0.5s ease, transform 0.5s ease",opacity:L==="entered"?1:0,transform:L==="entered"?"translateY(0%)":"translateY(-30%)"},children:[f.jsx("div",{className:"bg-transparent  text-center mt-10 py-10",children:f.jsx("h1",{className:"text-3xl text-white font-semibold",children:I.pregunta})}),f.jsx("div",{className:"mt-10 w-full flex flex-wrap justify-center",children:I.opciones.length>0?I.opciones.map((j,D)=>f.jsxs("div",{onClick:()=>M(I.pregunta,j),className:"border hover:border-orange-600 cursor-pointer flex justify-start xl:w-[32%] w-full h-20 items-center bg-transparent text-white m-1 rounded-md p-4",children:[f.jsx("div",{className:"p-2 border-2 rounded-full border-gray-400"}),f.jsx("label",{className:"ml-4 text-md",children:j})]},D)):f.jsxs("div",{className:"flex w-full max-w-2xl mx-2",children:[I.typeText!=="password"?f.jsx("input",{type:I.typeText,value:A,onChange:j=>C(j.target.value),placeholder:"Escribe tu respuesta",className:"border px-2 py-4 rounded-md w-full max-w-2xl"}):f.jsxs("div",{className:"flex bg-white border px-2 py-4 rounded-md w-full max-w-2xl",children:[f.jsx("input",{type:Z?"text":"password",value:A,onChange:j=>C(j.target.value),placeholder:"Escribe tu contraseña",className:"w-full h-full outline-none"}),f.jsx("button",{type:"button",onClick:()=>R(!Z),className:" flex items-center px-3",children:Z?f.jsx(Qq,{className:"h-6 w-6 text-gray-500"}):f.jsx($q,{className:"h-6 w-6 text-gray-500"})})]}),f.jsxs("button",{onClick:()=>A!==""?M(I.value,A):null,className:`bg-orange-600 text-white rounded-lg border-1 ${A===""?"bg-opacity-65":""} flex items-center p-4 ml-2 `,children:["Siguiente",f.jsx(iee,{className:"ml-2"})]})]})}),o&&f.jsx("p",{className:"text-red-600 text-center mt-10",children:o})]})})]}):f.jsxs("div",{className:"",children:[f.jsx("div",{className:"w-full px-2 ",children:MH.map(L=>f.jsx("div",{onClick:()=>W(L.name),className:jH(a===L.name?"ring-2 ring-orange-600":"ring-1 ring-blue-600","rounded-xl w-full p-2 bg-[#1f2f65] cursor-pointer mt-4  flex-shrink-0 lg:flex-shrink"),children:f.jsxs("div",{children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{id:L.id,className:jH(L.mostPopular?"text-orange-600":"text-white","text-lg/8 font-semibold"),children:L.name}),L.mostPopular?f.jsx("p",{className:"rounded-full bg-white px-2.5 py-1 text-xs/5 font-semibold text-orange-600",children:"Más popular"}):null]}),f.jsx("p",{className:"flex items-baseline gap-x-1",children:f.jsx("span",{className:"text-sm font-normal tracking-tight text-white",children:L.price[F.value]})})]}),a===L.name&&f.jsxs("div",{children:[f.jsx("h4",{className:"text-white text-sm font-bold mt-2",children:"Detalles"}),f.jsx("ul",{className:"text-gray-200 mt-2  list-disc font-normal list-inside",children:L.features&&L.features.length>0?L.features.map((j,D)=>f.jsx("li",{className:"",children:j},D)):f.jsx("li",{children:"No hay beneficios disponibles."})})]})]})},L.id))}),f.jsxs("div",{className:" fixed left-0 bg-[#132561] bottom-0 right-0 px-2 pb-2",children:[a!=="Gratis"&&f.jsxs(f.Fragment,{children:[f.jsx("label",{className:"text-white mb-2",children:"Tipo de envio"}),f.jsxs("select",{value:u,onChange:L=>g(L.target.value),className:"w-full p-3 mb-4 rounded-md  bg-white text-black border",children:[f.jsx("option",{value:0,children:"Gratis(2-5 dias habiles)"}),f.jsx("option",{value:1,children:"$250.00(1-2 dias habiles)"})]})]}),f.jsx("button",{onClick:O,type:"submit",className:"w-full   bg-orange-600 text-white p-3 rounded-md hover:bg-orange-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:a!=="Gratis"?"Pagar":"Empezar ahora"})]})]}):f.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[f.jsxs("div",{onClick:()=>P("/"),className:"flex items-center justify-start w-[90%] z-30 mt-10 hover:text-gray-500 cursor-pointer text-white",children:[f.jsx(om,{className:" text-white  mr-2"}),"Volver"]}),f.jsxs("div",{className:"text-center flex flex-col items-center justify-center",children:[f.jsx("img",{className:" w-full mb-20 z-30  max-w-xl   rounded-full",src:nm,alt:"logo"}),f.jsx("h1",{className:"md:text-4xl text-2xl md:max-w-[800px] max-w-[500px] font-normal",children:"¡Responde este cuestionario para empezar a configurar tu cuenta!"}),f.jsx("button",{onClick:Y,className:"bg-orange-600 z-30  w-[95%] h-14 hover:bg-orange-700 text-white py-2 px-4 rounded-xl font-bold mt-8",children:"¡Empieza ahora!"})]})]})]})}function d6e(){return f.jsx("div",{className:"bg-gray-100 flex items-center h-screen",children:f.jsxs("div",{className:"bg-white rounded-md shadow-xl p-6 md:mx-auto",children:[f.jsx("svg",{viewBox:"0 0 24 24",className:"text-green-600 w-16 h-16 mx-auto my-6",children:f.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})}),f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"md:text-2xl text-base text-gray-900 font-semibold text-center",children:"¡Tu cuenta ha sido registrada!"}),f.jsx("p",{className:"text-gray-600 my-2",children:"¡Gracias por unirte a nosotros! Inicia sesión y disfruta de todos los beneficios que tenemos para ti."}),f.jsx("p",{children:"¡Te deseamos un gran día!"}),f.jsx("div",{className:"py-10 text-center",children:f.jsx("a",{href:"/login",className:"px-12 rounded-md bg-orange-600 hover:bg-orange-700 text-white font-semibold py-3",children:"Iniciar sesión"})})]})]})})}function f6e(){return f.jsx("div",{className:"bg-gray-100 flex items-center h-screen",children:f.jsxs("div",{className:"bg-white rounded-md shadow-xl p-6 md:mx-auto",children:[f.jsx("svg",{viewBox:"0 0 24 24",className:"text-red-600 w-16 h-16 mx-auto my-6",children:f.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})}),f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"md:text-2xl text-base text-gray-900 font-semibold",children:"¡Algo salió mal!"}),f.jsx("p",{className:"text-gray-600 my-2",children:"No pudimos completar el proceso de creación de tu cuenta."}),f.jsx("p",{className:"my-4 text-gray-600",children:"¡Inténtalo de nuevo!"}),f.jsx("div",{className:"py-10 text-center",children:f.jsx("a",{href:"/",className:"px-12 rounded-md bg-orange-600 hover:bg-orange-700 text-white font-semibold py-3",children:"Volver al inicio"})})]})]})})}function m6e(){const e=localStorage.getItem("id_plan"),[t,n]=b.useState(e),[r,o]=b.useState({}),i=yn(),a=b.useRef(null),l=Zt(),s="https://knowmeapp.com",[c,u]=b.useState({fullname:"",work_home:"",street:"",street_1:"",street_2:"",outdoor_num:"",interior_num:"",other_indications:"",contact_phone:"",municipality:"",state:"",postal_code:"",email:"",colony:"",image:"",nameBuisness:"",nameOrder:"",color1:"",color2:""}),g=()=>{o({});const p={};return!c.nameOrder&&t!=="6"&&t!=="7"&&(p.nameOrder="Campo faltante"),t==="8"&&(c.color1||(p.color1="Campo faltante"),c.color2||(p.color2="Campo faltante")),t==="9"&&(c.image||(p.image="Campo faltante"),c.nameBuisness||(p.nameBuisness="Campo faltante"),c.color1||(p.color1="Campo faltante"),c.color2||(p.color2="Campo faltante")),c.fullname||(p.fullname="Campo faltante"),c.work_home||(p.work_home="Campo faltante"),c.street||(p.street="Campo faltante"),c.outdoor_num||(p.outdoor_num="Campo faltante"),c.other_indications||(p.other_indications="Campo faltante"),c.contact_phone||(p.contact_phone="Campo faltante"),c.municipality||(p.municipality="Campo faltante"),c.state||(p.state="Campo faltante"),c.postal_code||(p.postal_code="Campo faltante"),c.colony||(p.colony="Campo faltante"),o(p),Object.keys(p).length===0},d=p=>{const{name:v,value:y,type:x,files:S}=p.target;if(x==="file"){if(S.length>0){const B=S[0];if(B.size/1024/1024>5){u({...c,[v]:null}),o({...r,[v]:"El archivo debe ser menor a 5MB"});return}u({...c,[v]:B}),o({...r,[v]:""})}}else u({...c,[v]:y})},m=()=>{localStorage.removeItem("token"),localStorage.removeItem("fullname"),localStorage.removeItem("email"),localStorage.removeItem("id_plan"),localStorage.removeItem("is_superuser"),localStorage.removeItem("is_superuser"),l("/login")},I=async()=>{var y,x;const p=localStorage.getItem("email");if(!p){Re.error("El email es obligatorio");return}const v=Re.loading("Realizando pago");try{const S={...c,email:p},{data:B}=await i.registerAddress(S);window.open(`${s}/home`,"_self"),Re.success("Registro creado con éxito",{id:v})}catch(S){console.error("Error al crear la sesión de pago:",S),Re.error(((x=(y=S==null?void 0:S.response)==null?void 0:y.data)==null?void 0:x.msg)||"Ocurrió un error inesperado",{id:v})}};function h(){g()&&I()}const A=t==="8"||t==="9",C=t==="9";return f.jsxs("div",{className:" w-full lg:h-screen overflow-y-auto z-30  bg-white  ",children:[f.jsx(Mn,{position:"top-right",richColors:!0}),f.jsxs("div",{className:"text-center flex flex-col md:flex-row  justify-between pt-10 mx-4",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-4xl text-black text-left font-semibold",children:"¡Estas a un solo paso de tener tu perfil!"}),f.jsx("p",{className:"text-lg text-gray-400 text-left mt-2",children:"Ingresa los datos para personalizar tu tarjeta y accede a Know Me."})]}),f.jsx("div",{className:"flex mt-2 ",children:f.jsx("button",{onClick:m,className:"bg-gray-200 h-12 flex justify-center items-center ml-2 w-12 text-black rounded-full",children:f.jsx(Uq,{})})})]}),A&&f.jsxs("div",{className:"mx-auto  p-8",children:[f.jsx("h2",{className:"text-xl font-bold text-black mb-6",children:"Personalizacion tarjeta"}),f.jsxs("form",{className:"space-y-4",children:[A&&f.jsxs("div",{children:[f.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-black",children:"Nombre completo"}),f.jsx("input",{type:"text",id:"fullName",name:"nameOrder",value:c.nameOrder,onChange:d,className:"mt-2 p-2 block w-full border-gray-300 rounded-md border focus:ring-blue-500 focus:border-blue-500",required:!0}),(r==null?void 0:r.nameOrder)&&f.jsx("p",{className:"text-red-500 text-xs",children:r.nameOrder})]}),C&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-black",children:"Empresa"}),f.jsx("input",{type:"text",id:"address",name:"nameBuisness",value:c.nameBuisness,onChange:d,className:"mt-2 p-2 block w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",required:!0}),(r==null?void 0:r.nameBuisness)&&f.jsx("p",{className:"text-red-500 text-xs",children:r.nameBuisness})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-black",children:"Logo"}),f.jsx("input",{type:"file",id:"city",name:"image",onChange:d,ref:a,className:"mt-2 p-2 block w-full border-gray-300 rounded-md border focus:ring-blue-500 focus:border-blue-500",required:!0}),(r==null?void 0:r.image)&&f.jsx("p",{className:"text-red-500 text-xs",children:r.image})]})]}),A&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-black",children:"Color primario"}),f.jsx("input",{type:"color",id:"state",name:"color1",value:c.color1,onChange:d,className:"mt-2 block w-full border-gray-300 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0}),(r==null?void 0:r.color1)&&f.jsx("p",{className:"text-red-500 text-xs",children:r.color1})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-black",children:"Color secundario"}),f.jsx("input",{type:"color",id:"zipCode",name:"color2",value:c.color2,onChange:d,className:"mt-2 block w-full border-gray-300 border rounded-md focus:ring-blue-500 focus:border-blue-500",required:!0}),(r==null?void 0:r.color2)&&f.jsx("p",{className:"text-red-500 text-xs",children:r.color2})]})]})]})]}),f.jsxs("div",{className:"mx-auto mb-24   p-8",children:[f.jsx("h2",{className:"text-xl font-bold text-black mb-6",children:"Envío a Domicilio"}),f.jsxs("form",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-black",children:"Nombre completo"}),f.jsx("input",{type:"text",id:"fullName",name:"fullname",value:c.fullname,onChange:d,className:"mt-2 p-2 block w-full border-gray-300 rounded-md border focus:ring-blue-500 focus:border-blue-500",required:!0}),(r==null?void 0:r.fullname)&&f.jsx("p",{className:"text-red-500 text-xs",children:r.fullname})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-black",children:"¿Con qué nombre quieres guardar este domicilio?"}),f.jsx("input",{type:"text",id:"address",name:"work_home",value:c.work_home,onChange:d,className:"mt-2 p-2 block w-full border-gray-300 border rounded-md  focus:ring-blue-500 focus:border-blue-500",required:!0}),(r==null?void 0:r.work_home)&&f.jsx("p",{className:"text-red-500 text-xs",children:r.work_home})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-black",children:"Calle"}),f.jsx("input",{type:"text",id:"address",name:"street",value:c.street,onChange:d,className:"mt-2 p-2 block w-full border-gray-300 border rounded-md  focus:ring-blue-500 focus:border-blue-500",required:!0}),(r==null?void 0:r.street)&&f.jsx("p",{className:"text-red-500 text-xs",children:r.street})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-black",children:"Número exterior"}),f.jsx("input",{type:"text",id:"address",name:"outdoor_num",value:c.outdoor_num,onChange:d,className:"mt-2 p-2 block w-full border-gray-300 border rounded-md  focus:ring-blue-500 focus:border-blue-500",required:!0}),(r==null?void 0:r.outdoor_num)&&f.jsx("p",{className:"text-red-500 text-xs",children:r.outdoor_num})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-black",children:"Número interior"}),f.jsx("input",{type:"text",id:"address",name:"interior_num",value:c.interior_num,onChange:d,className:"mt-2 p-2 block w-full border-gray-300 border rounded-md  focus:ring-blue-500 focus:border-blue-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-black",children:"Colonia"}),f.jsx("input",{type:"text",id:"colony",name:"colony",value:c.colony,onChange:d,className:"mt-2 p-2 block w-full border-gray-300 rounded-md border focus:ring-blue-500 focus:border-blue-500",required:!0}),(r==null?void 0:r.colony)&&f.jsx("p",{className:"text-red-500 text-xs",children:r.colony})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-black",children:"Referencias"}),f.jsx("input",{type:"text",id:"city",name:"other_indications",value:c.other_indications,onChange:d,className:"mt-2 p-2 block w-full border-gray-300 rounded-md border focus:ring-blue-500 focus:border-blue-500",required:!0}),(r==null?void 0:r.other_indications)&&f.jsx("p",{className:"text-red-500 text-xs",children:r.other_indications})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-black",children:"Celular"}),f.jsx("input",{type:"text",id:"city",name:"contact_phone",value:c.contact_phone,onChange:d,className:"mt-2 p-2 block w-full border-gray-300 rounded-md border focus:ring-blue-500 focus:border-blue-500",required:!0}),(r==null?void 0:r.contact_phone)&&f.jsx("p",{className:"text-red-500 text-xs",children:r.contact_phone})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-black",children:"Ciudad"}),f.jsx("input",{type:"text",id:"city",name:"municipality",value:c.municipality,onChange:d,className:"mt-2 p-2 block w-full border-gray-300 rounded-md border focus:ring-blue-500 focus:border-blue-500",required:!0}),(r==null?void 0:r.municipality)&&f.jsx("p",{className:"text-red-500 text-xs",children:r.municipality})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-black",children:"Estado"}),f.jsx("input",{type:"text",id:"state",name:"state",value:c.state,onChange:d,className:"mt-2 p-2 block w-full border-gray-300 rounded-md border focus:ring-blue-500 focus:border-blue-500",required:!0}),(r==null?void 0:r.state)&&f.jsx("p",{className:"text-red-500 text-xs",children:r.state})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-black",children:"Código Postal"}),f.jsx("input",{type:"text",id:"zipCode",name:"postal_code",value:c.postal_code,onChange:d,className:"mt-2 p-2 block w-full border-gray-300 rounded-md border focus:ring-blue-500 focus:border-blue-500",required:!0}),(r==null?void 0:r.postal_code)&&f.jsx("p",{className:"text-red-500 text-xs",children:r.postal_code})]})]})]}),f.jsx("button",{onClick:h,className:"p-4 fixed left-2 right-2 justify-center bottom-2 rounded-md h-12 flex items-center bg-orange-600 hover:bg-orange-500 text-white",children:"Crear Orden"})]})}const I6e=()=>{const e=window.innerWidth,t=e>1300?2:3,n=3,r=4;return f.jsx(f.Fragment,{children:f.jsxs(kQ,{children:[f.jsx(gt,{path:"/",element:f.jsx(ho,{children:f.jsx(s6e,{})})}),f.jsx(gt,{path:"/register",element:f.jsx(ho,{children:f.jsx(g6e,{})})}),f.jsx(gt,{path:"/onboarding",element:f.jsx(at,{children:f.jsx(m6e,{})})}),f.jsx(gt,{path:"/cancel",element:f.jsx(ho,{children:f.jsx(f6e,{})})}),f.jsx(gt,{path:"/success",element:f.jsx(ho,{children:f.jsx(d6e,{})})}),f.jsx(gt,{path:"/login/*",element:f.jsx(ho,{children:f.jsx(fne,{})})}),f.jsx(gt,{path:"/forgot/*",element:f.jsx(ho,{children:f.jsx(K0e,{})})}),f.jsx(gt,{path:"/emailSent/*",element:f.jsx(ho,{children:f.jsx(O0e,{})})}),f.jsx(gt,{path:"/reset-password/*",element:f.jsx(ho,{children:f.jsx(P0e,{})})}),f.jsx(gt,{path:"/registro/*",element:f.jsx(ho,{children:f.jsx(Ine,{})})}),f.jsx(gt,{path:"/pagedetail/*",element:e>576?f.jsx(ho,{children:f.jsxs(pt,{children:[f.jsx(Xe,{sm:r,md:n,lg:t,children:f.jsx(Vn,{})}),f.jsx(Xe,{children:f.jsx(U0e,{})})]})}):f.jsxs(ho,{children:[f.jsx(Wn,{}),f.jsx(Oy,{})]})}),f.jsx(gt,{path:"/plans/*",element:e>576?f.jsx(at,{children:f.jsxs(pt,{children:[f.jsx(Xe,{sm:r,md:n,lg:t,children:f.jsx(Vn,{})}),f.jsx(Xe,{children:f.jsx(Oy,{})})]})}):f.jsxs(at,{children:[f.jsx(Wn,{}),f.jsx(Oy,{})]})}),f.jsx(gt,{path:"/orderdetail/*",element:e>576?f.jsx(at,{children:f.jsxs(pt,{children:[f.jsx(Xe,{sm:r,md:n,lg:t,children:f.jsx(Vn,{})}),f.jsx(Xe,{children:f.jsx(VY,{})})]})}):f.jsxs(at,{children:[f.jsx(Wn,{}),f.jsx(VY,{})]})}),f.jsx(gt,{path:"/adressorder/*",element:e>576?f.jsx(at,{children:f.jsxs(pt,{children:[f.jsx(Xe,{sm:r,md:n,lg:t,children:f.jsx(Vn,{})}),f.jsx(Xe,{children:f.jsx(WY,{})})]})}):f.jsxs(at,{children:[f.jsx(Wn,{}),f.jsx(WY,{})]})}),f.jsx(gt,{path:"/plan/*",element:f.jsx(ho,{children:f.jsx(eoe,{})})}),f.jsx(gt,{path:"/card/*",element:f.jsx(Bpe,{})}),f.jsx(gt,{path:"/perfil/*",element:e>576?f.jsx(at,{children:f.jsxs(pt,{children:[f.jsx(Xe,{sm:r,md:n,lg:t,children:f.jsx(Vn,{})}),f.jsx(Xe,{children:f.jsx(l3,{})})]})}):f.jsxs(at,{children:[f.jsx(Wn,{}),f.jsx(l3,{})]})}),f.jsx(gt,{path:"/password/*",element:e>576?f.jsx(at,{children:f.jsxs(pt,{children:[f.jsx(Xe,{sm:r,md:n,lg:t,children:f.jsx(Vn,{})}),f.jsx(Xe,{children:f.jsx(V3,{})})]})}):f.jsxs(at,{children:[f.jsx(Wn,{}),f.jsx(V3,{})]})}),f.jsx(gt,{path:"/business/*",element:e>576?f.jsx(at,{children:f.jsxs(pt,{children:[f.jsx(Xe,{sm:r,md:n,lg:t,children:f.jsx(Vn,{})}),f.jsx(Xe,{children:f.jsx(B3,{})})]})}):f.jsxs(at,{children:[f.jsx(Wn,{}),f.jsx(B3,{})]})}),f.jsx(gt,{path:"/info_org/*",element:e>576?f.jsx(at,{children:f.jsxs(pt,{children:[f.jsx(Xe,{sm:r,md:n,lg:t,children:f.jsx(Vn,{})}),f.jsx(Xe,{children:f.jsx(k3,{})})]})}):f.jsxs(at,{children:[f.jsx(Wn,{}),f.jsx(k3,{})]})}),f.jsx(gt,{path:"/team_org/*",element:e>576?f.jsx(at,{children:f.jsxs(pt,{children:[f.jsx(Xe,{sm:r,md:n,lg:t,children:f.jsx(Vn,{})}),f.jsx(Xe,{children:f.jsx(R3,{})})]})}):f.jsxs(at,{children:[f.jsx(Wn,{}),f.jsx(R3,{})]})}),f.jsx(gt,{path:"/contacts/*",element:e>576?f.jsx(at,{children:f.jsxs(pt,{children:[f.jsx(Xe,{sm:r,md:n,lg:t,children:f.jsx(Vn,{})}),f.jsx(Xe,{children:f.jsx(G3,{})})]})}):f.jsxs(at,{children:[f.jsx(Wn,{}),f.jsx(G3,{})]})}),f.jsx(gt,{path:"/addContact/*",element:e>576?f.jsx(at,{children:f.jsxs(pt,{children:[f.jsx(Xe,{sm:r,md:n,lg:t,children:f.jsx(Vn,{})}),f.jsx(Xe,{children:f.jsx(w3,{})})]})}):f.jsxs(at,{children:[f.jsx(Wn,{}),f.jsx(w3,{})]})}),f.jsx(gt,{path:"/share/*",element:e>576?f.jsx(at,{children:f.jsxs(pt,{children:[f.jsx(Xe,{sm:r,md:n,lg:t,children:f.jsx(Vn,{})}),f.jsx(Xe,{children:f.jsx(h3,{})})]})}):f.jsxs(at,{children:[f.jsx(Wn,{}),f.jsx(h3,{})]})}),f.jsx(gt,{path:"/scanner/*",element:e>576?f.jsx(at,{children:f.jsxs(pt,{children:[f.jsx(Xe,{sm:r,md:n,lg:t,children:f.jsx(Vn,{})}),f.jsx(Xe,{children:f.jsx(x3,{})})]})}):f.jsxs(at,{children:[f.jsx(Wn,{}),f.jsx(x3,{})]})}),f.jsx(gt,{path:"/vcard/*",element:e>576?f.jsx(at,{children:f.jsxs(pt,{children:[f.jsx(Xe,{sm:r,md:n,lg:t,children:f.jsx(Vn,{})}),f.jsx(Xe,{children:f.jsx(Z3,{})})]})}):f.jsxs(at,{children:[f.jsx(Wn,{}),f.jsx(Z3,{})]})}),f.jsx(gt,{path:"/settings/*",element:e>576?f.jsx(at,{children:f.jsxs(pt,{children:[f.jsx(Xe,{sm:r,md:n,lg:t,children:f.jsx(Vn,{})}),f.jsx(Xe,{children:f.jsx(S3,{})})]})}):f.jsxs(at,{children:[f.jsx(Wn,{}),f.jsx(S3,{})]})}),f.jsx(gt,{path:"/upgrade/*",element:e>576?f.jsx(at,{children:f.jsxs(pt,{children:[f.jsx(Xe,{sm:r,md:n,lg:t,children:f.jsx(Vn,{})}),f.jsx(Xe,{sm:12-r,md:12-n,lg:12-t,children:f.jsx(W3,{})})]})}):f.jsxs(at,{children:[f.jsx(Wn,{}),f.jsx(W3,{})]})}),f.jsx(gt,{path:"/home/*",element:e>576?f.jsx(at,{children:f.jsxs(pt,{children:[f.jsx(Xe,{sm:r,md:n,lg:t,children:f.jsx(Vn,{})}),f.jsx(Xe,{sm:12-r,md:12-n,lg:12-t,children:f.jsx(C3,{})})]})}):f.jsxs(at,{children:[f.jsx(Wn,{}),f.jsx(C3,{})]})}),f.jsx(gt,{path:"/admin/*",element:e>576?f.jsx(at,{children:f.jsxs(pt,{children:[f.jsx(Xe,{sm:r,md:n,lg:t,children:f.jsx(Vn,{})}),f.jsx(Xe,{sm:12-r,md:12-n,lg:12-t,children:f.jsx(RY,{})})]})}):f.jsxs(at,{children:[f.jsx(Wn,{}),f.jsx(RY,{})]})}),f.jsx(gt,{path:"/*",element:f.jsx(Qw,{to:"/login/"})})]})})};function h6e(){return f.jsx(f.Fragment,{children:f.jsx(JQ,{children:f.jsx(I6e,{})})})}i2.createRoot(document.getElementById("root")).render(f.jsx(G.StrictMode,{children:f.jsx(h6e,{})}));
